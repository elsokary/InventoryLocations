/*!
 * jQuery JavaScript Library v2.1.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:11Z
 */
function SmartUnLoading(){$(".divMessageBox").fadeOut(300,function(){$(this).remove()});$(".LoadingBoxContainer").fadeOut(300,function(){$(this).remove()})}function getInternetExplorerVersion(){var n=-1,t,i;return navigator.appName=="Microsoft Internet Explorer"&&(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),i.exec(t)!=null&&(n=parseFloat(RegExp.$1))),n}function checkVersion(){var n="You're not using Windows Internet Explorer.",t=getInternetExplorerVersion();t>-1&&(n=t>=8?"You're using a recent copy of Windows Internet Explorer.":"You should upgrade your copy of Windows Internet Explorer.");alert(n)}function isIE8orlower(){var n="0",t=getInternetExplorerVersion();return t>-1&&(n=t>=9?0:1),n}function runAllForms(){$.fn.slider&&$(".slider").slider();$.fn.select2&&$(".select2").each(function(){var n=$(this),t=n.attr("data-select-width")||"100%";n.select2({allowClear:!0,width:t});n=null});$.fn.mask&&$("[data-mask]").each(function(){var n=$(this),t=n.attr("data-mask")||"error...",i=n.attr("data-mask-placeholder")||"X";n.mask(t,{placeholder:i});n=null});$.fn.autocomplete&&$("[data-autocomplete]").each(function(){var n=$(this),t=n.data("autocomplete")||["The","Quick","Brown","Fox","Jumps","Over","Three","Lazy","Dogs"];n.autocomplete({source:t});n=null});$.fn.datepicker&&$(".datepicker").each(function(){var n=$(this),t=n.attr("data-dateformat")||"dd.mm.yy";n.datepicker({dateFormat:t,prevText:'<i class="fa fa-chevron-left"><\/i>',nextText:'<i class="fa fa-chevron-right"><\/i>'});n=null});$("button[data-loading-text]").on("click",function(){var n=$(this);n.button("loading");setTimeout(function(){n.button("reset")},3e3);n=null})}function runAllCharts(){if($.fn.sparkline){var v,n,r,y,p,w,u,f,b,i,k,d,g,nt,tt,it,e,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,sr,li,ai,vi,yi,pi,o,t,wi,bi,ki,di,gi,nr,tr,s,ir,h,c,rr,ur,l,a,fr,er,or;$(".sparkline").each(function(){var hr=$(this),cr=hr.data("sparkline-type")||"bar",lr;cr=="bar"&&(v=hr.data("sparkline-bar-color")||hr.css("color")||"#0000f0",n=hr.data("sparkline-height")||"26px",r=hr.data("sparkline-barwidth")||5,y=hr.data("sparkline-barspacing")||2,p=hr.data("sparkline-negbar-color")||"#A90329",w=hr.data("sparkline-barstacked-color")||["#A90329","#0099c6","#98AA56","#da532c","#4490B1","#6E9461","#990099","#B4CAD3"],hr.sparkline("html",{barColor:v,type:cr,height:n,barWidth:r,barSpacing:y,stackedBarColor:w,negBarColor:p,zeroAxis:"false"}),hr=null);cr=="line"&&(n=hr.data("sparkline-height")||"20px",t=hr.data("sparkline-width")||"90px",u=hr.data("sparkline-line-color")||hr.css("color")||"#0000f0",f=hr.data("sparkline-line-width")||1,b=hr.data("fill-color")||"#c0d0f0",i=hr.data("sparkline-spot-color")||"#f08000",k=hr.data("sparkline-minspot-color")||"#ed1c24",d=hr.data("sparkline-maxspot-color")||"#f08000",g=hr.data("sparkline-highlightspot-color")||"#50f050",nt=hr.data("sparkline-highlightline-color")||"f02020",tt=hr.data("sparkline-spotradius")||1.5,thisChartMinYRange=hr.data("sparkline-min-y")||"undefined",thisChartMaxYRange=hr.data("sparkline-max-y")||"undefined",thisChartMinXRange=hr.data("sparkline-min-x")||"undefined",thisChartMaxXRange=hr.data("sparkline-max-x")||"undefined",thisMinNormValue=hr.data("min-val")||"undefined",thisMaxNormValue=hr.data("max-val")||"undefined",thisNormColor=hr.data("norm-color")||"#c0c0c0",thisDrawNormalOnTop=hr.data("draw-normal")||!1,hr.sparkline("html",{type:"line",width:t,height:n,lineWidth:f,lineColor:u,fillColor:b,spotColor:i,minSpotColor:k,maxSpotColor:d,highlightSpotColor:g,highlightLineColor:nt,spotRadius:tt,chartRangeMin:thisChartMinYRange,chartRangeMax:thisChartMaxYRange,chartRangeMinX:thisChartMinXRange,chartRangeMaxX:thisChartMaxXRange,normalRangeMin:thisMinNormValue,normalRangeMax:thisMaxNormValue,normalRangeColor:thisNormColor,drawNormalOnTop:thisDrawNormalOnTop}),hr=null);cr=="pie"&&(it=hr.data("sparkline-piecolor")||["#B4CAD3","#4490B1","#98AA56","#da532c","#6E9461","#0099c6","#990099","#717D8A"],e=hr.data("sparkline-piesize")||90,rt=hr.data("border-color")||"#45494C",ut=hr.data("sparkline-offset")||0,hr.sparkline("html",{type:"pie",width:e,height:e,tooltipFormat:'<span style="color: {{color}}">&#9679;<\/span> ({{percent.1}}%)',sliceColors:it,borderWidth:1,offset:ut,borderColor:rt}),hr=null);cr=="box"&&(ft=hr.data("sparkline-width")||"auto",et=hr.data("sparkline-height")||"auto",ot=hr.data("sparkline-boxraw")||!1,st=hr.data("sparkline-targetval")||"undefined",ht=hr.data("sparkline-min")||"undefined",ct=hr.data("sparkline-max")||"undefined",lt=hr.data("sparkline-showoutlier")||!0,at=hr.data("sparkline-outlier-iqr")||1.5,vt=hr.data("sparkline-spotradius")||1.5,yt=hr.css("color")||"#000000",pt=hr.data("fill-color")||"#c0d0f0",wt=hr.data("sparkline-whis-color")||"#000000",bt=hr.data("sparkline-outline-color")||"#303030",kt=hr.data("sparkline-outlinefill-color")||"#f0f0f0",dt=hr.data("sparkline-outlinemedian-color")||"#f00000",gt=hr.data("sparkline-outlinetarget-color")||"#40a020",hr.sparkline("html",{type:"box",width:ft,height:et,raw:ot,target:st,minValue:ht,maxValue:ct,showOutliers:lt,outlierIQR:at,spotRadius:vt,boxLineColor:yt,boxFillColor:pt,whiskerColor:wt,outlierLineColor:bt,outlierFillColor:kt,medianColor:dt,targetColor:gt}),hr=null);cr=="bullet"&&(lr=hr.data("sparkline-height")||"auto",ni=hr.data("sparkline-width")||2,ti=hr.data("sparkline-bullet-color")||"#ed1c24",ii=hr.data("sparkline-performance-color")||"#3030f0",ri=hr.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"],hr.sparkline("html",{type:"bullet",height:lr,targetWidth:ni,targetColor:ti,performanceColor:ii,rangeColors:ri}),hr=null);cr=="discrete"&&(ui=hr.data("sparkline-height")||26,fi=hr.data("sparkline-width")||50,ei=hr.css("color"),oi=hr.data("sparkline-line-height")||5,si=hr.data("sparkline-threshold")||"undefined",hi=hr.data("sparkline-threshold-color")||"#ed1c24",hr.sparkline("html",{type:"discrete",width:fi,height:ui,lineColor:ei,lineHeight:oi,thresholdValue:si,thresholdColor:hi}),hr=null);cr=="tristate"&&(ci=hr.data("sparkline-height")||26,sr=hr.data("sparkline-posbar-color")||"#60f060",li=hr.data("sparkline-negbar-color")||"#f04040",ai=hr.data("sparkline-zerobar-color")||"#909090",vi=hr.data("sparkline-barwidth")||5,yi=hr.data("sparkline-barspacing")||2,pi=hr.data("sparkline-zeroaxis")||!1,hr.sparkline("html",{type:"tristate",height:ci,posBarColor:o,negBarColor:li,zeroBarColor:ai,barWidth:vi,barSpacing:yi,zeroAxis:pi}),hr=null);cr=="compositebar"&&(n=hr.data("sparkline-height")||"20px",t=hr.data("sparkline-width")||"100%",r=hr.data("sparkline-barwidth")||3,f=hr.data("sparkline-line-width")||1,u=hr.data("sparkline-color-top")||"#ed1c24",o=hr.data("sparkline-color-bottom")||"#333333",hr.sparkline(hr.data("sparkline-bar-val"),{type:"bar",width:t,height:n,barColor:o,barWidth:r}),hr.sparkline(hr.data("sparkline-line-val"),{width:t,height:n,lineColor:u,lineWidth:f,composite:!0,fillColor:!1}),hr=null);cr=="compositeline"&&(n=hr.data("sparkline-height")||"20px",t=hr.data("sparkline-width")||"90px",wi=hr.data("sparkline-bar-val"),bi=hr.data("sparkline-bar-val-spots-top")||null,ki=hr.data("sparkline-bar-val-spots-bottom")||null,di=hr.data("sparkline-line-width-top")||1,gi=hr.data("sparkline-line-width-bottom")||1,nr=hr.data("sparkline-color-top")||"#333333",tr=hr.data("sparkline-color-bottom")||"#ed1c24",s=hr.data("sparkline-spotradius-top")||1.5,ir=hr.data("sparkline-spotradius-bottom")||s,i=hr.data("sparkline-spot-color")||"#f08000",h=hr.data("sparkline-minspot-color-top")||"#ed1c24",c=hr.data("sparkline-maxspot-color-top")||"#f08000",rr=hr.data("sparkline-minspot-color-bottom")||h,ur=hr.data("sparkline-maxspot-color-bottom")||c,l=hr.data("sparkline-highlightspot-color-top")||"#50f050",a=hr.data("sparkline-highlightline-color-top")||"#f02020",fr=hr.data("sparkline-highlightspot-color-bottom")||l,thisHighlightLineColor2=hr.data("sparkline-highlightline-color-bottom")||a,er=hr.data("sparkline-fillcolor-top")||"transparent",or=hr.data("sparkline-fillcolor-bottom")||"transparent",hr.sparkline(wi,{type:"line",spotRadius:s,spotColor:i,minSpotColor:h,maxSpotColor:c,highlightSpotColor:l,highlightLineColor:a,valueSpots:bi,lineWidth:di,width:t,height:n,lineColor:nr,fillColor:er}),hr.sparkline(hr.data("sparkline-line-val"),{type:"line",spotRadius:ir,spotColor:i,minSpotColor:rr,maxSpotColor:ur,highlightSpotColor:fr,highlightLineColor:thisHighlightLineColor2,valueSpots:ki,lineWidth:gi,width:t,height:n,lineColor:tr,composite:!0,fillColor:or}),hr=null)})}$.fn.easyPieChart&&$(".easy-pie-chart").each(function(){var n=$(this),i=n.css("color")||n.data("pie-color"),r=n.data("pie-track-color")||"#eeeeee",t=parseInt(n.data("pie-size"))||25;n.easyPieChart({barColor:i,trackColor:r,scaleColor:!1,lineCap:"butt",lineWidth:parseInt(t/8.5),animate:1500,rotate:-90,size:t,onStep:function(n){this.$el.find("span").text(~~n)}});n=null})}function setup_widgets_desktop(){$.fn.jarvisWidgets&&enableJarvisWidgets&&$("#widget-grid").jarvisWidgets({grid:"article",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-expand | fa fa-compress",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){alert("Hello you, this is a custom button...")},customEnd:function(){alert("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:$.navAsAjax})}function setup_widgets_mobile(){enableMobileWidgets&&enableJarvisWidgets&&setup_widgets_desktop()}function loadScript(n,t){if(jsArray[n])t&&t();else{jsArray[n]=!0;var r=document.getElementsByTagName("body")[0],i=document.createElement("script");i.type="text/javascript";i.src=n;i.onload=t;r.appendChild(i)}}function checkURL(){var t=location.href.split("#").splice(1).join("#"),n,r,i;if(!t)try{n=window.document.URL;n&&n.indexOf("#",0)>0&&n.indexOf("#",0)<n.length+1&&(t=n.substring(n.indexOf("#",0)+1))}catch(u){}container=$("#content");t?($("nav li.active").removeClass("active"),$('nav li:has(a[href="'+t+'"])').addClass("active"),r=$('nav a[href="'+t+'"]').attr("title"),document.title=r||document.title,loadURL(t+location.search,container)):(i=$('nav > ul > li:first-child > a[href!="#"]'),window.location.hash=i.attr("href"),i=null)}function loadURL(n,t){$.ajax({type:"GET",url:n,dataType:"html",cache:!0,beforeSend:function(){var n,i,r;if($.navAsAjax&&$(".google_maps")[0]&&t[0]==$("#content")[0]&&(n=$(".google_maps"),i=0,n.each(function(){i++;var t=document.getElementById(this.id);i==n.length+1||t&&t.parentNode.removeChild(t)})),$.navAsAjax&&$(".dataTables_wrapper")[0]&&t[0]==$("#content")[0]&&(r=$.fn.dataTable.fnTables(!0),$(r).each(function(){$(this).dataTable().fnDestroy()})),$.navAsAjax&&$.intervalArr.length>0&&t[0]==$("#content")[0]&&enableJarvisWidgets)while($.intervalArr.length>0)clearInterval($.intervalArr.pop());pagefunction=null;t.removeData().html("");t.html('<h1 class="ajax-loading-animation"><i class="fa fa-cog fa-spin"><\/i> Loading...<\/h1>');t[0]==$("#content")[0]&&($("body").find("> *").filter(":not("+ignore_key_elms+")").empty().remove(),drawBreadCrumb(),$("html").animate({scrollTop:0},"fast"))},success:function(n){t.css({opacity:"0.0"}).html(n).delay(50).animate({opacity:"1.0"},300);n=null;t=null},error:function(){t.html('<h4 class="ajax-loading-error"><i class="fa fa-warning txt-color-orangeDark"><\/i> Error 404! Page not found.<\/h4>')},async:!0})}function drawBreadCrumb(){var n=$("nav li.active > a"),t=n.length;bread_crumb.empty();bread_crumb.append($("<li>Home<\/li>"));n.each(function(){bread_crumb.append($("<li><\/li>").html($.trim($(this).clone().children(".badge").remove().end().text())));--t||(document.title=bread_crumb.find("li:last-child").text())});n=null}function pageSetUp(){thisDevice==="desktop"?($("[rel=tooltip]").tooltip(),$("[rel=popover]").popover(),$("[rel=popover-hover]").popover({trigger:"hover"}),setup_widgets_desktop(),runAllCharts(),runAllForms()):($("[rel=popover]").popover(),$("[rel=popover-hover]").popover({trigger:"hover"}),runAllCharts(),setup_widgets_mobile(),runAllForms())}function FastClick(n){var i,t=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0,this.layer=n,!n||!n.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(t,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(t,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(t,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(t,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(t,arguments)};FastClick.notNeeded(n)||(this.deviceIsAndroid&&(n.addEventListener("mouseover",this.onMouse,!0),n.addEventListener("mousedown",this.onMouse,!0),n.addEventListener("mouseup",this.onMouse,!0)),n.addEventListener("click",this.onClick,!0),n.addEventListener("touchstart",this.onTouchStart,!1),n.addEventListener("touchend",this.onTouchEnd,!1),n.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(n.removeEventListener=function(t,i,r){var u=Node.prototype.removeEventListener;"click"===t?u.call(n,t,i.hijacked||i,r):u.call(n,t,i,r)},n.addEventListener=function(t,i,r){var u=Node.prototype.addEventListener;"click"===t?u.call(n,t,i.hijacked||(i.hijacked=function(n){n.propagationStopped||i(n)}),r):u.call(n,t,i,r)}),"function"==typeof n.onclick&&(i=n.onclick,n.addEventListener("click",function(n){i(n)},!1),n.onclick=null))}var jqxBaseFramework,commands,BigBoxes,ie,gMapsLoaded,CryptoJS,hs,HsExpander;(function(n,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)})(typeof window!="undefined"?window:this,function(n,t){function ui(n){var t=n.length,r=i.type(n);return r==="function"||i.isWindow(n)?!1:n.nodeType===1&&t?!0:r==="array"||t===0||typeof t=="number"&&t>0&&t-1 in n}function fi(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if(typeof t=="string"){if(ef.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return et.call(t,n)>=0!==r})}function ur(n,t){while((n=n[t])&&n.nodeType!==1);return n}function of(n){var t=ei[n]={};return i.each(n.match(c)||[],function(n,i){t[i]=!0}),t}function ct(){u.removeEventListener("DOMContentLoaded",ct,!1);n.removeEventListener("load",ct,!1);i.ready()}function p(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=i.expando+Math.random()}function fr(n,t,r){var u;if(r===undefined&&n.nodeType===1)if(u="data-"+t.replace(hf,"-$1").toLowerCase(),r=n.getAttribute(u),typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:sf.test(r)?i.parseJSON(r):r}catch(f){}e.set(n,t,r)}else r=undefined;return r}function at(){return!0}function g(){return!1}function hr(){try{return u.activeElement}catch(n){}}function vr(n,t){return i.nodeName(n,"table")&&i.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function bf(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function kf(n){var t=pf.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function oi(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function yr(n,t){var f,c,o,s,h,l,a,u;if(t.nodeType===1){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),u=s.events,u)){delete h.handle;h.events={};for(o in u)for(f=0,c=u[o].length;f<c;f++)i.event.add(t,o,u[o][f])}e.hasData(n)&&(l=e.access(n),a=i.extend({},l),e.set(t,a))}}function o(n,t){var r=n.getElementsByTagName?n.getElementsByTagName(t||"*"):n.querySelectorAll?n.querySelectorAll(t||"*"):[];return t===undefined||t&&i.nodeName(n,t)?i.merge([n],r):r}function df(n,t){var i=t.nodeName.toLowerCase();i==="input"&&er.test(n.type)?t.checked=n.checked:(i==="input"||i==="textarea")&&(t.defaultValue=n.defaultValue)}function pr(t,r){var f,u=i(r.createElement(t)).appendTo(r.body),e=n.getDefaultComputedStyle&&(f=n.getDefaultComputedStyle(u[0]))?f.display:i.css(u[0],"display");return u.detach(),e}function hi(n){var r=u,t=si[n];return t||(t=pr(n,r),t!=="none"&&t||(vt=(vt||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=vt[0].contentDocument,r.write(),r.close(),t=pr(n,r),vt.detach()),si[n]=t),t}function rt(n,t,r){var e,o,s,u,f=n.style;return r=r||yt(n),r&&(u=r.getPropertyValue(t)||r[t]),r&&(u!==""||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),ci.test(u)&&wr.test(t)&&(e=f.width,o=f.minWidth,s=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=e,f.minWidth=o,f.maxWidth=s)),u!==undefined?u+"":u}function br(n,t){return{get:function(){if(n()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function gr(n,t){if(t in n)return t;for(var r=t[0].toUpperCase()+t.slice(1),u=t,i=dr.length;i--;)if(t=dr[i]+r,t in n)return t;return u}function nu(n,t,i){var r=ne.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function tu(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:t==="width"?1:0,o=0;e<4;e+=2)r==="margin"&&(o+=i.css(n,r+w[e],!0,f)),u?(r==="content"&&(o-=i.css(n,"padding"+w[e],!0,f)),r!=="margin"&&(o-=i.css(n,"border"+w[e]+"Width",!0,f))):(o+=i.css(n,"padding"+w[e],!0,f),r!=="padding"&&(o+=i.css(n,"border"+w[e]+"Width",!0,f)));return o}function iu(n,t,r){var o=!0,u=t==="width"?n.offsetWidth:n.offsetHeight,e=yt(n),s=i.css(n,"boxSizing",!1,e)==="border-box";if(u<=0||u==null){if(u=rt(n,t,e),(u<0||u==null)&&(u=n.style[t]),ci.test(u))return u;o=s&&(f.boxSizingReliable()||u===n.style[t]);u=parseFloat(u)||0}return u+tu(n,t,r||(s?"border":"content"),o,e)+"px"}function ru(n,t){for(var e,u,s,o=[],f=0,h=n.length;f<h;f++)(u=n[f],u.style)&&(o[f]=r.get(u,"olddisplay"),e=u.style.display,t?(o[f]||e!=="none"||(u.style.display=""),u.style.display===""&&it(u)&&(o[f]=r.access(u,"olddisplay",hi(u.nodeName)))):(s=it(u),e==="none"&&s||r.set(u,"olddisplay",s?e:i.css(u,"display"))));for(f=0;f<h;f++)(u=n[f],u.style)&&(t&&u.style.display!=="none"&&u.style.display!==""||(u.style.display=t?o[f]||"":"none"));return n}function s(n,t,i,r,u){return new s.prototype.init(n,t,i,r,u)}function fu(){return setTimeout(function(){nt=undefined}),nt=i.now()}function bt(n,t){var r,u=0,i={height:n};for(t=t?1:0;u<4;u+=2-t)r=w[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function eu(n,t,i){for(var u,f=(ut[t]||[]).concat(ut["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function fe(n,t,u){var f,a,p,v,o,w,h,b,l=this,y={},s=n.style,c=n.nodeType&&it(n),e=r.get(n,"fxshow");u.queue||(o=i._queueHooks(n,"fx"),o.unqueued==null&&(o.unqueued=0,w=o.empty.fire,o.empty.fire=function(){o.unqueued||w()}),o.unqueued++,l.always(function(){l.always(function(){o.unqueued--;i.queue(n,"fx").length||o.empty.fire()})}));n.nodeType===1&&("height"in t||"width"in t)&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],h=i.css(n,"display"),b=h==="none"?r.get(n,"olddisplay")||hi(n.nodeName):h,b==="inline"&&i.css(n,"float")==="none"&&(s.display="inline-block"));u.overflow&&(s.overflow="hidden",l.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]}));for(f in t)if(a=t[f],re.exec(a)){if(delete t[f],p=p||a==="toggle",a===(c?"hide":"show"))if(a==="show"&&e&&e[f]!==undefined)c=!0;else continue;y[f]=e&&e[f]||i.style(n,f)}else h=undefined;if(i.isEmptyObject(y))(h==="none"?hi(n.nodeName):h)==="inline"&&(s.display=h);else{e?"hidden"in e&&(c=e.hidden):e=r.access(n,"fxshow",{});p&&(e.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;r.remove(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(f in y)v=eu(c?e[f]:0,f,l),f in e||(e[f]=v.start,c&&(v.end=v.start,v.start=f==="width"||f==="height"?1:0))}}function ee(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ou(n,t,r){var e,o,s=0,l=wt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var s=nt||fu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:nt||fu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;i<r;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),h=u.props;for(ee(h,u.opts.specialEasing);s<l;s++)if(e=wt[s].call(u,n,h,u.opts),e)return e;return i.map(h,eu,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function pu(n){return function(t,r){typeof t!="string"&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(c)||[];if(i.isFunction(r))while(u=e[f++])u[0]==="+"?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function wu(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1}),h}var f={},o=n===li;return e(t.dataTypes[0])||!f["*"]&&e("*")}function ai(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function ae(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;r[0]==="*";)r.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function ve(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift(),u)if(u==="*")u=e;else if(e!=="*"&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]],f)){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function vi(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||pe.test(n)?u(n,i):vi(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(f in t)vi(n+"["+f+"]",t[f],r,u)}function ku(n){return i.isWindow(n)?n:n.nodeType===9&&n.defaultView}var k=[],a=k.slice,bi=k.concat,ii=k.push,et=k.indexOf,ot={},nf=ot.toString,ri=ot.hasOwnProperty,f={},u=n.document,ki="2.1.1",i=function(n,t){return new i.fn.init(n,t)},tf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rf=/^-ms-/,uf=/-([\da-z])/gi,ff=function(n,t){return t.toUpperCase()},y,st,nr,tr,ir,rr,c,ei,ht,l,d,vt,si,oe,su,tt,hu,kt,cu,dt,gt,yi,ti,pi,wi,du,gu;i.fn=i.prototype={jquery:ki,constructor:i,selector:"",length:0,toArray:function(){return a.call(this)},get:function(n){return n!=null?n<0?this[n+this.length]:this[n]:a.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ii,sort:k.sort,splice:k.splice};i.extend=i.fn.extend=function(){var e,f,r,t,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[u]||{},u++),typeof n=="object"||i.isFunction(n)||(n={}),u===c&&(n=this,u--);u<c;u++)if((e=arguments[u])!=null)for(f in e)(r=n[f],t=e[f],n!==t)&&(h&&t&&(i.isPlainObject(t)||(o=i.isArray(t)))?(o?(o=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):t!==undefined&&(n[f]=t));return n};i.extend({expando:"jQuery"+(ki+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray,isWindow:function(n){return n!=null&&n===n.window},isNumeric:function(n){return!i.isArray(n)&&n-parseFloat(n)>=0},isPlainObject:function(n){return i.type(n)!=="object"||n.nodeType||i.isWindow(n)?!1:n.constructor&&!ri.call(n.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(n){for(var t in n)return!1;return!0},type:function(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?ot[nf.call(n)]||"object":typeof n},globalEval:function(n){var t,r=eval;n=i.trim(n);n&&(n.indexOf("use strict")===1?(t=u.createElement("script"),t.text=n,u.head.appendChild(t).parentNode.removeChild(t)):r(n))},camelCase:function(n){return n.replace(rf,"ms-").replace(uf,ff)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=ui(n);if(i){if(e){for(;r<f;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;r<f;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:function(n){return n==null?"":(n+"").replace(tf,"")},makeArray:function(n,t){var r=t||[];return n!=null&&(ui(Object(n))?i.merge(r,typeof n=="string"?[n]:n):ii.call(r,n)),r},inArray:function(n,t,i){return t==null?-1:et.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=ui(n),f=[];if(o)for(;r<e;r++)u=t(n[r],r,i),u!=null&&f.push(u);else for(r in n)u=t(n[r],r,i),u!=null&&f.push(u);return bi.apply([],f)},guid:1,proxy:function(n,t){var u,f,r;return(typeof t=="string"&&(u=n[t],t=n,n=u),!i.isFunction(n))?undefined:(f=a.call(arguments,2),r=function(){return n.apply(t||this,f.concat(a.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r)},now:Date.now,support:f});i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ot["[object "+t+"]"]=t.toLowerCase()});y=function(n){function r(n,t,i,r){var w,h,c,v,k,y,d,l,nt,g;if((t?t.ownerDocument||t:s)!==e&&p(t),t=t||e,i=i||[],!n||typeof n!="string")return i;if((v=t.nodeType)!==1&&v!==9)return[];if(a&&!r){if(w=sr.exec(n))if(c=w[1]){if(v===9)if(h=t.getElementById(c),h&&h.parentNode){if(h.id===c)return i.push(h),i}else return i;else if(t.ownerDocument&&(h=t.ownerDocument.getElementById(c))&&ot(t,h)&&h.id===c)return i.push(h),i}else{if(w[2])return b.apply(i,t.getElementsByTagName(n)),i;if((c=w[3])&&u.getElementsByClassName&&t.getElementsByClassName)return b.apply(i,t.getElementsByClassName(c)),i}if(u.qsa&&(!o||!o.test(n))){if(l=d=f,nt=t,g=v===9&&n,v===1&&t.nodeName.toLowerCase()!=="object"){for(y=et(n),(d=t.getAttribute("id"))?l=d.replace(hr,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",k=y.length;k--;)y[k]=l+yt(y[k]);nt=gt.test(n)&&ii(t.parentNode)||t;g=y.join(",")}if(g)try{return b.apply(i,nt.querySelectorAll(g)),i}catch(tt){}finally{d||t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,i,r)}function ni(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function h(n){return n[f]=!0,n}function c(n){var t=e.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ti(n,i){for(var u=n.split("|"),r=n.length;r--;)t.attrHandle[u[r]]=i}function wi(n,t){var i=t&&n,r=i&&n.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||ai)-(~n.sourceIndex||ai);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function cr(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function tt(n){return h(function(t){return t=+t,h(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ii(n){return n&&typeof n.getElementsByTagName!==ut&&n}function bi(){}function yt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function ri(n,t,i){var r=t.dir,u=i&&r==="parentNode",e=ki++;return t.first?function(t,i,f){while(t=t[r])if(t.nodeType===1||u)return n(t,i,f)}:function(t,i,o){var s,h,c=[v,e];if(o){while(t=t[r])if((t.nodeType===1||u)&&n(t,i,o))return!0}else while(t=t[r])if(t.nodeType===1||u){if(h=t[f]||(t[f]={}),(s=h[r])&&s[0]===v&&s[1]===e)return c[2]=s[2];if(h[r]=c,c[2]=n(t,i,o))return!0}}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function ar(n,t,i){for(var u=0,f=t.length;u<f;u++)r(n,t[u],i);return i}function pt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),h(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||ar(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?pt(k,p,n,o,s):k,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=pt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt.call(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=pt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function ei(n){for(var s,u,r,o=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=ri(function(n){return n===s},c,!0),a=ri(function(n){return nt.call(s,n)>-1},c,!0),e=[function(n,t,i){return!h&&(i||t!==ct)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];i<o;i++)if(u=t.relative[n[i].type])e=[ri(ui(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;r<o;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(e),i>1&&yt(n.slice(0,i-1).concat({value:n[i-2].type===" "?"*":""})).replace(at,"$1"),u,i<r&&ei(n.slice(i,r)),r<o&&ei(n=n.slice(r)),r<o&&yt(n))}e.push(u)}return ui(e)}function vr(n,i){var u=i.length>0,f=n.length>0,o=function(o,s,h,c,l){var y,d,w,k=0,a="0",g=o&&[],p=[],nt=ct,tt=o||f&&t.find.TAG("*",l),it=v+=nt==null?1:Math.random()||.1,rt=tt.length;for(l&&(ct=s!==e&&s);a!==rt&&(y=tt[a])!=null;a++){if(f&&y){for(d=0;w=n[d++];)if(w(y,s,h)){c.push(y);break}l&&(v=it)}u&&((y=!w&&y)&&k--,o&&g.push(y))}if(k+=a,u&&a!==k){for(d=0;w=i[d++];)w(g,p,s,h);if(o){if(k>0)while(a--)g[a]||p[a]||(p[a]=gi.call(c));p=pt(p)}b.apply(c,p);l&&!o&&p.length>0&&k+i.length>1&&r.uniqueSort(c)}return l&&(v=it,ct=nt),g};return u?h(o):o}var it,u,t,ht,oi,et,wt,si,ct,y,rt,p,e,l,a,o,g,lt,ot,f="sizzle"+-new Date,s=n.document,v=0,ki=0,hi=ni(),ci=ni(),li=ni(),bt=function(n,t){return n===t&&(rt=!0),0},ut=typeof undefined,ai=-2147483648,di={}.hasOwnProperty,w=[],gi=w.pop,nr=w.push,b=w.push,vi=w.slice,nt=w.indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(this[t]===n)return t;return-1},kt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",i="[\\x20\\t\\r\\n\\f]",ft="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",yi=ft.replace("w","w#"),pi="\\["+i+"*("+ft+")(?:"+i+"*([*^$|!~]?=)"+i+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+yi+"))|)"+i+"*\\]",dt=":("+ft+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+pi+")*)|.*)\\)|)",at=new RegExp("^"+i+"+|((?:^|[^\\\\])(?:\\\\.)*)"+i+"+$","g"),tr=new RegExp("^"+i+"*,"+i+"*"),ir=new RegExp("^"+i+"*([>+~]|"+i+")"+i+"*"),rr=new RegExp("="+i+"*([^\\]'\"]*?)"+i+"*\\]","g"),ur=new RegExp(dt),fr=new RegExp("^"+yi+"$"),vt={ID:new RegExp("^#("+ft+")"),CLASS:new RegExp("^\\.("+ft+")"),TAG:new RegExp("^("+ft.replace("w","w*")+")"),ATTR:new RegExp("^"+pi),PSEUDO:new RegExp("^"+dt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+i+"*(even|odd|(([+-]|)(\\d*)n|)"+i+"*(?:([+-]|)"+i+"*(\\d+)|))"+i+"*\\)|)","i"),bool:new RegExp("^(?:"+kt+")$","i"),needsContext:new RegExp("^"+i+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+i+"*((?:-\\d)?\\d*)"+i+"*\\)|)(?=[^-]|$)","i")},er=/^(?:input|select|textarea|button)$/i,or=/^h\d$/i,st=/^[^{]+\{\s*\[native \w/,sr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,hr=/'|\\/g,k=new RegExp("\\\\([\\da-f]{1,6}"+i+"?|("+i+")|.)","ig"),d=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{b.apply(w=vi.call(s.childNodes),s.childNodes);w[s.childNodes.length].nodeType}catch(yr){b={apply:w.length?function(n,t){nr.apply(n,vi.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}u=r.support={};oi=r.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?t.nodeName!=="HTML":!1};p=r.setDocument=function(n){var v,r=n?n.ownerDocument||n:s,h=r.defaultView;return r===e||r.nodeType!==9||!r.documentElement?e:(e=r,l=r.documentElement,a=!oi(r),h&&h!==h.top&&(h.addEventListener?h.addEventListener("unload",function(){p()},!1):h.attachEvent&&h.attachEvent("onunload",function(){p()})),u.attributes=c(function(n){return n.className="i",!n.getAttribute("className")}),u.getElementsByTagName=c(function(n){return n.appendChild(r.createComment("")),!n.getElementsByTagName("*").length}),u.getElementsByClassName=st.test(r.getElementsByClassName)&&c(function(n){return n.innerHTML="<div class='a'><\/div><div class='a i'><\/div>",n.firstChild.className="i",n.getElementsByClassName("i").length===2}),u.getById=c(function(n){return l.appendChild(n).id=f,!r.getElementsByName||!r.getElementsByName(f).length}),u.getById?(t.find.ID=function(n,t){if(typeof t.getElementById!==ut&&a){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},t.filter.ID=function(n){var t=n.replace(k,d);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(k,d);return function(n){var i=typeof n.getAttributeNode!==ut&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=u.getElementsByTagName?function(n,t){if(typeof t.getElementsByTagName!==ut)return t.getElementsByTagName(n)}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},t.find.CLASS=u.getElementsByClassName&&function(n,t){if(typeof t.getElementsByClassName!==ut&&a)return t.getElementsByClassName(n)},g=[],o=[],(u.qsa=st.test(r.querySelectorAll))&&(c(function(n){n.innerHTML="<select msallowclip=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowclip^='']").length&&o.push("[*^$]="+i+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+i+"*(?:value|"+kt+")");n.querySelectorAll(":checked").length||o.push(":checked")}),c(function(n){var t=r.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+i+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(u.matchesSelector=st.test(lt=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.oMatchesSelector||l.msMatchesSelector))&&c(function(n){u.disconnectedMatch=lt.call(n,"div");lt.call(n,"[s!='']:x");g.push("!=",dt)}),o=o.length&&new RegExp(o.join("|")),g=g.length&&new RegExp(g.join("|")),v=st.test(l.compareDocumentPosition),ot=v||st.test(l.contains)?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},bt=v?function(n,t){if(n===t)return rt=!0,0;var i=!n.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,i&1||!u.sortDetached&&t.compareDocumentPosition(n)===i)?n===r||n.ownerDocument===s&&ot(s,n)?-1:t===r||t.ownerDocument===s&&ot(s,t)?1:y?nt.call(y,n)-nt.call(y,t):0:i&4?-1:1}:function(n,t){if(n===t)return rt=!0,0;var i,u=0,o=n.parentNode,h=t.parentNode,f=[n],e=[t];if(o&&h){if(o===h)return wi(n,t)}else return n===r?-1:t===r?1:o?-1:h?1:y?nt.call(y,n)-nt.call(y,t):0;for(i=n;i=i.parentNode;)f.unshift(i);for(i=t;i=i.parentNode;)e.unshift(i);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===s?-1:e[u]===s?1:0},r)};r.matches=function(n,t){return r(n,null,null,t)};r.matchesSelector=function(n,t){if((n.ownerDocument||n)!==e&&p(n),t=t.replace(rr,"='$1']"),u.matchesSelector&&a&&(!g||!g.test(t))&&(!o||!o.test(t)))try{var i=lt.call(n,t);if(i||u.disconnectedMatch||n.document&&n.document.nodeType!==11)return i}catch(f){}return r(t,e,null,[n]).length>0};r.contains=function(n,t){return(n.ownerDocument||n)!==e&&p(n),ot(n,t)};r.attr=function(n,i){(n.ownerDocument||n)!==e&&p(n);var f=t.attrHandle[i.toLowerCase()],r=f&&di.call(t.attrHandle,i.toLowerCase())?f(n,i,!a):undefined;return r!==undefined?r:u.attributes||!a?n.getAttribute(i):(r=n.getAttributeNode(i))&&r.specified?r.value:null};r.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};r.uniqueSort=function(n){var r,f=[],t=0,i=0;if(rt=!u.detectDuplicates,y=!u.sortStable&&n.slice(0),n.sort(bt),rt){while(r=n[i++])r===n[i]&&(t=f.push(i));while(t--)n.splice(f[t],1)}return y=null,n};ht=r.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=ht(n)}else if(t===3||t===4)return n.nodeValue}else while(r=n[u++])i+=ht(r);return i};t=r.selectors={cacheLength:50,createPseudo:h,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(k,d),n[3]=(n[3]||n[4]||n[5]||"").replace(k,d),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||r.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&r.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&ur.test(t)&&(i=et(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(k,d).toLowerCase();return n==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+i+")"+n+"("+i+"|$)"))&&hi(n,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!==ut&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(u){var f=r.attr(u,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.slice(-i.length)===i:t==="~="?(" "+f+" ").indexOf(i)>-1:t==="|="?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",o=n.slice(-4)!=="last",e=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var a,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;w=b=n==="only"&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),a=k[n]||[],y=a[0]===v&&a[1],l=a[0]===v&&a[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(c.nodeType===1&&++l&&c===t){k[n]=[v,y,l];break}}else if(d&&(a=(t[f]||(t[f]={}))[n])&&a[0]===v)l=a[1];else while(c=++y&&c&&c[b]||(l=y=0)||w.pop())if((e?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++l&&(d&&((c[f]||(c[f]={}))[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,u=t.pseudos[n]||t.setFilters[n.toLowerCase()]||r.error("unsupported pseudo: "+n);return u[f]?u(i):u.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?h(function(n,t){for(var r,f=u(n,i),e=f.length;e--;)r=nt.call(n,f[e]),n[r]=!(t[r]=f[e])}):function(n){return u(n,0,e)}):u}},pseudos:{not:h(function(n){var i=[],r=[],t=wt(n.replace(at,"$1"));return t[f]?h(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:h(function(n){return function(t){return r(n,t).length>0}}),contains:h(function(n){return function(t){return(t.textContent||t.innerText||ht(t)).indexOf(n)>-1}}),lang:h(function(n){return fr.test(n||"")||r.error("unsupported lang: "+n),n=n.replace(k,d).toLowerCase(),function(t){var i;do if(i=a?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===l},focus:function(n){return n===e.activeElement&&(!e.hasFocus||e.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return or.test(n.nodeName)},input:function(n){return er.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()==="text")},first:tt(function(){return[0]}),last:tt(function(n,t){return[t-1]}),eq:tt(function(n,t,i){return[i<0?i+t:i]}),even:tt(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:tt(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:tt(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:tt(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(it in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[it]=cr(it);for(it in{submit:!0,reset:!0})t.pseudos[it]=lr(it);return bi.prototype=t.filters=t.pseudos,t.setFilters=new bi,et=r.tokenize=function(n,i){var e,f,s,o,u,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(u=n,h=[],c=t.preFilter;u;){(!e||(f=tr.exec(u)))&&(f&&(u=u.slice(f[0].length)||u),h.push(s=[]));e=!1;(f=ir.exec(u))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),u=u.slice(e.length));for(o in t.filter)(f=vt[o].exec(u))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),u=u.slice(e.length));if(!e)break}return i?u.length:u?r.error(n):ci(n,h).slice(0)},wt=r.compile=function(n,t){var r,u=[],e=[],i=li[n+" "];if(!i){for(t||(t=et(n)),r=t.length;r--;)i=ei(t[r]),i[f]?u.push(i):e.push(i);i=li(n,vr(e,u));i.selector=n}return i},si=r.select=function(n,i,r,f){var s,e,o,l,v,c=typeof n=="function"&&n,h=!f&&et(n=c.selector||n);if(r=r||[],h.length===1){if(e=h[0]=h[0].slice(0),e.length>2&&(o=e[0]).type==="ID"&&u.getById&&i.nodeType===9&&a&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(k,d),i)||[])[0],i)c&&(i=i.parentNode);else return r;n=n.slice(e.shift().value.length)}for(s=vt.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[l=o.type])break;if((v=t.find[l])&&(f=v(o.matches[0].replace(k,d),gt.test(e[0].type)&&ii(i.parentNode)||i))){if(e.splice(s,1),n=f.length&&yt(e),!n)return b.apply(r,f),r;break}}}return(c||wt(n,h))(f,i,!a,r,gt.test(n)&&ii(i.parentNode)||i),r},u.sortStable=f.split("").sort(bt).join("")===f,u.detectDuplicates=!!rt,p(),u.sortDetached=c(function(n){return n.compareDocumentPosition(e.createElement("div"))&1}),c(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild.getAttribute("href")==="#"})||ti("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,t.toLowerCase()==="type"?1:2)}),u.attributes&&c(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),n.firstChild.getAttribute("value")===""})||ti("value",function(n,t,i){if(!i&&n.nodeName.toLowerCase()==="input")return n.defaultValue}),c(function(n){return n.getAttribute("disabled")==null})||ti(kt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),r}(n);i.find=y;i.expr=y.selectors;i.expr[":"]=i.expr.pseudos;i.unique=y.uniqueSort;i.text=y.getText;i.isXMLDoc=y.isXML;i.contains=y.contains;var di=i.expr.match.needsContext,gi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ef=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),t.length===1&&u.nodeType===1?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return n.nodeType===1}))};i.fn.extend({find:function(n){var t,u=this.length,r=[],f=this;if(typeof n!="string")return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(t=0;t<u;t++)i.find(n,f[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(fi(this,n||[],!1))},not:function(n){return this.pushStack(fi(this,n||[],!0))},is:function(n){return!!fi(this,typeof n=="string"&&di.test(n)?i(n):n||[],!1).length}});nr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;tr=i.fn.init=function(n,t){var r,f;if(!n)return this;if(typeof n=="string"){if(r=n[0]==="<"&&n[n.length-1]===">"&&n.length>=3?[null,n,null]:nr.exec(n),r&&(r[1]||!t)){if(r[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),gi.test(r[1])&&i.isPlainObject(t))for(r in t)i.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return f=u.getElementById(r[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=u,this.selector=n,this}return!t||t.jquery?(t||st).find(n):this.constructor(t).find(n)}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?typeof st.ready!="undefined"?st.ready(n):n(i):(n.selector!==undefined&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};tr.prototype=i.fn;st=i(u);ir=/^(?:parents|prev(?:Until|All))/;rr={children:!0,contents:!0,next:!0,prev:!0};i.extend({dir:function(n,t,r){for(var u=[],f=r!==undefined;(n=n[t])&&n.nodeType!==9;)if(n.nodeType===1){if(f&&i(n).is(r))break;u.push(n)}return u},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=di.test(n)||typeof n!="string"?i(n,t||this.context):0;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:r.nodeType===1&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?typeof n=="string"?et.call(i(n),this[0]):et.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.unique(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return ur(n,"nextSibling")},prev:function(n){return ur(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return n.slice(-5)!=="Until"&&(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),this.length>1&&(rr[n]||i.unique(f),ir.test(n)&&f.reverse()),this.pushStack(f)}});c=/\S+/g;ei={};i.Callbacks=function(n){n=typeof n=="string"?ei[n]||of(n):i.extend({},n);var u,h,o,c,f,e,t=[],r=!n.once&&[],l=function(i){for(u=n.memory&&i,h=!0,e=c||0,c=0,f=t.length,o=!0;t&&e<f;e++)if(t[e].apply(i[0],i[1])===!1&&n.stopOnFalse){u=!1;break}o=!1;t&&(r?r.length&&l(r.shift()):u?t=[]:s.disable())},s={add:function(){if(t){var r=t.length;(function e(r){i.each(r,function(r,u){var f=i.type(u);f==="function"?n.unique&&s.has(u)||t.push(u):u&&u.length&&f!=="string"&&e(u)})})(arguments);o?f=t.length:u&&(c=r,l(u))}return this},remove:function(){return t&&i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),o&&(u<=f&&f--,u<=e&&e--)}),this},has:function(n){return n?i.inArray(n,t)>-1:!!(t&&t.length)},empty:function(){return t=[],f=0,this},disable:function(){return t=r=u=undefined,this},disabled:function(){return!t},lock:function(){return r=undefined,u||s.disable(),this},locked:function(){return!r},fireWith:function(n,i){return t&&(!h||r)&&(i=i||[],i=[n,i.slice?i.slice():i],o?r.push(i):l(i)),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return n!=null?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[n^1][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=a.call(arguments),r=u.length,e=r!==1||n&&i.isFunction(n.promise)?r:0,f=e===1?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?a.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);t<r;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0)||(ht.resolveWith(u,[i]),i.fn.triggerHandler&&(i(u).triggerHandler("ready"),i(u).off("ready")))}});i.ready.promise=function(t){return ht||(ht=i.Deferred(),u.readyState==="complete"?setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",ct,!1),n.addEventListener("load",ct,!1))),ht.promise(t)};i.ready.promise();l=i.access=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=r==null;if(i.type(r)==="object"){f=!0;for(s in r)i.access(n,t,s,r[s],!0,e,o)}else if(u!==undefined&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;s<c;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e};i.acceptData=function(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType};p.uid=1;p.accepts=i.acceptData;p.prototype={key:function(n){if(!p.accepts(n))return 0;var r={},t=n[this.expando];if(!t){t=p.uid++;try{r[this.expando]={value:t};Object.defineProperties(n,r)}catch(u){r[this.expando]=t;i.extend(n,r)}}return this.cache[t]||(this.cache[t]={}),t},set:function(n,t,r){var f,e=this.key(n),u=this.cache[e];if(typeof t=="string")u[t]=r;else if(i.isEmptyObject(u))i.extend(this.cache[e],t);else for(f in t)u[f]=t[f];return u},get:function(n,t){var i=this.cache[this.key(n)];return t===undefined?i:i[t]},access:function(n,t,r){var u;return t===undefined||t&&typeof t=="string"&&r===undefined?(u=this.get(n,t),u!==undefined?u:this.get(n,i.camelCase(t))):(this.set(n,t,r),r!==undefined?r:t)},remove:function(n,t){var u,r,f,o=this.key(n),e=this.cache[o];if(t===undefined)this.cache[o]={};else for(i.isArray(t)?r=t.concat(t.map(i.camelCase)):(f=i.camelCase(t),t in e?r=[t,f]:(r=f,r=r in e?[r]:r.match(c)||[])),u=r.length;u--;)delete e[r[u]]},hasData:function(n){return!i.isEmptyObject(this.cache[n[this.expando]]||{})},discard:function(n){n[this.expando]&&delete this.cache[n[this.expando]]}};var r=new p,e=new p,sf=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,hf=/([A-Z])/g;i.extend({hasData:function(n){return e.hasData(n)||r.hasData(n)},data:function(n,t,i){return e.access(n,t,i)},removeData:function(n,t){e.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var o,f,s,u=this[0],h=u&&u.attributes;if(n===undefined){if(this.length&&(s=e.get(u),u.nodeType===1&&!r.get(u,"hasDataAttrs"))){for(o=h.length;o--;)h[o]&&(f=h[o].name,f.indexOf("data-")===0&&(f=i.camelCase(f.slice(5)),fr(u,f,s[f])));r.set(u,"hasDataAttrs",!0)}return s}return typeof n=="object"?this.each(function(){e.set(this,n)}):l(this,function(t){var r,f=i.camelCase(n);if(u&&t===undefined)return(r=e.get(u,n),r!==undefined)?r:(r=e.get(u,f),r!==undefined)?r:(r=fr(u,f,undefined),r!==undefined)?r:void 0;this.each(function(){var i=e.get(this,f);e.set(this,f,t);n.indexOf("-")!==-1&&i!==undefined&&e.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){e.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||i.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return(typeof n!="string"&&(t=n,n="fx",r--),arguments.length<r)?i.queue(this[0],n):t===undefined?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);n==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(t=n,n=undefined),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=["Top","Right","Bottom","Left"],it=function(n,t){return n=t||n,i.css(n,"display")==="none"||!i.contains(n.ownerDocument,n)},er=/^(?:checkbox|radio)$/i;(function(){var i=u.createDocumentFragment(),n=i.appendChild(u.createElement("div")),t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);f.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue})();d=typeof undefined;f.focusinBubbles="onfocusin"in n;var cf=/^key/,lf=/^(?:mouse|pointer|contextmenu)|click/,or=/^(?:focusinfocus|focusoutblur)$/,sr=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,b,h,s,l,o,k,g,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){return typeof i!==d&&i.event.triggered!==t.type?i.event.dispatch.apply(n,arguments):undefined}),t=(t||"").match(c)||[""],b=t.length;b--;)(w=sr.exec(t[b])||[],o=g=w[1],k=(w[2]||"").split(".").sort(),o)&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:k.join(".")},v),(l=p[o])||(l=p[o]=[],l.delegateCount=0,s.setup&&s.setup.call(n,f,k,y)!==!1||n.addEventListener&&n.addEventListener(o,y,!1)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?l.splice(l.delegateCount++,0,h):l.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var p,k,h,v,w,s,l,a,o,b,d,y=r.hasData(n)&&r.get(n);if(y&&(v=y.events)){for(t=(t||"").match(c)||[""],w=t.length;w--;){if(h=sr.exec(t[w])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),!o){for(o in v)i.event.remove(n,o+t[w],u,f,!0);continue}for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=p=a.length;p--;)s=a[p],(e||d===s.origType)&&(!u||u.guid===s.guid)&&(!h||h.test(s.namespace))&&(!f||f===s.selector||f==="**"&&s.selector)&&(a.splice(p,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,y.handle)!==!1||i.removeEvent(n,o,y.handle),delete v[o])}i.isEmptyObject(v)&&(delete y.handle,r.remove(n,"events"))}},trigger:function(t,f,e,o){var w,s,c,b,a,v,l,p=[e||u],h=ri.call(t,"type")?t.type:t,y=ri.call(t,"namespace")?t.namespace.split("."):[];if((s=c=e=e||u,e.nodeType!==3&&e.nodeType!==8)&&!or.test(h+i.event.triggered)&&(h.indexOf(".")>=0&&(y=h.split("."),h=y.shift(),y.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,typeof t=="object"&&t),t.isTrigger=o?2:3,t.namespace=y.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=e),f=f==null?[t]:i.makeArray(f,[t]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(b=l.delegateType||h,or.test(b+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||u)&&p.push(c.defaultView||c.parentWindow||n)}for(w=0;(s=p[w++])&&!t.isPropagationStopped();)t.type=w>1?b:l.bindType||h,v=(r.get(s,"events")||{})[t.type]&&r.get(s,"handle"),v&&v.apply(s,f),v=a&&s[a],v&&v.apply&&i.acceptData(s)&&(t.result=v.apply(s,f),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||(!l._default||l._default.apply(p.pop(),f)===!1)&&i.acceptData(e)&&a&&i.isFunction(e[h])&&!i.isWindow(e)&&(c=e[a],c&&(e[a]=null),i.event.triggered=h,e[h](),i.event.triggered=undefined,c&&(e[a]=c)),t.result}},dispatch:function(n){n=i.event.fix(n);var o,s,e,u,t,h=[],c=a.call(arguments),l=(r.get(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,l),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(t=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(t.namespace))&&(n.handleObj=t,n.data=t.data,e=((i.event.special[t.origType]||{}).handle||t.handler).apply(u.elem,c),e!==undefined&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&(!n.button||n.type!=="click"))for(;r!==this;r=r.parentNode||this)if(r.disabled!==!0||n.type!=="click"){for(u=[],e=0;e<s;e++)o=t[e],f=o.selector+" ",u[f]===undefined&&(u[f]=o.needsContext?i(f,this).index(r)>=0:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var e,i,r,f=t.button;return n.pageX==null&&t.clientX!=null&&(e=n.target.ownerDocument||u,i=e.documentElement,r=e.body,n.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),n.which||f===undefined||(n.which=f&1?1:f&2?3:f&4?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,o,r=n.type,s=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=lf.test(r)?this.mouseHooks:cf.test(r)?this.keyHooks:{}),o=t.props?this.props.concat(t.props):this.props,n=new i.Event(s),f=o.length;f--;)e=o[f],n[e]=s[e];return n.target||(n.target=u),n.target.nodeType===3&&(n.target=n.target.parentNode),t.filter?t.filter(n,s):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==hr()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===hr()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&i.nodeName(this,"input"))return this.click(),!1},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==undefined&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===undefined&&n.returnValue===!1?at:g):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||i.now();this[i.expando]=!0};i.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=at;n&&n.preventDefault&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=at;n&&n.stopPropagation&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=at;n&&n.stopImmediatePropagation&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});f.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});i.fn.extend({on:function(n,t,r,u,f){var e,o;if(typeof n=="object"){typeof t!="string"&&(r=r||t,t=undefined);for(o in n)this.on(o,t,r,n[o],f);return this}if(r==null&&u==null?(u=t,r=t=undefined):u==null&&(typeof t=="string"?(u=r,r=undefined):(u=r,r=t,t=undefined)),u===!1)u=g;else if(!u)return this;return f===1&&(e=u,u=function(n){return i().off(n),e.apply(this,arguments)},u.guid=e.guid||(e.guid=i.guid++)),this.each(function(){i.event.add(this,n,u,r,t)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof n=="object"){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||typeof t=="function")&&(r=t,t=undefined),r===!1&&(r=g),this.each(function(){i.event.remove(this,n,r,t)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var cr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,lr=/<([\w:]+)/,af=/<|&#?\w+;/,vf=/<(?:script|style|link)/i,yf=/checked\s*(?:[^=]|=\s*.checked.)/i,ar=/^$|\/(?:java|ecma)script/i,pf=/^true\/(.*)/,wf=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,h={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};h.optgroup=h.option;h.tbody=h.tfoot=h.colgroup=h.caption=h.thead;h.th=h.td;i.extend({clone:function(n,t,r){var u,c,s,e,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!f.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(e=o(h),s=o(n),u=0,c=s.length;u<c;u++)df(s[u],e[u]);if(t)if(r)for(s=s||o(n),e=e||o(h),u=0,c=s.length;u<c;u++)yr(s[u],e[u]);else yr(n,h);return e=o(h,"script"),e.length>0&&oi(e,!l&&o(n,"script")),h},buildFragment:function(n,t,r,u){for(var f,e,y,l,p,a,s=t.createDocumentFragment(),v=[],c=0,w=n.length;c<w;c++)if(f=n[c],f||f===0)if(i.type(f)==="object")i.merge(v,f.nodeType?[f]:f);else if(af.test(f)){for(e=e||s.appendChild(t.createElement("div")),y=(lr.exec(f)||["",""])[1].toLowerCase(),l=h[y]||h._default,e.innerHTML=l[1]+f.replace(cr,"<$1><\/$2>")+l[2],a=l[0];a--;)e=e.lastChild;i.merge(v,e.childNodes);e=s.firstChild;e.textContent=""}else v.push(t.createTextNode(f));for(s.textContent="",c=0;f=v[c++];)if((!u||i.inArray(f,u)===-1)&&(p=i.contains(f.ownerDocument,f),e=o(s.appendChild(f),"script"),p&&oi(e),r))for(a=0;f=e[a++];)ar.test(f.type||"")&&r.push(f);return s},cleanData:function(n){for(var f,t,o,u,h=i.event.special,s=0;(t=n[s])!==undefined;s++){if(i.acceptData(t)&&(u=t[r.expando],u&&(f=r.cache[u]))){if(f.events)for(o in f.events)h[o]?i.event.remove(t,o):i.removeEvent(t,o,f.handle);r.cache[u]&&delete r.cache[u]}delete e.cache[t[e.expando]]}}});i.fn.extend({text:function(n){return l(this,function(n){return n===undefined?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vr(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vr(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=n?i.filter(n,this):this,u=0;(r=f[u])!=null;u++)t||r.nodeType!==1||i.cleanData(o(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&oi(o(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)n.nodeType===1&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return l(this,function(n){var t=this[0]||{},r=0,u=this.length;if(n===undefined&&t.nodeType===1)return t.innerHTML;if(typeof n=="string"&&!vf.test(n)&&!h[(lr.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(cr,"<$1><\/$2>");try{for(;r<u;r++)t=this[r]||{},t.nodeType===1&&(i.cleanData(o(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=arguments[0];return this.domManip(arguments,function(t){n=this.parentNode;i.cleanData(o(this));n&&n.replaceChild(t,this)}),n&&(n.length||n.nodeType)?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t){n=bi.apply([],n);var h,v,s,c,u,y,e=0,l=this.length,w=this,b=l-1,a=n[0],p=i.isFunction(a);if(p||l>1&&typeof a=="string"&&!f.checkClone&&yf.test(a))return this.each(function(i){var r=w.eq(i);p&&(n[0]=a.call(this,i,r.html()));r.domManip(n,t)});if(l&&(h=i.buildFragment(n,this[0].ownerDocument,!1,this),v=h.firstChild,h.childNodes.length===1&&(h=v),v)){for(s=i.map(o(h,"script"),bf),c=s.length;e<l;e++)u=h,e!==b&&(u=i.clone(u,!0,!0),c&&i.merge(s,o(u,"script"))),t.call(this[e],u,e);if(c)for(y=s[s.length-1].ownerDocument,i.map(s,kf),e=0;e<c;e++)u=s[e],ar.test(u.type||"")&&!r.access(u,"globalEval")&&i.contains(y,u)&&(u.src?i._evalUrl&&i._evalUrl(u.src):i.globalEval(u.textContent.replace(wf,"")))}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ii.apply(f,u.get());return this.pushStack(f)}});si={};var wr=/^margin/,ci=new RegExp("^("+lt+")(?!px)[a-z%]+$","i"),yt=function(n){return n.ownerDocument.defaultView.getComputedStyle(n,null)};(function(){function h(){t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";t.innerHTML="";e.appendChild(r);var i=n.getComputedStyle(t,null);s=i.top!=="1%";o=i.width==="4px";e.removeChild(r)}var s,o,e=u.documentElement,r=u.createElement("div"),t=u.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle=t.style.backgroundClip==="content-box",r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(t),n.getComputedStyle&&i.extend(f,{pixelPosition:function(){return h(),s},boxSizingReliable:function(){return o==null&&h(),o},reliableMarginRight:function(){var f,i=t.appendChild(u.createElement("div"));return i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",e.appendChild(r),f=!parseFloat(n.getComputedStyle(i,null).marginRight),e.removeChild(r),f}}))})();i.swap=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};var gf=/^(none|table(?!-c[ea]).+)/,ne=new RegExp("^("+lt+")(.*)$","i"),te=new RegExp("^([+-])=("+lt+")","i"),ie={position:"absolute",visibility:"hidden",display:"block"},kr={letterSpacing:"0",fontWeight:"400"},dr=["Webkit","O","Moz","ms"];i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=rt(n,"opacity");return i===""?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,t,r,u){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var o,h,e,s=i.camelCase(t),c=n.style;if(t=i.cssProps[s]||(i.cssProps[s]=gr(c,s)),e=i.cssHooks[t]||i.cssHooks[s],r!==undefined){if(h=typeof r,h==="string"&&(o=te.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(i.css(n,t)),h="number"),r==null||r!==r)return;h!=="number"||i.cssNumber[s]||(r+="px");f.clearCloneStyle||r!==""||t.indexOf("background")!==0||(c[t]="inherit");e&&"set"in e&&(r=e.set(n,r,u))===undefined||(c[t]=r)}else return e&&"get"in e&&(o=e.get(n,!1,u))!==undefined?o:c[t]}},css:function(n,t,r,u){var f,s,e,o=i.camelCase(t);return(t=i.cssProps[o]||(i.cssProps[o]=gr(n.style,o)),e=i.cssHooks[t]||i.cssHooks[o],e&&"get"in e&&(f=e.get(n,!0,r)),f===undefined&&(f=rt(n,t,u)),f==="normal"&&t in kr&&(f=kr[t]),r===""||r)?(s=parseFloat(f),r===!0||i.isNumeric(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return gf.test(i.css(n,"display"))&&n.offsetWidth===0?i.swap(n,ie,function(){return iu(n,t,u)}):iu(n,t,u)},set:function(n,r,u){var f=u&&yt(n);return nu(n,r,u?tu(n,t,u,i.css(n,"boxSizing",!1,f)==="border-box",f):0)}}});i.cssHooks.marginRight=br(f.reliableMarginRight,function(n,t){if(t)return i.swap(n,{display:"inline-block"},rt,[n,"marginRight"])});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+w[r]+t]=u[r]||u[r-2]||u[0];return f}};wr.test(n)||(i.cssHooks[n+t].set=nu)});i.fn.extend({css:function(n,t){return l(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=yt(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return r!==undefined?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return ru(this,!0)},hide:function(){return ru(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){it(this)?i(this).show():i(this).hide()})}});i.Tween=s;s.prototype={constructor:s,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=s.propHooks[this.prop];return n&&n.get?n.get(this):s.propHooks._default.get(this)},run:function(n){var t,r=s.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):s.propHooks._default.set(this),this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(n){var t;return n.elem[n.prop]!=null&&(!n.elem.style||n.elem.style[n.prop]==null)?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(n.elem.style[i.cssProps[n.prop]]!=null||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.fx=s.prototype.init;i.fx.step={};var nt,pt,re=/^(?:toggle|show|hide)$/,uu=new RegExp("^(?:([+-])=|)("+lt+")([a-z%]*)$","i"),ue=/queueHooks$/,wt=[fe],ut={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),u=uu.exec(t),e=u&&u[3]||(i.cssNumber[n]?"":"px"),r=(i.cssNumber[n]||e!=="px"&&+s)&&uu.exec(i.css(f.elem,n)),o=1,h=20;if(r&&r[3]!==e){e=e||r[3];u=u||[];r=+s||1;do o=o||".5",r=r/o,i.style(f.elem,n,r+e);while(o!==(o=f.cur()/s)&&o!==1&&--h)}return u&&(r=f.start=+r||+s||0,f.unit=e,f.end=u[1]?r+(u[1]+1)*u[2]:+u[2]),f}]};i.Animation=i.extend(ou,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;u<f;u++)r=n[u],ut[r]=ut[r]||[],ut[r].unshift(t)},prefilter:function(n,t){t?wt.unshift(n):wt.push(n)}});i.speed=function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(it).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=ou(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return typeof n!="string"&&(u=t,t=n,n=undefined),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=n!=null&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&ue.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem===this&&(n==null||o[t].queue===n)&&(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(bt(t,!0),n,i,u)}});i.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(nt=i.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();nt=undefined};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){pt||(pt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(pt);pt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},function(){var n=u.createElement("input"),t=u.createElement("select"),i=t.appendChild(u.createElement("option"));n.type="checkbox";f.checkOn=n.value!=="";f.optSelected=i.selected;t.disabled=!0;f.optDisabled=!i.disabled;n=u.createElement("input");n.value="t";n.type="radio";f.radioValue=n.value==="t"}();tt=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return l(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(n&&e!==3&&e!==8&&e!==2){if(typeof n.getAttribute===d)return i.prop(n,t,r);if(e===1&&i.isXMLDoc(n)||(t=t.toLowerCase(),u=i.attrHooks[t]||(i.expr.match.bool.test(t)?su:oe)),r!==undefined)if(r===null)i.removeAttr(n,t);else return u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:(n.setAttribute(t,r+""),r);else return u&&"get"in u&&(f=u.get(n,t))!==null?f:(f=i.find.attr(n,t),f==null?undefined:f)}},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(c);if(f&&n.nodeType===1)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)&&(n[u]=!1),n.removeAttribute(r)},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&t==="radio"&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}}});su={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=tt[t]||i.find.attr;tt[t]=function(n,t,i){var u,f;return i||(f=tt[t],tt[t]=u,u=r(n,t,i)!=null?t.toLowerCase():null,tt[t]=f),u}});hu=/^(?:input|select|textarea|button)$/i;i.fn.extend({prop:function(n,t){return l(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(n,t,r){var f,u,o,e=n.nodeType;if(n&&e!==3&&e!==8&&e!==2)return o=e!==1||!i.isXMLDoc(n),o&&(t=i.propFix[t]||t,u=i.propHooks[t]),r!==undefined?u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:n[t]=r:u&&"get"in u&&(f=u.get(n,t))!==null?f:n[t]},propHooks:{tabIndex:{get:function(n){return n.hasAttribute("tabindex")||hu.test(n.nodeName)||n.href?n.tabIndex:-1}}}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});kt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,s,f,h=typeof n=="string"&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];e<l;e++)if(t=this[e],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(kt," "):" "),r){for(s=0;u=o[s++];)r.indexOf(" "+u+" ")<0&&(r+=u+" ");f=i.trim(r);t.className!==f&&(t.className=f)}return this},removeClass:function(n){var o,t,r,u,s,f,h=arguments.length===0||typeof n=="string"&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];e<l;e++)if(t=this[e],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(kt," "):""),r){for(s=0;u=o[s++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");f=n?i.trim(r):"";t.className!==f&&(t.className=f)}return this},toggleClass:function(n,t){var u=typeof n;return typeof t=="boolean"&&u==="string"?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(u==="string")for(var t,e=0,f=i(this),o=n.match(c)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else(u===d||u==="boolean")&&(this.className&&r.set(this,"__className__",this.className),this.className=this.className||n===!1?"":r.get(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(kt," ").indexOf(i)>=0)return!0;return!1}});cu=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;this.nodeType===1&&(u=f?n.call(this,r,i(this).val()):n,u==null?u="":typeof u=="number"?u+="":i.isArray(u)&&(u=i.map(u,function(n){return n==null?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,u,"value")!==undefined||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(u,"value"))!==undefined)?r:(r=u.value,typeof r=="string"?r.replace(cu,""):r==null?"":r):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return t!=null?t:i.trim(i.text(n))}},select:{get:function(n){for(var o,t,s=n.options,r=n.selectedIndex,u=n.type==="select-one"||r<0,h=u?null:[],c=u?r+1:s.length,e=r<0?c:u?r:0;e<c;e++)if(t=s[e],(t.selected||e===r)&&(f.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),u)return o;h.push(o)}return h},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(r.value,e)>=0)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}};f.checkOn||(i.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)}});dt=i.now();gt=/\?/;i.parseJSON=function(n){return JSON.parse(n+"")};i.parseXML=function(n){var t,r;if(!n||typeof n!="string")return null;try{r=new DOMParser;t=r.parseFromString(n,"text/xml")}catch(u){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),t};var b,v,se=/#.*$/,lu=/([?&])_=[^&]*/,he=/^(.*?):[ \t]*([^\r\n]*)$/mg,ce=/^(?:GET|HEAD)$/,le=/^\/\//,au=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vu={},li={},yu="*/".concat("*");try{v=location.href}catch(ge){v=u.createElement("a");v.href="";v=v.href}b=au.exec(v.toLowerCase())||[];i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:v,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(b[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?ai(ai(n,i.ajaxSettings),t):ai(i.ajaxSettings,n)},ajaxPrefilter:pu(vu),ajaxTransport:pu(li),ajax:function(n,t){function w(n,t,h,c){var v,it,b,y,w,l=t;e!==2&&(e=2,d&&clearTimeout(d),s=undefined,k=c||"",u.readyState=n>0?4:0,v=n>=200&&n<300||n===304,h&&(y=ae(r,u,h)),y=ve(r,y,u,v),v?(r.ifModified&&(w=u.getResponseHeader("Last-Modified"),w&&(i.lastModified[f]=w),w=u.getResponseHeader("etag"),w&&(i.etag[f]=w)),n===204||r.type==="HEAD"?l="nocontent":n===304?l="notmodified":(l=y.state,it=y.data,b=y.error,v=!b)):(b=l,(n||!l)&&(l="error",n<0&&(n=0))),u.status=n,u.statusText=(t||l)+"",v?nt.resolveWith(o,[it,l,u]):nt.rejectWith(o,[u,l,b]),u.statusCode(p),p=undefined,a&&g.trigger(v?"ajaxSuccess":"ajaxError",[u,r,v?it:b]),tt.fireWith(o,[u,l]),a&&(g.trigger("ajaxComplete",[u,r]),--i.active||i.event.trigger("ajaxStop")))}typeof n=="object"&&(t=n,n=undefined);t=t||{};var s,f,k,y,d,h,a,l,r=i.ajaxSetup({},t),o=r.context||r,g=r.context&&(o.nodeType||o.jquery)?i(o):i.event,nt=i.Deferred(),tt=i.Callbacks("once memory"),p=r.statusCode||{},it={},rt={},e=0,ut="canceled",u={readyState:0,getResponseHeader:function(n){var t;if(e===2){if(!y)for(y={};t=he.exec(k);)y[t[1].toLowerCase()]=t[2];t=y[n.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return e===2?k:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return e||(n=rt[i]=rt[i]||n,it[n]=t),this},overrideMimeType:function(n){return e||(r.mimeType=n),this},statusCode:function(n){var t;if(n)if(e<2)for(t in n)p[t]=[p[t],n[t]];else u.always(n[u.status]);return this},abort:function(n){var t=n||ut;return s&&s.abort(t),w(0,t),this}};if(nt.promise(u).complete=tt.add,u.success=u.done,u.error=u.fail,r.url=((n||r.url||v)+"").replace(se,"").replace(le,b[1]+"//"),r.type=t.method||t.type||r.method||r.type,r.dataTypes=i.trim(r.dataType||"*").toLowerCase().match(c)||[""],r.crossDomain==null&&(h=au.exec(r.url.toLowerCase()),r.crossDomain=!!(h&&(h[1]!==b[1]||h[2]!==b[2]||(h[3]||(h[1]==="http:"?"80":"443"))!==(b[3]||(b[1]==="http:"?"80":"443"))))),r.data&&r.processData&&typeof r.data!="string"&&(r.data=i.param(r.data,r.traditional)),wu(vu,r,t,u),e===2)return u;a=r.global;a&&i.active++==0&&i.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!ce.test(r.type);f=r.url;r.hasContent||(r.data&&(f=r.url+=(gt.test(f)?"&":"?")+r.data,delete r.data),r.cache===!1&&(r.url=lu.test(f)?f.replace(lu,"$1_="+dt++):f+(gt.test(f)?"&":"?")+"_="+dt++));r.ifModified&&(i.lastModified[f]&&u.setRequestHeader("If-Modified-Since",i.lastModified[f]),i.etag[f]&&u.setRequestHeader("If-None-Match",i.etag[f]));(r.data&&r.hasContent&&r.contentType!==!1||t.contentType)&&u.setRequestHeader("Content-Type",r.contentType);u.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+(r.dataTypes[0]!=="*"?", "+yu+"; q=0.01":""):r.accepts["*"]);for(l in r.headers)u.setRequestHeader(l,r.headers[l]);if(r.beforeSend&&(r.beforeSend.call(o,u,r)===!1||e===2))return u.abort();ut="abort";for(l in{success:1,error:1,complete:1})u[l](r[l]);if(s=wu(li,r,t,u),s){u.readyState=1;a&&g.trigger("ajaxSend",[u,r]);r.async&&r.timeout>0&&(d=setTimeout(function(){u.abort("timeout")},r.timeout));try{e=1;s.send(it,w)}catch(ft){if(e<2)w(-1,ft);else throw ft;}}else w(-1,"No Transport");return u},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,undefined,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=undefined),i.ajax({url:n,type:t,dataType:f,data:r,success:u})}});i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){var t;return i.isFunction(n)?this.each(function(t){i(this).wrapAll(n.call(this,t))}):(this[0]&&(t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this)},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0};i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)};var ye=/%20/g,pe=/\[\]$/,bu=/\r?\n/g,we=/^(?:submit|button|image|reset|file)$/i,be=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():t==null?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(t===undefined&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)vi(r,n[r],t,f);return u.join("&").replace(ye,"+")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&be.test(this.nodeName)&&!we.test(n)&&(this.checked||!er.test(n))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(bu,"\r\n")}}):{name:t.name,value:r.replace(bu,"\r\n")}}).get()}});i.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(n){}};var ke=0,ni={},de={0:200,1223:204},ft=i.ajaxSettings.xhr();if(n.ActiveXObject)i(n).on("unload",function(){for(var n in ni)ni[n]()});return f.cors=!!ft&&"withCredentials"in ft,f.ajax=ft=!!ft,i.ajaxTransport(function(n){var t;if(f.cors||ft&&!n.crossDomain)return{send:function(i,r){var f,u=n.xhr(),e=++ke;if(u.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(f in n.xhrFields)u[f]=n.xhrFields[f];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType);n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(f in i)u.setRequestHeader(f,i[f]);t=function(n){return function(){t&&(delete ni[e],t=u.onload=u.onerror=null,n==="abort"?u.abort():n==="error"?r(u.status,u.statusText):r(de[u.status]||u.status,u.statusText,typeof u.responseText=="string"?{text:u.responseText}:undefined,u.getAllResponseHeaders()))}};u.onload=t();u.onerror=t("error");t=ni[e]=t("abort");try{u.send(n.hasContent&&n.data||null)}catch(o){if(t)throw o;}},abort:function(){t&&t()}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e(n.type==="error"?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}}),yi=[],ti=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=yi.pop()||i.expando+"_"+dt++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,o,e,s=t.jsonp!==!1&&(ti.test(t.url)?"url":typeof t.data=="string"&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(t.data)&&"data");if(s||t.dataTypes[0]==="jsonp")return f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ti,"$1"+f):t.jsonp!==!1&&(t.url+=(gt.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return e||i.error(f+" was not called"),e[0]},t.dataTypes[0]="json",o=n[f],n[f]=function(){e=arguments},u.always(function(){n[f]=o;t[f]&&(t.jsonpCallback=r.jsonpCallback,yi.push(f));e&&i.isFunction(o)&&o(e[0]);e=o=undefined}),"script"}),i.parseHTML=function(n,t,r){if(!n||typeof n!="string")return null;typeof t=="boolean"&&(r=t,t=!1);t=t||u;var f=gi.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&e.length&&i(e).remove(),i.merge([],f.childNodes))},pi=i.fn.load,i.fn.load=function(n,t,r){if(typeof n!="string"&&pi)return pi.apply(this,arguments);var u,o,s,f=this,e=n.indexOf(" ");return e>=0&&(u=i.trim(n.slice(e)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=undefined):t&&typeof t=="object"&&(o="POST"),f.length>0&&i.ajax({url:n,type:o,dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).complete(r&&function(n,t){f.each(r,s||[n.responseText,t,n])}),this},i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},wi=n.document.documentElement,i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};l==="static"&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=(l==="absolute"||l==="fixed")&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,u));t.top!=null&&(f.top=t.top-u.top+h);t.left!=null&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return n===undefined?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,f,t=this[0],u={top:0,left:0},e=t&&t.ownerDocument;if(e)return(r=e.documentElement,!i.contains(r,t))?u:(typeof t.getBoundingClientRect!==d&&(u=t.getBoundingClientRect()),f=ku(e),{top:u.top+f.pageYOffset-r.clientTop,left:u.left+f.pageXOffset-r.clientLeft})},position:function(){if(this[0]){var n,r,u=this[0],t={top:0,left:0};return i.css(u,"position")==="fixed"?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||wi;n&&!i.nodeName(n,"html")&&i.css(n,"position")==="static";)n=n.offsetParent;return n||wi})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var u="pageYOffset"===r;i.fn[t]=function(i){return l(this,function(t,i,f){var e=ku(t);if(f===undefined)return e?e[r]:t[i];e?e.scrollTo(u?n.pageXOffset:f,u?f:n.pageYOffset):t[i]=f},t,i,arguments.length,null)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=br(f.pixelPosition,function(n,r){if(r)return r=rt(n,t),ci.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||typeof u!="boolean"),o=r||(u===!0||f===!0?"margin":"border");return l(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:t.nodeType===9?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):u===undefined?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:undefined,e,null)}})}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return i}),du=n.jQuery,gu=n.$,i.noConflict=function(t){return n.$===i&&(n.$=gu),t&&n.jQuery===i&&(n.jQuery=du),i},typeof t===d&&(n.jQuery=n.$=i),i});
/*! jQuery UI - v1.11.1 - 2014-08-13
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){
/*!
 * jQuery UI Core 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function o(t,i){var r,u,f,e=t.nodeName.toLowerCase();return"area"===e?(r=t.parentNode,u=r.name,!t.href||!u||r.nodeName.toLowerCase()!=="map")?!1:(f=n("img[usemap='#"+u+"']")[0],!!f&&s(f)):(/input|select|textarea|button|object/.test(e)?!t.disabled:"a"===e?t.href||i:i)&&s(t)}function s(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}function t(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}var h,r,v,i,y,p,w,b,k,g,nt,tt,it,rt,f,e,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei;n.ui=n.ui||{};n.extend(n.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({scrollParent:function(t){var i=this.css("position"),u=i==="absolute",f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&t.css("position")==="static"?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return i==="fixed"||!r.length?n(this[0].ownerDocument||document):r},uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return o(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var i=n.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&o(t,!r)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(t,i){function f(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e=i==="Width"?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),u={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return t===undefined?u["inner"+i].call(this):this.each(function(){n(this).css(r,f(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return typeof t!="number"?u["outer"+i].call(this,t):this.each(function(){n(this).css(r,f(this,t,!0,e)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.fn.extend({focus:function(t){return function(i,r){return typeof i=="number"?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined)return this.css("zIndex",t);if(this.length)for(var i=n(this[0]),r,u;i.length&&i[0]!==document;){if(r=i.css("position"),(r==="absolute"||r==="relative"||r==="fixed")&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&u!==0))return u;i=i.parent()}return 0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11))for(u=0;u<f.length;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};
/*!
 * jQuery UI Widget 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
h=0;r=Array.prototype.slice;n.cleanData=function(t){return function(i){for(var r,u,f=0;(u=i[f])!=null;f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData);n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(t){for(var e=r.call(arguments,1),f=0,o=e.length,i,u;f<o;f++)for(i in e[f])u=e[f][i],e[f].hasOwnProperty(i)&&u!==undefined&&(t[i]=n.isPlainObject(u)?n.isPlainObject(t[i])?n.widget.extend({},t[i],u):n.widget.extend({},u):u);return t};n.widget.bridge=function(t,i){var u=i.prototype.widgetFullName||t;n.fn[t]=function(f){var s=typeof f=="string",o=r.call(arguments,1),e=this;return f=!s&&o.length?n.widget.extend.apply(null,[f].concat(o)):f,s?this.each(function(){var i,r=n.data(this,u);return f==="instance"?(e=r,!1):r?!n.isFunction(r[f])||f.charAt(0)==="_"?n.error("no such method '"+f+"' for "+t+" widget instance"):(i=r[f].apply(r,o),i!==r&&i!==undefined?(e=i&&i.jquery?e.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+f+"'")}):this.each(function(){var t=n.data(this,u);t?(t.option(f||{}),t._init&&t._init()):n.data(this,u,new i(f,this))}),e}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=h++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var e=t,r,u,f;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof t=="string")if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;f<r.length-1;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),arguments.length===1)return u[t]===undefined?null:u[t];u[t]=i}else{if(arguments.length===1)return this.options[t]===undefined?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{};typeof u=="number"&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});v=n.widget;
/*!
 * jQuery UI Mouse 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
i=!1;n(document).mouseup(function(){i=!1});y=n.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var r=this,u=t.which===1,f=typeof this.options.cancel=="string"&&t.target.nodeName?n(t.target).closest(this.options.cancel).length:!1;return!u||f||!this._mouseCapture(t)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted))?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0)}},_mouseMove:function(t){return n.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):t.which?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),i=!1,!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});
/*!
 * jQuery UI Position 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(){function a(n,t,i){return[parseFloat(n[0])*(l.test(n[0])?t/100:1),parseFloat(n[1])*(l.test(n[1])?i/100:1)]}function r(t,i){return parseInt(n.css(t,i),10)||0}function y(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var u,f,i=Math.max,t=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(u!==undefined)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&i[0].nodeType===9;return{element:i,isWindow:r,isDocument:u,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r||u?i.width():i.outerWidth(),height:r||u?i.height():i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return v.apply(this,arguments);u=n.extend({},u);var k,l,p,b,w,g,nt=n(u.of),it=n.position.getWithinInfo(u.within),rt=n.position.getScrollInfo(it),d=(u.collision||"flip").split(" "),tt={};return g=y(nt),nt[0].preventDefault&&(u.at="left top"),l=g.width,p=g.height,b=g.offset,w=n.extend({},b),n.each(["my","at"],function(){var n=(u[this]||"").split(" "),t,i;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]);n[0]=o.test(n[0])?n[0]:"center";n[1]=s.test(n[1])?n[1]:"center";t=h.exec(n[0]);i=h.exec(n[1]);tt[this]=[t?t[0]:0,i?i[0]:0];u[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),d.length===1&&(d[1]=d[0]),u.at[0]==="right"?w.left+=l:u.at[0]==="center"&&(w.left+=l/2),u.at[1]==="bottom"?w.top+=p:u.at[1]==="center"&&(w.top+=p/2),k=a(tt.at,l,p),w.left+=k[0],w.top+=k[1],this.each(function(){var y,g,s=n(this),h=s.outerWidth(),c=s.outerHeight(),ut=r(this,"marginLeft"),ft=r(this,"marginTop"),et=h+ut+r(this,"marginRight")+rt.width,ot=c+ft+r(this,"marginBottom")+rt.height,o=n.extend({},w),v=a(tt.my,s.outerWidth(),s.outerHeight());u.my[0]==="right"?o.left-=h:u.my[0]==="center"&&(o.left-=h/2);u.my[1]==="bottom"?o.top-=c:u.my[1]==="center"&&(o.top-=c/2);o.left+=v[0];o.top+=v[1];f||(o.left=e(o.left),o.top=e(o.top));y={marginLeft:ut,marginTop:ft};n.each(["left","top"],function(t,i){n.ui.position[d[t]]&&n.ui.position[d[t]][i](o,{targetWidth:l,targetHeight:p,elemWidth:h,elemHeight:c,collisionPosition:y,collisionWidth:et,collisionHeight:ot,offset:[k[0]+v[0],k[1]+v[1]],my:u.my,at:u.at,within:it,elem:s})});u.using&&(g=function(n){var r=b.left-o.left,a=r+l-h,f=b.top-o.top,v=f+p-c,e={target:{element:nt,left:b.left,top:b.top,width:l,height:p},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:a<0?"left":r>0?"right":"center",vertical:v<0?"top":f>0?"bottom":"middle"};l<h&&t(r+a)<l&&(e.horizontal="center");p<c&&t(f+v)<p&&(e.vertical="middle");e.important=i(t(r),t(a))>i(t(f),t(v))?"horizontal":"vertical";u.using.call(this,n,e)});s.offset(n.extend(o,{using:g}))})};n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,r=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?r>0&&f<=0?(h=n.left+r+t.collisionWidth-o-u,n.left+=r-h):n.left=f>0&&r<=0?u:r>f?u+o-t.collisionWidth:u:r>0?n.left+=r:f>0?n.left-=f:n.left=i(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,r=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?r>0&&f<=0?(h=n.top+r+t.collisionHeight-e-u,n.top+=r-h):n.top=f>0&&r<=0?u:r>f?u+e-t.collisionHeight:u:r>0?n.top+=r:f>0?n.top-=f:n.top=i(n.top-s,n.top)}},flip:{left:function(n,i){var r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-o,v=l+i.collisionWidth-c-o,u=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,f=i.at[0]==="left"?i.targetWidth:i.at[0]==="right"?-i.targetWidth:0,e=-2*i.offset[0],s,h;a<0?(s=n.left+u+f+e+i.collisionWidth-c-y,(s<0||s<t(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-i.collisionPosition.marginLeft+u+f+e-o,(h>0||t(h)<v)&&(n.left+=u+f+e))},top:function(n,i){var r=i.within,y=r.offset.top+r.scrollTop,a=r.height,o=r.isWindow?r.scrollTop:r.offset.top,v=n.top-i.collisionPosition.marginTop,s=v-o,h=v+i.collisionHeight-a-o,p=i.my[1]==="top",u=p?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,f=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,e=-2*i.offset[1],c,l;s<0?(l=n.top+u+f+e+i.collisionHeight-a-y,n.top+u+f+e>s&&(l<0||l<t(s))&&(n.top+=u+f+e)):h>0&&(c=n.top-i.collisionPosition.marginTop+u+f+e-o,n.top+u+f+e>h&&(c>0||t(c)<h)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,e,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};o&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in r)t.style[e]=r[e];t.appendChild(s);i=o||document.documentElement;i.insertBefore(t,i.firstChild);s.style.cssText="position: absolute; left: 10.7432222px;";u=n(s).offset().left;f=u>10&&u<11;t.innerHTML="";i.removeChild(t)}()})();p=n.ui.position;
/*!
 * jQuery UI Accordion 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 */
w=n.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");t.collapsible||t.active!==!1&&t.active!=null||(t.active=0);this._processPanels();t.active<0&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n()}},_createIcons:function(){var t=this.options.icons;t&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();n=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();this.options.heightStyle!=="content"&&n.css("height","")},_setOption:function(n,t){if(n==="active"){this._activate(t);return}n==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t));this._super(n,t);n!=="collapsible"||t||this.options.active!==!1||this._activate(0);n==="icons"&&(this._destroyIcons(),t&&this._createIcons());n==="disabled"&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels();(t.active!==!1||t.collapsible!==!0)&&this.headers.length?t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active):(t.active=!1,this.active=n());this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,i=this.options,r=i.heightStyle,u=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var t=n(this),r=t.uniqueId().attr("id"),i=t.next(),u=i.uniqueId().attr("id");t.attr("aria-controls",u);i.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);r==="fill"?(t=u.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");r!=="absolute"&&r!=="fixed"&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):r==="auto"&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return typeof t=="number"?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,s=e?n():r.next(),h=u.next(),o={oldHeader:u,oldPanel:h,newHeader:e?n():r,newPanel:s};(t.preventDefault(),(!f||i.collapsible)&&this._trigger("beforeActivate",t,o)!==!1)&&(i.active=e?!1:this.headers.index(r),this.active=f?n():r,this._toggle(o),u.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),f||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-hidden":"true"});i.prev().attr("aria-selected","false");r.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):r.length&&this.headers.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1);r.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(n,t,i){var h,r,u,c=this,o=0,l=n.length&&(!t.length||n.index()<t.index()),e=this.options.animate||{},f=l&&e.down||e,s=function(){c._toggleComplete(i)};if(typeof f=="number"&&(u=f),typeof f=="string"&&(r=f),r=r||f.easing||e.easing,u=u||f.duration||e.duration,!t.length)return n.animate(this.showProps,u,r,s);if(!n.length)return t.animate(this.hideProps,u,r,s);h=n.show().outerHeight();t.animate(this.hideProps,{duration:u,easing:r,step:function(n,t){t.now=Math.round(n)}});n.hide().animate(this.showProps,{duration:u,easing:r,complete:s,step:function(n,i){i.now=Math.round(n);i.prop!=="height"?o+=i.now:c.options.heightStyle!=="content"&&(i.now=Math.round(h-t.outerHeight()-o),o=0)}})},_toggleComplete:function(n){var t=n.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}});
/*!
 * jQuery UI Menu 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */
b=n.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item":function(n){n.preventDefault()},"click .ui-menu-item":function(t){var i=n(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=n(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(n){this._closeOnDocumentClick(n)&&this.collapseAll(n);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function s(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,f,r,e,u,o=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1;f=this.previousFilter||"";r=String.fromCharCode(t.keyCode);e=!1;clearTimeout(this.filterTimer);r===f?e=!0:r=f+r;u=new RegExp("^"+s(r),"i");i=this.activeMenu.find(this.options.items).filter(function(){return u.test(n(this).text())});i=e&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),u=new RegExp("^"+s(r),"i"),i=this.activeMenu.find(this.options.items).filter(function(){return u.test(n(this).text())}));i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}o&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(n):this.select(n))},refresh:function(){var i,t,u=this,f=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.parent(),r=n("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r);t.attr("aria-labelledby",i.attr("id"))});i=r.add(this.element);t=i.find(this.options.items);t.not(".ui-menu-item").each(function(){var t=n(this);u._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")});t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});t.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){n==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu);n==="disabled"&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t);this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&n.type==="focus");this._scrollIntoView(t);this.active=t.first();r=this.active.addClass("ui-state-focus").removeClass("ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");n&&n.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&n&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.outerHeight(),i<0?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){(t||clearTimeout(this.timer),this.active)&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){(clearTimeout(this.timer),n.attr("aria-hidden")==="true")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!n(t.target).closest(".ui-menu").length},_isDivider:function(n){return!/[^\-\u2014\u2013\s]/.test(n.text())},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r=n==="first"||n==="last"?this.active[n==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r-u<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))},previousPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)}});
/*!
 * jQuery UI Autocomplete 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
n.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f=u==="textarea",e=u==="input";this.isMultiLine=f?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly")){t=!0;r=!0;i=!0;return}t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t){t=!1;(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault();return}if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){if(r){r=!1;n.preventDefault();return}this._searchTimeout(n)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(n);this._change(n)}});this._initSource();this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){var r,u;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)});return}u=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:u})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(u.value);r=i.item.attr("aria-label")||u.value;r&&n.trim(r).length&&(this.liveRegion.children().hide(),n("<div>").text(r).appendTo(this.liveRegion))},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r;this.selectedItem=i}));!1!==this._trigger("select",n,{item:i})&&this._value(i.value);this.term=this._value();this.close(n);this.selectedItem=i}});this.liveRegion=n("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);n==="source"&&this._initSource();n==="appendTo"&&this.menu.element.appendTo(this._appendTo());n==="disabled"&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),r=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;t&&(!t||i||r)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return(n=n!=null?n:this._value(),this.term=this._value(),n.length<this.options.minLength)?this.close(t):this._trigger("search",t)===!1?void 0:this._search(n)},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var t=++this.requestIndex;return n.proxy(function(n){t===this.requestIndex&&this.__response(n);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").text(i.label).appendTo(t)},_move:function(n,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)){this.isMultiLine||this._value(this.term);this.menu.blur();return}this.menu[n](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;(this._superApply(arguments),this.options.disabled||this.cancelSearch)||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),n("<div>").text(i).appendTo(this.liveRegion))}});k=n.ui.autocomplete;
/*!
 * jQuery UI Button 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */
var u,c="ui-button ui-widget ui-state-default ui-corner-all",l="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var t=n(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},a=function(t){var i=t.name,r=t.form,u=n([]);return i&&(i=i.replace(/'/g,"\\'"),u=r?n(r).find("[name='"+i+"'][type=radio]"):n("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),u};n.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d);typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var i=this,t=this.options,r=this.type==="checkbox"||this.type==="radio",f=r?"":"ui-state-active";t.label===null&&(t.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){t.disabled||this===u&&n(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){t.disabled||n(this).removeClass(f)}).bind("click"+this.eventNamespace,function(n){t.disabled&&(n.preventDefault(),n.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});r&&this.element.bind("change"+this.eventNamespace,function(){i.refresh()});this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled)return!1}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).addClass("ui-state-active");i.buttonElement.attr("aria-pressed","true");var r=i.element[0];a(r).not(r).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).addClass("ui-state-active");u=this;i.document.one("mouseup",function(){u=null})}).bind("mouseup"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(i){if(t.disabled)return!1;(i.keyCode===n.ui.keyCode.SPACE||i.keyCode===n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()}));this._setOption("disabled",t.disabled);this._resetButton()},_determineButtonType:function(){var n,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";this.type==="checkbox"||this.type==="radio"?(n=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(t),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(c+" ui-state-active "+l).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(n,t){if(this._super(n,t),n==="disabled"){this.widget().toggleClass("ui-state-disabled",!!t);this.element.prop("disabled",!!t);t&&(this.type==="checkbox"||this.type==="radio"?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active"));return}this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t);this.type==="radio"?a(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var i=this.buttonElement.removeClass(l),f=n("<span><\/span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",n.trim(f)))):r.push("ui-button-text-only");i.addClass(r.join(" "))}});n.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(n,t){n==="disabled"&&this.buttons.button("option",n,t);this._super(n,t)},refresh:function(){var i=this.element.css("direction")==="rtl",t=this.element.find(this.options.items),r=t.filter(":ui-button");t.not(":ui-button").button();r.button("refresh");this.buttons=t.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(i?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(i?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});g=n.ui.button;
/*!
 * jQuery UI Draggable 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
n.widget("ui.draggable",n.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._setHandleClassName();this._mouseInit()},_setOption:function(n,t){this._super(n,t);n==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=!0;return}this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(t){var i=this.document[0],r=this.options;try{i.activeElement&&i.activeElement.nodeName.toLowerCase()!=="body"&&n(i.activeElement).blur()}catch(u){}return this.helper||r.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),!this.handle)?!1:(n(r.iframeFix===!0?"iframe":r.iframeFix).each(function(){n("<div class='ui-draggable-iframeFix' style='background: #fff;'><\/div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0)},_mouseStart:function(t){var i=this.options;return(this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1)?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!i||this.options.revert==="valid"&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),this.element.focus(),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t])):r.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo(r.appendTo==="parent"?this.element[0].parentNode:r.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(n){return/(html|body)/i.test(n.tagName)||n===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==i&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var n=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:n.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,t,i,r=this.options,u=this.document[0];if(this.relativeContainer=null,!r.containment){this.containment=null;return}if(r.containment==="window"){this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment==="document"){this.containment=[0,0,n(u).width()-this.helperProportions.width-this.margins.left,(n(u).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}(r.containment==="parent"&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],i)&&(f=t.css("overflow")!=="hidden",this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(f?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)},_convertPositionTo:function(n,t){t||(t=this.position);var i=n==="absolute"?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-(this.cssPosition==="fixed"?-this.offset.scroll.top:r?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-(this.cssPosition==="fixed"?-this.offset.scroll.left:r?0:this.offset.scroll.left)*i}},_generatePosition:function(n,t){var i,s,u,f,r=this.options,h=this._isRootNode(this.scrollParent[0]),e=n.pageX,o=n.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,n.pageX-this.offset.click.left<i[0]&&(e=i[0]+this.offset.click.left),n.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),n.pageX-this.offset.click.left>i[2]&&(e=i[2]+this.offset.click.left),n.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,o=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,e=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f),r.axis==="y"&&(e=this.originalPageX),r.axis==="x"&&(o=this.originalPageY)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r,this],!0),t==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[];n(u.connectToSortable).each(function(){var i=n(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i,r){var u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i,r){var u=this;n.each(r.sortables,function(){var f=!1,e=this;this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&n.contains(e.instance.element[0],this.instance.element[0])&&(f=!1),f}));f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}});n.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var u=n("body"),f=r.options;u.css("cursor")&&(f._cursor=u.css("cursor"));u.css("cursor",f.cursor)},stop:function(t,i,r){var u=r.options;u._cursor&&n("body").css("cursor",u._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("opacity")&&(f._opacity=u.css("opacity"));u.css("opacity",f.opacity)},stop:function(t,i,r){var u=r.options;u._opacity&&n(i.helper).css("opacity",u._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(n,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1));i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var u=r.options,o=!1,e=r.scrollParentNotHidden[0],f=r.document[0];e!==f&&e.tagName!=="HTML"?(u.axis&&u.axis==="x"||(r.overflowOffset.top+e.offsetHeight-t.pageY<u.scrollSensitivity?e.scrollTop=o=e.scrollTop+u.scrollSpeed:t.pageY-r.overflowOffset.top<u.scrollSensitivity&&(e.scrollTop=o=e.scrollTop-u.scrollSpeed)),u.axis&&u.axis==="y"||(r.overflowOffset.left+e.offsetWidth-t.pageX<u.scrollSensitivity?e.scrollLeft=o=e.scrollLeft+u.scrollSpeed:t.pageX-r.overflowOffset.left<u.scrollSensitivity&&(e.scrollLeft=o=e.scrollLeft-u.scrollSpeed))):(u.axis&&u.axis==="x"||(t.pageY-n(f).scrollTop()<u.scrollSensitivity?o=n(f).scrollTop(n(f).scrollTop()-u.scrollSpeed):n(window).height()-(t.pageY-n(f).scrollTop())<u.scrollSensitivity&&(o=n(f).scrollTop(n(f).scrollTop()+u.scrollSpeed))),u.axis&&u.axis==="y"||(t.pageX-n(f).scrollLeft()<u.scrollSensitivity?o=n(f).scrollLeft(n(f).scrollLeft()-u.scrollSpeed):n(window).width()-(t.pageX-n(f).scrollLeft())<u.scrollSensitivity&&(o=n(f).scrollLeft(n(f).scrollLeft()+u.scrollSpeed))));o!==!1&&n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(t,i,r){var u=r.options;r.snapElements=[];n(u.snap.constructor!==String?u.snap.items||":data(ui-draggable)":u.snap).each(function(){var t=n(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){for(var e,o,s,h,c,a,l,v,w,b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--){if(c=r.snapElements[u].left,a=c+r.snapElements[u].width,l=r.snapElements[u].top,v=l+r.snapElements[u].height,k<c-f||y>a+f||d<l-f||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)){r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item}));r.snapElements[u].snapping=!1;continue}b.snapMode!=="inner"&&(e=Math.abs(l-d)<=f,o=Math.abs(v-p)<=f,s=Math.abs(c-k)<=f,h=Math.abs(a-y)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top-r.margins.top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top-r.margins.top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left-r.margins.left));w=e||o||s||h;b.snapMode!=="outer"&&(e=Math.abs(l-p)<=f,o=Math.abs(v-d)<=f,s=Math.abs(c-y)<=f,h=Math.abs(a-k)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top-r.margins.top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top-r.margins.top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left-r.margins.left));!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item}));r.snapElements[u].snapping=e||o||s||h||w}}});n.ui.plugin.add("draggable","stack",{start:function(t,i,r){var f,e=r.options,u=n.makeArray(n(e.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});u.length&&(f=parseInt(n(u[0]).css("zIndex"),10)||0,n(u).each(function(t){n(this).css("zIndex",f+t)}),this.css("zIndex",f+u.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("zIndex")&&(f._zIndex=u.css("zIndex"));u.css("zIndex",f.zIndex)},stop:function(t,i,r){var u=r.options;u._zIndex&&n(i.helper).css("zIndex",u._zIndex)}});nt=n.ui.draggable;
/*!
 * jQuery UI Resizable 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
n.widget("ui.resizable",n.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(n){return parseInt(n,10)||0},_isNumber:function(n){return!isNaN(parseInt(n,10))},_hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;var r=i&&i==="left"?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)},_create:function(){var e,f,r,i,o,u=this,t=this.options;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},f=0;f<e.length;f++)r=n.trim(e[f]),o="ui-resizable-"+r,i=n("<div class='ui-resizable-handle "+o+"'><\/div>"),i.css({zIndex:t.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),f=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),u=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(u,f),this._proportionallyResize()),!n(this.handles[i]).length};this._renderAxis(this.element);this._handles=n(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){u.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),u.axis=i&&i[1]?i[1]:"se")});t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),u._handles.show())}).mouseleave(function(){t.disabled||u.resizing||(n(this).addClass("ui-resizable-autohide"),u._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var u,f,e,r=this.options,i=this.element;return this.resizing=!0,this._renderProxy(),u=this._num(this.helper.css("left")),f=this._num(this.helper.css("top")),r.containment&&(u+=n(r.containment).scrollLeft()||0,f+=n(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:u,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalPosition={left:u,top:f},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof r.aspectRatio=="number"?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor",e==="auto"?this.axis+"-resize":e),i.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,r,u=this.originalMousePosition,e=this.axis,o=t.pageX-u.left||0,s=t.pageY-u.top||0,f=this._change[e];return(this._updatePrevProperties(),!f)?!1:(i=f.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&this._hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var n={};return this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),this.helper.css(n),n},_updateVirtualBoundaries:function(n){var r,u,f,e,t,i=this.options;t={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:Infinity,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:Infinity};(this._aspectRatio||n)&&(r=t.minHeight*this.aspectRatio,f=t.minWidth/this.aspectRatio,u=t.maxHeight*this.aspectRatio,e=t.maxWidth/this.aspectRatio,r>t.minWidth&&(t.minWidth=r),f>t.minHeight&&(t.minHeight=f),u<t.maxWidth&&(t.maxWidth=u),e<t.maxHeight&&(t.maxHeight=e));this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset();this._isNumber(n.left)&&(this.position.left=n.left);this._isNumber(n.top)&&(this.position.top=n.top);this._isNumber(n.height)&&(this.size.height=n.height);this._isNumber(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var t=this.position,i=this.size,r=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),r==="sw"&&(n.left=t.left+(i.width-n.width),n.top=null),r==="nw"&&(n.top=t.top+(i.height-n.height),n.left=t.left+(i.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,i=this.axis,r=this._isNumber(n.width)&&t.maxWidth&&t.maxWidth<n.width,u=this._isNumber(n.height)&&t.maxHeight&&t.maxHeight<n.height,f=this._isNumber(n.width)&&t.minWidth&&t.minWidth>n.width,e=this._isNumber(n.height)&&t.minHeight&&t.minHeight>n.height,o=this.originalPosition.left+this.originalSize.width,s=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return f&&(n.width=t.minWidth),e&&(n.height=t.minHeight),r&&(n.width=t.maxWidth),u&&(n.height=t.maxHeight),f&&h&&(n.left=o-t.minWidth),r&&h&&(n.left=o-t.maxWidth),e&&c&&(n.top=s-t.minHeight),u&&c&&(n.top=s-t.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_getPaddingPlusBorderDimensions:function(n){for(var t=0,i=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];t<4;t++)i[t]=parseInt(r[t],10)||0,i[t]+=parseInt(u[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var n,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)n=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(n)),n.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);t!=="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).resizable("instance"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var r,f,e,o,s,h,c,t=n(this).resizable("instance"),l=t.options,a=t.element,u=l.containment,i=u instanceof n?u.get(0):/parent/.test(u)?a.parent().get(0):u;i&&(t.containerElement=n(i),/document/.test(u)||u===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(r=n(i),f=[],n(["Top","Right","Left","Bottom"]).each(function(n,i){f[n]=t._num(r.css("padding"+i))}),t.containerOffset=r.offset(),t.containerPosition=r.position(),t.containerSize={height:r.innerHeight()-f[3],width:r.innerWidth()-f[1]},e=t.containerOffset,o=t.containerSize.height,s=t.containerSize.width,h=t._hasScroll(i,"left")?i.scrollWidth:s,c=t._hasScroll(i)?i.scrollHeight:o,t.parentData={element:i,left:e.left,top:e.top,width:h,height:c}))},resize:function(t){var o,s,h,c,i=n(this).resizable("instance"),v=i.options,r=i.containerOffset,l=i.position,f=i._aspectRatio||t.shiftKey,e={top:0,left:0},a=i.containerElement,u=!0;a[0]!==document&&/static/.test(a.css("position"))&&(e=r);l.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-e.left),f&&(i.size.height=i.size.width/i.aspectRatio,u=!1),i.position.left=v.helper?r.left:0);l.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),f&&(i.size.width=i.size.height*i.aspectRatio,u=!1),i.position.top=i._helper?r.top:0);h=i.containerElement.get(0)===i.element.parent().get(0);c=/relative|absolute/.test(i.containerElement.css("position"));h&&c?(i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top):(i.offset.left=i.element.offset().left,i.offset.top=i.element.offset().top);o=Math.abs(i.sizeDiff.width+(i._helper?i.offset.left-e.left:i.offset.left-r.left));s=Math.abs(i.sizeDiff.height+(i._helper?i.offset.top-e.top:i.offset.top-r.top));o+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-o,f&&(i.size.height=i.size.width/i.aspectRatio,u=!1));s+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-s,f&&(i.size.width=i.size.height*i.aspectRatio,u=!1));u||(i.position.left=i.prevPosition.left,i.position.top=i.prevPosition.top,i.size.width=i.prevSize.width,i.size.height=i.prevSize.height)},stop:function(){var t=n(this).resizable("instance"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var r=n(this).resizable("instance"),t=r.options,i=function(t){n(t).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof t.alsoResize!="object"||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):n.each(t.alsoResize,function(n){i(n)})},resize:function(t,i){var r=n(this).resizable("instance"),u=r.options,f=r.originalSize,e=r.originalPosition,s={height:r.size.height-f.height||0,width:r.size.width-f.width||0,top:r.position.top-e.top||0,left:r.position.left-e.left||0},o=function(t,r){n(t).each(function(){var t=n(this),f=n(this).data("ui-resizable-alsoresize"),u={},e=r&&r.length?r:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(e,function(n,t){var i=(f[t]||0)+(s[t]||0);i&&i>=0&&(u[t]=i||null)});t.css(u)})};typeof u.alsoResize!="object"||u.alsoResize.nodeType?o(u.alsoResize):n.each(u.alsoResize,function(n,t){o(n,t)})},stop:function(){n(this).removeData("resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).resizable("instance"),i=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var h,t=n(this).resizable("instance"),i=t.options,y=t.size,e=t.originalSize,o=t.originalPosition,c=t.axis,l=typeof i.grid=="number"?[i.grid,i.grid]:i.grid,s=l[0]||1,f=l[1]||1,a=Math.round((y.width-e.width)/s)*s,v=Math.round((y.height-e.height)/f)*f,r=e.width+a,u=e.height+v,p=i.maxWidth&&i.maxWidth<r,w=i.maxHeight&&i.maxHeight<u,b=i.minWidth&&i.minWidth>r,k=i.minHeight&&i.minHeight>u;i.grid=l;b&&(r+=s);k&&(u+=f);p&&(r-=s);w&&(u-=f);/^(se|s|e)$/.test(c)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.top=o.top-v):/^(sw)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.left=o.left-a):((u-f<=0||r-s<=0)&&(h=t._getPaddingPlusBorderDimensions(this)),u-f>0?(t.size.height=u,t.position.top=o.top-v):(u=f-h.height,t.size.height=u,t.position.top=o.top+e.height-u),r-s>0?(t.size.width=r,t.position.left=o.left-a):(r=f-h.height,t.size.width=r,t.position.left=o.left+e.width-r))}});tt=n.ui.resizable;
/*!
 * jQuery UI Dialog 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */
it=n.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&n.fn.draggable&&this._makeDraggable();this.options.resizable&&n.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);n=t.parent.children().eq(t.index);n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i,r=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement;i&&i.nodeName.toLowerCase()!=="body"&&n(i).blur()}catch(u){}this._hide(this.uiDialog,this.options.hide,function(){r._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var r=!1,f=this.uiDialog.siblings(".ui-front:visible").map(function(){return+n(this).css("z-index")}).get(),u=Math.max.apply(null,f);return u>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",u+1),r=!0),r&&!i&&this._trigger("focus",t),r},open:function(){var t=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0;this.opener=n(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,!0);this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1);this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")});this._makeFocusTarget();this._trigger("open")},_focusTabbable:function(){var n=this._focusedElement;n||(n=this.element.find("[autofocus]"));n.length||(n=this.element.find(":tabbable"));n.length||(n=this.uiDialogButtonPane.find(":tabbable"));n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable"));n.length||(n=this.uiDialog);n.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE){t.preventDefault();this.close(t);return}if(t.keyCode===n.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?(t.target===r[0]||t.target===this.uiDialog[0])&&t.shiftKey&&(this._delay(function(){u.focus()}),t.preventDefault()):(this._delay(function(){r.focus()}),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=n("<button type='button'><\/button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault();this.close(n)}});t=n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(t);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title||n.html("&#160;");n.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||n.isArray(t)&&!t.length){this.uiDialog.removeClass("ui-dialog-buttons");return}n.each(t,function(t,r){var u,f;r=n.isFunction(r)?{click:r,text:t}:r;r=n.extend({type:"button"},r);u=r.click;r.click=function(){u.apply(i.element[0],arguments)};f={icons:r.icons,text:r.showText};delete r.icons;delete r.showText;n("<button><\/button>",r).button(f).appendTo(i.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){n(this).addClass("ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){var e=f.offset.left-t.document.scrollLeft(),o=f.offset.top-t.document.scrollTop();r.position={my:"left top",at:"left"+(e>=0?"+":"")+e+" top"+(o>=0?"+":"")+o,of:t.window};n(this).removeClass("ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var t=this,i=this.options,u=i.resizable,f=this.uiDialog.css("position"),e=typeof u=="string"?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:e,start:function(i,u){n(this).addClass("ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",i,r(u))},resize:function(n,i){t._trigger("resize",n,r(i))},stop:function(u,f){var e=t.uiDialog.offset(),o=e.left-t.document.scrollLeft(),s=e.top-t.document.scrollTop();i.height=t.uiDialog.height();i.width=t.uiDialog.width();i.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(s>=0?"+":"")+s,of:t.window};n(this).removeClass("ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",u,r(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget();this._focusedElement=n(t.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=n.inArray(this,t);i!==-1&&t.splice(i,1)},_trackingInstances:function(){var n=this.document.data("ui-dialog-instances");return n||(n=[],this.document.data("ui-dialog-instances",n)),n},_minHeight:function(){var n=this.options;return n.height==="auto"?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show();this.uiDialog.position(this.options.position);n||this.uiDialog.hide()},_setOptions:function(t){var i=this,r=!1,u={};n.each(t,function(n,t){i._setOption(n,t);n in i.sizeRelatedOptions&&(r=!0);n in i.resizableRelatedOptions&&(u[n]=t)});r&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",u)},_setOption:function(n,t){var u,r,i=this.uiDialog;(n==="dialogClass"&&i.removeClass(this.options.dialogClass).addClass(t),n!=="disabled")&&(this._super(n,t),n==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),n==="buttons"&&this._createButtons(),n==="closeText"&&this.uiDialogTitlebarClose.button({label:""+t}),n==="draggable"&&(u=i.is(":data(ui-draggable)"),u&&!t&&i.draggable("destroy"),!u&&t&&this._makeDraggable()),n==="position"&&this._position(),n==="resizable"&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&typeof t=="string"&&i.resizable("option","handles",t),r||t===!1||this._makeResizable()),n==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});n.minWidth>n.width&&(n.width=n.minWidth);t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();i=Math.max(0,n.minHeight-t);r=typeof n.maxHeight=="number"?Math.max(0,n.maxHeight-t):"none";n.height==="auto"?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return n(t.target).closest(".ui-dialog").length?!0:!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(n){t||this._allowInteraction(n)||(n.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var n=this.document.data("ui-dialog-overlays")-1;n?this.document.data("ui-dialog-overlays",n):this.document.unbind("focusin").removeData("ui-dialog-overlays");this.overlay.remove();this.overlay=null}}});
/*!
 * jQuery UI Droppable 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */
n.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,r=i.accept;this.isover=!1;this.isout=!0;this.accept=n.isFunction(r)?r:function(n){return n.is(r)};this.proportions=function(){if(arguments.length)t=arguments[0];else return t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(i.scope);i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){n.ui.ddmanager.droppables[t]=n.ui.ddmanager.droppables[t]||[];n.ui.ddmanager.droppables[t].push(this)},_splice:function(n){for(var t=0;t<n.length;t++)n[t]===this&&n.splice(t,1)},_destroy:function(){var t=n.ui.ddmanager.droppables[this.options.scope];this._splice(t);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if(t==="accept")this.accept=n.isFunction(i)?i:function(n){return n.is(i)};else if(t==="scope"){var r=n.ui.ddmanager.droppables[this.options.scope];this._splice(r);this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return!r||(r.currentItem||r.element)[0]===this.element[0]?!1:(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=n(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return u=!0,!1}),u)?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}});n.ui.intersect=function(){function n(n,t,i){return n>=t&&n<t+i}return function(t,i,r,u){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left,s=(t.positionAbs||t.position.absolute).top,h=o+t.helperProportions.width,c=s+t.helperProportions.height,f=i.offset.left,e=i.offset.top,l=f+i.proportions().width,a=e+i.proportions().height;switch(r){case"fit":return f<=o&&h<=l&&e<=s&&c<=a;case"intersect":return f<o+t.helperProportions.width/2&&h-t.helperProportions.width/2<l&&e<s+t.helperProportions.height/2&&c-t.helperProportions.height/2<a;case"pointer":return n(u.pageY,e,i.proportions().height)&&n(u.pageX,f,i.proportions().width);case"touch":return(s>=e&&s<=a||c>=e&&c<=a||s<e&&c>a)&&(o>=f&&o<=l||h>=f&&h<=l||o<f&&h>l);default:return!1}}}();n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;r<u.length;r++)if(!u[r].options.disabled&&(!t||u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]===u[r].element[0]){u[r].proportions().height=0;continue n}(u[r].visible=u[r].element.css("display")!=="none",u[r].visible)&&(o==="mousedown"&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions({width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,e,f,o=n.ui.intersect(t,this,this.options.tolerance,i),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return n(this).droppable("instance").options.scope===e}),f.length&&(r=n(f[0]).droppable("instance"),r.greedyChild=u==="isover")),r&&u==="isover"&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this[u==="isout"?"isover":"isout"]=!1,this[u==="isover"?"_over":"_out"].call(this,i),r&&u==="isout"&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}};rt=n.ui.droppable;
/*!
 * jQuery UI Effects 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
f="ui-effects-";e=n;n.effects={effect:{}};
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(n,t){function e(n,t,i){var r=s[t.type]||{};return n==null?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n))?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:r.max<n?r.max:n}function l(t){var e=i(),o=e._rgba=[];return(t=t.toLowerCase(),r(v,function(n,i){var r,s=i.re.exec(t),h=s&&i.parse(s),f=i.space||"rgba";if(h)return r=e[f](h),e[u[f].cache]=r[u[f].cache],o=e._rgba=r._rgba,!1}),o.length)?(o.join()==="0,0,0,0"&&n.extend(o,f.transparent),e):f[t]}function o(n,t,i){return(i=(i+1)%1,i*6<1)?n+(t-n)*i*6:i*2<1?t:i*3<2?n+(t-n)*(2/3-i)*6:n}var a=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1]*2.55,n[2]*2.55,n[3]*2.55,n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=i.support={},c=n("<p>")[0],f,r=n.each;c.style.cssText="background-color:rgba(1,1,1,.5)";h.rgba=c.style.backgroundColor.indexOf("rgba")>-1;r(u,function(n,t){t.cache="_"+n;t.props.alpha={idx:3,type:"percent",def:1}});i.fn=n.extend(i.prototype,{parse:function(o,s,h,c){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(s),s=t);var a=this,v=n.type(o),y=this._rgba=[];return(s!==t&&(o=[o,s,h,c],v="array"),v==="string")?this.parse(l(o)||f._default):v==="array"?(r(u.rgba.props,function(n,t){y[t.idx]=e(o[t.idx],t)}),this):v==="object"?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if(n==="alpha"||o[n]==null)return;a[u]=i.to(a._rgba)}a[u][t.idx]=e(o[n],t,!0)});a[u]&&n.inArray(null,a[u].slice(0,3))<0&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):void 0},is:function(n){var e=i(n),t=!0,f=this;return r(u,function(n,i){var o,u=e[i.cache];return u&&(o=f[i.cache]||i.to&&i.to(f._rgba)||[],r(i.props,function(n,i){if(u[i.idx]!=null)return t=u[i.idx]===o[i.idx]})),t}),t},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var f=i(n),c=f._space(),o=u[c],l=this.alpha()===0?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),h=a.slice();return f=f[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=f[c],o=s[i.type]||{};u!==null&&(r===null?h[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),h[c]=e((u-r)*t+r,i)))}),this[c](h)},blend:function(t){if(this._rgba[3]===1)return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return n==null?t>2?1:0:n});return t[3]===1&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return n==null&&(n=t>2?1:0),t&&t<3&&(n=Math.round(n*100)+"%"),n});return t[3]===1&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(r*255)),"#"+n.map(i,function(n){return n=(n||0).toString(16),n.length===1?"0"+n:n}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;u.hsla.to=function(n){if(n[0]==null||n[1]==null||n[2]==null)return[null,null,null,n[3]];var i=n[0]/255,r=n[1]/255,f=n[2]/255,s=n[3],u=Math.max(i,r,f),e=Math.min(i,r,f),t=u-e,o=u+e,h=o*.5,c,l;return c=e===u?0:i===u?60*(r-f)/t+360:r===u?60*(f-i)/t+120:60*(i-r)/t+240,l=t===0?0:h<=.5?t/o:t/(2-o),[Math.round(c)%360,l,h,s==null?1:s]};u.hsla.from=function(n){if(n[0]==null||n[1]==null||n[2]==null)return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=t<=.5?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(o(f,i,r+1/3)*255),Math.round(o(f,i,r)*255),Math.round(o(f,i,r-1/3)*255),e]};r(u,function(u,f){var s=f.props,o=f.cache,h=f.to,c=f.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v=a==="array"||a==="object"?u:arguments,f=this[o].slice();return r(s,function(n,t){var i=v[a==="object"?n:t.idx];i==null&&(i=f[t.idx]);f[t.idx]=e(i,t)}),c?(l=i(c(f)),l[o]=f,l):i(f)};r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f=n.type(i),h=t==="alpha"?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx],e;return f==="undefined"?s:(f==="function"&&(i=i.call(this,s),f=n.type(i)),i==null&&r.empty)?this:(f==="string"&&(e=a.exec(i),e&&(i=s+parseFloat(e[2])*(e[1]==="+"?1:-1))),o[r.idx]=i,this[h](o))})})});i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if(u!=="transparent"&&(n.type(u)!=="string"||(o=l(u)))){if(u=i(o||u),!h.rgba&&u._rgba[3]!==1){for(f=r==="backgroundColor"?t.parentNode:t;(e===""||e==="transparent")&&f&&f.style;)try{e=n.css(f,"backgroundColor");f=f.parentNode}catch(s){}u=u.blend(e&&e!=="transparent"?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(s){}}};n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0);n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})};i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};f=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(e),function(){function t(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],typeof i[r]=="string"&&(f[n.camelCase(r)]=i[r]);else for(r in i)typeof i[r]=="string"&&(f[r]=i[r]);return f}function u(t,i){var e={},u,f;for(u in i)f=i[u],t[u]!==f&&(r[u]||(n.fx.step[u]||!isNaN(parseFloat(f)))&&(e[u]=f));return e}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){(n.end==="none"||n.setAttr)&&(n.pos!==1||n.setAttr)||(e.style(n.elem,i,n.end),n.setAttr=!0)}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))});n.effects.animateClass=function(r,f,e,o){var s=n.speed(f,e,o);return this.queue(function(){var e=n(this),h=e.attr("class")||"",o,f=s.children?e.find("*").addBack():e;f=f.map(function(){var i=n(this);return{el:i,start:t(this)}});o=function(){n.each(i,function(n,t){r[t]&&e[t+"Class"](r[t])})};o();f=f.map(function(){return this.end=t(this.el[0]),this.diff=u(this.start,this.end),this});e.attr("class",h);f=f.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()});n.when.apply(n,f.get()).done(function(){o();n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})});s.complete.call(e[0])})})};n.fn.extend({addClass:function(t){return function(i,r,u,f){return r?n.effects.animateClass.call(this,{add:i},r,u,f):t.apply(this,arguments)}}(n.fn.addClass),removeClass:function(t){return function(i,r,u,f){return arguments.length>1?n.effects.animateClass.call(this,{remove:i},r,u,f):t.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(t){return function(i,r,u,f,e){return typeof r=="boolean"||r===undefined?u?n.effects.animateClass.call(this,r?{add:i}:{remove:i},u,f,e):t.apply(this,arguments):n.effects.animateClass.call(this,{toggle:i},r,u,f)}}(n.fn.toggleClass),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function t(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},i==null&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function i(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects.effect[t]?!0:n.isFunction(t)?!0:typeof t=="object"&&!t.effect?!0:!1}n.extend(n.effects,{version:"1.11.1",save:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.data(f+t[i],n[0].style[t[i]])},restore:function(n,t){for(var r,i=0;i<t.length;i++)t[i]!==null&&(r=n.data(f+t[i]),r===undefined&&(r=""),n.css(t[i],r))},setMode:function(n,t){return t==="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),t.css("position")==="static"?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus()),t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(){function e(t){function o(){n.isFunction(e)&&e.call(r[0]);n.isFunction(t)&&t()}var r=n(this),e=i.complete,u=i.mode;(r.is(":hidden")?u==="hide":u==="show")?(r[u](),o()):f.call(r[0],i,o)}var i=t.apply(this,arguments),r=i.mode,u=i.queue,f=n.effects.effect[i.effect];return n.fx.off||!f?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):u===!1?this.each(e):this.queue(u||"fx",e)},show:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="show",this.effect.call(this,u)}}(n.fn.show),hide:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="hide",this.effect.call(this,u)}}(n.fn.hide),toggle:function(n){return function(r){if(i(r)||typeof r=="boolean")return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="toggle",this.effect.call(this,u)}}(n.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}})}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}});n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return n===0||n===1?n:-Math.pow(2,8*(n-1))*Math.sin(((n-1)*80-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;n<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((t*3-2)/22-n,2)}});n.each(t,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return n<.5?i(n*2)/2:1-i(n*-2+2)/2}})}();ut=n.effects;
/*!
 * jQuery UI Effects Blind 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */
ft=n.effects.effect.blind=function(t,i){var r=n(this),s=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),y=t.direction||"up",f=/up|down|vertical/.test(y),h=f?"height":"width",c=f?"top":"left",p=/up|left|vertical|horizontal/.test(y),l={},a=v==="show",u,e,o;r.parent().is(".ui-effects-wrapper")?n.effects.save(r.parent(),s):n.effects.save(r,s);r.show();u=n.effects.createWrapper(r).css({overflow:"hidden"});e=u[h]();o=parseFloat(u.css(c))||0;l[h]=a?e:0;p||(r.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),l[c]=a?o:e+o);a&&(u.css(h,0),p||u.css(c,o+e));u.animate(l,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){v==="hide"&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()}})};
/*!
 * jQuery UI Effects Bounce 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */
et=n.effects.effect.bounce=function(t,i){var r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=k==="hide",y=k==="show",h=t.direction||"up",u=t.distance,p=t.times||5,d=p*2+(y||f?1:0),c=t.duration/d,l=t.easing,e=h==="up"||h==="down"?"top":"left",w=h==="up"||h==="left",b,o,s,a=r.queue(),g=a.length;for((y||f)&&v.push("opacity"),n.effects.save(r,v),r.show(),n.effects.createWrapper(r),u||(u=r[e==="top"?"outerHeight":"outerWidth"]()/3),y&&(s={opacity:1},s[e]=0,r.css("opacity",0).css(e,w?-u*2:u*2).animate(s,c,l)),f&&(u=u/Math.pow(2,p-1)),s={},s[e]=0,b=0;b<p;b++)o={},o[e]=(w?"-=":"+=")+u,r.animate(o,c,l).animate(s,c,l),u=f?u*2:u/2;f&&(o={opacity:0},o[e]=(w?"-=":"+=")+u,r.animate(o,c,l));r.queue(function(){f&&r.hide();n.effects.restore(r,v);n.effects.removeWrapper(r);i()});g>1&&a.splice.apply(a,[1,0].concat(a.splice(g,d+1)));r.dequeue()};
/*!
 * jQuery UI Effects Clip 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */
ot=n.effects.effect.clip=function(t,i){var r=n(this),h=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),f=v==="show",y=t.direction||"vertical",c=y==="vertical",o=c?"height":"width",l=c?"top":"left",s={},a,u,e;n.effects.save(r,h);r.show();a=n.effects.createWrapper(r).css({overflow:"hidden"});u=r[0].tagName==="IMG"?a:r;e=u[o]();f&&(u.css(o,0),u.css(l,e/2));s[o]=f?e:0;s[l]=f?0:e/2;u.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f||r.hide();n.effects.restore(r,h);n.effects.removeWrapper(r);i()}})};
/*!
 * jQuery UI Effects Drop 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */
st=n.effects.effect.drop=function(t,i){var r=n(this),h=["position","top","bottom","left","right","opacity","height","width"],c=n.effects.setMode(r,t.mode||"hide"),e=c==="show",u=t.direction||"left",o=u==="up"||u==="down"?"top":"left",s=u==="up"||u==="left"?"pos":"neg",l={opacity:e?1:0},f;n.effects.save(r,h);r.show();n.effects.createWrapper(r);f=t.distance||r[o==="top"?"outerHeight":"outerWidth"](!0)/2;e&&r.css("opacity",0).css(o,s==="pos"?-f:f);l[o]=(e?s==="pos"?"+=":"-=":s==="pos"?"-=":"+=")+f;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c==="hide"&&r.hide();n.effects.restore(r,h);n.effects.removeWrapper(r);i()}})};
/*!
 * jQuery UI Effects Explode 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */
ht=n.effects.effect.explode=function(t,i){function k(){l.push(this);l.length===o*c&&d()}function d(){r.css({visibility:"visible"});n(l).remove();u||r.hide();i()}for(var o=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=o,r=n(this),b=n.effects.setMode(r,t.mode||"hide"),u=b==="show",w=r.show().css("visibility","hidden").offset(),s=Math.ceil(r.outerWidth()/c),h=Math.ceil(r.outerHeight()/o),l=[],e,a,v,y,p,f=0;f<o;f++)for(v=w.top+f*h,p=f-(o-1)/2,e=0;e<c;e++)a=w.left+e*s,y=e-(c-1)/2,r.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-e*s,top:-f*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:a+(u?y*s:0),top:v+(u?p*h:0),opacity:u?0:1}).animate({left:a+(u?0:y*s),top:v+(u?0:p*h),opacity:u?1:0},t.duration||500,t.easing,k)};
/*!
 * jQuery UI Effects Fade 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */
ct=n.effects.effect.fade=function(t,i){var r=n(this),u=n.effects.setMode(r,t.mode||"toggle");r.animate({opacity:u},{queue:!1,duration:t.duration,easing:t.easing,complete:i})};
/*!
 * jQuery UI Effects Fold 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */
lt=n.effects.effect.fold=function(t,i){var r=n(this),s=["position","top","bottom","left","right","height","width"],h=n.effects.setMode(r,t.mode||"hide"),e=h==="show",c=h==="hide",f=t.size||15,l=/([0-9]+)%/.exec(f),a=!!t.horizFirst,v=e!==a,y=v?["width","height"]:["height","width"],p=t.duration/2,u,o,w={},b={};n.effects.save(r,s);r.show();u=n.effects.createWrapper(r).css({overflow:"hidden"});o=v?[u.width(),u.height()]:[u.height(),u.width()];l&&(f=parseInt(l[1],10)/100*o[c?0:1]);e&&u.css(a?{height:0,width:f}:{height:f,width:0});w[y[0]]=e?o[0]:f;b[y[1]]=e?o[1]:0;u.animate(w,p,t.easing).animate(b,p,t.easing,function(){c&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()})};
/*!
 * jQuery UI Effects Highlight 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */
at=n.effects.effect.highlight=function(t,i){var r=n(this),u=["backgroundImage","backgroundColor","opacity"],f=n.effects.setMode(r,t.mode||"show"),e={backgroundColor:r.css("backgroundColor")};f==="hide"&&(e.opacity=0);n.effects.save(r,u);r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f==="hide"&&r.hide();n.effects.restore(r,u);i()}})};
/*!
 * jQuery UI Effects Size 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */
vt=n.effects.effect.size=function(t,i){var f,l,u,r=n(this),w=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["width","height","overflow"],v=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=n.effects.setMode(r,t.mode||"effect"),y=t.restore||h!=="effect",c=t.scale||"both",b=t.origin||["middle","center"],k=r.css("position"),s=y?w:["position","top","bottom","left","right","overflow","opacity"],p={height:0,width:0,outerHeight:0,outerWidth:0};h==="show"&&r.show();f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};t.mode==="toggle"&&h==="show"?(r.from=t.to||p,r.to=t.from||f):(r.from=t.from||(h==="show"?p:f),r.to=t.to||(h==="hide"?p:f));u={from:{y:r.from.height/f.height,x:r.from.width/f.width},to:{y:r.to.height/f.height,x:r.to.width/f.width}};(c==="box"||c==="both")&&(u.from.y!==u.to.y&&(s=s.concat(e),r.from=n.effects.setTransition(r,e,u.from.y,r.from),r.to=n.effects.setTransition(r,e,u.to.y,r.to)),u.from.x!==u.to.x&&(s=s.concat(o),r.from=n.effects.setTransition(r,o,u.from.x,r.from),r.to=n.effects.setTransition(r,o,u.to.x,r.to)));(c==="content"||c==="both")&&u.from.y!==u.to.y&&(s=s.concat(v).concat(a),r.from=n.effects.setTransition(r,v,u.from.y,r.from),r.to=n.effects.setTransition(r,v,u.to.y,r.to));n.effects.save(r,s);r.show();n.effects.createWrapper(r);r.css("overflow","hidden").css(r.from);b&&(l=n.effects.getBaseline(b,f),r.from.top=(f.outerHeight-r.outerHeight())*l.y,r.from.left=(f.outerWidth-r.outerWidth())*l.x,r.to.top=(f.outerHeight-r.to.outerHeight)*l.y,r.to.left=(f.outerWidth-r.to.outerWidth)*l.x);r.css(r.from);(c==="content"||c==="both")&&(e=e.concat(["marginTop","marginBottom"]).concat(v),o=o.concat(["marginLeft","marginRight"]),a=w.concat(e).concat(o),r.find("*[width]").each(function(){var i=n(this),r={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};y&&n.effects.save(i,a);i.from={height:r.height*u.from.y,width:r.width*u.from.x,outerHeight:r.outerHeight*u.from.y,outerWidth:r.outerWidth*u.from.x};i.to={height:r.height*u.to.y,width:r.width*u.to.x,outerHeight:r.height*u.to.y,outerWidth:r.width*u.to.x};u.from.y!==u.to.y&&(i.from=n.effects.setTransition(i,e,u.from.y,i.from),i.to=n.effects.setTransition(i,e,u.to.y,i.to));u.from.x!==u.to.x&&(i.from=n.effects.setTransition(i,o,u.from.x,i.from),i.to=n.effects.setTransition(i,o,u.to.x,i.to));i.css(i.from);i.animate(i.to,t.duration,t.easing,function(){y&&n.effects.restore(i,a)})}));r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){r.to.opacity===0&&r.css("opacity",r.from.opacity);h==="hide"&&r.hide();n.effects.restore(r,s);y||(k==="static"?r.css({position:"relative",top:r.to.top,left:r.to.left}):n.each(["top","left"],function(n,t){r.css(t,function(t,i){var f=parseInt(i,10),u=n?r.to.left:r.to.top;return i==="auto"?u+"px":f+u+"px"})}));n.effects.removeWrapper(r);i()}})};
/*!
 * jQuery UI Effects Scale 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */
yt=n.effects.effect.scale=function(t,i){var u=n(this),r=n.extend(!0,{},t),f=n.effects.setMode(u,t.mode||"effect"),s=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:f==="hide"?0:100),h=t.direction||"both",c=t.origin,e={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},o={y:h!=="horizontal"?s/100:1,x:h!=="vertical"?s/100:1};r.effect="size";r.queue=!1;r.complete=i;f!=="effect"&&(r.origin=c||["middle","center"],r.restore=!0);r.from=t.from||(f==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:e);r.to={height:e.height*o.y,width:e.width*o.x,outerHeight:e.outerHeight*o.y,outerWidth:e.outerWidth*o.x};r.fade&&(f==="show"&&(r.from.opacity=0,r.to.opacity=1),f==="hide"&&(r.from.opacity=1,r.to.opacity=0));u.effect(r)};
/*!
 * jQuery UI Effects Puff 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */
pt=n.effects.effect.puff=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"hide"),o=e==="hide",s=parseInt(t.percent,10)||150,f=s/100,u={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};n.extend(t,{effect:"scale",queue:!1,fade:!0,mode:e,complete:i,percent:o?s:100,from:o?u:{height:u.height*f,width:u.width*f,outerHeight:u.outerHeight*f,outerWidth:u.outerWidth*f}});r.effect(t)};
/*!
 * jQuery UI Effects Pulsate 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */
wt=n.effects.effect.pulsate=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"show"),h=e==="show",a=e==="hide",v=h||e==="hide",o=(t.times||5)*2+(v?1:0),c=t.duration/o,u=0,f=r.queue(),l=f.length,s;for((h||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),s=1;s<o;s++)r.animate({opacity:u},c,t.easing),u=1-u;r.animate({opacity:u},c,t.easing);r.queue(function(){a&&r.hide();i()});l>1&&f.splice.apply(f,[1,0].concat(f.splice(l,o+1)));r.dequeue()};
/*!
 * jQuery UI Effects Shake 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */
bt=n.effects.effect.shake=function(t,i){var r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=t.direction||"left",o=t.distance||20,y=t.times||3,p=y*2+1,u=Math.round(t.duration/p),s=f==="up"||f==="down"?"top":"left",h=f==="up"||f==="left",c={},l={},w={},a,e=r.queue(),b=e.length;for(n.effects.save(r,v),r.show(),n.effects.createWrapper(r),c[s]=(h?"-=":"+=")+o,l[s]=(h?"+=":"-=")+o*2,w[s]=(h?"-=":"+=")+o*2,r.animate(c,u,t.easing),a=1;a<y;a++)r.animate(l,u,t.easing).animate(w,u,t.easing);r.animate(l,u,t.easing).animate(c,u/2,t.easing).queue(function(){k==="hide"&&r.hide();n.effects.restore(r,v);n.effects.removeWrapper(r);i()});b>1&&e.splice.apply(e,[1,0].concat(e.splice(b,p+1)));r.dequeue()};
/*!
 * jQuery UI Effects Slide 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */
kt=n.effects.effect.slide=function(t,i){var r=n(this),s=["position","top","bottom","left","right","width","height"],h=n.effects.setMode(r,t.mode||"show"),c=h==="show",f=t.direction||"left",e=f==="up"||f==="down"?"top":"left",o=f==="up"||f==="left",u,l={};n.effects.save(r,s);r.show();u=t.distance||r[e==="top"?"outerHeight":"outerWidth"](!0);n.effects.createWrapper(r).css({overflow:"hidden"});c&&r.css(e,o?isNaN(u)?"-"+u:-u:u);l[e]=(c?o?"+=":"-=":o?"-=":"+=")+u;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){h==="hide"&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()}})};
/*!
 * jQuery UI Effects Transfer 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */
dt=n.effects.effect.transfer=function(t,i){var u=n(this),r=n(t.to),f=r.css("position")==="fixed",e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo(document.body).addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove();i()})};
/*!
 * jQuery UI Progressbar 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/progressbar/
 */
gt=n.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(n){if(n===undefined)return this.options.value;this.options.value=this._constrainedValue(n);this._refreshValue()},_constrainedValue:function(n){return n===undefined&&(n=this.options.value),this.indeterminate=n===!1,typeof n!="number"&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){n==="max"&&(t=Math.max(this.min,t));n==="disabled"&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t);this._super(n,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'><\/div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}});
/*!
 * jQuery UI Selectable 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */
ni=n.widget("ui.selectable",n.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t=n(i.options.filter,i.element[0]);t.addClass("ui-selectee");t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=n("<div class='ui-selectable-helper'><\/div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;(this.opos=[t.pageX,t.pageY],this.options.disabled)||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0;t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var e,o=this,s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(e=u,u=i,i=e),r>f&&(e=f,f=r,r=e),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var e=n.data(this,"selectable-item"),h=!1;e&&e.element!==o.element[0]&&(s.tolerance==="touch"?h=!(e.left>u||e.right<i||e.top>f||e.bottom<r):s.tolerance==="fit"&&(h=e.left>i&&e.right<u&&e.top>r&&e.bottom<f),h?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,o._trigger("selecting",t,{selecting:e.element}))):(e.selecting&&((t.metaKey||t.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",t,{unselecting:e.element}))),e.selected&&(t.metaKey||t.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",t,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}});
/*!
 * jQuery UI Selectmenu 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectmenu
 */
ti=n.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var n=this.element.uniqueId().attr("id");this.ids={element:n,button:n+"-button",menu:n+"-menu"};this._drawButton();this._drawMenu();this.options.disabled&&this.disable()},_drawButton:function(){var t=this,i=this.element.attr("tabindex");this.label=n("label[for='"+this.ids.element+"']").attr("for",this.ids.button);this._on(this.label,{click:function(n){this.button.focus();n.preventDefault()}});this.element.hide();this.button=n("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:i||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);n("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=n("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);this._setText(this.buttonText,this.element.find("option:selected").text());this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){t.menuItems||t._refreshMenu()});this._hoverable(this.button);this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=n("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=n("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());this.menuInstance=this.menu.menu({role:"listbox",select:function(n,i){n.preventDefault();t._select(i.item.data("ui-selectmenu-item"),n)},focus:function(n,i){var r=i.item.data("ui-selectmenu-item");t.focusIndex!=null&&r.index!==t.focusIndex&&(t._trigger("focus",n,{item:r}),t.isOpen||t._select(r,n));t.focusIndex=r.index;t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var n,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),n=this._getSelectedItem(),this.menuInstance.focus(null,n),this._setAria(n.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(n){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",n))},_position:function(){this.menuWrap.position(n.extend({of:this.button},this.options.position))},close:function(n){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",n))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var u=this,r="";n.each(i,function(i,f){f.optgroup!==r&&(n("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:f.optgroup}).appendTo(t),r=f.optgroup);u._renderItemData(t,f)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var r=n("<li>");return i.disabled&&r.addClass("ui-state-disabled"),this._setText(r,i.label),r.appendTo(t)},_setText:function(n,t){t?n.text(t):n.html("&#160;")},_move:function(n,t){var i,r,u=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),u+=":not(.ui-state-disabled)");r=n==="first"||n==="last"?i[n==="first"?"prevAll":"nextAll"](u).eq(-1):i[n+"All"](u).eq(0);r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(n){this[this.isOpen?"close":"open"](n)},_documentClick:{mousedown:function(t){this.isOpen&&(n(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(n){n.preventDefault()},click:"_toggle",keydown:function(t){var i=!0;switch(t.keyCode){case n.ui.keyCode.TAB:case n.ui.keyCode.ESCAPE:this.close(t);i=!1;break;case n.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case n.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case n.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case n.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case n.ui.keyCode.LEFT:this._move("prev",t);break;case n.ui.keyCode.RIGHT:this._move("next",t);break;case n.ui.keyCode.HOME:case n.ui.keyCode.PAGE_UP:this._move("first",t);break;case n.ui.keyCode.END:case n.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t);i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(n){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),n)},_select:function(n,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=n.index;this._setText(this.buttonText,n.label);this._setAria(n);this._trigger("select",t,{item:n});n.index!==i&&this._trigger("change",t,{item:n});this.close(t)},_setAria:function(n){var t=this.menuItems.eq(n.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},_setOption:function(n,t){n==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button);this._super(n,t);n==="appendTo"&&this.menuWrap.appendTo(this._appendTo());n==="disabled"&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0));n==="width"&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var n=this.options.width;n||(n=this.element.show().outerWidth(),this.element.hide());this.button.outerWidth(n)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,r){var u=n(r),f=u.parent("optgroup");i.push({element:u,index:t,value:u.attr("value"),label:u.text(),optgroup:f.attr("label")||"",disabled:f.prop("disabled")||u.prop("disabled")})});this.items=i},_destroy:function(){this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element)}});
/*!
 * jQuery UI Slider 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 */
ii=n.widget("ui.slider",n.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;r<i;r++)f.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'><\/span>");this.handles=t.add(n(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&t.values.length!==2?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=n("<div><\/div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+(t.range==="min"||t.range==="max"?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1)?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return this.orientation==="horizontal"?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&i>r||t===1&&i<r)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._lastChangedValue=t;this._trigger("change",n,i)}},value:function(n){if(arguments.length){this.options.value=this._trimAlignValue(n);this._refreshValue();this._change(null,0);return}return this._value()},values:function(t,i){var u,f,r;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(i);this._refreshValue();this._change(null,t);return}if(arguments.length)if(n.isArray(arguments[0])){for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(t):this.value();else return this._values()},_setOption:function(t,i){var r,u=0;t==="range"&&this.options.range===!0&&(i==="min"?(this.options.value=this._values(0),this.options.values=null):i==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));n.isArray(this.options.values)&&(u=this.options.values.length);t==="disabled"&&this.element.toggleClass("ui-state-disabled",!!i);this._super(t,i);switch(t){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css(i==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<u;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],this._trimAlignValue(r);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=(r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin())*100;o[r.orientation==="horizontal"?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&(r.orientation==="horizontal"?(f===0&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(f===0&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?(c-f)/(h-f)*100:0,o[this.orientation==="horizontal"?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),e==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),e==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),e==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),e==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))},_handleEvents:{keydown:function(t){var e,r,i,u,f=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(t.target).addClass("ui-state-active"),e=this._start(t,f),e===!1))return}u=this.options.step;r=this.options.values&&this.options.values.length?i=this.values(f):i=this.value();switch(t.keyCode){case n.ui.keyCode.HOME:i=this._valueMin();break;case n.ui.keyCode.END:i=this._valueMax();break;case n.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+u);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-u)}this._slide(t,f,i)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}});
/*!
 * jQuery UI Sortable 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */
ri=n.widget("ui.sortable",n.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(n,t,i){return n>=t&&n<t+i},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_create:function(){var n=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?n.axis==="x"||this._isFloating(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(n,t){this._super(n,t);n==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");n.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return r=n(this),!1}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),!r)?!1:this.options.handle&&!i&&(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),!f)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&u.cursor!=="auto"&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if((u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o)&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[o===1?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&(this.options.type==="semi-dynamic"?!n.contains(this.element[0],f):!0)){if(this.direction=o===1?"down":"up",this.options.tolerance==="pointer"||this._intersectsWithSides(u))this._rearrange(t,u);else break;this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&r!=="x"||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));r&&r!=="y"||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l=this.options.axis==="x"||i+o>u&&i+o<e,a=this.options.axis==="y"||t+s>r&&t+s<f,v=l&&a;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:r<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<f&&u<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<e},_intersectsWithPointer:function(n){var r=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top,n.height),u=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left,n.width),f=r&&u,t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return f?this.floating?i&&i==="right"||t==="down"?2:1:t&&(t==="down"?2:1):!1},_intersectsWithSides:function(n){var r=this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),u=this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?i==="right"&&u||i==="left"&&!u:t&&(t==="down"&&r||t==="up"&&!r)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return n!==0&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return n!==0&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;i<t.length;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;u<l;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)(r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return u==="tr"?t.currentItem.children().each(function(){n("<td>&#160;<\/td>",t.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)}):u==="img"&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var u,c,f,a,v,o,l,s,h,e=null,r=null,i=this.containers.length-1;i>=0;i--)if(!n.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(e&&n.contains(this.containers[i].element[0],e.element[0]))continue;e=this.containers[i];r=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(e)if(this.containers.length===1)this.containers[r].containerCache.over||(this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1);else{for(c=1e4,f=null,s=e.floating||this._isFloating(this.currentItem),a=s?"left":"top",v=s?"width":"height",h=s?"clientX":"clientY",u=this.items.length-1;u>=0;u--)n.contains(this.containers[r].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(o=this.items[u].item.offset()[a],l=!1,t[h]-o>this.items[u][v]/2&&(l=!0),Math.abs(t[h]-o)<c&&(c=Math.abs(t[h]-o),f=this.items[u],this.direction=l?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[r])return;f?this._rearrange(t,f,null,!0):this._rearrange(t,null,this.containers[r].element,!0);this._trigger("change",t,this._uiHash());this.containers[r]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[r];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[r]._trigger("over",t,this._uiHash(this));this.containers[r].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):r.helper==="clone"?this.currentItem.clone():this.currentItem;return i.parents("body").length||n(r.appendTo!=="parent"?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);(i.containment==="document"||i.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u=n(t).css("overflow")!=="hidden",this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r=t==="absolute"?1:-1,u=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(o[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static")&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t&&r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",n,this._uiHash()),i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});
/*!
 * jQuery UI Spinner 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */
ui=n.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this.value()!==""&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);u!==undefined&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();this.previous!==this.element.val()&&this._trigger("change",n)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100);n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var n=this.element[0]===this.document[0].activeElement;n||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;(i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur;r.call(this)}),this._start(t)!==!1)&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active")){if(this._start(t)===!1)return!1;this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var n=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=n.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(n.height()*.5)&&n.height()>0&&n.height(n.height());this.options.disabled&&this.disable()},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;<\/span><\/a>"},_start:function(n){return!this.spinning&&this._trigger("start",n)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return this.options.min!==null&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=n.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return(r=t.min!==null?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),t.max!==null&&n>t.max)?t.max:t.min!==null&&n<t.min?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){if(n==="culture"||n==="numberFormat"){var i=this._parse(this.element.val());this.options[n]=t;this.element.val(this._format(i));return}(n==="max"||n==="min"||n==="step")&&typeof t=="string"&&(t=this._parse(t));n==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down));this._super(n,t);n==="disabled"&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:t(function(n){this._super(n)}),_parse:function(n){return typeof n=="string"&&n!==""&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),n===""||isNaN(n)?null:n},_format:function(n){return n===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var n=this.value();return n===null?!1:n===this._adjustValue(n)},_value:function(n,t){var i;n!==""&&(i=this._parse(n),i!==null&&(t||(i=this._adjustValue(i)),n=this._format(i)));this.element.val(n);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,n)},widget:function(){return this.uiSpinner}});
/*!
 * jQuery UI Tabs 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 */
fi=n.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var n=/#.*$/;return function(t){var i,r;t=t.cloneNode(!1);i=t.href.replace(n,"");r=location.href.replace(n,"");try{i=decodeURIComponent(i)}catch(u){}try{r=decodeURIComponent(r)}catch(u){}return t.hash.length>1&&i===r}}(),_create:function(){var i=this,t=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible);this._processTabs();t.active=this._initialActive();n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return t===null&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return t=i,!1}),t===null&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(t===null||t===-1)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(this.document[0].activeElement).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1;i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:t.preventDefault();clearTimeout(this.activating);this._activate(i);return;case n.ui.keyCode.ENTER:t.preventDefault();clearTimeout(this.activating);this._activate(i===this.options.active?!1:i);return;default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,u);t.ctrlKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),t<0&&(t=r),t}for(var r=this.tabs.length-1;n.inArray(u(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).focus(),n},_setOption:function(n,t){if(n==="active"){this._activate(t);return}if(n==="disabled"){this._setupDisabled(t);return}this._super(n,t);n==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0));n==="event"&&this._setupEvents(t);n==="heightStyle"&&this._setupHeightStyle(t)},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=n();this.anchors.each(function(i,r){var f,u,e,s=n(r).uniqueId().attr("id"),o=n(r).closest("li"),h=o.attr("aria-controls");t._isLocal(r)?(f=r.hash,e=f.substring(1),u=t.element.find(t._sanitizeSelector(f))):(e=o.attr("aria-controls")||n({}).uniqueId()[0].id,f="#"+e,u=t.element.find(f),u.length||(u=t._createPanel(e),u.insertAfter(t.panels[i-1]||t.tablist)),u.attr("aria-live","polite"));u.length&&(t.panels=t.panels.add(u));h&&o.data("ui-tabs-aria-controls",h);o.attr({"aria-controls":e,"aria-labelledby":s});u.attr("aria-labelledby",s)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i=0,r;r=this.tabs[i];i++)t===!0||n.inArray(i,t)!==-1?n(r).addClass("ui-state-disabled").attr("aria-disabled","true"):n(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(n){n.preventDefault()}});this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();t==="fill"?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");r!=="absolute"&&r!=="fixed"&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):t==="auto"&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};(t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1)||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){u.running=!1;u._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active");r.length&&u.options.show?u._show(r,u.options.show,e):(r.show(),e())}var u=this,r=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o());f.attr("aria-hidden","true");i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});r.length&&f.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1);r.attr("aria-hidden","false");i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(n){return typeof n=="string"&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(t===undefined?i=!1:(t=this._getIndex(t),i=n.isArray(i)?n.map(i,function(n){return n!==t?n:null}):n.map(this.tabs,function(n,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(t===undefined)i=!0;else{if(t=this._getIndex(t),n.inArray(t,i)!==-1)return;i=n.isArray(i)?n.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var u=this,r=this.tabs.eq(t),e=r.find(".ui-tabs-anchor"),f=this._getPanelForTab(r),o={tab:r,panel:f};this._isLocal(e[0])||(this.xhr=n.ajax(this._ajaxSettings(e,i,o)),this.xhr&&this.xhr.statusText!=="canceled"&&(r.addClass("ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.success(function(n){setTimeout(function(){f.html(n);u._trigger("load",i,o)},1)}).complete(function(n,t){setTimeout(function(){t==="abort"&&u.panels.stop(!1,!0);r.removeClass("ui-tabs-loading");f.removeAttr("aria-busy");n===u.xhr&&delete u.xhr},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}});
/*!
 * jQuery UI Tooltip 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tooltip/
 */
ei=n.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var t=n(this).attr("title")||"";return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i);t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))},_removeDescribedBy:function(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);r!==-1&&i.splice(r,1);t.removeData("ui-tooltip-id");i=n.trim(i.join(" "));i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable();this.liveRegion=n("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var r=this;if(t==="disabled"){this[i?"_disable":"_enable"]();this.options[t]=i;return}this._super(t,i);t==="content"&&n.each(this.tooltips,function(n,t){r._updateContent(t)})},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0];t.close(u,!0)});this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&t.type==="mouseover"&&i.parents().each(function(){var t=n(this),i;t.data("ui-tooltip-open")&&(i=n.Event("blur"),i.target=i.currentTarget=this,r.close(i,!0));t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(n,t){var i,r=this.options.content,u=this,f=t?t.type:null;if(typeof r=="string")return this._open(t,n,r);i=r.call(n[0],function(i){n.data("ui-tooltip-open")&&u._delay(function(){t&&(t.type=f);this._open(t,n,i)})});i&&this._open(t,n,i)},_open:function(t,i,r){function s(n){(o.of=n,u.is(":hidden"))||u.position(o)}var u,f,h,e,o=n.extend({},this.options.position);if(r){if(u=this._find(i),u.length){u.find(".ui-tooltip-content").html(r);return}i.is("[title]")&&(t&&t.type==="mouseover"?i.attr("title",""):i.removeAttr("title"));u=this._tooltip(i);this._addDescribedBy(i,u.attr("id"));u.find(".ui-tooltip-content").html(r);this.liveRegion.children().hide();r.clone?(e=r.clone(),e.removeAttr("id").find("[id]").removeAttr("id")):e=r;n("<div>").html(e).appendTo(this.liveRegion);this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:s}),s(t)):u.position(n.extend({of:i},this.options.position));this.hiding=!1;this.closing=!1;u.hide();this._show(u,this.options.show);this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){u.is(":visible")&&(s(o.of),clearInterval(h))},n.fx.interval));this._trigger("open",t,{tooltip:u});f={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var r=n.Event(t);r.currentTarget=i[0];this.close(r,!0)}}};i[0]!==this.element[0]&&(f.remove=function(){this._removeTooltip(u)});t&&t.type!=="mouseover"||(f.mouseleave="close");t&&t.type!=="focusin"||(f.focusout="close");this._on(!0,i,f)}},close:function(t){var u=this,i=n(t?t.currentTarget:this.element),r=this._find(i);this.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),this.hiding=!0,r.stop(!0),this._hide(r,this.options.hide,function(){u._removeTooltip(n(this));this.hiding=!1;this.closing=!1}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&t.type==="mouseleave"&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title);delete u.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:r}),this.hiding||(this.closing=!1))},_tooltip:function(t){var i=n("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=i.uniqueId().attr("id");return n("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[r]=t,i},_find:function(t){var i=t.data("ui-tooltip-id");return i?n("#"+i):n()},_removeTooltip:function(n){n.remove();delete this.tooltips[n.attr("id")]},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0];t.close(u,!0);n("#"+i).remove();r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))});this.liveRegion.remove()}})});jqxBaseFramework=window.minQuery||window.jQuery,function(n){n.jqx=n.jqx||{};n.jqx.define=function(n,t,i){n[t]=function(){this.baseType&&(this.base=new n[this.baseType],this.base.defineInstance());this.defineInstance()};n[t].prototype.defineInstance=function(){};n[t].prototype.base=null;n[t].prototype.baseType=undefined;i&&n[i]&&(n[t].prototype.baseType=i)};n.jqx.invoke=function(t,i){var r,f,u;if(i.length!=0){for(r=typeof i==Array||i.length>0?i[0]:i,f=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):n({}).toArray();t[r]==undefined&&t.base!=null;){if(t[r]!=undefined&&n.isFunction(t[r]))return t[r].apply(t,f);if(typeof r=="string"&&(u=r.toLowerCase(),t[u]!=undefined&&n.isFunction(t[u])))return t[u].apply(t,f);t=t.base}return t[r]!=undefined&&n.isFunction(t[r])?t[r].apply(t,f):typeof r=="string"&&(u=r.toLowerCase(),t[u]!=undefined&&n.isFunction(t[u]))?t[u].apply(t,f):void 0}};n.jqx.hasProperty=function(n,t){var r,i;if(typeof t=="object")for(r in t){for(i=n;i;){if(i.hasOwnProperty(r)||i.hasOwnProperty(r.toLowerCase()))return!0;i=i.base}return!1}else while(n){if(n.hasOwnProperty(t)||n.hasOwnProperty(t.toLowerCase()))return!0;n=n.base}return!1};n.jqx.hasFunction=function(t,i){var r,f,u;if(i.length==0||t==undefined)return!1;for(r=typeof i==Array||i.length>0?i[0]:i,f=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):{};t[r]==undefined&&t.base!=null;){if(t[r]&&n.isFunction(t[r])||typeof r=="string"&&(u=r.toLowerCase(),t[u]&&n.isFunction(t[u])))return!0;t=t.base}return t[r]&&n.isFunction(t[r])?!0:typeof r=="string"&&(u=r.toLowerCase(),t[u]&&n.isFunction(t[u]))?!0:!1};n.jqx.isPropertySetter=function(t,i){return i.length==1&&typeof i[0]=="object"?!0:i.length==2&&typeof i[0]=="string"&&!n.jqx.hasFunction(t,i)?!0:!1};n.jqx.validatePropertySetter=function(t,i,r){var f,u,e;if(!n.jqx.propertySetterValidation)return!0;if(i.length==1&&typeof i[0]=="object"){for(f in i[0]){for(u=t;!u.hasOwnProperty(f)&&u.base;)u=u.base;if(!u||!u.hasOwnProperty(f)){if(!r){if(e=u.hasOwnProperty(f.toString().toLowerCase()),e)return!0;throw"Invalid property: "+f;}return!1}}return!0}if(i.length!=2){if(!r)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}while(!t.hasOwnProperty(i[0])&&t.base)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!r)throw"Invalid property: "+i[0];return!1}return!0};n.jqx.set=function(t,i){if(i.length==1&&typeof i[0]=="object")n.each(i[0],function(i,r){for(var u=t;!u.hasOwnProperty(i)&&u.base!=null;)u=u.base;if(u.hasOwnProperty(i))n.jqx.setvalueraiseevent(u,i,r);else if(u.hasOwnProperty(i.toLowerCase()))n.jqx.setvalueraiseevent(u,i.toLowerCase(),r);else if(n.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'";});else if(i.length==2){while(!t.hasOwnProperty(i[0])&&t.base)t=t.base;if(t.hasOwnProperty(i[0]))n.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))n.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(n.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'";}};n.jqx.setvalueraiseevent=function(n,t,i){var r=n[t];(n[t]=i,n.isInitialized)&&(n.propertyChangedHandler!=undefined&&n.propertyChangedHandler(n,t,r,i),n.propertyChangeMap!=undefined&&n.propertyChangeMap[t]!=undefined&&n.propertyChangeMap[t](n,t,r,i))};n.jqx.get=function(n,t){var r,i;if(t==undefined||t==null)return undefined;if(n.propertyMap&&(r=n.propertyMap(t),r!=null))return r;if(n.hasOwnProperty(t))return n[t];if(n.hasOwnProperty(t.toLowerCase()))return n[t.toLowerCase()];if(i=undefined,typeof t==Array){if(t.length!=1)return undefined;i=t[0]}else typeof t=="string"&&(i=t);while(!n.hasOwnProperty(i)&&n.base)n=n.base;return n?n[i]:undefined};n.jqx.serialize=function(t){var i="",u,r;if(n.isArray(t)){for(i="[",r=0;r<t.length;r++)r>0&&(i+=", "),i+=n.jqx.serialize(t[r]);i+="]"}else if(typeof t=="object"){i="{";u=0;for(r in t)u++>0&&(i+=", "),i+=r+": "+n.jqx.serialize(t[r]);i+="}"}else i=t.toString();return i};n.jqx.propertySetterValidation=!0;n.jqx.jqxWidgetProxy=function(t,i,r){var e=n(i),f=n.data(i,t),u;if(f==undefined)return undefined;if(u=f.instance,n.jqx.hasFunction(u,r))return n.jqx.invoke(u,r);if(n.jqx.isPropertySetter(u,r)){if(n.jqx.validatePropertySetter(u,r))return n.jqx.set(u,r),undefined}else{if(typeof r=="object"&&r.length==0)return;if(typeof r=="object"&&r.length==1&&n.jqx.hasProperty(u,r[0]))return n.jqx.get(u,r[0]);if(typeof r=="string"&&n.jqx.hasProperty(u,r[0]))return n.jqx.get(u,r)}throw"jqxCore: Invalid parameter '"+n.jqx.serialize(r)+"' does not exist.";};n.jqx.applyWidget=function(t,i,r,u){var s=!1,h,e,f,u,o;try{s=window.MSApp!=undefined}catch(c){}for(h=n(t),u?(u.host=h,u.element=t):u=new n.jqx["_"+i],t.id==""&&(t.id=n.jqx.utilities.createId()),e={host:h,element:t,instance:u},u.widgetName=i,n.data(t,i,e),n.data(t,"jqxWidget",e.instance),f=[],u=e.instance;u;)u.isInitialized=!1,f.push(u),u=u.base;f.reverse();f[0].theme=n.jqx.theme||"";n.jqx.jqxWidgetProxy(i,t,r);for(o in f)u=f[o],o==0&&(u.host=h,u.element=t,u.WinJS=s),u!=undefined&&(u.definedInstance&&u.definedInstance(),u.createInstance!=null&&(s?MSApp.execUnsafeLocalFunction(function(){u.createInstance(r)}):u.createInstance(r)));for(o in f)f[o]!=undefined&&(f[o].isInitialized=!0);s?MSApp.execUnsafeLocalFunction(function(){e.instance.refresh(!0)}):e.instance.refresh(!0)};n.jqx.jqxWidget=function(t,i,r){var e=!1,u,f;try{jqxArgs=Array.prototype.slice.call(r,0)}catch(o){jqxArgs=""}try{e=window.MSApp!=undefined}catch(o){}u=t;f="";i&&(f="_"+i);n.jqx.define(n.jqx,"_"+u,f);n.fn[u]=function(){var t=Array.prototype.slice.call(arguments,0),i,r;if(t.length==0||t.length==1&&typeof t[0]=="object"){if(this.length==0)if(this.selector)throw new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.");else throw new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var f=n(this),i=this,r=n.data(i,u);r==null?n.jqx.applyWidget(i,u,t,undefined):n.jqx.jqxWidgetProxy(u,this,t)})}if(this.length==0)if(this.selector)throw new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.");else throw new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return i=null,r=0,this.each(function(){var e=n.jqx.jqxWidgetProxy(u,this,t),f;r==0?(i=e,r++):(r==1&&(f=[],f.push(i),i=f),i.push(e))}),i};try{n.extend(n.jqx["_"+u].prototype,Array.prototype.slice.call(r,0)[0])}catch(o){}n.extend(n.jqx["_"+u].prototype,{toThemeProperty:function(t,i){return n.jqx.toThemeProperty(this,t,i)}});n.jqx["_"+u].prototype.refresh=function(){this.base&&this.base.refresh(!0)};n.jqx["_"+u].prototype.createInstance=function(){};n.jqx["_"+u].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var r=[];r.push(i);i=r}n.jqx.applyWidget(t,u,i,this)};n.jqx["_"+u].prototype.getInstance=function(){return this};n.jqx["_"+u].prototype.propertyChangeMap={};n.jqx["_"+u].prototype.addHandler=function(t,i,r,u){n.jqx.addHandler(t,i,r,u)};n.jqx["_"+u].prototype.removeHandler=function(t,i,r){n.jqx.removeHandler(t,i,r)}};n.jqx.toThemeProperty=function(n,t,i){var e,u,r,f;if(n.theme=="")return t;for(e=t.split(" "),u="",r=0;r<e.length;r++)r>0&&(u+=" "),f=e[r],u+=i!=null&&i?f+"-"+n.theme:f+" "+f+"-"+n.theme;return u};n.jqx.addHandler=function(t,i,r,u){for(var f,o=i.split(" "),e=0;e<o.length;e++){if(f=o[e],window.addEventListener)switch(f){case"mousewheel":n.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",r,!1):t[0].addEventListener("mousewheel",r,!1);continue;case"mousemove":if(!u){t[0].addEventListener("mousemove",r,!1);continue}}if(u==undefined||u==null)if(t.on)t.on(f,r);else t.bind(f,r);else if(t.on)t.on(f,u,r);else t.bind(f,u,r)}};n.jqx.removeHandler=function(t,i,r){var e,f,u;if(i)for(e=i.split(" "),f=0;f<e.length;f++){if(u=e[f],window.removeEventListener)switch(u){case"mousewheel":n.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",r,!1):t[0].removeEventListener("mousewheel",r,!1);continue;case"mousemove":if(r){t[0].removeEventListener("mousemove",r,!1);continue}}if(u==undefined){t.off?t.off():t.unbind();continue}r==undefined?t.off?t.off(u):t.unbind(u):t.off?t.off(u,r):t.unbind(u,r)}};n.jqx.theme=n.jqx.theme||"";n.jqx.resizeDelay=n.jqx.resizeDelay||10;n.jqx.ready=function(){n(window).trigger("jqxReady")};n.jqx.init=function(){n.each(arguments[0],function(t,i){t=="theme"&&(n.jqx.theme=i);t=="scrollBarSize"&&(n.jqx.utilities.scrollBarSize=i);t=="touchScrollBarSize"&&(n.jqx.utilities.touchScrollBarSize=i);t=="scrollBarButtonsVisibility"&&(n.jqx.utilities.scrollBarButtonsVisibility=i)})};n.jqx.utilities=n.jqx.utilities||{};n.extend(n.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return"jqxWidget"+n()+n()},setTheme:function(t,i,r){var u;if(typeof r!="undefined"){var f=r[0].className.split(" "),o=[],e=[],s=r.children();for(u=0;u<f.length;u+=1)f[u].indexOf(t)>=0&&(t.length>0?(o.push(f[u]),e.push(f[u].replace(t,i))):e.push(f[u]+"-"+i));for(this._removeOldClasses(o,r),this._addNewClasses(e,r),u=0;u<s.length;u+=1)this.setTheme(t,i,n(s[u]))}},_removeOldClasses:function(n,t){for(var i=0;i<n.length;i+=1)t.removeClass(n[i])},_addNewClasses:function(n,t){for(var i=0;i<n.length;i+=1)t.addClass(n[i])},getOffset:function(t){var i=n.jqx.mobile.getLeftPos(t[0]),r=n.jqx.mobile.getTopPos(t[0]);return{top:r,left:i}},resize:function(t,i,r,u){var s,h,f,o,e;u===undefined&&(u=!0);var c=-1,f=this,l=function(n){var i,t;if(!f.hiddenWidgets)return-1;for(i=-1,t=0;t<f.hiddenWidgets.length;t++)if(n.id){if(f.hiddenWidgets[t].id==n.id){i=t;break}}else if(f.hiddenWidgets[t].id==n[0].id){i=t;break}return i};if(this.resizeHandlers){for(s=0;s<this.resizeHandlers.length;s++)if(t.id){if(this.resizeHandlers[s].id==t.id){c=s;break}}else if(this.resizeHandlers[s].id==t[0].id){c=s;break}if(r===!0){c!=-1&&this.resizeHandlers.splice(c,1);this.resizeHandlers.length==0&&(e=n(window),e.off?(e.off("resize.jqx"),e.off("orientationchange.jqx"),e.off("orientationchanged.jqx")):(e.unbind("resize.jqx"),e.unbind("orientationchange.jqx"),e.unbind("orientationchanged.jqx")),this.resizeHandlers=null);h=l(t);h!=-1&&this.hiddenWidgets&&this.hiddenWidgets.splice(h,1);return}}else if(r===!0){h=l(t);h!=-1&&this.hiddenWidgets&&this.hiddenWidgets.splice(h,1);return}if(f=this,o=function(t,i){var a,v,c,e,o,s,h,p;if(f.resizeHandlers){for(a=function(n){for(var i=-1,t=n.parentNode;t;)i++,t=t.parentNode;return i},v=function(n,t){var i,r,f;if(!n.widget||!t.widget)return 0;i=a(n.widget[0]);r=a(t.widget[0]);try{if(i<r)return-1;if(i>r)return 1}catch(u){f=u}return 0},f.hiddenWidgets=[],f.resizeHandlers.sort(v),c=0;c<f.resizeHandlers.length;c++){var u=f.resizeHandlers[c],y=u.widget,r=u.data;r&&r.jqxWidget&&(e=r.jqxWidget.width,o=r.jqxWidget.height,r.jqxWidget.base&&(e==undefined&&(e=r.jqxWidget.base.width),o==undefined&&(o=r.jqxWidget.base.height)),e===undefined&&o===undefined&&(e=r.jqxWidget.element.style.width,o=r.jqxWidget.element.style.height),s=!1,e!=null&&e.toString().indexOf("%")!=-1&&(s=!0),o!=null&&o.toString().indexOf("%")!=-1&&(s=!0),n.jqx.isHidden(y)?l(y)===-1&&(s||t===!0)&&u.data.nestedWidget!==!0&&f.hiddenWidgets.push(u):(t===undefined||t!==!0)&&(s&&(u.callback(i),f.hiddenWidgets.indexOf(u)>=0&&f.hiddenWidgets.splice(f.hiddenWidgets.indexOf(u),1)),r.jqxWidget.element&&(h=r.jqxWidget.element.className,(h.indexOf("dropdownlist")>=0||h.indexOf("datetimeinput")>=0||h.indexOf("combobox")>=0||h.indexOf("menu")>=0)&&r.jqxWidget.isOpened&&(p=r.jqxWidget.isOpened(),p&&r.jqxWidget.close()))))}f.hiddenWidgets.length>0&&(f.hiddenWidgets.sort(v),f.__resizeInterval&&clearInterval(f.__resizeInterval),f.__resizeInterval=setInterval(function(){for(var t,u=!1,e=[],r=0;r<f.hiddenWidgets.length;r++)t=f.hiddenWidgets[r],n.jqx.isHidden(t.widget)?(u=!0,e.push(t)):t.callback&&t.callback(i);f.hiddenWidgets=e;u||clearInterval(f.__resizeInterval)},100))}},!this.resizeHandlers)if(this.resizeHandlers=[],e=n(window),e.on){this._resizeTimer=null;e.on("resize.jqx",function(){f._resizeTimer!=undefined&&clearTimeout(f._resizeTimer);f._resizeTimer=setTimeout(function(){o(null,"resize")},n.jqx.resizeDelay)});e.on("orientationchange.jqx",function(){o(null,"orientationchange")});e.on("orientationchanged.jqx",function(){o(null,"orientationchange")})}else e.bind("resize.jqx",function(){o(null,"orientationchange")}),e.bind("orientationchange.jqx",function(){o(null,"orientationchange")}),e.bind("orientationchanged.jqx",function(){o(null,"orientationchange")});u&&c===-1&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:t.data()});n.jqx.isHidden(t)&&u===!0&&o(!0);n.jqx.resize=function(){o(null,"resize")}},html:function(t,i){if(!n(t).on)return n(t).html(i);try{return n.access(t,function(i){var r=t[0]||{},u=0,f=t.length;if(i===undefined)return r.nodeType===1?r.innerHTML.replace(rinlinejQuery,""):undefined;var e=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i");if(typeof i=="string"&&!/<(?:script|style|link)/i.test(i)&&(n.support.htmlSerialize||!e.test(i))&&(n.support.leadingWhitespace||!/^\s+/.test(i))&&!{option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],area:[1,"<map>","<\/map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1><\/$2>");try{for(;u<f;u++)r=this[u]||{},r.nodeType===1&&(n.cleanData(r.getElementsByTagName("*")),r.innerHTML=i);r=0}catch(o){}}r&&t.empty().append(i)},null,i,arguments.length)}catch(r){return n(t).html(i)}},hasTransform:function(t){var i="",r;if(i=t.css("transform"),i==""||i=="none")if(i=t.parents().css("transform"),i==""||i=="none")r=n.jqx.utilities.getBrowser(),r.browser=="msie"?(i=t.css("-ms-transform"),(i==""||i=="none")&&(i=t.parents().css("-ms-transform"))):r.browser=="chrome"?(i=t.css("-webkit-transform"),(i==""||i=="none")&&(i=t.parents().css("-webkit-transform"))):r.browser=="opera"?(i=t.css("-o-transform"),(i==""||i=="none")&&(i=t.parents().css("-o-transform"))):r.browser=="mozilla"&&(i=t.css("-moz-transform"),(i==""||i=="none")&&(i=t.parents().css("-moz-transform")));else return i!=""&&i!="none";return(i==""||i=="none")&&(i=n(document.body).css("transform")),i!=""&&i!="none"&&i!=null},getBrowser:function(){var n=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[],i={browser:t[1]||"",version:t[2]||"0"};return n.indexOf("rv:11.0")>=0&&n.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),i[t[1]]=t[1],i}});n.jqx.browser=n.jqx.utilities.getBrowser();n.jqx.isHidden=function(n){try{var t=n[0].offsetWidth,i=n[0].offsetHeight;return t===0||i===0?!0:!1}catch(r){return!1}};n.jqx.ariaEnabled=!0;n.jqx.aria=function(t,i,r){if(n.jqx.ariaEnabled)if(i==undefined)n.each(t.aria,function(i,r){var u=t.base?t.base.host.attr(i):t.host.attr(i),f;if(u==undefined||n.isFunction(u)){u=t[r.name];n.isFunction(u)&&(u=t[r.name]());u==undefined&&(u="");try{t.base?t.base.host.attr(i,u.toString()):t.host.attr(i,u.toString())}catch(e){}}else{f=u;switch(r.type){case"number":f=new Number(u);isNaN(f)&&(f=u);break;case"boolean":f=u=="true"?!0:!1;break;case"date":f=new Date(u);(f=="Invalid Date"||isNaN(f))&&(f=u)}t[r.name]=f}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,r.toString()):t.attr(i,r.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,r.toString()):t.host.attr(i,r.toString()):t.attr(i,r.toString()):t.setAttribute&&t.setAttribute(i,r.toString())}catch(u){}};Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var i=this.length,t=Number(arguments[1])||0;for(t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=i);t<i;t++)if(t in this&&this[t]===n)return t;return-1});n.jqx.mobile=n.jqx.mobile||{};n.jqx.position=function(t){var r=parseInt(t.pageX),u=parseInt(t.pageY),f,i;return n.jqx.mobile.isTouchDevice()&&(f=n.jqx.mobile.getTouches(t),i=f[0],r=parseInt(i.pageX),u=parseInt(i.pageY)),{left:r,top:u}};n.extend(n.jqx.mobile,{_touchListener:function(n){var r=function(n,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(n,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i},i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},u=r(i[n.type],n),t;n.target.dispatchEvent(u);t=n.target["on"+i[n.type]];typeof t=="function"&&t(n)},setMobileSimulator:function(t,i){var f,r,u;this.isTouchDevice()||(this.simulatetouches=!0,i==!1&&(this.simulatetouches=!1),f={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this,window.addEventListener&&(u=function(){for(var n in f)t.addEventListener&&(t.removeEventListener(n,r._touchListener),t.addEventListener(n,r._touchListener,!1))},n.jqx.browser.msie?u():u()))},isTouchDevice:function(){var n,r,t,u;if(this.touchDevice!=undefined)return this.touchDevice;if((n="Browser CodeName: "+navigator.appCodeName+"",n+="Browser Name: "+navigator.appName+"",n+="Browser Version: "+navigator.appVersion+"",n+="Platform: "+navigator.platform+"",n+="User-agent header: "+navigator.userAgent+"",n.indexOf("Android")!=-1)||n.indexOf("IEMobile")!=-1||n.indexOf("Windows Phone")!=-1||n.indexOf("WPDesktop")!=-1||n.indexOf("ZuneWP7")!=-1||n.indexOf("BlackBerry")!=-1&&n.indexOf("Mobile Safari")!=-1||n.indexOf("ipod")!=-1||n.indexOf("nokia")!=-1||n.indexOf("Nokia")!=-1)return!0;if(n.indexOf("Chrome/17")!=-1||n.indexOf("CrOS")!=-1||n.indexOf("Opera")!=-1&&n.indexOf("Mobi")==-1&&n.indexOf("Mini")==-1&&n.indexOf("Platform: Win")!=-1)return!1;if(n.indexOf("Opera")!=-1&&n.indexOf("Mobi")!=-1&&n.indexOf("Opera Mobi")!=-1)return!0;r={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(this.touchDevice!=undefined)return this.touchDevice;this.touchDevice=!1;for(i in r)if(r.hasOwnProperty(i)&&(prefix=r[i],match=n.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return i.toString()=="blackberry"?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);if(t=navigator.userAgent,navigator.platform.toLowerCase().indexOf("win")!=-1){if(t.indexOf("Windows Phone")>=0||t.indexOf("WPDesktop")>=0||t.indexOf("IEMobile")>=0||t.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(t.indexOf("Touch")>=0)return(u="MSPointerDown"in window||"pointerdown"in window,u)?(this.touchDevice=!0,!0):t.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}return navigator.platform.toLowerCase().indexOf("win")!=-1?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(f){return this.touchDevice=!1,!1}},getLeftPos:function(n){for(var t=n.offsetLeft;(n=n.offsetParent)!=null;)n.tagName!="HTML"&&(t+=n.offsetLeft,document.all&&(t+=n.clientLeft));return t},getTopPos:function(t){for(var r=t.offsetTop,u=n(t).coord(),i,f;(t=t.offsetParent)!=null;)t.tagName!="HTML"&&(r+=t.offsetTop-t.scrollTop,document.all&&(r+=t.clientTop));if(i=navigator.userAgent.toLowerCase(),f=(i.indexOf("windows phone")!=-1||i.indexOf("WPDesktop")!=-1||i.indexOf("ZuneWP7")!=-1||i.indexOf("msie 9")!=-1||i.indexOf("msie 11")!=-1||i.indexOf("msie 10")!=-1)&&i.indexOf("touch")!=-1,f)return u.top;if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser())return r;if(i.indexOf("version/7")!=-1)return u.top;r=r+n(window).scrollTop()}return r},isChromeMobileBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("android")!=-1},isOperaMiniMobileBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("opera mini")!=-1||n.indexOf("opera mobi")!=-1},isOperaMiniBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("opera mini")!=-1},isNewSafariMobileBrowser:function(){var n=navigator.userAgent.toLowerCase(),t=n.indexOf("ipad")!=-1||n.indexOf("iphone")!=-1||n.indexOf("ipod")!=-1;return t&&n.indexOf("version/5")!=-1},isSafari4MobileBrowser:function(){var n=navigator.userAgent.toLowerCase(),t=n.indexOf("ipad")!=-1||n.indexOf("iphone")!=-1||n.indexOf("ipod")!=-1;return t&&n.indexOf("version/4")!=-1},isWindowsPhone:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("windows phone")!=-1||n.indexOf("WPDesktop")!=-1||n.indexOf("ZuneWP7")!=-1||n.indexOf("msie 9")!=-1||n.indexOf("msie 11")!=-1||n.indexOf("msie 10")!=-1},isSafariMobileBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("ipad")!=-1||n.indexOf("iphone")!=-1||n.indexOf("ipod")!=-1},isIPadSafariMobileBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("ipad")!=-1},isMobileBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("ipad")!=-1||n.indexOf("iphone")!=-1||n.indexOf("android")!=-1},getTouches:function(n){if(n.originalEvent){if(n.originalEvent.touches&&n.originalEvent.touches.length)return n.originalEvent.touches;if(n.originalEvent.changedTouches&&n.originalEvent.changedTouches.length)return n.originalEvent.changedTouches}return n.touches||(n.touches=[],n.touches[0]=n.originalEvent!=undefined?n.originalEvent:n,n.originalEvent!=undefined&&n.pageX&&(n.touches[0]=n),n.type=="mousemove"&&(n.touches[0]=n)),n.touches},getTouchEventName:function(n){if(this.isWindowsPhone()){var t=navigator.userAgent.toLowerCase();if(t.indexOf("windows phone 8.1")!=-1){if(n.toLowerCase().indexOf("start")!=-1)return"pointerdown";if(n.toLowerCase().indexOf("move")!=-1)return"pointermove";if(n.toLowerCase().indexOf("end")!=-1)return"pointerup"}if(n.toLowerCase().indexOf("start")!=-1)return"MSPointerDown";if(n.toLowerCase().indexOf("move")!=-1)return"MSPointerMove";if(n.toLowerCase().indexOf("end")!=-1)return"MSPointerUp"}else return n},dispatchMouseEvent:function(n,t,i){if(!this.simulatetouches){var r=document.createEvent("MouseEvent");r.initMouseEvent(n,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null);i!=null&&i.dispatchEvent(r)}},getRootNode:function(n){while(n.nodeType!==1)n=n.parentNode;return n},setTouchScroll:function(n,t){this.enableScrolling||(this.enableScrolling=[]);this.enableScrolling[t]=n},touchScroll:function(t,i,r,u,f,e){var w,et,b,k,ot,d,g;if(t!=null){var o=this,h=0,c=0,l=0,a=0,v=0,y=0;this.scrolling||(this.scrolling=[]);this.scrolling[u]=!1;var p=!1,s=n(t),ut=["select","input","textarea"],nt=0,ft=0;this.enableScrolling||(this.enableScrolling=[]);this.enableScrolling[u]=!0;var u=u,tt=this.getTouchEventName("touchstart")+".touchScroll",it=this.getTouchEventName("touchend")+".touchScroll",rt=this.getTouchEventName("touchmove")+".touchScroll",nt=function(t){if(!o.enableScrolling[u])return!0;if(n.inArray(t.target.tagName.toLowerCase(),ut)===-1){var r=o.getTouches(t),i=r[0];return r.length==1&&o.dispatchMouseEvent("mousedown",i,o.getRootNode(i.target)),p=!1,c=i.pageY,v=i.pageX,o.simulatetouches&&i._pageY!=undefined&&(c=i._pageY,v=i._pageX),o.scrolling[u]=!0,h=0,a=0,!0}};if(s.on)s.on(tt,nt);else s.bind(tt,nt);if(w=function(n){var t,i,s,w,b,k,d;return o.enableScrolling[u]?o.scrolling[u]?(t=o.getTouches(n),t.length>1)?!0:(i=t[0].pageY,s=t[0].pageX,o.simulatetouches&&t[0]._pageY!=undefined&&(i=t[0]._pageY,s=t[0]._pageX),w=i-c,b=s-v,ft=i,touchHorizontalEnd=s,l=w-h,y=b-a,p=!0,h=w,a=b,k=f!=null?f[0].style.visibility!="hidden":!0,d=e!=null?e[0].style.visibility!="hidden":!0,(k||d)&&(y!==0&&k||l!==0&&d)?(r(-y*1,-l*1,b,w,n),n.preventDefault(),n.stopPropagation(),n.preventManipulation&&n.preventManipulation(),!1):void 0):!0:!0},s.on)s.on(rt,w);else s.bind(rt,w);if(this.simulatetouches&&(et=n(window).on!=undefined||n(window).bind,b=function(){o.scrolling[u]=!1},n(window).on!=undefined?n(document).on("mouseup.touchScroll",b):n(document).bind("mouseup.touchScroll",b),window.frameElement&&window.top!=null&&(k=function(){o.scrolling[u]=!1},window.top.document&&(n(window.top.document).on?n(window.top.document).on("mouseup",k):n(window.top.document).bind("mouseup",k))),ot=n(document).on!=undefined||n(document).bind,d=function(n){if(!o.scrolling[u])return!0;o.scrolling[u]=!1;var t=o.getTouches(n)[0],i=o.getRootNode(t.target);o.dispatchMouseEvent("mouseup",t,i);o.dispatchMouseEvent("click",t,i)},n(document).on!=undefined?n(document).on("touchend",d):n(document).bind("touchend",d)),g=function(n){var t,i;if(!o.enableScrolling[u]||(t=o.getTouches(n)[0],!o.scrolling[u]))return!0;if(o.scrolling[u]=!1,p)o.dispatchMouseEvent("mouseup",t,i);else return t=o.getTouches(n)[0],i=o.getRootNode(t.target),o.dispatchMouseEvent("mouseup",t,i),o.dispatchMouseEvent("click",t,i),!0},s.on){s.on("dragstart",function(n){n.preventDefault()});s.on("selectstart",function(n){n.preventDefault()})}s.on?s.on(it+" touchcancel.touchScroll",g):s.bind(it+" touchcancel.touchScroll",g)}}});n.jqx.cookie=n.jqx.cookie||{};n.extend(n.jqx.cookie,{cookie:function(t,i,r){var f,u,e,o;return arguments.length>1&&String(i)!=="[object Object]"?(r=n.extend({},r),(i===null||i===undefined)&&(r.expires=-1),typeof r.expires=="number"&&(f=r.expires,u=r.expires=new Date,u.setDate(u.getDate()+f)),i=String(i),document.cookie=[encodeURIComponent(t),"=",r.raw?i:encodeURIComponent(i),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")):(r=i||{},o=r.raw?function(n){return n}:decodeURIComponent,(e=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?o(e[1]):null)}});n.jqx.string=n.jqx.string||{};n.extend(n.jqx.string,{replace:function(n,t,i){if(t===i)return this;for(var r=n,u=r.indexOf(t);u!=-1;)r=r.replace(t,i),u=r.indexOf(t);return r},contains:function(n,t){return n==null||t==null?!1:n.indexOf(t)!=-1},containsIgnoreCase:function(n,t){return n==null||t==null?!1:n.toUpperCase().indexOf(t.toUpperCase())!=-1},equals:function(n,t){return n==null||t==null?!1:(n=this.normalize(n),t.length==n.length)?n.slice(0,t.length)==t:!1},equalsIgnoreCase:function(n,t){return n==null||t==null?!1:(n=this.normalize(n),t.length==n.length)?n.toUpperCase().slice(0,t.length)==t.toUpperCase():!1},startsWith:function(n,t){return n==null||t==null?!1:n.slice(0,t.length)==t},startsWithIgnoreCase:function(n,t){return n==null||t==null?!1:n.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(n){return n.charCodeAt(n.length-1)==65279&&(n=n.substring(0,n.length-1)),n},endsWith:function(n,t){return n==null||t==null?!1:(n=this.normalize(n),n.slice(-t.length)==t)},endsWithIgnoreCase:function(n,t){return n==null||t==null?!1:(n=this.normalize(n),n.toUpperCase().slice(-t.length)==t.toUpperCase())}});n.extend(n.easing,{easeOutBack:function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*((t=t/u-1)*t*((f+1)*t+f)+1)+i},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i}})}(jqxBaseFramework),function(n){n.extend(n.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}});n.fn.extend({ischildof:function(t){for(var u,r=n(this).parents().get(),i=0;i<r.length;i++)if(typeof t!="string"){if(u=r[i],t!==undefined&&u==t[0])return!0}else if(t!==undefined&&n(r[i]).is(t))return!0;return!1}});n.fn.jqxProxy=function(){var t=n(this).data().jqxWidget,r=Array.prototype.slice.call(arguments,0),i=t.element;return i||(i=t.base.element),n.jqx.jqxWidgetProxy(t.widgetName,i,r)};var t=this.originalVal=n.fn.val;n.fn.val=function(i){var r;return typeof i=="undefined"?n(this).hasClass("jqx-widget")&&(r=n(this).data().jqxWidget,r&&r.val)?r.val():t.call(this):n(this).hasClass("jqx-widget")&&(r=n(this).data().jqxWidget,r&&r.val)?arguments.length!=2?r.val(i):r.val(i,arguments[1]):t.call(this,i)};n.fn.coord=function(t){var i,f,u={top:0,left:0},r=this[0],e=r&&r.ownerDocument,h,s;if(e){if(i=e.documentElement,!n.contains(i,r))return u;typeof r.getBoundingClientRect!==undefined&&(u=r.getBoundingClientRect());h=function(t){return n.isWindow(t)?t:t.nodeType===9?t.defaultView||t.parentWindow:!1};f=h(e);var o=0,c=0,l=navigator.userAgent.toLowerCase(),a=l.indexOf("ipad")!=-1||l.indexOf("iphone")!=-1;return a&&(o=2),!0==t&&n(document.body).css("position")!="static"&&(s=n(document.body).coord(),o=-s.left,c=-s.top),{top:c+u.top+(f.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o+u.left+(f.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),function(n){function v(t){return function(i,r){typeof i!="string"&&(r=i,i="*");var u,o,f,s=i.toLowerCase().split(c),e=0,h=s.length;if(n.isFunction(r))for(;e<h;e++)u=s[e],f=/^\+/.test(u),f&&(u=u.substr(1)||"*"),o=t[u]=t[u]||[],o[f?"unshift":"push"](r)}}function u(n,t,i,r,f,e){f=f||t.dataTypes[0];e=e||{};e[f]=!0;for(var s,h=n[f],c=0,a=h?h.length:0,l=n===o;c<a&&(l||!s);c++)s=h[c](t,i,r),typeof s=="string"&&(!l||e[s]?s=undefined:(t.dataTypes.unshift(s),s=u(n,t,i,r,s,e)));return!l&&s||e["*"]||(s=u(n,t,i,r,"*",e)),s}function y(t,i){var r,u,f=n.jqx.data.ajaxSettings.flatOptions||{};for(r in i)i[r]!==undefined&&((f[r]?t:u||(u={}))[r]=i[r]);u&&n.extend(!0,t,u)}function it(n,t,i){var e,r,f,o,s=n.contents,u=n.dataTypes,h=n.responseFields;for(r in h)r in i&&(t[h[r]]=i[r]);while(u[0]==="*")u.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("content-type"));if(e)for(r in s)if(s[r]&&s[r].test(e)){u.unshift(r);break}if(u[0]in i)f=u[0];else{for(r in i){if(!u[0]||n.converters[r+" "+u[0]]){f=r;break}o||(o=r)}f=f||o}if(f)return f!==u[0]&&u.unshift(f),i[f]}function rt(n,t){var i,o,r,e,s=n.dataTypes.slice(),f=s[0],u={},h=0;if(n.dataFilter&&(t=n.dataFilter(t,n.dataType)),s[1])for(i in n.converters)u[i.toLowerCase()]=n.converters[i];for(;r=s[++h];)if(r!=="*"){if(f!=="*"&&f!==r){if(i=u[f+" "+r]||u["* "+r],!i)for(o in u)if(e=o.split(" "),e[1]===r&&(i=u[f+" "+e[0]]||u["* "+e[0]],i)){i===!0?i=u[o]:u[o]!==!0&&(r=e[0],s.splice(h--,0,r));break}if(i!==!0)if(i&&n.throws)t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function b(){try{return new window.XMLHttpRequest}catch(n){}}function et(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}var r,e,w;n.jqx.dataAdapter=function(t,i){var u,r;t!=undefined&&(t.dataFields!==undefined&&(t.datafields=t.dataFields),t.dataType!==undefined&&(t.datatype=t.dataType),t.localData!==undefined&&(t.localdata=t.localData),t.sortColumn!==undefined&&(t.sortcolumn=t.sortColumn),t.sortDirection!==undefined&&(t.sortdirection=t.sortDirection),t.sortOrder!==undefined&&(t.sortdirection=t.sortOrder),t.formatData!==undefined&&(t.formatdata=t.formatData),t.processData!==undefined&&(t.processdata=t.processData),t.pageSize!==undefined&&(t.pagesize=t.pageSize),t.pageNum!==undefined&&(t.pagenum=t.pageNum),t.updateRow!==undefined&&(t.updaterow=t.updateRow),t.addRow!==undefined&&(t.addrow=t.addRow),t.deleteRow!==undefined&&(t.deleterow=t.deleteRow),t.contentType!==undefined&&(t.contenttype=t.contentType),t.totalRecords!=undefined&&(t.totalrecords=t.totalRecords),t.loadError!=undefined&&(t.loadError=t.loadError),t.sortComparer!=undefined&&(t.sortcomparer=t.sortComparer));this._source=t;this._options=i||{};this.records=[];this._downloadComplete=[];this._bindingUpdate=[];t!=undefined&&t.localdata!=null&&typeof t.localdata=="function"&&(u=t.localdata(),u!=null&&(t._localdata=t.localdata,r=this,t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return n.isArray(t)?n.makeArray(i(n(t))):n.extend(!0,{},t)};(r.suspendKO==!1||r.suspendKO==undefined||r._oldlocaldata.length==0)&&(r._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(n){if(r.suspendKO==!1||r.suspendKO==undefined){var i="";r._oldrecords=r.records;r._oldlocaldata.length==0&&(t.localdata=t._localdata());r._oldlocaldata.length==0?i="change":n&&(r._oldlocaldata.length==n.length&&(i="update"),r._oldlocaldata.length>n.length&&(i="remove"),r._oldlocaldata.length<n.length&&(i="add"));r.dataBind(null,i)}},t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=u));this._options.autoBind==!0&&this.dataBind()};n.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(n){this.isUpdating=!1;n!=!1&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,r){return n.jqx.dataFormat.formatdate(t,i,r)},formatNumber:function(t,i,r){return n.jqx.dataFormat.formatnumber(t,i,r)},dataBind:function(t,i){var r,f,w,u,a,tt,b,o,k,et,c,it,d,s,e,g,v,y,ot,p,h,l,rt,ut,nt,ft;if(this.isUpdating!=!0&&(r=this._source,r)){if(n.jqx.dataFormat.datescache=[],r.dataFields!=null&&(r.datafields=r.dataFields),r.recordstartindex==undefined&&(r.recordstartindex=0),r.recordendindex==undefined&&(r.recordendindex=0),r.loadallrecords==undefined&&(r.loadallrecords=!0),r.sort!=undefined&&(this.sort=r.sort),this.filter=r.filter!=undefined?r.filter:null,r.sortcolumn!=undefined&&(this.sortcolumn=r.sortcolumn),r.sortdirection!=undefined&&(this.sortdirection=r.sortdirection),r.sortcomparer!=undefined&&(this.sortcomparer=r.sortcomparer),this.records=[],f=this._options||{},this.virtualmode=f.virtualmode!=undefined?f.virtualmode:!1,this.totalrecords=f.totalrecords!=undefined?f.totalrecords:0,this.pageable=f.pageable!=undefined?f.pageable:!1,this.pagesize=f.pagesize!=undefined?f.pagesize:0,this.pagenum=f.pagenum!=undefined?f.pagenum:0,this.cachedrecords=f.cachedrecords!=undefined?f.cachedrecords:[],this.originaldata=[],this.recordids=[],this.updaterow=f.updaterow!=undefined?f.updaterow:null,this.addrow=f.addrow!=undefined?f.addrow:null,this.deleterow=f.deleterow!=undefined?f.deleterow:null,this.cache=f.cache!=undefined?f.cache:!1,this.unboundmode=!1,r.formatdata!=undefined&&(f.formatData=r.formatdata),r.data!=undefined&&(f.data==undefined&&(f.data={}),n.extend(f.data,r.data)),this.mapChar=r.mapchar!=undefined?r.mapchar?r.mapchar:">":f.mapChar?f.mapChar:">",(f.unboundmode||r.unboundmode)&&(this.unboundmode=f.unboundmode||r.unboundmode),r.cache!=undefined&&(this.cache=r.cache),this.koSubscriptions)for(w=0;w<this.koSubscriptions.length;w++)this.koSubscriptions[w].dispose();this.koSubscriptions=[];this.pagenum<0&&(this.pagenum=0);u=this;a=r.datatype;(r.datatype==="csv"||r.datatype==="tab"||r.datatype==="tsv"||r.datatype=="text")&&(a="text");tt=f.async!=undefined?f.async:!0;r.async!=undefined&&(tt=r.async);switch(a){case"local":case"array":case"observablearray":default:if(r.localdata==undefined&&r.length)for(r.localdata=[],e=0;e<r.length;e++)r.localdata[r.localdata.length]=r[e],r[e].uid=e;if(r.beforeprocessing&&n.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata),s=r.localdata.length,this.totalrecords=this.virtualmode?r.totalrecords||s:s,this.unboundmode&&(this.totalrecords=this.unboundmode?r.totalrecords||s:s,o=r.datafields?r.datafields.length:0,o>0))for(e=0;e<this.totalrecords;e++){for(c={},b=0;b<o;b++)c[r.datafields[b].name]="";c.uid=e;r.localdata[r.localdata.length]=c}if(this.totalrecords==undefined&&(this.totalrecords=0),o=r.datafields?r.datafields.length:0,k=function(t,i){for(var e,f,s,o,h,c={},l=0;l<i;l++)if(e=r.datafields?r.datafields[l]:{},f="",undefined!=e&&e!=null){if(e.map){if(n.isFunction(e.map))f=e.map(t);else if(s=e.map.split(u.mapChar),s.length>0){for(o=t,h=0;h<s.length;h++)o&&(o=o[s[h]]);f=o}else f=t[e.map];f!=undefined&&f!=null?f=f.toString():f==undefined&&f!=null&&(f="")}f==""&&(f=t[e.name],f!=undefined&&f!=null&&(r._localdata&&f.subscribe?f=f():e.type!="array"&&(f=f.toString())));f=u.getvaluebytype(f,e);e.displayname!=undefined?c[e.displayname]=f:c[e.name]=f}return c},r._localdata){if(this._changedrecords=[],this.records=[],et=r._localdata(),n.each(et,function(t,f){var l,c,a;if(typeof f=="string")u.records.push(f);else{var e={},h=0,s=this;n.each(this,function(i){var a=null,v="string",l=i,b,d,k,c,g,nt,f,y,p,w;if(o>0){for(b=!1,d=!1,k=0;k<o;k++)if(c=r.datafields[k],c!=undefined&&c.name==i){b=!0;a=c.map;v=c.type;l=c.name;break}else if(c!=undefined&&c.map&&c.map.indexOf(i)>=0){if(b=!0,a=c.map,v=c.type,l=c.name,d=!0,f=s[i],a!=null)if(y=a.split(u.mapChar),y.length>0){for(p=s,w=0;w<y.length;w++)p=p[y[w]];f=p}else f=s[a];v!="string"&&(f=u.getvaluebytype(f,{type:v}));e[l]=f;e[l]!=undefined&&(h+=e[l].toString().length+e[l].toString().substr(0,1))}if(!b||d)return!0}if(g=n.isFunction(s[i]),g)f=s[i](),v!="string"&&(f=u.getvaluebytype(f,{type:v})),e[i]=f,s[i].subscribe&&(nt=t,u.koSubscriptions[u.koSubscriptions.length]=s[i].subscribe(function(n){var r=nt,t;if(e[i]=n,t={index:r,oldrecord:e,record:e},u._changedrecords.push(t),!u.isUpdating)return u.callBindingUpdate("update"),u._changedrecords=[],!1}));else{if(f=s[i],a!=null)if(y=a.split(u.mapChar),y.length>0){for(p=s,w=0;w<y.length;w++)p=p[y[w]];f=p}else f=s[a];v!="string"&&(f=u.getvaluebytype(f,{type:v}));e[l]=f;e[l]!=undefined&&(h+=e[l].toString().length+e[l].toString().substr(0,1))}});l=u.getid(r.id,s,t);e.uid=l;u.records.push(e);e._koindex=h;u._oldrecords&&(c=u.records.length-1,i=="update"&&u._oldrecords[c]._koindex!=h&&(a={index:c,oldrecord:u._oldrecords[c],record:e},u._changedrecords.push(a)))}}),i=="add")for(s=u.records.length,e=0;e<s;e++){for(c=u.records[e],it=!1,d=0;d<u._oldrecords.length;d++)if(u._oldrecords[d]._koindex===c._koindex){it=!0;break}it||u._changedrecords.push({index:e,oldrecord:null,record:c,position:e!=0?"last":"first"})}else if(i=="remove")for(s=u._oldrecords.length,e=0;e<s;e++)g=u._oldrecords[e],u.records[e]?u.records[e]._koindex!=g._koindex&&u._changedrecords.push({index:e,oldrecord:g,record:null}):u._changedrecords.push({index:e,oldrecord:g,record:null})}else n.isArray(r.localdata)?o==0?(v=0,y=[],n.each(r.localdata,function(t,i){var e=n.extend({},this),f,s,c,h;if(typeof i=="string")return u.records=r.localdata,!1;if(f=u.getid(r.id,e,t),typeof f=="object"&&(f=t),e.uid=f,t==0){for(s in this)v++,c=n.type(this[s]),y.push({name:s,type:c});o=v;r.datafields=y}o>0?(h=k(e,o),h.uid=f,u.records[u.records.length]=h):u.records[u.records.length]=e})):n.each(r.localdata,function(t){var i=this,e=k(i,o),f=u.getid(r.id,e,t);typeof f=="object"&&(f=t);i=n.extend({},e);i.uid=f;u.records[u.records.length]=i}):(this.records=[],v=0,y=[],n.each(r.localdata,function(t){var e=u.getid(r.id,this,t),i,s,h,f;if(o==0&&!(typeof this=="string"||this instanceof String)){for(i in this)v++,s=n.type(this[i]),y.push({name:i,type:s});o=v;r.datafields=y}o>0?(h=this,f=k(h,o),f.uid=e,u.records[u.records.length]=f):(this.uid=e,u.records[u.records.length]=this)}));this.originaldata=r.localdata;this.cachedrecords=this.records;this.addForeignValues(r);f.uniqueDataFields&&(p=this.getUniqueRecords(this.records,f.uniqueDataFields),this.records=p,this.cachedrecords=p);f.beforeLoadComplete&&(h=f.beforeLoadComplete(u.records,this.originaldata),h!=undefined&&(u.records=h,u.cachedrecords=h));f.autoSort&&f.autoSortField&&(ot=Object.prototype.toString,Object.prototype.toString=typeof field=="function"?field:function(){return this[f.autoSortField]},u.records.sort(function(t,i){if(t===undefined&&(t=null),i===undefined&&(i=null),t===null&&i===null)return 0;if(t===null&&i!==null)return 1;if(t!==null&&i===null)return-1;if((t=t.toString(),i=i.toString(),n.jqx.dataFormat.isNumber(t)&&n.jqx.dataFormat.isNumber(i))||n.jqx.dataFormat.isDate(t)&&n.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;n.jqx.dataFormat.isNumber(t)||n.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(r){var u=r}return 0}),Object.prototype.toString=ot);u.loadedData=r.localdata;u.buildHierarchy();n.isFunction(f.loadComplete)&&f.loadComplete(r.localdata,u.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(r.localdata!=null){n.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata);r.datatype==="xml"?u.loadxml(r.localdata,r.localdata,r):a==="text"?u.loadtext(r.localdata,r):u.loadjson(r.localdata,r.localdata,r);u.addForeignValues(r);f.uniqueDataFields&&(p=u.getUniqueRecords(u.records,f.uniqueDataFields),u.records=p,u.cachedrecords=p);f.beforeLoadComplete&&(h=f.beforeLoadComplete(u.records,this.originaldata),h!=undefined&&(u.records=h,u.cachedrecords=h));u.loadedData=r.localdata;u.buildHierarchy.call(u);n.isFunction(f.loadComplete)&&f.loadComplete(r.localdata,u.records);u.callBindingUpdate(i);return}l=f.data!=undefined?f.data:{};r.processdata&&r.processdata(l);n.isFunction(f.processData)&&f.processData(l);n.isFunction(f.formatData)&&(rt=f.formatData(l),rt!=undefined&&(l=rt));ut="application/x-www-form-urlencoded";f.contentType&&(ut=f.contentType);nt="GET";r.type&&(nt=r.type);f.type&&(nt=f.type);r.url&&r.url.length>0?n.isFunction(f.loadServerData)?u._requestData(l,r,f):this.xhr=n.jqx.data.ajax({dataType:a,cache:this.cache,type:nt,url:r.url,async:tt,timeout:r.timeout,contentType:ut,data:l,success:function(t,i,e){var o,s,c,h;if(n.isFunction(r.beforeprocessing)&&(o=r.beforeprocessing(t,i,e),o!=undefined&&(t=o)),n.isFunction(f.downloadComplete)&&(o=f.downloadComplete(t,i,e),o!=undefined&&(t=o)),t==null){u.records=[];u.cachedrecords=[];u.originaldata=[];u.callDownloadComplete();n.isFunction(f.loadComplete)&&f.loadComplete([]);return}s=t;t.records&&(s=t.records);t.totalrecords!=undefined&&(r.totalrecords=t.totalrecords);r.datatype==="xml"?u.loadxml(null,s,r):a==="text"?u.loadtext(s,r):u.loadjson(null,s,r);u.addForeignValues(r);f.uniqueDataFields&&(c=u.getUniqueRecords(u.records,f.uniqueDataFields),u.records=c,u.cachedrecords=c);f.beforeLoadComplete&&(h=f.beforeLoadComplete(u.records,t),h!=undefined&&(u.records=h,u.cachedrecords=h));u.loadedData=t;u.buildHierarchy.call(u);u.callDownloadComplete();n.isFunction(f.loadComplete)&&f.loadComplete(t,i,e,u.records)},error:function(t,i,e){n.isFunction(r.loaderror)&&r.loaderror(t,i,e);n.isFunction(f.loadError)&&f.loadError(t,i,e);t=null;u.callDownloadComplete()},beforeSend:function(t,i){n.isFunction(f.beforeSend)&&f.beforeSend(t,i);n.isFunction(r.beforesend)&&r.beforesend(t,i)}}):(u.buildHierarchy([]),u.callDownloadComplete(),n.isFunction(f.loadComplete)&&(ft||(ft={}),f.loadComplete(ft)))}this.callBindingUpdate(i)}},buildHierarchy:function(n){var i=this._source,u=[],o,t,e,r,s,l,h,c,f;if(i.datafields&&(i.hierarchy&&!i.hierarchy.reservedNames?i.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}:i.hierarchy&&(t=i.hierarchy.reservedNames,t.leaf||(t.leaf="leaf"),t.parent||(t.parent="parent"),t.expanded||(t.expanded="expanded"),t.checked||(t.checked="checked"),t.selected||(t.selected="selected"),t.level||(t.level="level"),t.data||(t.data="data")),i.hierarchy)){if(o=this,t=i.hierarchy.reservedNames,i.hierarchy.root){if(i.dataType=="xml")return u=this.getRecordsHierarchy("uid","parentuid","records",null,n),this.hierarchy=u,u;for(this.hierarchy=this.records,e=i.hierarchy.root,f=0;f<this.records.length;f++)(r=this.records[f],r)&&(s=function(n){var u,f,r,s;if(i.hierarchy.record)n.records=n[e][i.hierarchy.record];else{if(u=e.split(o.mapChar),f=null,u.length>1){for(r=n,s=0;s<u.length;s++)r!=undefined&&(r=r[u[s]]);f=r}else f=n[e];n.records=f}(n.records==null||n.records&&n.records.length==0)&&(n[t.leaf]=!0)},s(r),r[t.level]=0,l=this.getid(i.id,r,f),r.uid=l,r[t.parent]=null,r[t.data]=r,r[t.expanded]===undefined&&(r[t.expanded]=!1),h=function(n,r){var f,u,e;if(!r){n.records=[];return}for(f=0;f<r.length;f++)(u=r[f],u)&&(s(u),u[t.level]=n[t.level]+1,u[t.parent]=n,u[t.data]=u,e=o.getid(i.id,u,f),u.uid=e==f&&i.id==null?n.uid+"_"+e:e,u[t.expanded]===undefined&&(u[t.expanded]=!1),h(u,u.records))},h(r,r.records));return this.hierarchy}if(i.hierarchy.keyDataField&&i.hierarchy.parentDataField)return u=this.getRecordsHierarchy(i.hierarchy.keyDataField.name,i.hierarchy.parentDataField.name,"records",null,n),this.hierarchy=u,u;if(i.hierarchy.groupingDataFields){for(c=[],f=0;f<i.hierarchy.groupingDataFields.length;f++)c.push(i.hierarchy.groupingDataFields[f].name);return u=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",n),this.hierarchy=u,u}}},addRecord:function(n,t,i,r){var u=this,o=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}},e,f;if(n!=undefined)if(i!=undefined)this.hierarchy.length>0&&(e=function(r){var h,f,s;if(r)for(h=0;h<r.length;h++){if(f=r[h],f.uid==i)return s=u._source&&u._source.hierarchy?u._source.hierarchy.reservedNames:null,s==null&&(s=o()),n[s.parent]=f,n[s.level]=f[s.level]+1,f.records?f[s.leaf]=!1:(f.records=[],f[s.leaf]=!1),t=="last"?f.records.push(n):typeof t=="number"&&isFinite(t)?f.records.splice(t,0,n):f.records.splice(0,0,n),!0;f.records&&e(f.records)}},e(this.hierarchy));else return this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||r)?(f=u._source&&u._source.hierarchy?u._source.hierarchy.reservedNames:null,f==null&&(f=o()),n[f.level]=0,t=="last"?this.hierarchy.push(n):typeof t=="number"&&isFinite(t)?this.hierarchy.splice(t,0,n):this.hierarchy.splice(0,0,n)):t=="last"?this.records.push(n):typeof t=="number"&&isFinite(t)?this.records.splice(t,0,n):this.records.splice(0,0,n),!0;return!1},deleteRecord:function(n){var t=this,r,i,u;if(this.hierarchy.length>0)r=function(i){var f,o,e,u;if(i)for(f=0;f<i.length;f++){if(u=i[f],u.uid==n){for(i.splice(f,1),t.recordids[n]&&delete t.recordids[n],o=function(n){for(var u,r,f,i=0;i<n.length;i++){for(u=n[i].uid,r=0;r<t.records.length;r++)if(f=t.records[r],f.uid==u){t.records.splice(r,1);break}n[i].records&&o(n[i].records)}},u.records&&o(u.records),e=0;e<t.records.length;e++)if(u=t.records[e],u.uid==n){t.records.splice(e,1);break}return!0}u.records&&r(u.records)}},r(this.hierarchy);else for(i=0;i<this.records.length;i++)if(u=this.records[i],u.uid==n)return this.records.splice(i,1),!0;return!1},addForeignValues:function(n){for(var t,o,e,r,h,c,l,v,u,f,i=this,p=n.datafields?n.datafields.length:0,a=0;a<p;a++)if(t=n.datafields[a],t!=undefined)if(t.values!=undefined)for(t.value==undefined&&(t.value=t.name),t.values.value==undefined&&(t.values.value=t.value),o=[],i.pageable&&i.virtualmode?(e=i.pagenum*i.pagesize,r=e+i.pagesize,r>i.totalrecords&&(r=i.totalrecords)):i.virtualmode?(e=n.recordstartindex,r=n.recordendindex,r>i.totalrecords&&(r=i.totalrecords)):(e=0,r=i.records.length),u=e;u<r;u++){var f=i.records[u],y=t.name,s=f[t.value];if(o[s]!=undefined)f[y]=o[s];else for(h=0;h<t.values.source.length;h++)if(c=t.values.source[h],l=c[t.values.value],l==undefined&&(l=c.uid),l==s){v=c[t.values.name];f[y]=v;o[s]=v;break}}else if(t.value!=undefined)for(u=0;u<i.records.length;u++)f=i.records[u],f[t.name]=f[t.value]},abort:function(){this.xhr&&this.xhr.readyState!=4&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,i,r){var u=this,f=function(t){var s,e,f,o;for(t.totalrecords&&(i.totalrecords=t.totalrecords,u.totalrecords=t.totalrecords),t.records&&(u.records=t.records,u.cachedrecords=t.records),u.addForeignValues(i),r.uniqueDataFields&&(s=u.getUniqueRecords(u.records,r.uniqueDataFields),u.records=s,u.cachedrecords=s),r.beforeLoadComplete&&(e=r.beforeLoadComplete(u.records,data),e!=undefined&&(u.records=e,u.cachedrecords=e)),f=0;f<u.records.length;f++)o=u.records[f],undefined==o.uid&&(o.uid=u.getid(i.id,o,f));u.buildHierarchy.call(u);n.isFunction(r.loadComplete)&&r.loadComplete(t);u.callDownloadComplete()};r.loadServerData(t,i,f)},getUniqueRecords:function(n,t){var i,r,u,f,s;if(n&&t){var h=n.length,c=t.length,e=[],o=[];for(i=0;i<h;i++)if(r=n[i],u="",r!=undefined){for(f=0;f<c;f++)s=t[f],u+=r[s]+"_";o[u]||(e[e.length]=r);o[u]=!0}}return e},getAggregatedData:function(t,i,r,u){var c=r,l,p,w,v,s,f,o,y;c||(c=this.records);var e={},a=[],h=c.length;if(h!=0&&h!=undefined){for(l=0;l<h;l++)for(p=c[l],s=0;s<t.length;s++)(f=t[s],o=p[f.name],o!==null)&&f.aggregates&&(e[f.name]=e[f.name]||{},a[f.name]=a[f.name]||0,a[f.name]++,w=function(t){for(obj in t){var i=e[f.name][obj];i==null&&(e[f.name][obj]=0,i=0);n.isFunction(t[obj])&&(i=t[obj](i,o,f.name,p,u));e[f.name][obj]=i}},v=parseFloat(o),v=isNaN(v)?!1:!0,v&&(o=parseFloat(o)),typeof o=="number"&&isFinite(o)?n.each(f.aggregates,function(){var n=e[f.name][this];if(n==null&&(n=0,this=="min"&&(n=9999999999999),this=="max"&&(n=-9999999999999)),this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp")n+=parseFloat(o);else if(this=="product")l==0?n=parseFloat(o):n*=parseFloat(o);else if(this=="min")n=Math.min(n,parseFloat(o));else if(this=="max")n=Math.max(n,parseFloat(o));else if(this=="count")n++;else if(typeof this=="object"){w(this);return}e[f.name][this]=n}):n.each(f.aggregates,function(){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){var n=e[f.name][this];return n==null&&(n=0),e[f.name][this]=n,!0}typeof this=="object"&&w(this)}));for(s=0;s<t.length;s++)f=t[s],e[f.name]||(e[f.name]={},n.each(f.aggregates,function(){e[f.name][this]=0})),e[f.name].avg!=undefined?(o=e[f.name].avg,y=a[f.name],e[f.name].avg=y===0||y==undefined?0:o/y):e[f.name].count!=undefined&&(e[f.name].count=h),(e[f.name].stdev||e[f.name].stdevp||e[f.name]["var"]||e[f.name].varp)&&n.each(f.aggregates,function(){var t,s,r,n;if(this=="stdev"||this=="var"||this=="varp"||this=="stdevp"){var l=e[f.name][this],u=h,o=l/h,i=0;for(t=0;t<h;t++)s=c[t],r=s[f.name],i+=(r-o)*(r-o);n=this=="stdevp"||this=="varp"?u:u-1;n==0&&(n=1);this=="var"||this=="varp"?e[f.name][this]=i/n:(this=="stdevp"||this=="stdev")&&(e[f.name][this]=Math.sqrt(i/n))}}),f.formatStrings&&n.each(f.aggregates,function(t){var u=f.formatStrings[t],r;if(u)if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp")r=e[f.name][this],e[f.name][this]=n.jqx.dataFormat.formatnumber(r,u,i);else if(typeof this=="object")for(obj in this)r=e[f.name][obj],e[f.name][obj]=n.jqx.dataFormat.formatnumber(r,u,i)});return e}},bindDownloadComplete:function(n,t){this._downloadComplete[this._downloadComplete.length]={id:n,func:t}},unbindDownloadComplete:function(n){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==n){this._downloadComplete[t].func=null;this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var t,n=0;n<this._downloadComplete.length;n++)t=this._downloadComplete[n],t.func!=null&&t.func()},setSource:function(n){this._source=n},generatekey:function(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},getGroupedRecords:function(t,i,r,u,f,e,o,s,h){var rt=this,nt,v,s,ft,et,k,l,y,ot,st,it,w,d,ht,g,a;for(h||(h=0),nt=[],v=0;v<t.length;v++)nt[v]=rt.generatekey();i||(i="items");r||(r="group");f||(f="record");o||(o="parentItem");undefined===e&&(e="value");var tt=[],ct=0,b=[],ut=t.length;for(s||(s=this.records),ft=s.length,et=function(t){var i=t;return u&&n.each(u,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},k=0;k<ft;k++){for(l=et(s[k]),id=l[rt.uniqueId],y=[],ot=0,v=0;v<ut;v++)(st=t[v],it=l[st],null!=it)&&(y[ot++]={value:it,hash:nt[v]});if(y.length!=ut)break;var c=null,p="",lt=-1;for(w=0;w<y.length;w++){if(lt++,d=y[w].value,ht=y[w].hash,p=p+"_"+ht+"_"+d,b[p]!=undefined&&b[p]!=null){c=b[p];continue}c==null?(c={level:0},c[o]=null,c[r]=d,c[f]=l,c.expanded=l.expanded!==undefined?l.expanded:!1,e&&(c[e]=l[e]),c[i]=[],g=tt.length+h,(!this._source.id||typeof l.uid=="number"||isFinite(l.uid))&&(g="Row"+g),c.uid=g,tt[ct++]=c):(a={level:c.level+1},a[o]=c,a[r]=d,a[i]=[],a[f]=l,a.expanded=l.expanded!==undefined?l.expanded:!1,e&&(a[e]=l[e]),a.uid=c.uid+"_"+c[i].length,c[i][c[i].length]=a,c=a);b[p]=c}l&&(l.leaf=!0);c!=null?(this._source.id==null&&(l.uid=c.uid+"_"+c[i].length),l[o]=c,l.level=c.level+1,c[i][c[i].length]=l):l.uid||(l.uid=this.generatekey())}return tt},getRecordsHierarchy:function(t,i,r,u,f){var v=[],d=this.records,s,h,c,tt,o,a,k;if(f&&(d=f),this.records.length==0)return null;var y=r!=null?r:"items",l=[],b=d,g=b.length,e=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,nt=function(t){var i=t;return u&&n.each(u,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i};for(s=0;s<g;s++){var h=n.extend({},b[s]),p=h[i],w=h[t];l[w]={parentid:p,item:h}}for(s=0;s<g;s++){var h=n.extend({},b[s]),p=h[i],w=h[t];l[p]!=undefined?(h={parentid:p,item:l[w].item},c=l[p].item,c[y]||(c[y]=[]),tt=c[y].length,o=h.item,e?o[e.parent]==undefined&&(o[e.parent]=c):o.parent==undefined&&(o.parent=c),a=nt(o),c[y][tt]=a,l[p].item=c,l[w]=h):(o=l[w].item,e?o[e.parent]==undefined&&(o[e.parent]=null):o.parent==undefined&&(o.parent=null),a=nt(o),e?a[e.level]=0:a.level=0,v[v.length]=a)}return v.length!=0&&(k=function(n,t){for(var r,i=0;i<t.length;i++)e?t[i][e.level]=n:t[i].level=n,r=t[i][y],r?r.length>0?k(n+1,r):e?t[i][e.leaf]=!0:t[i].leaf=!0:e?t[i][e.leaf]=!0:t[i].leaf=!0},k(0,v)),v},bindBindingUpdate:function(n,t){this._bindingUpdate[this._bindingUpdate.length]={id:n,func:t}},unbindBindingUpdate:function(n){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==n){this._bindingUpdate[t].func=null;this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(n){for(var i,t=0;t<this._bindingUpdate.length;t++)i=this._bindingUpdate[t],i.func!=null&&i.func(n)},getid:function(t,i,r){var u,e,f,o;if(t!=null&&t.name!=undefined&&t.name){if(u=n(i).attr(t.name),u!=null&&u.toString().length>0)return u;if(t.map)try{if(u=n(i).attr(t.map),u!=null&&u.toString().length>0)return u;if(n(t.map,i).length>0)return n(t.map,i).text();if(n(t.name,i).length>0)return n(t.name,i).text()}catch(s){return r}return}if(n(t,i).length>0)return n(t,i).text();if(t&&t.toString().length>0){if(u=n(i).attr(t),u!=null&&u.toString().length>0)return u;if(e=t.split(this.mapChar),e.length>1){for(f=i,o=0;o<e.length;o++)f!=undefined&&(f=f[e[o]]);if(f!=undefined)return f}else if(i[t]!=undefined)return i[t]}return r},loadjson:function(t,i,r){var t,y,h,a,p,c,w,b,ut,k,ft,d,l,s,v,nt,tt,f,u,e,g,o,it,rt;if(typeof t=="string"&&(t=n.parseJSON(t)),r.root==undefined&&(r.root=""),r.record==undefined&&(r.record=""),t=t||i,t||(t=[]),y=this,r.root!=""){if(e=r.root.split(y.mapChar),e.length>1){for(h=t,o=0;o<e.length;o++)h!=undefined&&(h=h[e[o]]);t=h}else if(t[r.root]!=undefined?t=t[r.root]:n.each(t,function(){var n=this;if(this==r.root)return t=this,!1;this[r.root]!=undefined&&(t=this[r.root])}),!t&&(e=r.root.split(y.mapChar),e.length>0)){for(h=t,o=0;o<e.length;o++)h!=undefined&&(h=h[e[o]]);t=h}}else if(!t.length)for(obj in t)if(n.isArray(t[obj])){t=t[obj];break}if(t!=null&&t.length==undefined&&(t=n.makeArray(t)),t==null||t.length==undefined){alert("JSON Parse error.");return}if(t.length==0){this.totalrecords=0;return}if(a=t.length,this.totalrecords=this.virtualmode?r.totalrecords||a:a,this.records=[],this.originaldata=[],p=this.records,c=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,this.recordids=[],r.loadallrecords&&(c=0,a=this.totalrecords),w=0,this.virtualmode&&(c=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,w=c,c=0,a=this.totalrecords),b=r.datafields?r.datafields.length:0,b==0){ut=t[0];k=[];for(obj in ut)ft=obj,k[k.length]={name:ft};r.datafields=k;b=k.length}for(d=c,l=c;l<a;l++){if(s=t[l],s==undefined)break;if((!r.record||r.record==""||(s=s[r.record],s!=undefined))&&(v=this.getid(r.id,s,l),typeof v=="object"&&(v=l),!this.recordids[v])){for(this.recordids[v]=s,nt={},tt=0;tt<b;tt++)if(f=r.datafields[tt],u="",undefined!=f&&f!=null){if(f.map){if(n.isFunction(f.map))u=f.map(s);else if(e=f.map.split(y.mapChar),e.length>0){for(g=s,o=0;o<e.length;o++)g!=undefined&&(g=g[e[o]]);u=g}else u=s[f.map];u!=undefined&&u!=null?u=this.getvaluebytype(u,f):u==undefined&&u!=null&&(u="")}u!=""||f.map||(u=s[f.name],u==undefined&&u!=null&&(u=""),f.value!=undefined&&u!=undefined&&(it=u[f.value],it!=undefined&&(u=it)));u=this.getvaluebytype(u,f);f.displayname!=undefined?nt[f.displayname]=u:nt[f.name]=u;f.type==="array"&&(rt=function(t){var o,f,s,u,i,h,e,c,l;if(t)for(o=0;o<t.length;o++)if(f=t[o],f)for(s=0;s<b;s++)if(u=r.datafields[s],i="",undefined!=u&&u!=null){if(u.map){if(n.isFunction(u.map))i=u.map(f);else if(h=u.map.split(y.mapChar),h.length>0){for(e=f,c=0;c<h.length;c++)e!=undefined&&(e=e[h[c]]);i=e}else i=f[u.map];i!=undefined&&i!=null?i=this.getvaluebytype(i,u):i==undefined&&i!=null&&(i="")}i!=""||u.map||(i=f[u.name],i==undefined&&i!=null&&(i=""),u.value!=undefined&&i!=undefined&&(l=i[u.value],l!=undefined&&(i=l)));i=this.getvaluebytype(i,u);u.displayname!=undefined?f[u.displayname]=i:f[u.name]=i;u.type==="array"&&rt.call(this,i)}},rt.call(this,u))}(r.recordendindex<=0||c<r.recordendindex)&&(p[w+d]=n.extend({},nt),p[w+d].uid=v,this.originaldata[w+d]=n.extend({},p[l]),d++)}}this.records=p;this.cachedrecords=this.records},loadxml:function(t,i,r){var t,l,a,h,y,b,it,p,rt,w,ut,k,d,g,f,u,nt,s,c,st,o,e,tt,v;if(typeof t=="string"&&(t=i=n(n.parseXML(t)),t=null),r.root==undefined&&(r.root=""),r.record==undefined&&(r.record=""),t=n.jqx.browser.msie&&i?i.xml!=undefined?n(r.root+" "+r.record,n.parseXML(i.xml)):t||n(r.root+" "+r.record,i):t||n(r.root+" "+r.record,i),t||(t=[]),l=t.length,t.length!=0){if(this.totalrecords=this.virtualmode?r.totalrecords||l:l,this.records=[],this.originaldata=[],a=this.records,h=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,this.recordids=[],r.loadallrecords&&(h=0,l=this.totalrecords),y=0,this.virtualmode&&(h=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,y=h,h=0,l=this.totalrecords),b=r.datafields?r.datafields.length:0,b==0){it=t[0];p=[];for(obj in it)rt=obj,p[p.length]={name:rt};r.datafields=p;b=p.length}for(w=h,ut=!1,o=h;o<l;o++){if(e=t[o],e==undefined)break;if(v=this.getid(r.id,e,o),!this.recordids[v]){for(this.recordids[v]=e,k={},d=!1,r.hierarchy&&r.hierarchy.root&&(d=!0),g=0;g<b;g++)if(f=r.datafields[g],u="",undefined!=f&&f!=null){if(f.map)if(n.isFunction(f.map))u=f.map(e);else{if(nt=f.map.indexOf("["),nt<0)if(u=n(f.map,e),u.length==1)u=u.text();else{for(ut=!0,s=[],c=0;c<u.length;c++)s.push(n(u[c]).text());u=s;d&&s.length>0&&(u=s[0])}else{var et=f.map.substring(0,nt-1),ot=f.map.indexOf("]"),ft=f.map.substring(nt+1,ot);u=n(et,e).attr(ft);u==undefined&&(u=n(e).attr(ft));u==undefined&&(u="")}u==""&&(u=n(e).attr(f.map),u==undefined&&(u=""))}if(u==""){if(u=n(f.name,e),u.length==1)u=u.text();else{for(s=[],c=0;c<u.length;c++)s.push(n(u[c]).text());u=s;d&&s.length>0&&(u=s[0])}u==""&&(u=n(e).attr(f.name),u==undefined&&(u=""));u==""&&e.nodeName&&e.nodeName==f.name&&e.firstChild&&(u=n(e.firstChild).text())}st=u;u=this.getvaluebytype(u,f);f.displayname!=undefined?k[f.displayname]=u:k[f.name]=u}(r.recordendindex<=0||h<r.recordendindex)&&(a[y+w]=n.extend({},k),a[y+w].uid=v,this.originaldata[y+w]=n.extend({},a[o]),w++)}}if(r.hierarchy&&r.hierarchy.root)for(o=h;o<l;o++)e=t[o],tt=a[o],n(e).parent().length>0?(v=this.getid(r.id,n(e).parents(r.hierarchy.record+":first")),tt.parentuid=v):tt.parentuid=null;this.records=a;this.cachedrecords=this.records}},loadtext:function(t,i){var l,s,a,k,v,r,y,u,p,w,o,f,h,d;if(t!=null){var g=i.rowDelimiter||this.rowDelimiter||"\n",c=t.split(g),e=c.length,b=t.split("\r");for(e==1&&b.length>1&&(c=b,e=c.length),this.totalrecords=this.virtualmode?i.totalrecords||e:e,this.records=[],this.originaldata=[],l=this.records,s=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,this.recordids=[],i.loadallrecords&&(s=0,e=this.totalrecords),a=0,this.virtualmode&&(s=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,a=s,s=0,e=this.totalrecords),k=i.datafields.length,v=i.columnDelimiter||this.columnDelimiter,v||(v=i.datatype==="tab"||i.datatype==="tsv"?"\t":","),r=s;r<e;r++)if(y=c[r],u=null,!this.recordids[u]){for(i.id==null&&(u=r,this.recordids[u]=y),p={},w=c[r].split(v),o=0;o<k;o++)o>=w.length||(f=i.datafields[o],h=w[o],f.map&&n.isFunction(f.map)&&(h=f.map(y)),f.type&&(h=this.getvaluebytype(h,f)),d=f.map||f.name||o.toString(),p[d]=h,i.id!=null&&i.id===f.name&&(u=h,this.recordids[u]=y));u==null&&(u=r);l[a+r]=n.extend({},p);l[a+r].uid=u;this.originaldata[a+r]=n.extend({},l[r])}this.records=l;this.cachedrecords=this.records}},getvaluebytype:function(t,i){var f=t,u,r,e,t;if(t==null)return t;if(n.isArray(t)&&i.type!="array"){for(u=0;u<t.length;u++)t[u]=this.getvaluebytype(t[u],i);return t}return i.type=="date"?t=="NaN"?t="":(r=new Date(t),typeof t=="string"&&i.format&&(e=n.jqx.dataFormat.parsedate(t,i.format),e!=null&&(r=e)),t=r.toString()=="NaN"||r.toString()=="Invalid Date"?n.jqx.dataFormat?n.jqx.dataFormat.tryparsedate(t):r:r,t==null&&(t=f)):i.type=="float"||i.type=="number"||i.type=="decimal"?t=="NaN"?t="":(t=parseFloat(t),isNaN(t)&&(t=f)):i.type=="int"||i.type=="integer"?(t=parseInt(t),isNaN(t)&&(t=f)):(i.type=="bool"||i.type=="boolean")&&(t!=null&&t.toLowerCase!=undefined&&(t.toLowerCase()=="false"?t=!1:t.toLowerCase()=="true"&&(t=!0)),t=t==1?!0:t==0&&t!==""?!1:""),t}};n.jqx.dataFormat={};n.extend(n.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(n){return typeof n=="boolean"},isObject:function(t){return t&&(typeof t=="object"||n.isFunction(t))||!1},isDate:function(n){return n instanceof Date},arrayIndexOf:function(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"&&isFinite(n)},isNull:function(n){return n===null},isUndefined:function(n){return typeof n=="undefined"},isValue:function(n){return this.isObject(n)||this.isString(n)||this.isNumber(n)||this.isBoolean(n)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=n.trim(t).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,""),t===""):!0},startsWith:function(n,t){return n.indexOf(t)===0},endsWith:function(n,t){return n.substr(n.length-t.length)===t},trim:function(n){return(n+"").replace(this.regexTrim,"")},isArray:function(n){return this.toString.call(n)==="[object Array]"},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(n,t){t=t||"F";var i,u=n.patterns,r=t.length;if(r===1){if(i=u[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else r===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t},getEra:function(n,t){var r,u,i,f;if(!t||typeof n=="string")return 0;for(u=n.getTime(),i=0,f=t.length;i<f;i++)if(r=t[i].start,r===null||u>=r)return i;return 0},toUpper:function(n){return n.split(" ").join(" ").toUpperCase()},toUpperArray:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=this.toUpper(n[t]);return i},getEraYear:function(n,t,i,r){var u=n.getFullYear();return!r&&t.eras&&(u-=t.eras[i].offset),u},toUpper:function(n){return n?n.toUpperCase():""},getDayIndex:function(n,t,i){var r,f=n.days,u=n._upperDays;return u||(n._upperDays=u=[this.toUpperArray(f.names),this.toUpperArray(f.namesAbbr),this.toUpperArray(f.namesShort)]),t=t.toUpperCase(),i?(r=this.arrayIndexOf(u[1],t),r===-1&&(r=this.arrayIndexOf(u[2],t))):r=this.arrayIndexOf(u[0],t),r},getMonthIndex:function(n,t,i){var e=n.months,o=n.monthsGenitive||n.months,r=n._upperMonths,f=n._upperMonthsGen,u;return r||(n._upperMonths=r=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)],n._upperMonthsGen=f=[this.toUpperArray(o.names),this.toUpperArray(o.namesAbbr)]),t=this.toUpper(t),u=this.arrayIndexOf(i?r[1]:r[0],t),u<0&&(u=this.arrayIndexOf(i?f[1]:f[0],t)),u},appendPreOrPostMatch:function(n,t){for(var u,f=0,i=!1,r=0,e=n.length;r<e;r++){u=n.charAt(r);switch(u){case"'":i?t.push("'"):f++;i=!1;break;case"\\":i&&t.push("\\");i=!i;break;default:t.push(u);i=!1}}return f},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(n,t){var i="";return(t&&t.target&&(i="target="+t.target),i!="")?"<a "+i+' href="'+n+'">'+n+"<\/a>":'<a href="'+n+'">'+n+"<\/a>"},formatemail:function(n){return'<a href="mailto:'+n+'">'+n+"<\/a>"},formatNumber:function(n,t,i){return this.formatnumber(n,t,i)},formatnumber:function(n,t,i){var s,r,l,c,a,y,e,v,o;if((i==undefined||i==null||i=="")&&(i=this.defaultcalendar()),t===""||t===null)return n;this.isNumber(n)||(n*=1);t.length>1&&(s=parseInt(t.slice(1),10));r={};l=t.charAt(0).toUpperCase();r.thousandsSeparator=i.thousandsseparator;r.decimalSeparator=i.decimalseparator;switch(l){case"D":case"d":case"F":case"f":r.decimalPlaces=s;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=s;i.currencysymbolposition=="before"?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol;r.decimalPlaces=s;break;default:throw"Bad number format specifier: "+l;}if(this.isNumber(n)){var p=n<0,u=n+"",h=r.decimalSeparator?r.decimalSeparator:".",f;if(this.isNumber(r.decimalPlaces)&&(c=r.decimalPlaces,a=Math.pow(10,c),u=(n*a).toFixed(0)/a+"",f=u.lastIndexOf("."),c>0))for(f<0?(u+=h,f=u.length-1):h!=="."&&(u=u.replace(".",h));u.length-1-f<c;)u+="0";if(r.thousandsSeparator){for(y=r.thousandsSeparator,f=u.lastIndexOf(h),f=f>-1?f:u.length,e=u.substring(f),v=-1,o=f;o>0;o--)v++,v%3==0&&o!==f&&(!p||o>1)&&(e=y+e),e=u.charAt(o-1)+e;u=e}return u=r.prefix?r.prefix+u:u,r.suffix?u+r.suffix:u}return n},tryparsedate:function(n,t){var s,l,u,i,r,f,e,a,h,o,c;if((t==undefined||t==null)&&(t=this.defaultcalendar()),s=this,n=="")return null;if(n==null||n.substring||(n=n.toString()),n!=null&&n.substring(0,6)=="/Date(")return(l=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,i=new Date(+n.replace(/\/Date\((\d+)\)\//,"$1")),i=="Invalid Date"&&(u=n.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),i=null,u&&(i=new Date(1*u[1]+36e5*u[2]+6e4*u[3]))),(i==null||i=="Invalid Date"||isNaN(i))&&(r=l.exec(n),r&&(f=new Date(parseInt(r[1])),r[2]&&(e=parseInt(r[3]),r[2]==="-"&&(e=-e),a=f.getUTCMinutes(),f.setUTCMinutes(a-e)),!isNaN(f.valueOf()))))?f:i;patterns=t.patterns;for(prop in patterns)if(i=s.parsedate(n,patterns[prop],t),i)return prop=="ISO"&&(h=s.parsedate(n,patterns.ISO2,t),h)?h:i;if(n!=null){var h=null,v=[":","/","-"],y=!0;for(o=0;o<v.length;o++)n.indexOf(v[o])!=-1&&(y=!1);if(y&&(c=new Number(n),!isNaN(c)))return new Date(c)}return null},getparseregexp:function(n,t){var f=n._parseRegExp,o,v,e,y,i,p,w;if(f){if(o=f[t],o)return o}else n._parseRegExp=f={};for(var s=this.expandFormat(n,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),r=["^"],c=[],h=0,l=0,a=this.getTokenRegExp(),u;(u=a.exec(s))!==null;){if(v=s.slice(h,u.index),h=a.lastIndex,l+=this.appendPreOrPostMatch(v,r),l%2){r.push(u[0]);continue}e=u[0];y=e.length;switch(e){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":i="(\\D+)";break;case"tt":case"t":i="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":i="(\\d{"+y+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":i="(\\d\\d?)";break;case"zzz":i="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":i="([+-]?\\d\\d?)";break;case"/":i="(\\"+n["/"]+")";break;default:throw"Invalid date format pattern '"+e+"'.";}i&&r.push(i);c.push(u[0])}return this.appendPreOrPostMatch(s.slice(h),r),r.push("$"),p=r.join("").replace(/\s+/g,"\\s+"),w={regExp:p,groups:c},f[t]=w},outOfRange:function(n,t,i){return n<t||n>i},expandYear:function(n,t){var u=new Date,f=this.getEra(u),i,r;return t<100&&(i=n.twoDigitYearMax,i=typeof i=="string"?(new Date).getFullYear()%100+parseInt(i,10):i,r=this.getEraYear(u,n,f),t+=r-r%100,t>i&&(t-=100)),t},parsedate:function(n,t,i){var a,ht,u,k,d,v,y,lt,f,at,ut,ft;(i==undefined||i==null)&&(i=this.defaultcalendar());n=this.trim(n);var r=i,et=this.getparseregexp(r,t),ot=new RegExp(et.regExp).exec(n);if(ot===null)return null;var st=et.groups,g=null,h=null,s=null,c=null,p=null,o=0,l,nt=0,tt=0,it=0,w=null,rt=!1;for(a=0,ht=st.length;a<ht;a++)if(u=ot[a+1],u){var ct=st[a],b=ct.length,e=parseInt(u,10);switch(ct){case"dd":case"d":if(c=e,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(s=this.getMonthIndex(r,u,b===3),this.outOfRange(s,0,11))return null;break;case"M":case"MM":if(s=e-1,this.outOfRange(s,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=b<4?this.expandYear(r,e):e,this.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(o=e,o===12&&(o=0),this.outOfRange(o,0,11))return null;break;case"H":case"HH":if(o=e,this.outOfRange(o,0,23))return null;break;case"m":case"mm":if(nt=e,this.outOfRange(nt,0,59))return null;break;case"s":case"ss":if(tt=e,this.outOfRange(tt,0,59))return null;break;case"tt":case"t":if(rt=r.PM&&(u===r.PM[0]||u===r.PM[1]||u===r.PM[2]),!rt&&(!r.AM||u!==r.AM[0]&&u!==r.AM[1]&&u!==r.AM[2]))return null;break;case"f":case"ff":case"fff":if(it=e*Math.pow(10,3-b),this.outOfRange(it,0,999))return null;break;case"ddd":case"dddd":if(p=this.getDayIndex(r,u,b===3),this.outOfRange(p,0,6))return null;break;case"zzz":if((k=u.split(/:/),k.length!==2)||(l=parseInt(k[0],10),this.outOfRange(l,-12,13))||(d=parseInt(k[1],10),this.outOfRange(d,0,59)))return null;w=l*60+(startsWith(u,"-")?-d:d);break;case"z":case"zz":if(l=e,this.outOfRange(l,-12,13))return null;w=l*60;break;case"g":case"gg":if(v=u,!v||!r.eras)return null;for(v=trim(v.toLowerCase()),y=0,lt=r.eras.length;y<lt;y++)if(v===r.eras[y].name.toLowerCase()){g=y;break}if(g===null)return null}}if(f=new Date,ut=r.convert,at=f.getFullYear(),h===null?h=at:r.eras&&(h+=r.eras[g||0].offset),s===null&&(s=0),c===null&&(c=1),ut){if(f=ut.toGregorian(h,s,c),f===null)return null}else if((f.setFullYear(h,s,c),f.getDate()!==c)||p!==null&&f.getDay()!==p)return null;return rt&&o<12&&(o+=12),f.setHours(o,nt,tt,it),w!==null&&(ft=f.getMinutes()-(w+f.getTimezoneOffset()),f.setHours(f.getHours()+parseInt(ft/60,10),ft%60)),f},cleardatescache:function(){this.datescache=[]},formatDate:function(n,t,i){return this.formatdate(n,t,i)},formatdate:function(n,t,i){function f(n,t){var i,r=n+"";return t>1&&r.length<t?(i=nt[t-2]+r,i.substr(i.length-t,t)):r}function v(n,t){if(d)return d[t];if(n.getMonth!=undefined)switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate()}}var c,r,a,p,l,u,g,o,y;if((i==undefined||i==null)&&(i=this.defaultcalendar()),typeof n=="string")return n;if(c=n.toString()+"_"+t,this.datescache&&this.datescache[c])return this.datescache[c];if(!t||!t.length||t==="i")return this.formatDate(n,i.patterns.F,i);a=i.eras;p=t==="s";t=this.expandFormat(i,t);r=[];for(var e,nt=["0","00","000"],s,w,tt=/([^d]|^)(d|dd)([^d]|$)/g,b=0,k=this.getTokenRegExp(),d;;){var it=k.lastIndex,h=k.exec(t),rt=t.slice(it,h?h.index:t.length);if(b+=this.appendPreOrPostMatch(rt,r),!h)break;if(b%2){r.push(h[0]);continue}l=h[0];u=l.length;switch(l){case"ddd":case"dddd":g=u===3?i.days.namesAbbr:i.days.names;r.push(g[n.getDay()]);break;case"d":case"dd":s=!0;r.push(f(v(n,2),u));break;case"MMM":case"MMMM":o=v(n,1);r.push(i.months[u===3?"namesAbbr":"names"][o]);break;case"M":case"MM":r.push(f(v(n,1)+1,u));break;case"y":case"yy":case"yyyy":o=this.getEraYear(n,i,this.getEra(n,a),p);u<4&&(o=o%100);r.push(f(o,u));break;case"h":case"hh":e=n.getHours()%12;e===0&&(e=12);r.push(f(e,u));break;case"H":case"HH":r.push(f(n.getHours(),u));break;case"m":case"mm":r.push(f(n.getMinutes(),u));break;case"s":case"ss":r.push(f(n.getSeconds(),u));break;case"t":case"tt":o=n.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ";r.push(u===1?o.charAt(0):o);break;case"f":case"ff":case"fff":r.push(f(n.getMilliseconds(),3).substr(0,u));break;case"z":case"zz":e=n.getTimezoneOffset()/60;r.push((e<=0?"+":"-")+f(Math.floor(Math.abs(e)),u));break;case"zzz":e=n.getTimezoneOffset()/60;r.push((e<=0?"+":"-")+f(Math.floor(Math.abs(e)),2)+":"+f(Math.abs(n.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&r.push(i.eras[this.getEra(n,a)].name);break;case"/":r.push(i["/"]);break;default:throw"Invalid date format pattern '"+l+"'.";}}return y=r.join(""),this.datescache||(this.datescache=[]),this.datescache[c]=y,y}});n.jqx.data={};var t,i,k=/#.*$/,d=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,g=/^(?:GET|HEAD)$/,nt=/^\/\//,s=/\?/,tt=/([?&])_=[^&]*/,h=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,c=/\s+/,ot=n.fn.load,o={},l={},a=["*/"]+["*"];try{i=location.href}catch(st){i=document.createElement("a");i.href="";i=i.href}t=h.exec(i.toLowerCase())||[];n.extend(n.jqx.data,{ajaxSetup:function(t,i){return i?y(t,n.jqx.data.ajaxSettings):(i=t,t=n.jqx.data.ajaxSettings),y(t,i),t},ajaxSettings:{url:i,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(t[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":a},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:v(o),ajaxTransport:v(l),ajax:function(i,r){function st(t,i,r,u){var o,l,c,a,h,s=i;v!==2&&(v=2,ct&&clearTimeout(ct),w=undefined,ht=u||"",e.readyState=t>0?4:0,r&&(a=it(f,e,r)),t>=200&&t<300||t===304?(f.ifModified&&(h=e.getResponseHeader("Last-Modified"),h&&(n.lastModified[y]=h),h=e.getResponseHeader("Etag"),h&&(n.etag[y]=h)),t===304?(s="notmodified",o=!0):(o=rt(f,a),s=o.state,l=o.data,c=o.error,o=!c)):(c=s,(!s||t)&&(s="error",t<0&&(t=0))),e.status=t,e.statusText=(i||s)+"",o?at.resolveWith(p,[l,s,e]):at.rejectWith(p,[e,s,c]),e.statusCode(ot),ot=undefined,ft&&lt.trigger("ajax"+(o?"Success":"Error"),[e,f,o?l:c]),pt.fireWith(p,[e,s]),ft&&(lt.trigger("ajaxComplete",[e,f]),--n.active||n.event.trigger("ajaxStop")))}var vt,yt;typeof i=="object"&&(r=i,i=undefined);r=r||{};var y,ht,et,w,ct,b,ft,ut,f=n.jqx.data.ajaxSetup({},r),p=f.context||f,lt=p!==f&&(p.nodeType||p instanceof n)?n(p):n.event,at=n.Deferred(),pt=n.Callbacks("once memory"),ot=f.statusCode||{},wt={},bt={},v=0,kt="canceled",e={readyState:0,setRequestHeader:function(n,t){if(!v){var i=n.toLowerCase();n=bt[i]=bt[i]||n;wt[n]=t}return this},getAllResponseHeaders:function(){return v===2?ht:null},getResponseHeader:function(n){var t;if(v===2){if(!et)for(et={};t=d.exec(ht);)et[t[1].toLowerCase()]=t[2];t=et[n.toLowerCase()]}return t===undefined?null:t},overrideMimeType:function(n){return v||(f.mimeType=n),this},abort:function(n){return n=n||kt,w&&w.abort(n),st(0,n),this}};if(at.promise(e),e.success=e.done,e.error=e.fail,e.complete=pt.add,e.statusCode=function(n){if(n){var t;if(v<2)for(t in n)ot[t]=[ot[t],n[t]];else t=n[e.status],e.always(t)}return this},f.url=((i||f.url)+"").replace(k,"").replace(nt,t[1]+"//"),f.dataTypes=n.trim(f.dataType||"*").toLowerCase().split(c),f.crossDomain==null&&(b=h.exec(f.url.toLowerCase()),f.crossDomain=!!(b&&(b[1]!==t[1]||b[2]!==t[2]||(b[3]||(b[1]==="http:"?80:443))!=(t[3]||(t[1]==="http:"?80:443))))),f.data&&f.processData&&typeof f.data!="string"&&(f.data=n.param(f.data,f.traditional)),u(o,f,r,e),v===2)return e;ft=f.global;f.type=f.type.toUpperCase();f.hasContent=!g.test(f.type);ft&&n.active++==0&&n.event.trigger("ajaxStart");f.hasContent||(f.data&&(f.url+=(s.test(f.url)?"&":"?")+f.data,delete f.data),y=f.url,f.cache===!1&&(vt=n.now(),yt=f.url.replace(tt,"$1_="+vt),f.url=yt+(yt===f.url?(s.test(f.url)?"&":"?")+"_="+vt:"")));(f.data&&f.hasContent&&f.contentType!==!1||r.contentType)&&e.setRequestHeader("Content-Type",f.contentType);f.ifModified&&(y=y||f.url,n.lastModified[y]&&e.setRequestHeader("If-Modified-Since",n.lastModified[y]),n.etag[y]&&e.setRequestHeader("If-None-Match",n.etag[y]));e.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+(f.dataTypes[0]!=="*"?", "+a+"; q=0.01":""):f.accepts["*"]);for(ut in f.headers)e.setRequestHeader(ut,f.headers[ut]);if(f.beforeSend&&(f.beforeSend.call(p,e,f)===!1||v===2))return e.abort();kt="abort";for(ut in{success:1,error:1,complete:1})e[ut](f[ut]);if(w=u(l,f,r,e),w){e.readyState=1;ft&&lt.trigger("ajaxSend",[e,f]);f.async&&f.timeout>0&&(ct=setTimeout(function(){e.abort("timeout")},f.timeout));try{v=1;w.send(wt,st)}catch(dt){if(v<2)st(-1,dt);else throw dt;}}else st(-1,"No Transport");return e},active:0,lastModified:{},etag:{}});var p=[],ut=/\?/,f=/(=)\?(?=&|$)|\?\?/,ft=n.now();n.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=p.pop()||n.expando+"_"+ft++;return this[t]=!0,t}});n.jqx.data.ajaxPrefilter("json jsonp",function(t,i,r){var u,o,e,s=t.data,h=t.url,c=t.jsonp!==!1,l=c&&f.test(h),a=c&&!l&&typeof s=="string"&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&f.test(s);if(t.dataTypes[0]==="jsonp"||l||a)return u=t.jsonpCallback=n.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o=window[u],l?t.url=h.replace(f,"$1"+u):a?t.data=s.replace(f,"$1"+u):c&&(t.url+=(ut.test(h)?"&":"?")+t.jsonp+"="+u),t.converters["script json"]=function(){return e||n.error(u+" was not called"),e[0]},t.dataTypes[0]="json",window[u]=function(){e=arguments},r.always(function(){window[u]=o;t[u]&&(t.jsonpCallback=i.jsonpCallback,p.push(u));e&&n.isFunction(o)&&o(e[0]);e=o=undefined}),"script"});n.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return n.globalEval(t),t}}});n.jqx.data.ajaxPrefilter("script",function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)});n.jqx.data.ajaxTransport("script",function(n){if(n.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(r,u){t=document.createElement("script");t.async="async";n.scriptCharset&&(t.charset=n.scriptCharset);t.src=n.url;t.onload=t.onreadystatechange=function(n,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=undefined,r||u(200,"success"))};i.insertBefore(t,i.firstChild)},abort:function(){if(t)t.onload(0,1)}}}});e=window.ActiveXObject?function(){for(var n in r)r[n](0,1)}:!1;w=0;n.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&b()||et()}:b,function(t){n.extend(n.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(n.jqx.data.ajaxSettings.xhr());n.support.ajax&&n.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||n.support.cors){var i;return{send:function(u,f){var h,s,o=t.xhr();if(t.username?o.open(t.type,t.url,t.async,t.username,t.password):o.open(t.type,t.url,t.async),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType);t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");try{for(s in u)o.setRequestHeader(s,u[s])}catch(c){}o.send(t.hasContent&&t.data||null);i=function(u,s){var c,v,y,l,a;try{if(i&&(s||o.readyState===4))if(i=undefined,h&&(o.onreadystatechange=n.noop,e&&delete r[h]),s)o.readyState!==4&&o.abort();else{c=o.status;y=o.getAllResponseHeaders();l={};a=o.responseXML;a&&a.documentElement&&(l.xml=a);try{l.text=o.responseText}catch(w){}try{v=o.statusText}catch(w){v=""}c||!t.isLocal||t.crossDomain?c===1223&&(c=204):c=l.text?200:404}}catch(p){s||f(-1,p)}l&&f(c,v,l,y)};t.async?o.readyState===4?setTimeout(i,0):(h=++w,e&&(r||(r={},n(window).unload(e)),r[h]=i),o.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});n.jqx.filter=function(){var r;this.operator="and";var s=1,u=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],f=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],e=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],o=["EQUAL","NOT_EQUAL"],t=[],i=[];this.evaluate=function(n){for(var f,u=!0,r=0;r<t.length;r++)f=t[r].evaluate(n),u=r==0?f:i[r]==s||i[r]=="or"?u||f:u&&f;return u};this.getfilterscount=function(){return t.length};this.setoperatorsbyfiltertype=function(n,t){switch(n){case"numericfilter":f=t;break;case"stringfilter":u=t;break;case"datefilter":e=t;break;case"booleanfilter":o=t}};this.getoperatorsbyfiltertype=function(n){var t=[];switch(n){case"numericfilter":t=f.slice(0);break;case"stringfilter":t=u.slice(0);break;case"datefilter":t=e.slice(0);break;case"booleanfilter":t=o.slice(0)}return t};r=function(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return n()+"-"+n()+"-"+n()};this.createfilter=function(n,t,i,r,u,f){if(n==null||n==undefined)return null;switch(n){case"numericfilter":return new l(t,i.toUpperCase());case"stringfilter":return new h(t,i.toUpperCase());case"datefilter":return new a(t,i.toUpperCase(),u,f);case"booleanfilter":return new c(t,i.toUpperCase());case"custom":return new v(t,i.toUpperCase(),r)}throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'");};this.getfilters=function(){for(var u,r=[],n=0;n<t.length;n++)u={value:t[n].filtervalue,condition:t[n].comparisonoperator,operator:i[n],type:t[n].type},r[n]=u;return r};this.addfilter=function(n,u){t[t.length]=u;u.key=r();i[i.length]=n};this.removefilter=function(n){for(var r=0;r<t.length;r++)if(t[r].key==n.key){t.splice(r,1);i.splice(r,1);break}};this.getoperatorat=function(n){return n==undefined||n==null?null:n<0||n>t.length?null:i[n]};this.setoperatorat=function(n,r){if(n==undefined||n==null||n<0||n>t.length)return null;i[r]=r};this.getfilterat=function(n){return n==undefined||n==null?null:n<0||n>t.length?null:t[n]};this.setfilterat=function(n,i){if(n==undefined||n==null||n<0||n>t.length)return null;i.key=r();t[n]=i};this.clear=function(){t=[];i=[]};var h=function(t,i){this.filtervalue=t;this.comparisonoperator=i;this.type="stringfilter";this.evaluate=function(t){var i=this.filtervalue,h=this.comparisonoperator,c,y,l,e,o,r,s,v;if(t==null||t==undefined||t==""){if(h=="NULL"||h=="EQUAL"&&t==i||h=="NOT_EQUAL"&&t!=i)return!0;if(h!="EMPTY")return!1;if(t=="")return!0}c="";try{c=t.toString()}catch(k){return!0}if(y=function(t,i){switch(h){case"EQUAL":return n.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return n.jqx.string.equals(t,i);case"NOT_EQUAL":return!n.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!n.jqx.string.equals(t,i);case"CONTAINS":return n.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return n.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!n.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!n.jqx.string.contains(t,i);case"EMPTY":return t=="";case"NOT_EMPTY":return t!="";case"NOT_NULL":return t!=null;case"STARTS_WITH":return n.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return n.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return n.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return n.jqx.string.startsWith(t,i);default:return!1}},l=[],i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(e=y(c,i),e)return e;var u=i.indexOf(" AND ")>=0?i.split(" AND "):[],f=i.indexOf(" OR ")>=0?i.split(" OR "):[],p=i.indexOf(" and ")>=0?i.split(" and "):[],w=i.indexOf(" or ")>=0?i.split(" or "):[],a=i.indexOf("|")>=0?i.split("|"):[];if(a.length>0)for(r=0;r<a.length;r++)a[r]=n.trim(a[r]);if(o=i.indexOf(" ")>=0?i.split(" "):[],o.length>0)for(r=0;r<o.length;r++)o[r]=n.trim(o[r]);if(u=u.concat(o),u=u.concat(p),f=f.concat(a),f=f.concat(w),u.length>0)for(r=0;r<u.length;r++)!u[r].indexOf(" OR ")>=0&&l.push(u[r]);if(f.length>0)for(r=0;r<f.length;r++)!f[r].indexOf(" AND ")>=0&&l.push(f[r]);for(s=undefined,v=0;v<l.length;v++){var t=l[v],e=y(c,t),b=v<u.length?"and":"or";s=s==undefined?e:b=="or"?s||e:s&&e}return s}return y(c,i)}},c=function(n,t){this.filtervalue=n;this.comparisonoperator=t;this.type="booleanfilter";this.evaluate=function(n){var i=this.filtervalue,r=this.comparisonoperator,t;if(n==null||n==undefined)return r=="NULL"?!0:!1;t=n;switch(r){case"EQUAL":return t==i||t.toString()==i.toString();case"NOT_EQUAL":return t!=i&&t.toString()!=i.toString();default:return!1}}},l=function(t,i){this.filtervalue=t;this.comparisonoperator=i;this.type="numericfilter";this.evaluate=function(t){var i=this.filtervalue,h=this.comparisonoperator,u,v,f,c,r,l,a,t,y,e,p;if(t===null||t===undefined||t===""){if(h=="NOT_NULL")return!1;if(h=="NULL")return!0;switch(h){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if(h=="NULL")return!1;if(h=="NOT_NULL")return!0;u=t;try{u=parseFloat(u)}catch(k){if(t.toString()!="")return!1}if(v=function(t,i){switch(h){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return n.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return n.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return n.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return n.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return n.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return n.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!n.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!n.jqx.string.contains(t.toString(),i.toString());default:return!0}},f=[],i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(e=v(u,i),e)return e;i=i.toString();var s=i.indexOf(" AND ")>=0?i.split(" AND "):[],o=i.indexOf(" OR ")>=0?i.split(" OR "):[],w=i.indexOf(" and ")>=0?i.split(" and "):[],b=i.indexOf(" or ")>=0?i.split(" or "):[];if(s=s.concat(w),o=o.concat(b),c=i.indexOf("|")>=0?i.split("|"):[],c.length>0)for(r=0;r<c.length;r++)c[r]=n.trim(c[r]);if(o=o.concat(c),s.length>0)for(r=0;r<s.length;r++)!s[r].indexOf(" OR ")>=0&&f.push(s[r]);if(o.length>0)for(r=0;r<o.length;r++)!o[r].indexOf(" AND ")>=0&&f.push(o[r]);for(l=undefined,a=0;a<f.length;a++)t=f[a],t&&t.indexOf&&t.indexOf("..")>=0?(y=t.toString().split(".."),y.length==2&&(e=u>=y[0]&&u<=y[1])):e=v(u,t),p=a<s.length?"and":"or",l=l==undefined?e:p=="or"?l||e:l&&e;return l}return i&&i.indexOf&&i.indexOf("..")>=0&&(f=i.toString().split(".."),f.length==2)?u>=f[0]&&u<=f[1]:v(u,i)}},a=function(t,i,r,u){var e,o,f;this.filtervalue=t;this.type="datefilter";r!=undefined&&u!=undefined?(e=n.jqx.dataFormat.parsedate(t,r,u),e!=null?this.filterdate=e:(o=n.jqx.dataFormat.tryparsedate(t,u),o!=null&&(this.filterdate=o))):(f=new Date(t),this.filterdate=f.toString()=="NaN"||f.toString()=="Invalid Date"?n.jqx.dataFormat.tryparsedate(t):f);this.filterdate||(f=new Date(t),this.filterdate=f.toString()=="NaN"||f.toString()=="Invalid Date"?n.jqx.dataFormat.tryparsedate(t):f);this.comparisonoperator=i;this.evaluate=function(t){var i=this.filtervalue,l=this.comparisonoperator,e,b,k,a,p,d,s,v,f,y,w,t,g,o,nt;if(t==null||t==undefined||t==""){if(l=="NOT_NULL")return!1;if(l=="NULL")return!0;switch(l){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if(l=="NULL")return!1;if(l=="NOT_NULL")return!0;e=new Date;e.setFullYear(1900,0,1);e.setHours(12,0,0,0);try{b=new Date(t);t=b.toString()=="NaN"||b.toString()=="Invalid Date"?n.jqx.dataFormat.tryparsedate(t):b;e=t;k=!1;r!=undefined&&u!=undefined&&(r.indexOf("t")>=0||r.indexOf("T")>=0||r.indexOf(":")>=0||r.indexOf("f")>=0)&&(k=!0,i&&i.toString().indexOf(":")==-1&&(o=n.jqx.dataFormat.tryparsedate(i.toString()+":00",u),o!=null&&(this.filterdate=o)));k||(e.setHours(0),e.setMinutes(0),e.setSeconds(0))}catch(rt){if(t.toString()!="")return!1}if(this.filterdate!=null)i=this.filterdate;else if(i.indexOf&&(i.indexOf(":")!=-1||!isNaN(parseInt(i)))){for(a=new Date(e),a.setHours(12,0,0,0),p=i.split(":"),f=0;f<p.length;f++)f==0&&a.setHours(p[f]),f==1&&a.setMinutes(p[f]),f==2&&a.setSeconds(p[f]);i=a}if(k&&i&&i.setFullYear&&e&&e.getFullYear&&r.indexOf("d")==-1&&r.indexOf("M")==-1&&r.indexOf("y")==-1&&i.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),d=function(t,i){t==null&&(t="");switch(l){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return n.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return n.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return n.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return n.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return n.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return n.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!n.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!n.jqx.string.contains(t.toString(),i.toString());default:return!0}},s=[],i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(o=d(e,i),o)return o;var c=i.indexOf(" AND ")>=0?i.split(" AND "):[],h=i.indexOf(" OR ")>=0?i.split(" OR "):[],tt=i.indexOf(" and ")>=0?i.split(" and "):[],it=i.indexOf(" or ")>=0?i.split(" or "):[];if(c=c.concat(tt),h=h.concat(it),v=i.indexOf("|")>=0?i.split("|"):[],v.length>0)for(f=0;f<v.length;f++)v[f]=n.trim(v[f]);if(h=h.concat(v),c.length>0)for(f=0;f<c.length;f++)!c[f].indexOf(" OR ")>=0&&s.push(c[f]);if(h.length>0)for(f=0;f<h.length;f++)!h[f].indexOf(" AND ")>=0&&s.push(h[f]);for(y=undefined,w=0;w<s.length;w++)t=s[w],t&&t.indexOf&&t.indexOf("..")>=0?(g=t.toString().split(".."),g.length==2&&(o=e>=g[0]&&e<=g[1])):o=d(e,t),nt=w<c.length?"and":"or",y=y==undefined?o:nt=="or"?y||o:y&&o;return y}return i&&i.indexOf&&i.indexOf("..")>=0&&(s=i.toString().split(".."),s.length==2)?e>=s[0]&&e<=s[1]:d(e,i)}},v=function(n,t,i){this.filtervalue=n;this.comparisonoperator=t;this.evaluate=function(n){return i(this.filtervalue,n,this.comparisonoperator)}}}}(jqxBaseFramework),function(n){var t=function(){function l(n,t,i,r,u,f,e){return this.hierarchy=u,this.exportFormat=f,this.filename=e,n.beginFile(e),a(n),v(n),n.endFile(e),n.getFile()}function a(t){var u=!0,f,r,e;n.each(i,function(){if(this.hidden)return u=!1,!1});t.beginHeader(u);f=0;for(r in i)i[r].columnsDataFields&&(r=i[r].columnsDataFields[f].displayfield),e=y(r,i[r]),t.appendHeaderCell(i[r],r,e,u,f),f++;t.endHeader(u)}function v(n){var i,t;if(n.beginBody(),this.hierarchy){i=function(t){for(var r=0;r<t.length;r+=1)t[r]!==undefined&&(n.beginRow(t[r].level),s(n,t[r],r,!0),t[r].records&&(n.beginRows(t[r].level),i(t[r].records),n.endRows(t[r].level)),n.endRow(t[r].level))};i(u);n.endBody();return}for(t=0;t<u.length;t+=1)u[t]!==undefined&&s(n,u[t],t);n.endBody()}function s(t,r,u,f){var e,s,o,h;f!=!0&&t.beginRow();s=0;for(o in i){if(i[o].columnsDataFields&&(o=i[o].columnsDataFields[s].displayfield),e=p(u,o),e){if(e.level!=undefined&&e.index-1>r.level&&e.index-1<e.maxLevel){s++;continue}e.maxLevel!=undefined&&e.index-1==e.maxLevel&&(e=n.extend({},e),e.merge=e.maxLevel-r.level-1)}if(r.level!=undefined&&r.label!=undefined&&(this.exportFormat==="xml"||this.exportFormat==="json")){h={};h.text="group";t.appendBodyCell(r.label,h,e,r,s,"group");break}r.hasOwnProperty(o)?t.appendBodyCell(r[o],i[o],e,r,s):t.appendBodyCell("",i[o],e,r,s);s++}f!=!0&&t.endRow()}function y(n,t){if(t.style)return r[t.style];var i=h();return i.length>0?i[0].style:null}function h(){return f||(f=[],n.each(r,function(n,t){f[f.length]={name:n,style:t}})),f}function p(n,t){var u=i[t],o,e,f,s;if(u){if(u.customCellStyles&&(o=u.customCellStyles[n],o))return r[o];if(u.cellStyle)return u.cellAltStyle?(f=n%2,f==0)?r[u.cellStyle]:r[u.cellAltStyle]:r[u.cellStyle];if(e=h(),e.length>0)return f=n%(e.length-1),s=e[f+1].style,s}return null}function c(n,t,i){var r=document.createElement("input");return r.name=t,r.value=n,r.type="hidden",i.appendChild(r),r}function w(n,t,i){var r=document.createElement("textarea");return r.name=t,r.value=n,i.appendChild(r),r}function b(n,t,i,r,u){var f=document.createElement("form");return c(n,"filename",f),c(t,"format",f),w(i,"content",f),(r==undefined||r=="")&&(r=window&&window.location.toString().indexOf("jqwidgets.com")>=0?"http://jqwidgets.com/export_server/save-file.php":"http://jquerygrid.net/export_server/save-file.php"),f.action=r,f.method="post",u&&(f.acceptCharset=u),document.body.appendChild(f),f}var o={},u,i,r,e,f;return e=function(n,f,e,s,h,c){if(!(this instanceof t))return new t(n,f,e,h,c);u=n;i=f;r=e;this.exportTo=function(n,t,f,e){n=n.toString().toLowerCase();var s=o[n];if(typeof s=="undefined")throw"You can't export to "+n+" format.";return l(s,u,i,r,t,f,e)};this.exportToFile=function(n,t,i,r,u){var e=this.exportTo(n,u,n,t),f=b(t,n,e,i,r);f.submit();document.body.removeChild(f)};this.exportToLocalFile=function(n,t,i,r){var u=this.exportTo(n,i,r);document.location.href="data:application/octet-stream;filename="+t+","+encodeURIComponent(u)}},e.extend=function(t,i){if(i instanceof n.jqx.dataAdapter.DataExportModuleBase)o[t]=i;else throw"The module "+t+" is not instance of DataExportModuleBase.";},e}();n.jqx.dataAdapter.ArrayExporter=t}(jqxBaseFramework),function(n){var t=function(){this.formatData=function(t,i,r,u){var f,e;if(i==="date"){if((f="",typeof t=="string"&&(f=n.jqx.dataFormat.tryparsedate(t),t=f),t===""||t===null)||(f=n.jqx.dataFormat.formatdate(t,r,u),f.toString()=="NaN"||f==null))return"";t=f}else if(i==="number"||i==="float"||i==="int"||i=="integer"){if(t===""||t===null)return"";if(!isNaN(new Number(t))){if(e=n.jqx.dataFormat.formatnumber(t,r,u),e.toString()=="NaN")return"";t=e}}else t=t;return t===null?"":t};this.getFormat=function(n){var t=n?n.formatString:"",r=n?n.localization:"",i="string";return i=n?n.type:"string",(i=="number"||i=="float")&&(t||(t="f2")),(i=="int"||i=="integer")&&(t||(t="n0")),i=="date"&&(t||(t="d")),{type:i,formatString:t,localization:r}};this.beginFile=function(){throw"Not implemented!";};this.beginHeader=function(){throw"Not implemented!";};this.appendHeaderCell=function(){throw"Not implemented!";};this.endHeader=function(){throw"Not implemented!";};this.beginBody=function(){throw"Not implemented!";};this.beginRow=function(){throw"Not implemented!";};this.beginRows=function(){throw"Not implemented!";};this.endRows=function(){throw"Not implemented!";};this.appendBodyCell=function(){throw"Not implemented!";};this.endRow=function(){throw"Not implemented!";};this.endBody=function(){throw"Not implemented!";};this.endFile=function(){throw"Not implemented!";};this.getFile=function(){throw"Not implemented!";}};n.jqx.dataAdapter.DataExportModuleBase=t}(jqxBaseFramework),function(n){var t=function(n){function e(n,t){if(t){var i=f.getFormat(t);n=f.formatData(n,i.type,i.formatString,i.localization)}return'"'+n+'"'}function i(i,r){i=e(i,r);t+=i+n}var t,u,r=0,f=this;this.beginFile=function(){t=""};this.beginHeader=function(){};this.appendHeaderCell=function(n,t,r,f,e){if(r&&r.level!=undefined){if(e<r.maxLevel)return;if(e===r.maxLevel){f&&i(n.text);for(var o=0;o<r.maxLevel;o++)i("");return}}u=f;f&&i(n.text)};this.endHeader=function(){this.endRow()};this.beginBody=function(){r=0};this.beginRow=function(){(r>0||r==0&&u)&&(t+="\n");r++};this.appendBodyCell=function(n,t,r,u,f){if(r&&r.maxLevel!=undefined&&f===r.maxLevel){i(n,t);for(var e=0;e<r.maxLevel-u.level-1;e++)i("",t);return}i(n,t)};this.endRow=function(){t=t.substring(0,t.length-1)};this.endBody=function(){};this.endFile=function(){};this.getFile=function(){return t}},i,r;t.prototype=new n.jqx.dataAdapter.DataExportModuleBase;i=function(){};i.prototype=new t(",");r=function(){};r.prototype=new t("\t");n.jqx.dataAdapter.ArrayExporter.extend("csv",new i);n.jqx.dataAdapter.ArrayExporter.extend("tsv",new r)}(jqxBaseFramework),function(n){var t=function(){function i(n){var r="";for(var i in n)n.hasOwnProperty(i)&&(t&&i=="font-size"&&(n[i]="100%"),r+=i+":"+n[i]+";");return r}var t=!1,n,u,r=0;this.setPDF=function(){t=!0};this.beginFile=function(i){n=t||i==undefined?'<table style="empty-cells: show;" cellspacing="0" cellpadding="2">':'<html>\n\t<head>\n\t\t<title><\/title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t<\/head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'};this.beginHeader=function(){n+=t?"\n\t<thead><tr>":"\n\t\t\t<thead>"};this.appendHeaderCell=function(r,f,e,o){if(u=o,o)if(t)n+='\n\t\t\t\t<th style="'+i(e)+'">'+r.text+"<\/th>";else{if(e.disabled)return;n+=e.merge?r.width?"\n\t\t\t\t<th colspan="+(1+e.merge)+' style="width: '+r.width+"px; "+i(e)+'">'+r.text+"<\/th>":"\n\t\t\t\t<th colspan="+(1+e.merge)+' style="'+i(e)+'">'+r.text+"<\/th>":r.width?'\n\t\t\t\t<th style="width: '+r.width+"px; "+i(e)+'">'+r.text+"<\/th>":'\n\t\t\t\t<th style="'+i(e)+'">'+r.text+"<\/th>"}};this.endHeader=function(){n+=t?"\n\t<\/tr><\/thead>":"\n\t\t\t<\/thead>"};this.beginBody=function(){n+=t?"\n\t<tbody>":"\n\t\t\t<tbody>";r=0};this.beginRow=function(){n+=t?"\n\t<tr>":"\n\t\t\t\t<tr>";r++};this.appendBodyCell=function(f,e,o){var s=this.getFormat(e);f===""&&(f="&nbsp;");n+=t?r!=1||u?'\n\t\t\t\t\t<td style="'+i(o)+'">'+this.formatData(f,s.type,s.formatString,s.localization)+"<\/td>":'\n\t\t\t\t\t<td style="'+i(o)+' border-top-width: 1px;">'+this.formatData(f,s.type,s.formatString,s.localization)+"<\/td>":o.merge?r!=1||u?"\n\t\t\t\t\t<td colspan="+(1+o.merge)+' style="'+i(o)+'">'+this.formatData(f,s.type,s.formatString,s.localization)+"<\/td>":"\n\t\t\t\t\t<td colspan="+(1+o.merge)+' style="'+i(o)+' border-top-width: 1px;">'+this.formatData(f,s.type,s.formatString,s.localization)+"<\/td>":r!=1||u?'\n\t\t\t\t\t<td style="'+i(o)+'">'+this.formatData(f,s.type,s.formatString,s.localization)+"<\/td>":'\n\t\t\t\t\t<td style="'+i(o)+' border-top-width: 1px;">'+this.formatData(f,s.type,s.formatString,s.localization)+"<\/td>"};this.endRow=function(){n+=t?"\n\t<\/tr>":"\n\t\t\t\t<\/tr>"};this.endBody=function(){n+=t?"\n\t<\/tbody>":"\n\t\t\t<\/tbody>"};this.endFile=function(i){n+=t||i==undefined?"\n<\/table>":"\n\t\t<\/table>\n\t<\/body>\n<\/html>\n"};this.getFile=function(){return n}},i,r,u;t.prototype=new n.jqx.dataAdapter.DataExportModuleBase;i=function(){};i.prototype=new t;r=function(){};r.prototype=new t;u=new r;u.setPDF();n.jqx.dataAdapter.ArrayExporter.extend("html",new i);n.jqx.dataAdapter.ArrayExporter.extend("pdf",u)}(jqxBaseFramework),function(n){var t=function(){function o(t,i,r){var u="String",f=this.getFormat(i),e;t!=null&&t.toString().substring(0,2)=="AG"?(t=t.toString().substring(2),u="String"):(f.type=="date"&&(t=this.formatData(t,f.type,f.formatString,f.localization),(t===null||t==="")&&(t="",u="String")),f.type=="string"&&(t===null||t===undefined?t="":(t.toString().indexOf("&")>=0&&(t=t.toString().replace(/&/g,"&amp;")),t.toString().indexOf(">")>=0&&(t=t.toString().replace(/>/g,"&gt;")),t.toString().indexOf("<")>=0&&(t=t.toString().replace(/</g,"&lt;")),t.toString().indexOf('"')>=0&&(t=t.toString().replace(/"/g,"&quot;")),t.toString().indexOf("'")>=0&&(t=t.toString().replace(/'/g,"&apos;")))),(r.dataType=="number"||r.dataType=="float"||r.dataType=="int"||r.dataType=="integer")&&(u="Number",t=parseFloat(t),(t===null||isNaN(t)||t==="")&&(t="",u="String"),t&&u!="String"&&t!=""&&i&&i.formatString&&i.formatString.indexOf("p")>=0&&(t=t/100),r.currencysymbol=i.localization.currencysymbol));e=a(r);n+=r.merge?'\n\t\t\t\t<Cell ss:MergeAcross="'+r.merge+'" ss:StyleID="'+e+'"><Data ss:Type="'+u+'">'+t+"<\/Data><\/Cell>":'\n\t\t\t\t<Cell ss:StyleID="'+e+'"><Data ss:Type="'+u+'">'+t+"<\/Data><\/Cell>"}function h(){return e+=1,"xls-style-"+e}function c(n){for(var t in i)if(s(n,i[t])&&s(i[t],n))return t;return undefined}function s(n,t){var i=!0;for(var r in n)n[r]!==t[r]&&(i=!1);return i}function l(n,i){t.startStyle(n);t.buildAlignment(i);t.buildBorder(i);t.buildFont(i);t.buildInterior(i);t.buildFormat(i);t.closeStyle();r+=t.toString()}function a(n){if(!n)return"";var t=c(n);return typeof t=="undefined"&&(t=h(),i[t]=n,l(t,n)),t}var r,n,u,f,i,e,t={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(n){this.style+='\n\t\t<Style ss:ID="'+n+'" ss:Name="'+n+'">'},buildAlignment:function(n){var t,i;n["text-align"]&&(t=this.stylesMap.alignment[n["text-align"]],t||(t="Left"),i='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+t+'"/>',this.style+=i)},buildBorder:function(n){if(n["border-color"]){var t="\n\t\t\t<Borders>",i='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+n["border-color"]+'"/>',r='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+n["border-color"]+'"/>',u='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+n["border-color"]+'"/>',f='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+n["border-color"]+'"/>';t+=i;t+=r;t+=u;t+=f;t+="\n\t\t\t<\/Borders>";this.style+=t}},buildFont:function(n){var r=this.stylesMap.font,i="\n\t\t\t<Font ";for(var t in r)typeof n[t]!="undefined"&&(t==="font-style"&&n[t].toString().toLowerCase()==="italic"?i+='ss:Italic="1" ':t==="font-weight"&&n[t].toString().toLowerCase()==="bold"?i+='ss:Bold="1" ':t==="color"&&(i+="ss:"+r[t]+'="'+n[t]+'" '));i+="/>";this.style+=i},buildInterior:function(n){var r=this.stylesMap.interior,t="\n\t\t\t<Interior ",u=!1;for(var i in r)typeof n[i]!="undefined"&&(t+="ss:"+r[i]+'="'+n[i]+'" ',u=!0);u&&(t+='ss:Pattern="Solid"');t+="/>";this.style+=t},buildFormat:function(n){if(n.dataType=="number"||n.dataType=="float"||n.dataType=="int"||n.dataType=="integer"){var t=n.formatString;t==""||t.indexOf("n")!=-1||t.indexOf("N")!=-1?this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>':t=="f"||t=="F"||t=="D"||t.indexOf("d")!=-1?this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>':t.indexOf("p")!=-1||t.indexOf("P")!=-1?this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>':(t.indexOf("c")!=-1||t.indexOf("C")!=-1)&&(this.style+=parseInt(n.currencysymbol.charCodeAt(0))==8364?'\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>':'\n\t\t\t<NumberFormat ss:Format="Currency"/>')}else n.dataType=="date"&&(this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>')},closeStyle:function(){this.style+="\n\t\t<\/Style>"},toString:function(){var n=this.style;return this.style="",n}};this.beginFile=function(){i={};e=0;r='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00<\/Version> \n\t<\/DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130<\/WindowHeight> \n\t<WindowWidth>15135<\/WindowWidth> \n\t<WindowTopX>120<\/WindowTopX> \n\t<WindowTopY>45<\/WindowTopY> \n\t<ProtectStructure>False<\/ProtectStructure> \n\t<ProtectWindows>False<\/ProtectWindows> \n\t<\/ExcelWorkbook> \n\t<Styles>'};this.beginHeader=function(){n='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>';u=[];f=[]};this.appendHeaderCell=function(t,i,r){var e=t.width!=undefined?t.width:t.text.length*10;n+='\n\t\t\t<Column ss:Width="'+e+'"/>';u.push(t);f.push(r)};this.endHeader=function(n){if(n){this.beginRow();for(var t=0;t<u.length;t+=1)f[t].disabled||o.call(this,u[t].text,null,f[t]);this.endRow()}};this.beginBody=function(){};this.beginRow=function(t){if(t!=undefined){n+="\n\t\t\t";for(var i=0;i<t;i++)n+="\t";n+="<Row>";return}n+="\n\t\t\t<Row>"};this.beginRows=function(){n+="\n\t\t\t\t<Rows>"};this.appendBodyCell=function(n,t,i,r){o.call(this,n,t,i,r)};this.endRow=function(t){if(t!=undefined){n+="\n\t\t\t";for(var i=0;i<t;i++)n+="\t";n+="<\/Row>";return}n+="\n\t\t\t<\/Row>"};this.endRows=function(t){if(t!=undefined){n+="\n\t\t\t";for(var i=0;i<t;i++)n+="\t";n+="<\/Rows>";return}};this.endBody=function(){n+="\n\t\t<\/Table>"};this.endFile=function(){n+="\n\t<\/Worksheet>\n<\/Workbook>";r+="\n\t<\/Styles>"};this.getFile=function(){return r+n}};t.prototype=new n.jqx.dataAdapter.DataExportModuleBase;n.jqx.dataAdapter.ArrayExporter.extend("xls",new t)}(jqxBaseFramework),function(n){var t=function(){var n,i,t;this.beginFile=function(){n='<?xml version="1.0" encoding="UTF-8" ?>\n<table>'};this.beginHeader=function(){i=[]};this.appendHeaderCell=function(n,t){i.push(t)};this.endHeader=function(){};this.beginBody=function(){};this.beginRow=function(i){if(i!=undefined&&this.hierarchy){n+="\n\t";for(var r=0;r<i;r++)n+="\t\t";n+="<row>";t=0;return}n+="\n\t<row>";t=0};this.beginRows=function(i){if(i!=undefined){n+="\n\t\t";for(var r=0;r<i;r++)n+="\t\t";n+="<rows>";t=0;return}n+="\n\t\t<rows>"};this.appendBodyCell=function(r,u,f,e,o,s){var h=this.getFormat(u),c;if(r=this.formatData(r,h.type,h.formatString,h.localization),h.type=="string"&&(r.toString().indexOf("&")>=0&&(r=r.toString().replace(/&/g,"&amp;")),r.toString().indexOf(">")>=0&&(r=r.toString().replace(/>/g,"&gt;")),r.toString().indexOf("<")>=0&&(r=r.toString().replace(/</g,"&lt;")),r.toString().indexOf('"')>=0&&(r=r.toString().replace(/"/g,"&quot;")),r.toString().indexOf("'")>=0&&(r=r.toString().replace(/'/g,"&apos;"))),e.level!=undefined)if(this.hierarchy){for(n+="\n\t\t",c=0;c<e.level;c++)n+="\t\t";n+=s===undefined?"<"+i[t]+">"+r+"<\/"+i[t]+">":"<"+s+">"+r+"<\/"+s+">"}else n+=s!=undefined?"\n\t\t<"+s+">"+r+"<\/"+s+">":"\n\t\t<"+i[t]+">"+r+"<\/"+i[t]+">";else n+="\n\t\t<"+i[t]+">"+r+"<\/"+i[t]+">";t++};this.endRow=function(i){if(i!=undefined&&this.hierarchy){n+="\n\t";for(var r=0;r<i;r++)n+="\t\t";n+="<\/row>";t=0;return}n+="\n\t<\/row>";t=0};this.endRows=function(i){if(i!=undefined){n+="\n\t\t";for(var r=0;r<i;r++)n+="\t\t";n+="<\/rows>";t=0;return}n+="\n\t\t<\/rows>"};this.endBody=function(){};this.endFile=function(){n+="\n<\/table>"};this.getFile=function(){return n}};t.prototype=new n.jqx.dataAdapter.DataExportModuleBase;n.jqx.dataAdapter.ArrayExporter.extend("xml",new t)}(jqxBaseFramework),function(n){function r(n){return'"'+n.replace(f,function(n){var t=e[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"'}function t(n){return n<10?"0"+n:n}function o(n){return isFinite(n.valueOf())?n.getUTCFullYear()+"-"+t(n.getUTCMonth()+1)+"-"+t(n.getUTCDate())+"T"+t(n.getUTCHours())+":"+t(n.getUTCMinutes())+":"+t(n.getUTCSeconds())+'Z"':"null"}function s(n){for(var u=n.length,r=[],t=0;t<u;t++)r.push(i(t,n)||"null");return"["+r.join(",")+"]"}function h(n){var f=[],t,u;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(u=i(t,n),u&&f.push(r(t)+":"+u));return"{"+f.join(",")+"}"}function c(n){switch(Object.prototype.toString.call(n)){case"[object Date]":return o(n);case"[object Array]":return s(n)}return h(n)}function l(n,t){switch(t){case"string":return r(n);case"number":case"float":case"integer":case"int":return isFinite(n)?n:"null";case"boolean":return n}return"null"}function i(n,t){var i=t[n],r=typeof i;return i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(n),r=typeof i),/(number|float|int|integer|string|boolean)/.test(r)||!i&&r==="object"?l(i,r):c(i)}function a(n){return window.JSON&&typeof window.JSON.stringify=="function"?window.JSON.stringify(n):i("",{"":n})}var f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u=function(){var u=this,f,i,r,t,n;this.prepareData=function(n,t){if(t){var i=u.getFormat(t);n=u.formatData(n,i.type,i.formatString,i.localization)}return n};t=[];n=0;this.beginFile=function(){i=[]};this.beginHeader=function(){};this.appendHeaderCell=function(){};this.endHeader=function(){};this.beginBody=function(){};this.beginRow=function(){hierarchy?t[n]={}:r={}};this.beginRows=function(){t[n].rows=[];n++;t[n]={}};this.endRows=function(){n--};this.appendBodyCell=function(i,u){var f=this.prepareData(i,u);hierarchy?t[n][u.text]=f:r[u.text]=f};this.endRow=function(){hierarchy?n==0?i.push(t[n]):t[n-1].rows.push(t[n]):i.push(r)};this.endBody=function(){};this.endFile=function(){f=a(i)};this.getFile=function(){return f}};u.prototype=new n.jqx.dataAdapter.DataExportModuleBase;n.jqx.dataAdapter.ArrayExporter.extend("json",new u)}(jqxBaseFramework),function(n){n.jqx.cssroundedcorners=function(n){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&n==prop)return t[prop]};n.jqx.jqxWidget("jqxButton","",{});n.extend(n.jqx._jqxButton.prototype,{defineInstance:function(){n.extend(!0,this,{cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}})},createInstance:function(){var t=this,i,r,u;t._setSize();t._ariaDisabled||t.host.attr("role","button");t.overrideTheme||(t.host.addClass(t.toThemeProperty(n.jqx.cssroundedcorners(t.roundedCorners))),t.enableDefault&&t.host.addClass(t.toThemeProperty("jqx-button")),t.host.addClass(t.toThemeProperty("jqx-widget")));t.isTouchDevice=n.jqx.mobile.isTouchDevice();t._ariaDisabled||n.jqx.aria(this);t.cursor!="arrow"&&(t.disabled?t.host.css({cursor:"arrow"}):t.host.css({cursor:t.cursor}));i="mouseenter mouseleave mousedown focus blur";t._scrollAreaButton&&(i="mousedown");t.isTouchDevice&&(t.addHandler(t.host,n.jqx.mobile.getTouchEventName("touchstart"),function(){t.isPressed=!0;t.refresh()}),t.addHandler(n(document),n.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id,function(){t.isPressed=!1;t.refresh()}));t.addHandler(t.host,i,function(n){switch(n.type){case"mouseenter":t.isTouchDevice||!t.disabled&&t.enableHover&&(t.isMouseOver=!0,t.refresh());break;case"mouseleave":t.isTouchDevice||!t.disabled&&t.enableHover&&(t.isMouseOver=!1,t.refresh());break;case"mousedown":t.disabled||(t.isPressed=!0,t.refresh());break;case"focus":t.disabled||(t.isFocused=!0,t.refresh());break;case"blur":t.disabled||(t.isFocused=!1,t.refresh())}});t.mouseupfunc=function(){t.disabled||(t.isPressed=!1,t.refresh())};t.addHandler(n(document),"mouseup.button"+t.element.id,t.mouseupfunc);try{(document.referrer!=""||window.frameElement)&&window.top!=null&&window.top!=window.self&&(r="",window.parent&&document.referrer&&(r=document.referrer),r.indexOf(document.location.host)!=-1&&(u=function(){t.isPressed=!1;t.refresh()},window.top.document&&t.addHandler(n(window.top.document),"mouseup",u)))}catch(f){}t.propertyChangeMap.roundedCorners=function(t,i,r,u){t.host.removeClass(t.toThemeProperty(n.jqx.cssroundedcorners(r)));t.host.addClass(t.toThemeProperty(n.jqx.cssroundedcorners(u)))};t.propertyChangeMap.width=function(n){n._setSize();n.refresh()};t.propertyChangeMap.height=function(n){n._setSize();n.refresh()};t.propertyChangeMap.disabled=function(t,i,r,u){r!=u&&(t.host[0].disabled=u,t.host.attr("disabled",u),t.refresh(),u?t.host.css({cursor:"default"}):t.host.css({cursor:t.cursor}),n.jqx.aria(t,"aria-disabled",t.disabled))};t.propertyChangeMap.rtl=function(n,t,i,r){i!=r&&n.refresh()};t.propertyChangeMap.theme=function(t){t.host.removeClass();t.enableDefault&&t.host.addClass(t.toThemeProperty("jqx-button"));t.host.addClass(t.toThemeProperty("jqx-widget"));t.overrideTheme||t.host.addClass(t.toThemeProperty(n.jqx.cssroundedcorners(t.roundedCorners)));t._oldCSSCurrent=null;t.refresh()};t.disabled&&(t.element.disabled=!0,t.host.attr("disabled",!0))},resize:function(n,t){this.width=n;this.height=t;this._setSize()},val:function(){var t=this,i=t.host.find("input");if(i.length>0)return arguments.length==0||typeof value=="object"?i.val():(i.val(value),t.refresh(),i.val());if(arguments.length==0||typeof value=="object")return t.element.nodeName.toLowerCase()=="button"?n(t.element).text():t.element.value;t.element.value=arguments[0];t.element.nodeName.toLowerCase()=="button"&&n(t.element).text(arguments[0]);t.refresh()},_setSize:function(){var n=this;n.width!=null&&(n.width.toString().indexOf("px")!=-1||n.width.toString().indexOf("%")!=-1)?n.host.css("width",n.width):n.width==undefined||isNaN(n.width)||n.host.css("width",n.width);n.height!=null&&(n.height.toString().indexOf("px")!=-1||n.height.toString().indexOf("%")!=-1)?n.host.css("height",n.height):n.height==undefined||isNaN(n.height)||n.host.css("height",parseInt(n.height))},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart");t.removeHandler(t.host,"click");t.removeHandler(t.host,"focus");t.removeHandler(t.host,"blur");t.removeHandler(t.host,"mouseenter");t.removeHandler(t.host,"mouseleave");t.removeHandler(t.host,"mousedown");t.removeHandler(n(document),"mouseup.button"+t.element.id,t.mouseupfunc);t.isTouchDevice&&(t.removeHandler(t.host,n.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(n(document),n.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id));t.mouseupfunc=null;delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this,i;t._removeHandlers();i=n.data(t.element,"jqxButton");i&&delete i.instance;t.host.removeClass();t.host.removeData();t.host.remove();delete t.set;delete t.get;delete t.call;delete t.propertyChangeMap.roundedCorners;delete t.propertyChangeMap.width;delete t.propertyChangeMap.height;delete t.propertyChangeMap.disabled;delete t.propertyChangeMap.rtl;delete t.propertyChangeMap.theme;delete t.propertyChangeMap;delete t.element;delete t.host},render:function(){this.refresh()},refresh:function(){var n=this,t;if(!n.overrideTheme){var u=n.toThemeProperty("jqx-fill-state-focus"),f=n.toThemeProperty("jqx-fill-state-disabled"),i=n.toThemeProperty("jqx-fill-state-normal");n.enableDefault||(i="");var e=n.toThemeProperty("jqx-fill-state-hover"),r=n.toThemeProperty("jqx-fill-state-pressed"),o=n.toThemeProperty("jqx-fill-state-pressed");if(n.enablePressed||(r=""),t="",n.host){if(n.host[0].disabled=n.disabled,n.disabled){t=i+" "+f;n.host.addClass(t);n._oldCSSCurrent=t;return}t=n.isMouseOver&&!n.isTouchDevice?n.isPressed?o:e:n.isPressed?r:i;n.isFocused&&(t+=" "+u);n.template!=="default"&&n.template!==""&&(t+=" jqx-"+n.template);t!=n._oldCSSCurrent&&(n._oldCSSCurrent&&n.host.removeClass(n._oldCSSCurrent),n.host.addClass(t),n._oldCSSCurrent=t);n.rtl&&(n.host.addClass(n.toThemeProperty("jqx-rtl")),n.host.css("direction","rtl"))}}}});n.jqx.jqxWidget("jqxLinkButton","",{});n.extend(n.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1;this.height=null;this.width=null;this.rtl=!1;this.href=null},createInstance:function(n){var f=this,i,r,t,u;this.host.onselectstart=function(){return!1};this.host.attr("role","button");i=this.height||this.host.height();r=this.width||this.host.width();this.href=this.host.attr("href");this.target=this.host.attr("target");this.content=this.host.text();this.element.innerHTML="";this.host.append("<input type='button' class='jqx-wrapper'/>");t=this.host.find("input");t.addClass(this.toThemeProperty("jqx-reset"));t.width(r);t.height(i);t.val(this.content);this.host.find("tr").addClass(this.toThemeProperty("jqx-reset"));this.host.find("td").addClass(this.toThemeProperty("jqx-reset"));this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset"));this.host.css("color","inherit");this.host.addClass(this.toThemeProperty("jqx-link"));t.css({width:r});t.css({height:i});u=n==undefined?{}:n[0]||{};t.jqxButton(u);this.disabled&&(this.host[0].disabled=!0);this.propertyChangeMap.disabled=function(n,t,i,r){n.host[0].disabled=r;n.host.find("input").jqxButton({disabled:r})};this.addHandler(t,"click",function(n){if(!this.disabled)f.onclick(n);return!1})},onclick:function(){this.target!=null?window.open(this.href,this.target):window.location=this.href}});n.jqx.jqxWidget("jqxRepeatButton","jqxButton",{});n.extend(n.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(){var t=this,i=n.jqx.mobile.isTouchDevice(),r=i?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,u=i?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(n(document),r,function(){t.timeout!=null&&(clearTimeout(t.timeout),t.timeout=null,t.refresh());t.timer!=undefined&&(clearInterval(t.timer),t.timer=null,t.refresh())});this.addHandler(this.base.host,u,function(){t.timer!=null&&clearInterval(t.timer);t.timeout=setTimeout(function(){clearInterval(t.timer);t.timer=setInterval(function(n){t.ontimer(n)},t.delay)},150)});this.mousemovefunc=function(n){i||n.which==0&&t.timer!=null&&(clearInterval(t.timer),t.timer=null)};this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var i=n.jqx.mobile.isTouchDevice(),r=i?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,u=i?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id,t;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc);this.removeHandler(this.base.host,u);this.removeHandler(n(document),r);this.timer=null;delete this.mousemovefunc;delete this.timer;t=n.data(this.base.element,"jqxRepeatButton");t&&delete t.instance;n(this.base.element).removeData();this.base.destroy();delete this.base},stop:function(){clearInterval(this.timer);this.timer=null},ontimer:function(t){var t=new n.Event("click");this.base!=null&&this.base.host!=null&&this.base.host.trigger(t)}});n.jqx.jqxWidget("jqxToggleButton","jqxButton",{});n.extend(n.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1;this.uiToggle=!0;this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(){var t=this;t.base.overrideTheme=!0;t.isTouchDevice=n.jqx.mobile.isTouchDevice();n.jqx.aria(this);t.propertyChangeMap.toggled=function(n){n.refresh()};t.propertyChangeMap.disabled=function(n,t,i,r){n.base.disabled=r;n.refresh()};t.addHandler(t.base.host,"click",function(){!t.base.disabled&&t.uiToggle&&t.toggle()});t.isTouchDevice||(t.addHandler(t.base.host,"mouseenter",function(){t.base.disabled||t.refresh()}),t.addHandler(t.base.host,"mouseleave",function(){t.base.disabled||t.refresh()}));t.addHandler(t.base.host,"mousedown",function(){t.base.disabled||t.refresh()});t.addHandler(n(document),"mouseup.togglebutton"+t.base.element.id,function(){t.base.disabled||t.refresh()})},destroy:function(){this._removeHandlers();this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click");this.removeHandler(this.base.host,"mouseenter");this.removeHandler(this.base.host,"mouseleave");this.removeHandler(this.base.host,"mousedown");this.removeHandler(n(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled;this.refresh();n.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1;this.refresh()},check:function(){this.toggled=!0;this.refresh()},refresh:function(){var n=this,r=n.base.toThemeProperty("jqx-fill-state-disabled"),i=n.base.toThemeProperty("jqx-fill-state-normal");n.base.enableDefault||(i="");var u=n.base.toThemeProperty("jqx-fill-state-hover"),f=n.base.toThemeProperty("jqx-fill-state-pressed"),e=n.base.toThemeProperty("jqx-fill-state-pressed"),t="";if(n.base.host[0].disabled=n.base.disabled,n.base.disabled){t=i+" "+r;n.base.host.addClass(t);return}t=n.base.isMouseOver&&!n.isTouchDevice?n.base.isPressed||n.toggled?e:u:n.base.isPressed||n.toggled?f:i;n.base.template!=="default"&&n.base.template!==""&&(t+=" jqx-"+n.base.template);n.base.host.hasClass(r)&&r!=t&&n.base.host.removeClass(r);n.base.host.hasClass(i)&&i!=t&&n.base.host.removeClass(i);n.base.host.hasClass(u)&&u!=t&&n.base.host.removeClass(u);n.base.host.hasClass(f)&&f!=t&&n.base.host.removeClass(f);n.base.host.hasClass(e)&&e!=t&&n.base.host.removeClass(e);n.base.host.hasClass(t)||n.base.host.addClass(t)}})}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxCheckBox","",{});n.extend(n.jqx._jqxCheckBox.prototype,{defineInstance:function(){n.extend(!0,this,{animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]})},createInstance:function(){this.render()},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var t=this.host.attr("name");this.input=n("<input type='hidden'/>");this.host.append(this.input);t&&this.input.attr("name",t);this.input.val(this.checked);this.host.attr("role","checkbox");n.jqx.aria(this)}},render:function(){var r,t,i;this.init=!0;r=this;this.setSize();this.propertyChangeMap.width=function(){r.setSize()};this.propertyChangeMap.height=function(){r.setSize()};this._removeHandlers();this.checkbox&&(this.checkbox.remove(),this.checkbox=null);this.checkMark&&(this.checkMark.remove(),this.checkMark=null);this.box&&(this.box.remove(),this.box=null);this.clear&&(this.clear.remove(),this.clear=null);this.boxSize==null&&(this.boxSize=13);t=parseInt(this.boxSize)+"px";this.checkbox=n('<div><div style="width: '+t+"; height: "+t+';"><span style="width: '+t+"; height: "+t+';"><\/span><\/div><\/div>');this.host.prepend(this.checkbox);this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=n('<div style="clear: both;"><\/div>'),this.host.append(this.clear));this.checkMark=n(this.checkbox[0].firstChild.firstChild);this.box=this.checkbox;this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all"));this.disabled&&this.disable();this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox")));this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");i=this.element.getAttribute("checked");(i=="checked"||i=="true"||i==!0)&&(this.checked=!0);this._addInput();this._render();this._addHandlers();this.init=!1},refresh:function(n){n||(this.setSize(),this._render())},resize:function(n,t){this.width=n;this.height=t;this.refresh()},setSize:function(){this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width);this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height)},_addHandlers:function(){var t=this,r=n.jqx.mobile.isTouchDevice(),i="mousedown";r&&(i=n.jqx.mobile.getTouchEventName("touchend"));this.addHandler(this.box,i,function(n){if(!t.disabled&&!t.enableContainerClick&&!t.locked)return t.toggle(),t.updated&&(n.owner=t,t.updated(n,t.checked,t.oldChecked)),n.preventDefault&&n.preventDefault(),!1});this.disabledContainer||(this.addHandler(this.host,"keydown",function(n){if(!t.disabled&&!t.locked&&t.keyboardCheck&&n.keyCode==32)return t._canFocus?(t.toggle(),t.updated&&(n.owner=t,t.updated(n,t.checked,t.oldChecked)),n.preventDefault&&n.preventDefault(),!1):!0}),this.addHandler(this.host,i,function(n){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.toggle(),n.preventDefault&&n.preventDefault(),!1}),this.addHandler(this.host,"selectstart",function(n){if(!t.disabled&&t.enableContainerClick)return n.preventDefault&&n.preventDefault(),!1}),this.addHandler(this.host,"mouseup",function(n){!t.disabled&&t.enableContainerClick&&n.preventDefault&&n.preventDefault()}),this.addHandler(this.host,"focus",function(n){if(!t.disabled&&!t.locked)return t._canFocus?(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),n.preventDefault&&n.preventDefault(),t.hovered=!0,!1):!0}),this.addHandler(this.host,"blur",function(n){if(!t.disabled&&!t.locked)return t._canFocus?(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),n.preventDefault&&n.preventDefault(),t.hovered=!1,!1):!0}),this.addHandler(this.host,"mouseenter",function(n){return t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked?(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),n.preventDefault&&n.preventDefault(),t.hovered=!0,!1):void 0}),this.addHandler(this.host,"mouseleave",function(n){if(t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),n.preventDefault&&n.preventDefault(),t.hovered=!1,!1}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(n){}},_removeHandlers:function(){var i=n.jqx.mobile.isTouchDevice(),t="mousedown";i&&(t="touchend");this.box&&(this.removeHandler(this.box,t),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"));this.removeHandler(this.host,t);this.removeHandler(this.host,"mouseup");this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto");this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl")));this.updateStates()},_setState:function(n){this.checked!=n&&(this.checked=n,this.checkMark[0].className=this.checked?this.toThemeProperty("jqx-checkbox-check-checked"):this.checked==null?this.toThemeProperty("jqx-checkbox-check-indeterminate"):"")},val:function(n){return arguments.length==0||n!=null&&typeof n=="object"?this.checked:(typeof n=="string"?(n=="true"&&this.check(),n=="false"&&this.uncheck(),n==""&&this.indeterminate()):(n==!0&&this.check(),n==!1&&this.uncheck(),n==null&&this.indeterminate()),this.checked)},check:function(){var t,i;this.checked=!0;t=this;this.checkMark.removeClass();n.jqx.browser.msie||this.animationShowDelay==0?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));this.groupName!=null&&this.groupName.length>0&&(i=n.find(this.toThemeProperty(".jqx-checkbox",!0)),n.each(i,function(){var i=n(this).jqxCheckBox("groupName");i==t.groupName&&this!=t.element&&n(this).jqxCheckBox("uncheck")}));this._raiseEvent("0",!0);this._raiseEvent("3",{checked:!0});this.input!=undefined&&(this.input.val(this.checked),n.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var t=this;n.jqx.browser.msie||this.animationHideDelay==0?t.checkMark[0].className!=""&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){t.checkMark[0].className!=""&&(t.checkMark[0].className="")}));this._raiseEvent("1");this._raiseEvent("3",{checked:!1});this.input!=undefined&&(this.input.val(this.checked),n.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null;this.checkMark.removeClass();n.jqx.browser.msie||this.animationShowDelay==0?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));this._raiseEvent("2");this._raiseEvent("3",{checked:null});this.input!=undefined&&(this.input.val(this.checked),n.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){if(!this.disabled&&!this.locked){if(this.groupName!=null&&this.groupName.length>0){this.checked!=!0&&(this.checked=!0,this.updateStates());return}this.oldChecked=this.checked;this.checked=this.checked==!0?this.hasThreeStates?null:!1:this.checked!=null;this.updateStates();this.input!=undefined&&this.input.val(this.checked)}},updateStates:function(){this.checked?this.check():this.checked==!1?this.uncheck():this.checked==null&&this.indeterminate()},disable:function(){this.disabled=!0;this.checked==!0?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):this.checked==null&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled"));this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box"));this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled"));n.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.checked==!0?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):this.checked==null&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled"));this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box"));this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled"));this.disabled=!1;n.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){var u,r,f;if(!this.init){u=this.events[t];r=new n.Event(u);r.owner=this;r.args=i;try{f=this.host.trigger(r)}catch(e){}return f}},propertyChangedHandler:function(t,i,r,u){if(this.isInitialized!=undefined&&this.isInitialized!=!1){if(i!=t.enableContainerClick||t.disabled||t.locked||(u?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),i=="rtl"&&(u?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),i=="boxSize"&&t.render(),i=="theme"&&n.jqx.utilities.setTheme(r,u,t.host),i=="checked"&&u!=r)switch(u){case!0:t.check();break;case!1:t.uncheck();break;case null:t.indeterminate()}i=="disabled"&&u!=r&&(u?t.disable():t.enable())}}})}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxCalendar","",{});n.extend(n.jqx._jqxCalendar.prototype,{defineInstance:function(){var t={disabled:!1,multipleMonthRows:1,multipleMonthColumns:1,minDate:n.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:n.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:n.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:25,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:[],keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};n.extend(!0,this,t);this.minDate._setYear(1900);this.minDate._setMonth(1);this.minDate._setDay(1);this.minDate._setHours(0);this.minDate._setMinutes(0);this.minDate._setSeconds(0);this.minDate._setMilliseconds(0);this.maxDate._setYear(2100);this.maxDate._setMonth(1);this.maxDate._setDay(1);this.maxDate._setHours(0);this.maxDate._setMinutes(0);this.maxDate._setSeconds(0);this.maxDate._setMilliseconds(0);this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)},createInstance:function(){var e,t,u,o;this.setCalendarSize();this.element.id===""&&(this.element.id=n.jqx.utilities.createId());this.element.innerHTML="";this.host.attr("data-role","calendar");e=this.element.id;t=this;this.propertyChangeMap.width=function(){t.setCalendarSize()};this.propertyChangeMap.height=function(){t.setCalendarSize()};n.global&&n.global.preferCulture(this.culture);this.culture!="default"&&(n.global?(n.global.preferCulture(this.culture),this.localization.calendar=n.global.culture.calendar):Globalize&&(u=Globalize.culture(this.culture),this.localization.calendar=u.calendar),this.firstDayOfWeek=this.localization.calendar.firstDay);this.localization.backString!="Back"&&(this.backText=this.localization.backString);this.localization.forwardString!="Forward"&&(this.forwardText=this.localization.forwardString);this.localization.todayString!="Today"&&this.localization.todayString&&(this.todayString=this.localization.todayString);this.localization.clearString!="Clear"&&this.localization.clearString&&(this.clearString=this.localization.clearString);this.setMaxDate(this.max,!1);this.setMinDate(this.min,!1);this.host.attr("tabIndex")||this.host.attr("tabIndex",0);this.host.css("outline","none");this.host.addClass(this.toThemeProperty("jqx-calendar"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this._addInput();this.views.indexOf("month")==-1&&(this.view="year");this.views.indexOf("year")==-1&&this.views.indexOf("month")==-1&&(this.view="decade");this.addHandler(this.host,"keydown",function(n){var i=!0;return t.keyboardNavigation&&t._handleKey!=undefined&&(i=t._handleKey(n),i||(n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault())),i});var f=!1,i=this,r=!1;t.width!=null&&t.width.toString().indexOf("%")!=-1&&(r=!0);t.height!=null&&t.height.toString().indexOf("%")!=-1&&(r=!0);n.jqx.utilities.resize(this.host,function(){var n=i.host.find("#View"+t.element.id);f?i.refreshTitle(n):(f=!0,i.render());r&&(t.refreshTimer&&clearTimeout(t.refreshTimer),t.refreshTimer=setTimeout(function(){t.refreshControl()},1))},!1,this._checkForHiddenParent);o="View";this.propertyChangeMap.disabled=function(n,i,r,u){u?n.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):n.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled"));t.refreshControl()}},_addInput:function(){var t=this.host.attr("name");this.input=n("<input type='hidden'/>");this.host.append(this.input);t&&this.input.attr("name",t);this.input.val(this.getDate().toString())},setCalendarSize:function(){this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width);this.width!=null&&this.width.toString().indexOf("%")!=-1&&this.host.css("width",this.width);this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height);this.height!=null&&this.height.toString().indexOf("%")!=-1&&this.host.css("height",this.height)},_getYearAndMonthPart:function(n){if(!n)return new Date(1900,0,1);return new Date(n.getFullYear(),n.getMonth(),1)},_handleKey:function(t){var r,c,it,w,o,e,f,a;if(this.readOnly)return!0;var s=t.keyCode,rt=this,u=this._getSelectedDate();if(u==undefined||t.altKey)return!0;if(this._animating)return!1;if(this.view!="month"&&s==13&&(f=this._getSelectedCell(),this._setDateAndSwitchViews(f,t,"keyboard")),this.view=="year"){var v=u.getMonth(),y=this._getYearAndMonthPart(this.getMinDate()),p=this._getYearAndMonthPart(this.getMaxDate());switch(s){case 37:return v==0?(r=new Date(u.getFullYear()-1,11,1),r>=y?(this.selectedDate=r,this.navigateBackward()):this.selectedDate!=y&&(this.selectedDate=y,this.navigateBackward())):(r=new Date(u.getFullYear(),v-1,1),r>=y&&this._selectDate(r,"key")),!1;case 38:return r=new Date(u.getFullYear(),v-4,1),r<y&&(r=y),v-4<0?(this.selectedDate=r,this.navigateBackward()):this._selectDate(r,"key"),!1;case 40:return r=new Date(u.getFullYear(),v+4,1),r>p&&(r=p),v+4>11?(this.selectedDate=r,this.navigateForward()):this._selectDate(r,"key"),!1;case 39:return v==11?(r=new Date(u.getFullYear()+1,0,1),r<=p?(this.selectedDate=r,this.navigateForward()):this.selectedDate!=p&&(this.selectedDate=p,this.navigateForward())):(r=new Date(u.getFullYear(),v+1,1),r<=p&&this._selectDate(r,"key")),!1}return!0}if(this.view=="decade"){var d=this._renderStartDate.getFullYear(),g=this._renderEndDate.getFullYear(),h=u.getFullYear(),b=this.getMinDate().getFullYear(),k=this.getMaxDate().getFullYear();switch(s){case 37:return h-1>=b&&(h<=d?(this.selectedDate=new Date(h-1,u.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(h-1,u.getMonth(),1),"key")),!1;case 38:return c=h-4,h-4<b&&(c=b),c<d?(this.selectedDate=new Date(c,u.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(c,u.getMonth(),1),"key"),!1;case 40:return c=h+4,c>k&&(c=k),c>g?(this.selectedDate=new Date(c,u.getMonth(),1),this.navigateForward()):this._selectDate(new Date(c,u.getMonth(),1),"key"),!1;case 39:return h+1<=k&&(h==g?(this.selectedDate=new Date(h+1,u.getMonth(),1),this.navigateForward()):this._selectDate(new Date(h+1,u.getMonth(),1),"key")),!1}return!0}var i=new n.jqx._jqxDateTimeInput.getDateTime(u),nt=this.getViewStart(),tt=this.getViewEnd(),ut=i,l=n.data(this.element,"View"+this.element.id);if(l==undefined||l==null)return!0;if(s==36)return(i._setDay(1),this._isDisabled(i.dateTime))?!1:(this._selectDate(i.dateTime,"key"),!1);if(s==35)return(it=this.value._daysInMonth(this.value.year,this.value.month),i._setDay(it),this._isDisabled(i.dateTime))?!1:(this._selectDate(i.dateTime,"key"),!1);if(w=1,t.ctrlKey&&(w=12),s==34){if(o=this.navigateForward(w),o){if(i._addMonths(w),this._isDisabled(i.dateTime))return!1;this._selectDate(i.dateTime,"key")}return!1}if(s==33){if(o=this.navigateBackward(w),o){if(i._addMonths(-w),this._isDisabled(i.dateTime))return!1;this._selectDate(i.dateTime,"key")}return!1}if(s==38){if((i._addDays(-7),i.dateTime<this.getMinDate())||i.dateTime<nt&&(o=this.navigateBackward(),!o)||this._isDisabled(i.dateTime))return!1;for(this._selectDate(i.dateTime,"key"),e=0;e<l.cells.length;e++)if(f=l.cells[e],a=f.getDate(),f.isOtherMonth&&f.isSelected&&a<=i.dateTime){this.value.day=a.getDate();this.navigateBackward();this._selectDate(i.dateTime,"key");break}return!1}if(s==40){if((i._addDays(7),i.dateTime>this.getMaxDate())||i.dateTime>tt&&(o=this.navigateForward(),!o)||this._isDisabled(i.dateTime))return!1;for(this._selectDate(i.dateTime,"key"),e=0;e<l.cells.length;e++)if(f=l.cells[e],a=f.getDate(),f.isOtherMonth&&f.isSelected&&a>=i.dateTime){this.value.day=a.getDate();this.navigateForward();this._selectDate(i.dateTime,"key");break}return!1}if(s==37){if((i._addDays(-1),i.dateTime<this.getMinDate())||i.dateTime<nt&&(o=this.navigateBackward(),!o)||this._isDisabled(i.dateTime))return!1;for(this._selectDate(i.dateTime,"key"),e=0;e<l.cells.length;e++)if(f=l.cells[e],a=f.getDate(),f.isOtherMonth&&f.isSelected&&a<=i.dateTime){if(i.dateTime<this.getMinDate()||i.dateTime>this.getMaxDate()||this._isDisabled(i.dateTime))return!1;this.navigateBackward();this._selectDate(i.dateTime,"key");break}return!1}if(s==39){if((i._addDays(1),i.dateTime>this.getMaxDate())||i.dateTime>tt&&(o=this.navigateForward(),!o)||this._isDisabled(i.dateTime))return!1;for(this._selectDate(i.dateTime,"key"),e=0;e<l.cells.length;e++)if(f=l.cells[e],a=f.getDate(),f.isOtherMonth&&f.isSelected&&a>=i.dateTime){if(i.dateTime<this.getMinDate()||i.dateTime>this.getMaxDate())return!1;this.navigateForward();this._selectDate(i.dateTime,"key");break}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var n=this._renderSingleCalendar("View"+this.element.id),t=this;this.host.append(n)}},addSpecialDate:function(n,t,i){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){var r=this.specialDates.length;this.specialDates[r]={Date:n,Class:t,Tooltip:i};this.refreshControl()}},refresh:function(){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){this.multipleMonthRows==1&&this.multipleMonthColumns==1&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var n=this.getVisibleDate(),t=this.getFirstDayOfWeek(n);return t.dateTime},getViewEnd:function(){var i=this.getViewStart(),t=new n.jqx._jqxDateTimeInput.getDateTime(i);return t._addDays(41),t.dateTime},refreshSingleCalendar:function(n){var i,r,u;if(this.canRender){var t=this.host.find("#"+n),f=this.getVisibleDate(),e=this.getFirstDayOfWeek(f);this.refreshCalendarCells(t,e,n);this.refreshTitle(t);this.refreshRowHeader(t,n);this.selectedDate!=undefined&&this._selectDate(this.selectedDate);i=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(i=this.host.height()-this.titleHeight);this.showFooter&&(i-=20);r=t.find("#cellsTable"+n);u=t.find("#calendarRowHeader"+n);r.height(i);u.height(i)}},refreshRowHeader:function(t,i){var p,h,u,c,r,l,a;if(this.showWeekNumbers){var y=this.getVisibleDate(),f=this.getFirstDayOfWeek(y),b=f.dayOfWeek,s=this.getWeekOfYear(f),e=new n.jqx._jqxDateTimeInput.getDateTime(new Date(f.dateTime));for(e._addDays(5),e.dayOfWeek=e.dateTime.getDay(),p=this.getWeekOfYear(e),h=this.rowHeader.find("table"),h.width(this.rowHeaderWidth),u=f,c=[],r=0;r<6;r++){var k=s.toString(),o=new n.jqx._jqxCalendar.cell(u.dateTime),w=r+1+this.element.id,v=n(h[0].rows[r].cells[0]);o.element=v;o.row=r;o.column=0;l=v.find("#headerCellContent"+w);l.addClass(this.toThemeProperty("jqx-calendar-row-cell"));l[0].innerHTML=s;c[r]=o;u=new n.jqx._jqxDateTimeInput.getDateTime(new Date(u._addWeeks(1)));s=this.getWeekOfYear(u)}a=n.data(this.element,t[0].id);a.rowCells=c;this._refreshOtherMonthRows(a,i)}},_refreshOtherMonthRows:function(n,t){var r,u,i,f;if(!this.showOtherMonthDays){for(this._displayLastRow(!0,t),this._displayFirstRow(!0,t),r=!1,u=!1,i=0;i<n.cells.length;i++)f=n.cells[i],f.isVisible&&i<7?r=!0:f.isVisible&&i>=n.cells.length-7&&(u=!0);r||this._displayFirstRow(!1,t);u||this._displayLastRow(!1,t)}},_displayLastRow:function(t,i){var u=this.host.find("#"+i),e=u.find("#calendarRowHeader"+u[0].id).find("table"),r=null,f;this.showWeekNumbers&&e[0].cells&&(r=n(e[0].rows[5]));f=n(u.find("#cellTable"+u[0].id)[0].rows[5]);t?(this.showWeekNumbers&&r&&r.css("display","table-row"),f.css("display","table-row")):(this.showWeekNumbers&&r&&r.css("display","none"),f.css("display","none"))},_displayFirstRow:function(t,i){var u=this.host.find("#"+i),e=u.find("#calendarRowHeader"+u[0].id).find("table"),r=null,f;this.showWeekNumbers&&e[0].cells&&(r=n(e[0].rows[0]));f=n(u.find("#cellTable"+u[0].id)[0].rows[0]);t?(this.showWeekNumbers&&r&&r.css("display","table-row"),f.css("display","table-row")):(this.showWeekNumbers&&r&&r.css("display","none"),f.css("display","none"))},_renderSingleCalendar:function(t,i){var c,a,f,e,v,p,o,s,u,h,w;if(this.canRender){c=this.host.find("#"+t.toString());c!=null&&c.remove();var r=n("<div id='"+t.toString()+"'><\/div>"),b=this.getVisibleDate(),l=this.getFirstDayOfWeek(b),y=new n.jqx._jqxDateTimeInput.getDateTime(l.dateTime);y._addMonths(1);a=n.jqx._jqxCalendar.monthView(l,y,null,null,null,r);i==undefined||i==null?(this.host.append(r),this.height==undefined||isNaN(this.height)?this.height!=null&&this.height.toString().indexOf("px")!=-1&&r.height(this.height):r.height(this.height),this.width==undefined||isNaN(this.width)?this.width!=null&&this.width.toString().indexOf("px")!=-1&&r.width(this.width):r.width(this.width),this.width!=null&&this.width.toString().indexOf("%")!=-1&&r.width("100%"),this.height!=null&&this.height.toString().indexOf("%")!=-1&&r.height("100%")):i.append(r);n.data(this.element,t,a);f=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(f=this.host.height()-this.titleHeight);this.showFooter&&(f-=20);this.rowHeaderWidth<0&&(this.rowHeaderWidth=0);this.columnHeaderHeight<0&&(this.columnHeaderHeight=0);this.titleHeight<0&&(this.titleHeight=0);e=this.rowHeaderWidth;v=this.columnHeaderHeight;this.showWeekNumbers||(e=0);this.showDayNames||(v=0);var k="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'><\/td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'><\/td><td role='gridcell' NOWRAP id='rightNavigationArrow'><\/td><\/tr><\/table><\/div>",d="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+v+"'><td role='gridcell' id='selectCell' width='"+e+"'><\/td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'><\/td><\/tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+f+"' width='"+e+"'><\/td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+f+"'><\/td><\/tr><\/table>",g="<div id='footer' style='margin: 0px; display: none; height:"+p+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'><\/td><td align='left' colspan='2' id=doneButton><\/td><\/tr><\/table><\/div>";return r[0].innerHTML=k+d+g,this.header=r.find("#calendarHeader"),this.header[0].id="calendarHeader"+t,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=r.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+t,this.table=r.find("#cellsTable"),this.table[0].id="cellsTable"+t,this.rowHeader=r.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+t,this.selectCell=r.find("#selectCell"),this.selectCell[0].id="selectCell"+t,this.title=r.find("#calendarTitle"),this.title[0].id="calendarTitle"+t,this.leftButton=r.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+t,this.titleHeader=r.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+t,this.rightButton=r.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+t,this.footer=r.find("#calendarFooter"),this._footer=r.find("#footer"),this._footer[0].id="footer"+t,this.footer[0].id="calendarFooter"+t,this.todayButton=r.find("#todayButton"),this.todayButton[0].id="todayButton"+t,this.doneButton=r.find("#doneButton"),this.doneButton[0].id="doneButton"+t,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container")),p=20,this.showFooter&&this._footer.css("display","block"),r.find("tr").addClass(this.toThemeProperty("jqx-reset")),r.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=r,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(r):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter&&(this.footer.height(20),o=n("<a href='javascript:;'>"+this.todayString+"<\/a>"),o.appendTo(this.todayButton),s=n("<a href='javascript:;'>"+this.clearString+"<\/a>"),s.appendTo(this.doneButton),s.addClass(this.toThemeProperty("jqx-calendar-footer")),o.addClass(this.toThemeProperty("jqx-calendar-footer")),u=this,h="mousedown",n.jqx.mobile.isTouchDevice()&&(h=n.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(o,h,function(){return u.today?u.today():u.setDate(new Date,"mouse"),!1}),this.addHandler(s,h,function(){return u.clear?u.clear():u.setDate(null,"mouse"),!1})),this.view!="month"&&this.header.hide(),this.showDayNames&&this.view=="month"&&this.renderColumnHeader(r),this.oldView=this.view,this.renderCalendarCells(r,l,t),(i==undefined||i==null)&&this.renderTitle(r),this._refreshOtherMonthRows(a,t),r.find("tbody").css({border:"none",background:"transparent"}),this.selectedDate!=undefined&&this._selectDate(this.selectedDate),w=this,this.addHandler(this.host,"focus",function(){w.focus()}),r}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(t){var r=n("<div role='button' style='float: left;'><\/div>"),u=n("<div role='button' style='float: right;'><\/div>"),f=this.title,e,y,l,p,o,s,h,c,a,v,i;if(f.addClass(this.toThemeProperty("jqx-reset")),f.addClass(this.toThemeProperty("jqx-widget-header")),f.addClass(this.toThemeProperty("jqx-calendar-title-header")),e=f.find("td"),n.jqx.browser.msie&&n.jqx.browser.version<8){if(e.css("background-color")!="transparent"&&(y=f.css("background-color"),e.css("background-color",y)),e.css("background-image")!="transparent"){var w=f.css("background-image"),b=f.css("background-repeat"),g=f.css("background-position");e.css("background-image",w);e.css("background-repeat",b);e.css("background-position","left center scroll")}}else e.css("background-color","transparent");this.disabled&&f.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled"));r.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));r.addClass(this.toThemeProperty("jqx-icon-arrow-left"));r.appendTo(this.leftButton);l=this.leftButton;u.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));u.addClass(this.toThemeProperty("jqx-icon-arrow-right"));u.appendTo(this.rightButton);p=this.rightButton;this.enableTooltips&&n(l).jqxTooltip&&(n(l).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),n(p).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));o=this.titleHeader;s=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);this.view=="decade"?(h=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),c=this._format(this._renderEndDate,this._getTitleFormat(),this.culture),s=h+" - "+c):this.view=="centuries"&&(h=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),c=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture),s=h+" - "+c);a=n("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+s+"<\/div>");o.append(a);a.addClass(this.toThemeProperty("jqx-calendar-title-content"));var k=parseInt(r.width()),d=t.width()-2*k,nt=o.find(".jqx-calendar-title-content").width(d);n.data(r,"navigateLeft",this);n.data(u,"navigateRight",this);v=n.jqx.mobile.isTouchDevice();this.disabled||(i=this,this.addHandler(o,"mousedown",function(){var n;if(i.enableViews){if(!i._viewAnimating&&!i._animating){n=i.view;i.oldView=n;switch(i.view){case"month":i.view="year";break;case"year":i.view="decade"}if(i.views.indexOf("year")==-1&&i.view=="year"&&(i.view="decade"),i.views.indexOf("decade")==-1&&i.view=="decade"&&(i.view=n),n!=i.view){var t="View"+i.element.id,r=i.host.find("#"+t),u=i.getVisibleDate(),f=i.getFirstDayOfWeek(u);i.renderCalendarCells(r,f,t,!0);i.refreshTitle(r);i._raiseEvent("8")}}return!1}}),this.addHandler(r,"mousedown",function(t){if(i._animating)return!1;n.data(r,"navigateLeftRepeat",!0);var u=n.data(r,"navigateLeft");return u.enableFastNavigation&&!v&&u.startRepeat(u,r,!0,i.navigationDelay+200),u.navigateBackward(1,"arrow"),u._raiseEvent(0,t)}),this.addHandler(r,"mouseup",function(){n.data(r,"navigateLeftRepeat",!1)}),this.addHandler(r,"mouseleave",function(){n.data(r,"navigateLeftRepeat",!1)}),this.addHandler(u,"mousedown",function(t){if(i._animating)return!1;n.data(u,"navigateRightRepeat",!0);var r=n.data(u,"navigateRight");return r.enableFastNavigation&&!v&&r.startRepeat(r,u,!1,i.navigationDelay+200),r.navigateForward(1,"arrow"),r._raiseEvent(1,t)}),this.addHandler(u,"mouseup",function(){n.data(u,"navigateRightRepeat",!1)}),this.addHandler(u,"mouseleave",function(){n.data(u,"navigateRightRepeat",!1)}))},refreshTitle:function(){var r=this._format(this.value.dateTime,this._getTitleFormat(),this.culture),t,i,u,f,e;this.view=="decade"?(t=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),i=this._format(this._renderEndDate,this._getTitleFormat(),this.culture),r=t+" - "+i):this.view=="centuries"&&(t=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),i=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture),r=t+" - "+i);u=this.titleHeader;this.titleHeader&&(f=u.find(".jqx-calendar-title-content"),e=n("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+r+"<\/div>"),u.append(e),e.addClass(this.toThemeProperty("jqx-calendar-title-content")),f!=null&&f.remove())},startRepeat:function(t,i,r,u){var f=window.setTimeout(function(){var e=n.data(i,"navigateLeftRepeat");if(r||(e=n.data(i,"navigateRightRepeat")),e)u<25&&(u=25),r?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,u)):(t.navigateForward(1,"arrow"),f=t.startRepeat(t,i,!1,u));else{window.clearTimeout(f);return}},u)},navigateForward:function(n,t){var i,u,r,o,f,e;if((n==undefined||n==null)&&(n=this.stepMonths),i=this.value.year,this.view=="decade"){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else this.view=="year"?i=this.value.year+1:this.view=="centuries"&&(i=this.value.year+100);if(this.view!="month"){if(u=this.getMaxDate().getFullYear(),(u<i||i>u)&&(i=u),this.value.year==i)return;this.value.year=i;this.value.month=1;this.value.day=1}return r=this.value.day,o=this.value.month,o+n<=12&&(f=this.value._daysInMonth(this.value.year,this.value.month+n),r>f&&(r=f)),this.view=="month"?(e=new Date(this.value.year,this.value.month-1+n,r),t=="arrow"&&this.selectableDays.length==7&&this.selectionMode!="range"&&(this.selectedDate=new Date(this.value.year,this.value.month-1+n,1))):e=new Date(this.value.year,this.value.month-1,r),this.navigateTo(e)},navigateBackward:function(n,t){var i,u,r,o,f,e;if((n==undefined||n==null)&&(n=this.stepMonths),i=this.value.year,this.view=="decade"?i=this._renderStartDate.getFullYear()-12:this.view=="year"?i=this.value.year-1:this.view=="centuries"&&(i=this.value.year-100),this.view!="month"){if(u=this.getMinDate().getFullYear(),i<u&&(i=u),this.view=="decade"&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i;this.value.month=1;this.value.day=1}return r=this.value.day,o=this.value.month,o-n>=1&&(f=this.value._daysInMonth(this.value.year,this.value.month-n),r>f&&(r=f)),this.view=="month"?(e=new Date(this.value.year,this.value.month-1-n,r),t=="arrow"&&this.selectableDays.length==7&&this.selectionMode!="range"&&(this.selectedDate=new Date(this.value.year,this.value.month-1-n,1))):e=new Date(this.value.year,this.value.month-1,r),this.navigateTo(e)},_isDisabled:function(n){var t=n.getDay(),i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t];return this.selectableDays.indexOf(i)==-1?!0:!1},refreshCalendarCells:function(t,i,r){var e,o,w,c,h;if(this.view=="year"||this.view=="decade"||this.view=="centuries"){this.refreshViews(t,i,r);return}var k=this.table,d=k.find("#cellTable"+r.toString()),f=i,a=[],p=0,v=new n.jqx._jqxDateTimeInput.getDateTime(new Date);for(e=0;e<6;e++)for(o=0;o<7;o++){w=e+1;c=o;this.rtl&&(c=6-c);var b=c+1,y="#cell"+w+b+this.element.id,l=new Date(f.dateTime.getFullYear(),f.dateTime.getMonth(),f.dateTime.getDate()),u=new n.jqx._jqxCalendar.cell(l),s=n(d[0].rows[e].cells[b-1]);s[0].id=y.substring(1);u.element=s;u.row=e;u.column=o;u.isVisible=!0;u.isOtherMonth=!1;u.isToday=!1;u.isWeekend=!1;u.isHighlighted=!1;u.isSelected=!1;f.month!=this.value.month&&(u.isOtherMonth=!0,u.isVisible=this.showOtherMonthDays);(l<this.getMinDate()||l>this.getMaxDate()||this._isDisabled(l))&&(u.isDisabled=!0);f.month==v.month&&f.day==v.day&&f.year==v.year&&(u.isToday=!0);f.isWeekend()&&(u.isWeekend=!0);n.data(this.element,"cellContent"+y.substring(1),u);n.data(this.element,y.substring(1),u);a[p]=u;p++;n.jqx.utilities.html(s,f.day);this._applyCellStyle(u,s,s);f=new n.jqx._jqxDateTimeInput.getDateTime(new Date(f._addDays(1)))}h=n.data(this.element,t[0].id);h!=undefined&&h!=null&&(h.cells=a);this.renderedCells=a;this._refreshOtherMonthRows(h,r)},_getDecadeAndCenturiesData:function(){var h=[],c=[],l=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear(),o,s,r,u,f,t,e;l<12&&(l=12);var n=this.getMinDate(),a=this.getMaxDate(),i=this.value.dateTime.getFullYear();if(this.view=="decade"){for(i+12>a.getFullYear()&&(i=a.getFullYear()-11),i<n.getFullYear()&&(i=n.getFullYear()),r=0;r<l;r++)if(u=new Date(n.getFullYear()+r,0,1),n.getFullYear()<=i&&i<=u.getFullYear()){for(f=new Date(u.getFullYear(),u.getMonth(),1),t=0;t<12;t++)o=new Date(f.getFullYear()+t,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),s=o.getFullYear(),n.getFullYear()<=s&&s<=a.getFullYear()?(h.push(s),c.push(o),t==0&&(this._renderStartDate=o),this._renderEndDate=o):(h.push(s),c.push(o));break}}else if(this.view=="centuries")for(r=0;r<l;r+=120)if(u=new Date(n.getFullYear()+r+120,0,1),n.getFullYear()<=i&&i<=u.getFullYear()){for(f=new Date(u.getFullYear()-130,u.getMonth(),1),f<n&&(f=n),t=0;t<12;t++)e=new Date(f.getFullYear()+t*10,f.getMonth(),1),f.getFullYear()>=n.getFullYear()&&e.getFullYear()<=a.getFullYear()&&(h.push("<span style='visibility: hidden;'>-<\/span>"+e.getFullYear()+"-"+(e.getFullYear()+9)),c.push(e),t==0&&(this._renderCenturyStartDate=e),this._renderCenturyEndDate=new Date(e.getFullYear()+9,0,1));break}return{years:h,dates:c}},refreshViews:function(t,i,r){for(var h,tt,o,it,c,k,s,f,a,ut=this,l=[],d=t.find("#cellTable"+r.toString()),v=this._getDecadeAndCenturiesData(),g=v.years,nt=v.dates,y=0,p=this.getMinDate(),w=this.getMaxDate(),e=0;e<3;e++)for(h=0;h<4;h++){tt=e+1;o=h;this.rtl&&(o=3-o);it=o+1;f=new Date(this.value.dateTime);f.setDate(1);f.setMonth(e*4+o);var u=new n.jqx._jqxCalendar.cell(f),rt=d[0].rows["row"+(1+e)+this.element.id],b=n(rt.cells[h]);if(u.isSelected=!1,u.isVisible=!0,u.element=b,u.row=e,u.column=h,u.index=l.length,c="",this.view=="year"){k=this.localization.calendar.months.names;s=k[e*4+o];switch(this.monthNameFormat){case"default":s=this.localization.calendar.months.namesAbbr[e*4+o];break;case"shortest":s=this.localization.calendar.months.namesShort[e*4+o];break;case"firstTwoLetters":s=s.substring(0,2);break;case"firstLetter":s=s.substring(0,1)}c=s}else(this.view=="decade"||this.view=="centuries")&&(c=g[e*4+o],undefined==c&&(c="<span style='cursor: default; visibility: hidden;'>2013<\/span>"),u.setDate(nt[e*4+o]));f=u.getDate();this.view=="year"?f.getMonth()==this.getDate().getMonth()&&f.getFullYear()==this.getDate().getFullYear()&&(u.isSelected=!0):f.getFullYear()==this.getDate().getFullYear()&&(u.isSelected=!0);this.view=="year"?(this._getYearAndMonthPart(f)<this._getYearAndMonthPart(p)&&(u.isDisabled=!0),this._getYearAndMonthPart(f)>this._getYearAndMonthPart(w)&&(u.isDisabled=!0)):(f.getFullYear()<p.getFullYear()&&(u.isDisabled=!0),f.getFullYear()>w.getFullYear()&&(u.isDisabled=!0));n.jqx.utilities.html(b,c);l[y]=u;y++}a=n.data(this.element,t[0].id);a!=undefined&&a!=null&&(a.cells=l);this.renderedCells=l;this._applyCellStyles()},_createViewClone:function(){var t=this.host.find(".jqx-calendar-month"),n=t.clone();return n.css("position","absolute"),n.css("top",t.position().top),n},_addCellsTable:function(n,t){var i=this,f=this.showFooter?20:0,r,e,u;this.view!="month"?t.height(this.host.height()-this.titleHeight):t.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-f);this._viewAnimating=!0;r=this.host.find(".jqx-calendar-month-container");r.css("position","relative");e=this.host.find(".jqx-calendar-month");u=this._createViewClone();r.append(u);this.view!="month"?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200));n.children().remove();n.append(t);this._animateViews(u,t,function(){i.selectedDate||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus();setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(n){}i._viewAnimating=!1});t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(n,t,i){var r=this;if(r._viewAnimating=!0,r.oldView==r.view){n.remove();t.fadeOut(0);t.fadeIn(0);i();return}n.fadeOut(this.navigationDelay+100,function(){n.remove()});t.fadeOut(0);t.fadeIn(this.navigationDelay+200,function(){i()})},focus:function(){try{if(this.renderedCells&&this.renderedCells.length>0){var n=this;n.selectedDate||n.selectionMode=="range"||this.setDate(new Date,"mouse");this.element.focus()}}catch(t){}},renderViews:function(t,i,r){var e=this,a=[],w=n("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+r.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><\/table>"),it=this.host.find(".jqx-calendar-month-container"),y,f,c,ft,o,u,p,l,tt,h,s,v;it.css("position","relative");y=t.find("#cellsTable"+t[0].id);y[0].style.borderColor="transparent";var b=this._getDecadeAndCenturiesData(),rt=b.years,ut=b.dates,k=0,d=this.getMinDate(),g=this.getMaxDate(),nt=new Date(this.value.dateTime);for(nt.setDate(1),f=0;f<3;f++)for(c=0;c<4;c++){ft=f+1;o=c;this.rtl&&(o=3-o);var ot=o+1,et=w[0].rows["row"+(1+f)+this.element.id],s=new Date(nt);if(s.setMonth(f*4+o),u=new n.jqx._jqxCalendar.cell(s),p=n(et.cells[c]),u.isVisible=!0,u.element=p,u.row=f,u.column=c,u.index=a.length,u.isSelected=!1,l="",this.view=="year"){s.getMonth()==this.getDate().getMonth()&&s.getFullYear()==this.getDate().getFullYear()&&(u.isSelected=!0);tt=this.localization.calendar.months.names;h=tt[f*4+o];switch(this.monthNameFormat){case"default":h=this.localization.calendar.months.namesAbbr[f*4+o];break;case"shortest":h=this.localization.calendar.months.namesShort[f*4+o];break;case"firstTwoLetters":h=h.substring(0,2);break;case"firstLetter":h=h.substring(0,1)}l=h}else(this.view=="decade"||this.view=="centuries")&&(l=rt[f*4+o],u.setDate(ut[f*4+o]),u.getDate().getFullYear()==this.getDate().getFullYear()&&(u.isSelected=!0),undefined==l&&(l="<span style='cursor: default; visibility: hidden;'>2013<\/span>"));s=u.getDate();this.view=="year"?(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(d)&&(u.isDisabled=!0),this._getYearAndMonthPart(s)>this._getYearAndMonthPart(g)&&(u.isDisabled=!0)):(s.getFullYear()<d.getFullYear()&&(u.isDisabled=!0),s.getFullYear()>g.getFullYear()&&(u.isDisabled=!0));n.jqx.utilities.html(p,l);a[k]=u;k++}n.each(a,function(){var n=this.element,t=this;e.disabled||(e.addHandler(n,"mousedown",function(n){e._setDateAndSwitchViews(t,n,"mouse")}),e.addHandler(n,"mouseover",function(){var n=e.renderedCells[t.index];(e.view=="centuries"||n.element.html().toLowerCase().indexOf("span")==-1)&&(n.isHighlighted=!0,e._applyCellStyle(n,n.element,n.element))}),e.addHandler(n,"mouseout",function(){var n=e.renderedCells[t.index];(e.view=="centuries"||n.element.html().toLowerCase().indexOf("span")==-1)&&(n.isHighlighted=!1,e._applyCellStyle(n,n.element,n.element))}))});v=n.data(this.element,t[0].id);v!=undefined&&v!=null&&(v.cells=a);this.renderedCells=a;this._addCellsTable(y,w);this._applyCellStyles()},_setDateAndSwitchViews:function(n,t,i){var u,f;if(!this._viewAnimating&&!this._animating){var l=this.getDate(),r=this.renderedCells[n.index].getDate(),s=this.value.dateTime.getDate(),e=new Date(r);if(this.views.indexOf("month")!=-1?e.setDate(s):(e.setDate(1),r.setDate(1)),e.getMonth()==r.getMonth()&&(r=e),u=this.getMinDate(),f=this.getMaxDate(),this.view=="year"){if(this._getYearAndMonthPart(r)<this._getYearAndMonthPart(u))return;if(this._getYearAndMonthPart(r)>this._getYearAndMonthPart(f))return}else{if(r.getFullYear()<u.getFullYear())return;if(r.getFullYear()>f.getFullYear())return}this._selectDate(r);this.oldView=this.view;switch(this.view){case"year":this.view="month";break;case"decade":this.view="year"}this.views.indexOf("month")==-1&&(this.view="year");this.views.indexOf("year")==-1&&(this.view="decade");this.view=="year"?(this._getYearAndMonthPart(r)<this._getYearAndMonthPart(u)&&(r=u),this._getYearAndMonthPart(r)>this._getYearAndMonthPart(f)&&(r=f)):(r.getFullYear()<u.getFullYear()&&(r=u),r.getFullYear()>f.getFullYear()&&(r=f));this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=r.getFullYear()||this.selectedDate.getMonth()!=r.getMonth()||this.selectedDate.getDate()!=r.getDate())&&(r=this.selectedDate);this.value._setYear(r.getFullYear());this.value._setDay(r.getDate());this.value._setMonth(r.getMonth()+1);this.value._setDay(r.getDate());var h=this.getVisibleDate(),c=this.getFirstDayOfWeek(h),o="View"+this.element.id;this.renderCalendarCells(this.month,c,o,!0);this.refreshTitle(this.month);this.showWeekNumbers&&this.refreshRowHeader(this.month,o);this.views.length==3&&this.view=="month"&&this._selectDate(this.selectedDate,"view");this.view!="month"&&(this.oldView=="year"||this.views.indexOf("year")==-1&&this.view=="decade")&&(i!="keyboard"&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"}));this._raiseEvent("8")}},renderCalendarCells:function(t,i,r,u){var a,h,b,v,c,y,ut,p,f,tt,l;if(this.view=="year"||this.view=="decade"||this.view=="centuries"){this.renderViews(t,i,r);return}a=n("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+r.toString()+"><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><\/table>");h=this.table;h[0].style.borderColor="transparent";u==undefined&&(b=h.find("#cellTable"+r.toString()),b!=null&&b.remove(),h.append(a));var o=i,it=this.showDayNames?1:0,k=this.showWeekNumbers?1:0,d=[],rt=0,g=(t.width()-this.rowHeaderWidth-2)/7;for(this.showWeekNumbers||(g=(t.width()-2)/7),g=parseInt(g),v=new n.jqx._jqxDateTimeInput.getDateTime(new Date),c=0;c<6;c++){for(y=0;y<7;y++){ut=c+1;p=y;this.rtl&&(p=6-p);var ft=p+1,nt="#cell"+ut+ft+this.element.id,w=new Date(o.dateTime.getFullYear(),o.dateTime.getMonth(),o.dateTime.getDate()),e=new n.jqx._jqxCalendar.cell(w),s=n(a[0].rows[c].cells[ft-1]);s[0].id=nt.substring(1);e.isVisible=!0;e.isDisabled=!1;o.month!=this.value.month&&(e.isOtherMonth=!0,e.isVisible=this.showOtherMonthDays);(w<this.getMinDate()||w>this.getMaxDate()||this._isDisabled(w))&&(e.isDisabled=!0);o.month==v.month&&o.day==v.day&&o.year==v.year&&(e.isToday=!0);o.isWeekend()&&(e.isWeekend=!0);e.element=s;e.row=it;e.column=k;n.jqx.utilities.html(s,o.day);o=new n.jqx._jqxDateTimeInput.getDateTime(new Date(o._addDays(1)));n.data(this.element,"cellContent"+nt.substring(1),e);n.data(this.element,""+nt.substring(1),e);f=this;this.addHandler(s,"mousedown",function(t){var r,o,u,s;if(!f.readOnly&&!f.disabled){var e=n(t.target),i=n.data(f.element,e[0].id),h=f._raiseEvent(3,t);return i!=null&&i!=undefined&&(r=i.getDate(),f.getMinDate()<=r&&r<=f.getMaxDate()&&(i.isDisabled||(i.isOtherMonth&&f.enableAutoNavigation?(i.row<2?f.navigateBackward():f.navigateForward(),f._selectDate(i.getDate(),"mouse",t.shiftKey)):(o=new Date(f.getDate()),f._selectDate(i.getDate(),"mouse",t.shiftKey),f.value._setYear(r.getFullYear()),f.value._setDay(1),f.value._setMonth(r.getMonth()+1),f.value._setDay(r.getDate()),u=f.host.find(".jqx-calendar-month"),u.stop(),u.css("margin-left","0px"),s=f.getDate(),f._raiseEvent("2"),i.isOtherMonth&&f._raiseEvent("5",{selectionType:"mouse"}))))),!1}});f.disabled||(tt=function(t,i){var u,r,e;f.readOnly||(u=n(t.target),r=n.data(f.element,u[0].id),r!=null&&r!=undefined&&(e=r.getDate(),f.getMinDate()<=e&&e<=f.getMaxDate()&&(r.isHighlighted=i,f._applyCellStyle(r,r.element,u))))},this.addHandler(s,"mouseenter",function(n){return tt(n,!0),!1}),this.addHandler(s,"mouseleave",function(n){return tt(n,!1),!1}));k++;d[rt]=e;rt++}k=0;it++}l=n.data(this.element,t[0].id);l!=undefined&&l!=null&&(l.cells=d);this.renderedCells=d;u!=undefined&&this._addCellsTable(h,a);this._applyCellStyles();this._refreshOtherMonthRows(l,r)},setMaxDate:function(t,i){(t==null||typeof t!="string"||(t=new Date(t),t!="Invalid Date"))&&(this.maxDate=n.jqx._jqxDateTimeInput.getDateTime(t),i!==!1&&this.render())},getMaxDate:function(){return this.maxDate!=null&&this.maxDate!=undefined?this.maxDate.dateTime:null},setMinDate:function(t,i){(t==null||typeof t!="string"||(t=new Date(t),t!="Invalid Date"))&&(this.minDate=n.jqx._jqxDateTimeInput.getDateTime(t),i!==!1&&this.render())},getMinDate:function(){return this.minDate!=null&&this.minDate!=undefined?this.minDate.dateTime:null},navigateTo:function(t,i){var c,l,h,o,f,s,e,u,r;if(this.view=="month"){if(c=this.getMinDate(),l=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate()),t<this._getYearAndMonthPart(c)||t>this._getYearAndMonthPart(l))return!1}else if(t&&(t.getFullYear()<this.getMinDate().getFullYear()||t.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(t==null)return!1;if(i==undefined){if(h=this,this._animating)return;this._animating=!0;o=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove());this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove());r=this.host.find(".jqx-calendar-month");r.stop();r.css("margin-left","0px");f=r.clone();this._viewClone=f;s=new Date(this.value.dateTime);this.value._setYear(t.getFullYear());this.value._setDay(t.getDate());this.value._setMonth(t.getMonth()+1);h.refreshControl();o.css("position","relative");f.css("position","absolute");f.css("top",r.position().top);o.append(f);n.jqx.browser.msie&&n.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));e=-this.host.width();t<s&&(this.view=="month"&&t.getMonth()!=s.getMonth()?e=this.host.width():t.getFullYear()!=s.getFullYear()&&(e=this.host.width()));f.animate({marginLeft:parseInt(e)+"px"},this.navigationDelay,function(){f.remove()});u=r.clone();this._newViewClone=u;u.css("position","absolute");u.css("top",r.position().top);o.append(u);u.css("margin-left",-e);r.css("visibility","hidden");u.animate({marginLeft:"0px"},this.navigationDelay,function(){u.remove();r.css("visibility","visible");h._animating=!1})}else this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1),r=this.host.find(".jqx-calendar-month"),r.stop(),r.css("margin-left","0px"),this.refreshControl();return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(n){return n!=null&&typeof n=="string"&&(n=new Date(n)),this.canRender==!1&&(this.canRender=!0,this.render()),this.navigateTo(n,"api"),this._selectDate(n),this.selectionMode=="range"&&this._selectDate(n,"mouse"),!0},val:function(n){return arguments.length!=0&&(n==null&&this.setDate(null),n instanceof Date&&this.setDate(n),typeof n=="string"&&this.setDate(n)),this.getDate()},getDate:function(){return this.selectedDate==undefined?new Date:this.selectedDate},getValue:function(){return this.value==undefined?new Date:this.value.dateTime},setRange:function(n,t){this.canRender==!1&&(this.canRender=!0,this.render());this.navigateTo(n,"api");this._selectDate(n,"mouse");this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(t,i,r){var f,e,u,o,s,h;if(this.selectionMode!="none"&&((i==null||i==undefined)&&(i="none"),(r==null||r==undefined)&&(r=!1),f=n.data(this.element,"View"+this.element.id),f!=undefined&&f!=null)){if(this.changing&&t&&this.selectedDate&&((this.selectedDate.getFullYear()!=t.getFullYear()||this.selectedDate.getDate()!=t.getDate()||this.selectedDate.getMonth()!=t.getMonth())&&(e=this.changing(this.selectedDate,t)),e&&(t=e)),u=this,this.input&&(t!=null?this.input.val(t.toString()):this.input.val("")),o=this.selectedDate,this.selectedDate=t,this.view!="month"){o!=t&&this._raiseEvent(7);n.each(this.renderedCells,function(){var i=this,r=i.getDate(),f=n(i.element),e=f.find("#cellContent"+f[0].id);if(t==null)i.isSelected=!1,i.isDisabled=!1;else if(i.isSelected=!1,r&&(r.getMonth()==t.getMonth()&&u.view=="year"&&r.getFullYear()==t.getFullYear()||u.view=="decade"&&r.getFullYear()==t.getFullYear())){i.isSelected=!0;try{i.element.focus()}catch(o){}}u._applyCellStyle(i,f,f)});this.change&&this.change(t);return}if(this.view=="month"&&this.selectionMode=="range"&&i=="key"&&(s=this.getVisibleDate(),h=this.getFirstDayOfWeek(s),this.refreshCalendarCells(this.month,h,"View"+this.element.id)),n.each(this.renderedCells,function(f){var e=this,o=e.getDate(),h=n(e.element),v=h,y,p,s;if(h.length==0)return!1;if(t==null)e.isSelected=!1,e.isDisabled=!1,f==0&&(u.selection={from:null,to:null},u._raiseEvent("2"),u._raiseEvent("5",{selectionType:i}));else if(u.selectionMode!="range"||i=="key"){if(o.getDate()==t.getDate()&&o.getMonth()==t.getMonth()&&o.getFullYear()==t.getFullYear()&&e.isSelected){u._applyCellStyle(e,h,v);u._raiseEvent("5",{selectionType:i});return}if(e.isSelected&&u._raiseEvent("6",{selectionType:i}),e.isSelected=!1,o.getDate()==t.getDate()&&o.getMonth()==t.getMonth()&&o.getFullYear()==t.getFullYear()){e.isSelected=!0;f==0&&(u.selection={date:t});try{e.element.focus();u.host.focus()}catch(w){}e.isOtherMonth||(u.value._setMonth(t.getMonth()+1),u.value._setDay(t.getDate()),u.value._setYear(t.getFullYear()),u._raiseEvent("2"),u._raiseEvent("5",{selectionType:i}))}u.selectionMode=="range"&&(u._clicks=0,u.selection={from:t,to:t})}else if(u.selectionMode=="range"){if(i=="view")return e.isSelected=!1,e.isDisabled=!1,u.getMaxDate()<o&&(e.isDisabled=!0),u.getMinDate()>o&&(e.isDisabled=!0),u._isDisabled(o)&&(e.isDisabled=!0),u._applyCellStyle(e,h,v),!0;if(f==0)if(i!="none")if(u._clicks==undefined&&(u._clicks=0),u._clicks++,r&&u._clicks++,u._clicks==1)u.selection={from:t,to:t};else{var c=u.selection.from,l=c<=t?c:t,a=c<=t?t:c;l&&(y=new Date(l.getFullYear(),l.getMonth(),l.getDate()));a&&(p=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59));u.selection={from:y,to:p};u._clicks=0}else(u.selection==null||u.selection.from==null)&&(u.selection={from:t,to:t},u._clicks==undefined&&(u._clicks=0),u._clicks++,u._clicks==2&&(u._clicks=0));s=function(n){if(n==null)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t};e.isOtherMonth||s(o).toString()!=s(t).toString()||(u.value._setMonth(t.getMonth()+1),u.value._setDay(t.getDate()),u.value._setYear(t.getFullYear()),u._raiseEvent("2"),u._raiseEvent("5",{selectionType:i}));e.isSelected=!1;e.isDisabled=!1;s(o)<s(u.selection.from)&&u._clicks==1&&(e.isDisabled=!0);u.getMaxDate()<o&&(e.isDisabled=!0);u.getMinDate()>o&&(e.isDisabled=!0);u._isDisabled(o)&&(e.isDisabled=!0);e.isDisabled||s(o)>=s(u.selection.from)&&s(o)<=s(u.selection.to)&&(e.isSelected=!0)}u._applyCellStyle(e,h,v)}),u.selectionMode=="range"&&u._clicks==0){u._raiseEvent(7);return}u.selectionMode!="range"&&o!=t&&(u._raiseEvent(7),this.change&&this.change(t))}},_getSelectedDate:function(){var t=n.data(this.element,"View"+this.element.id),i,r,u;if(t!=undefined&&t!=null){if(this.view!="month")return this.selectedDate;for(i=0;i<t.cells.length;i++)if(r=t.cells[i],u=r.getDate(),r.isSelected)return u;if(this.selectedDate)return this.selectedDate}},_getSelectedCell:function(){var t=n.data(this.element,"View"+this.element.id),i,r,u;if(t!=undefined&&t!=null)for(i=0;i<t.cells.length;i++)if(r=t.cells[i],u=r.getDate(),r.isSelected)return r},_applyCellStyle:function(t,i,r){var f=this,u,o,e;(r==null||r!=null&&r.length==0)&&(r=i);u="";u=this.toThemeProperty("jqx-rc-all");u+=" "+this.toThemeProperty("jqx-item");(this.disabled||t.isDisabled)&&(u+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),u+=" "+this.toThemeProperty("jqx-fill-state-disabled"));t.isOtherMonth&&this.enableOtherMonthDays&&t.isVisible&&(u+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth"));t.isWeekend&&this.enableWeekend&&t.isVisible&&t.isVisible&&(u+=" "+this.toThemeProperty("jqx-calendar-cell-weekend"));t.isVisible?(u+=" "+this.toThemeProperty("jqx-calendar-cell"),this.view!="month"&&r.length>0&&r.html().toLowerCase().indexOf("span")!=-1&&r.css("cursor","default")):u+=" "+this.toThemeProperty("jqx-calendar-cell-hidden");r.removeAttr("aria-selected");t.isSelected&&t.isVisible&&(u+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),u+=" "+this.toThemeProperty("jqx-fill-state-pressed"),r.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",r[0].id),o=t.getDate(),this._isDisabled(o)&&(u+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid")));t.isHighlighted&&t.isVisible&&this.enableHover&&(t.isDisabled||(u+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),u+=" "+this.toThemeProperty("jqx-fill-state-hover")));u+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view);t.isToday&&t.isVisible&&(u+=" "+this.toThemeProperty("jqx-calendar-cell-today"));r[0].className=u;this.specialDates.length>0&&(e=this,n.each(this.specialDates,function(){var i,u;return this.Class!=undefined&&this.Class!=null&&this.Class!=""?r.removeClass(this.Class):r.removeClass(f.toThemeProperty("jqx-calendar-cell-specialDate")),i=t.getDate(),i.getFullYear()==this.Date.getFullYear()&&i.getMonth()==this.Date.getMonth()&&i.getDate()==this.Date.getDate()?(t.tooltip==null&&this.Tooltip!=null&&(t.tooltip=this.Tooltip,n(r).jqxTooltip&&(u=this.Class,n(r).jqxTooltip({value:{cell:t,specialDate:this.Date},name:e.element.id,content:this.Tooltip,position:"mouse",theme:e.theme,opening:function(){return r.hasClass(f.toThemeProperty("jqx-calendar-cell-specialDate"))?!0:r.hasClass(u)?!0:!1}}))),r.removeClass(f.toThemeProperty("jqx-calendar-cell-othermonth")),r.removeClass(f.toThemeProperty("jqx-calendar-cell-weekend")),this.Class==undefined||this.Class==""?(r.addClass(f.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(r.addClass(this.Class),!1)):void 0}))},_applyCellStyles:function(){var t=n.data(this.element,"View"+this.element.id),i;if(t!=undefined&&t!=null)for(i=0;i<t.cells.length;i++){var f=t.cells[i],r=n(f.element),u=r.find("#cellContent"+r[0].id);u.length==0&&(u=r);this._applyCellStyle(f,r,u)}},getWeekOfYear:function(n){var r=new Date(n.dateTime),u,t,f,i;return dowOffset=this.firstDayOfWeek,u=new Date(r.getFullYear(),0,1),t=u.getDay()-dowOffset,t=t>=0?t:t+7,f=Math.floor((r.getTime()-u.getTime()-(r.getTimezoneOffset()-u.getTimezoneOffset())*6e4)/864e5)+1,t<4?(i=Math.floor((f+t-1)/7)+1,i>52&&(nYear=new Date(r.getFullYear()+1,0,1),nday=nYear.getDay()-dowOffset,nday=nday>=0?nday:nday+7,i=nday<4?1:53)):i=Math.floor((f+t-1)/7),i},renderColumnHeader:function(t){var r,u,i,h,p,w;if(this.showDayNames){r=n("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><\/table>");r.find("table").addClass(this.toThemeProperty("jqx-reset"));r.find("tr").addClass(this.toThemeProperty("jqx-reset"));r.find("td").css({background:"transparent",padding:1,margin:0,border:"none"});r.addClass(this.toThemeProperty("jqx-reset"));r.addClass(this.toThemeProperty("jqx-widget-content"));r.addClass(this.toThemeProperty("jqx-calendar-column-header"));this.columnHeader.append(r);var b=this.getVisibleDate(),c=this.getFirstDayOfWeek(b),g=c.dayOfWeek,nt=this.getWeekOfYear(c),e=this.firstDayOfWeek,l=this.localization.calendar.days.names,y=[],a=c,v=(t.width()-this.rowHeaderWidth-2)/7;for(this.showWeekNumbers||(v=(t.width()-2)/7),u=0;u<7;u++){i=l[e];this.rtl&&(i=l[6-e]);switch(this.dayNameFormat){case"default":i=this.localization.calendar.days.namesAbbr[e];break;case"shortest":i=this.localization.calendar.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}var o=new n.jqx._jqxCalendar.cell(a.dateTime),k=u+1,s=k+this.element.id,f=n(r[0].rows[0].cells[u]),d=u;if(this.enableTooltips&&n(f).jqxTooltip&&n(f).jqxTooltip({name:this.element.id,content:l[e],theme:this.theme,position:"mouse"}),e>=6?e=0:e++,u=d,o.element=f,o.row=0,o.column=u+1,h=this._textwidth(i),p="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+s+"'>"+i+"<\/div>",f.append(p),f.find("#columnCell"+s).addClass(this.toThemeProperty("jqx-calendar-column-cell")),f.width(v),this.disabled&&f.find("#columnCell"+s).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),h>0&&v>0)while(h>f.width()){if(i.length==0)break;i=i.substring(0,i.length-1);n.jqx.utilities.html(f.find("#columnCell"+s),i);h=this._textwidth(i)}y[u]=o;a=new n.jqx._jqxDateTimeInput.getDateTime(new Date(a._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width());w=n.data(this.element,t[0].id);w.columnCells=y}},_format:function(t,i){var r=!1;try{Globalize!=undefined&&(r=!0)}catch(u){}if(n.global)return n.global.culture.calendar=this.localization.calendar,n.global.format(t,i,this.culture);if(r)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(t,i,this.culture)):Globalize.format(t,i,this.culture)}catch(u){return Globalize.format(t,i)}else if(n.jqx.dataFormat)return n.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(t){var i=n("<span>"+t+"<\/span>"),r;return i.addClass(this.toThemeProperty("jqx-calendar-column-cell")),n(this.host).append(i),r=i.width(),i.remove(),r},_textheight:function(t){var i=n("<span>"+t+"<\/span>"),r;return n(this.host).append(i),r=i.height(),i.remove(),r},_renderRowHeader:function(t){var y=this.getVisibleDate(),e=this.getFirstDayOfWeek(y),b=e.dayOfWeek,o=this.getWeekOfYear(e),u=new n.jqx._jqxDateTimeInput.getDateTime(new Date(e.dateTime)),p,i,f,h,r,a,v;for(u._addDays(5),u.dayOfWeek=u.dateTime.getDay(),p=this.getWeekOfYear(u),53==o&&u.dateTime.getMonth()==0&&(o=1),i=n("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td><\/td><\/tr><tr><td/><\/tr><tr><td/><\/tr><tr><td/><\/tr><tr><td/><\/tr><tr><td/><\/tr><\/table>"),i.find("table").addClass(this.toThemeProperty("jqx-reset")),i.find("td").addClass(this.toThemeProperty("jqx-reset")),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-calendar-row-header")),i.width(this.rowHeaderWidth),this.rowHeader.append(i),f=e,h=[],r=0;r<6;r++){var w=o.toString(),s=new n.jqx._jqxCalendar.cell(f.dateTime),l=r+1+this.element.id,c=n(i[0].rows[r].cells[0]);s.element=c;s.row=r;s.column=0;a="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+l+"'>"+w+"<\/div>";c.append(a);c.find("#headerCellContent"+l).addClass(this.toThemeProperty("jqx-calendar-row-cell"));h[r]=s;f=new n.jqx._jqxDateTimeInput.getDateTime(new Date(f._addWeeks(1)));o=this.getWeekOfYear(f)}v=n.data(this.element,t[0].id);v.rowCells=h},getFirstDayOfWeek:function(t){var r=t,i;return(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6),i=r.dayOfWeek-this.firstDayOfWeek,i<=0&&(i+=7),n.jqx._jqxDateTimeInput.getDateTime(r._addDays(-i))},getVisibleDate:function(){var t=new n.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime)),i,r;return t<this.minDate&&(t=this.minDate),t>this.maxDate&&(this.visibleDate=this.maxDate),t.dateTime.setHours(0),i=t.day,r=n.jqx._jqxDateTimeInput.getDateTime(t._addDays(-i+1)),r},destroy:function(n){this.host.removeClass();n!=!1&&this.host.remove()},_raiseEvent:function(t,i){var e,u,r,o,s,f;return i==undefined&&(i={owner:null}),e=this.events[t],u=i?i:{},u.owner=this,r=new n.Event(e),r.owner=this,r.args=u,(t==0||t==1||t==2||t==3||t==4||t==5||t==6||t==7||t==8)&&(r.args.date=r.args.selectedDate=this.getDate(),r.args.range=this.getRange(),o=this.getViewStart(),s=this.getViewEnd(),r.args.view={from:o,to:s}),f=this.host.trigger(r),(t==0||t==1)&&(f=!1),f},propertyMap:function(n){return n=="value"?this.selectionMode!="range"?this.getDate():this.getRange():null},updateSize:function(){var n=this.host.find("#View"+this.element.id),t,i;n.length>0&&(this.setCalendarSize(),this.height==undefined||isNaN(this.height)?this.height!=null&&this.height.toString().indexOf("px")!=-1&&n.height(this.height):n.height(this.height),this.width==undefined||isNaN(this.width)?this.width!=null&&this.width.toString().indexOf("px")!=-1&&n.width(this.width):n.width(this.width),t=this.host.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id,n.find("#cellsTable"+i).height(t),n.find("#calendarRowHeader"+i).height(t),this.refreshControl())},resize:function(){this.updateSize()},clear:function(){this.selectionMode=="range"?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse");this._clicks=0;this.selection={from:null,to:null}},today:function(){this.selectionMode=="range"?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertyChangedHandler:function(t,i,r,u){if(this.isInitialized!=undefined&&this.isInitialized!=!1&&i!="enableHover"&&i!="keyboardNavigation"){if(i=="localization"&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),i=="culture")try{if(n.global)n.global.preferCulture(t.culture),t.localization.calendar=n.global.culture.calendar;else if(Globalize){var f=Globalize.culture(t.culture);t.localization.calendar=f.calendar}}catch(e){}if(i=="views"){t.views.indexOf("month")==-1&&(t.view="year");t.views.indexOf("year")==-1&&t.views.indexOf("month")==-1&&(t.view="decade");t.render();return}if(i=="showFooter"&&t.render(),i=="width"||i=="height"){t.updateSize();return}i=="theme"?n.jqx.utilities.setTheme(r,u,t.host):i=="rowHeaderWidth"||i=="showWeekNumbers"?t.render():(t.view="month",t.render())}}})}(jqxBaseFramework),function(n){n.jqx._jqxCalendar.cell=function(t){return{dateTime:new n.jqx._jqxDateTimeInput.getDateTime(t),_date:t,getDate:function(){return this._date},setDate:function(t){this.dateTime=new n.jqx._jqxDateTimeInput.getDateTime(t);this._date=t},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}};n.jqx._jqxCalendar.monthView=function(n,t,i,r,u,f){return{start:n,end:t,cells:i,rowCells:r,columnCells:u,element:f}}}(jqxBaseFramework),function(n){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(n,t){var i;this[n]?(i=this[n],this[n]=t,this.owner._columnPropertyChanged(this,n,t,i)):this[n.toLowerCase()]&&(i=this[n.toLowerCase()],this[n.toLowerCase()]=t,this.owner._columnPropertyChanged(this,n.toLowerCase(),t,i))},this._initfields=function(i){var u,r;if(i!=null&&(u=this.that,n.jqx.hasProperty(i,"dataField")&&(this.datafield=n.jqx.get(i,"dataField")),this.displayfield=n.jqx.hasProperty(i,"displayField")?n.jqx.get(i,"displayField"):this.datafield,n.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=n.jqx.get(i,"enableTooltips")),this.text=n.jqx.hasProperty(i,"text")?n.jqx.get(i,"text"):this.displayfield,n.jqx.hasProperty(i,"sortable")&&(this.sortable=n.jqx.get(i,"sortable")),n.jqx.hasProperty(i,"hideable")&&(this.hideable=n.jqx.get(i,"hideable")),n.jqx.hasProperty(i,"hidden")&&(this.hidden=n.jqx.get(i,"hidden")),n.jqx.hasProperty(i,"groupable")&&(this.groupable=n.jqx.get(i,"groupable")),n.jqx.hasProperty(i,"renderer")&&(this.renderer=n.jqx.get(i,"renderer")),n.jqx.hasProperty(i,"align")&&(this.align=n.jqx.get(i,"align")),n.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=n.jqx.get(i,"cellsAlign")),n.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=n.jqx.get(i,"cellsFormat")),n.jqx.hasProperty(i,"width")&&(this.width=n.jqx.get(i,"width")),n.jqx.hasProperty(i,"minWidth")&&(this.minwidth=n.jqx.get(i,"minWidth")),n.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=n.jqx.get(i,"maxWidth")),n.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsrenderer=n.jqx.get(i,"cellsRenderer")),n.jqx.hasProperty(i,"columnType")&&(this.columntype=n.jqx.get(i,"columnType")),n.jqx.hasProperty(i,"checkChange")&&(this.checkchange=n.jqx.get(i,"checkChange")),n.jqx.hasProperty(i,"buttonClick")&&(this.buttonclick=n.jqx.get(i,"buttonClick")),n.jqx.hasProperty(i,"pinned")&&(this.pinned=n.jqx.get(i,"pinned")),n.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=n.jqx.get(i,"visibleIndex")),n.jqx.hasProperty(i,"filterable")&&(this.filterable=n.jqx.get(i,"filterable")),n.jqx.hasProperty(i,"filter")&&(this.filter=n.jqx.get(i,"filter")),n.jqx.hasProperty(i,"resizable")&&(this.resizable=n.jqx.get(i,"resizable")),n.jqx.hasProperty(i,"editable")&&(this.editable=n.jqx.get(i,"editable")),n.jqx.hasProperty(i,"initEditor")&&(this.initeditor=n.jqx.get(i,"initEditor")),n.jqx.hasProperty(i,"createEditor")&&(this.createeditor=n.jqx.get(i,"createEditor")),n.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=n.jqx.get(i,"destroyEditor")),n.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=n.jqx.get(i,"getEditorValue")),n.jqx.hasProperty(i,"validation")&&(this.validation=n.jqx.get(i,"validation")),n.jqx.hasProperty(i,"cellBeginEdit")&&(this.cellbeginedit=n.jqx.get(i,"cellBeginEdit")),n.jqx.hasProperty(i,"cellEndEdit")&&(this.cellendedit=n.jqx.get(i,"cellEndEdit")),n.jqx.hasProperty(i,"className")&&(this.classname=n.jqx.get(i,"className")),n.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=n.jqx.get(i,"cellClassName")),n.jqx.hasProperty(i,"menu")&&(this.menu=n.jqx.get(i,"menu")),n.jqx.hasProperty(i,"aggregates")&&(this.aggregates=n.jqx.get(i,"aggregates")),n.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=n.jqx.get(i,"aggregatesRenderer")),n.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=n.jqx.get(i,"createFilterWidget")),n.jqx.hasProperty(i,"filterType")&&(this.filtertype=n.jqx.get(i,"filterType")),n.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=n.jqx.get(i,"filterDelay")),n.jqx.hasProperty(i,"rendered")&&(this.rendered=n.jqx.get(i,"rendered")),n.jqx.hasProperty(i,"exportable")&&(this.exportable=n.jqx.get(i,"exportable")),n.jqx.hasProperty(i,"filterItems")&&(this.filteritems=n.jqx.get(i,"filterItems")),n.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=n.jqx.get(i,"cellValueChanging")),n.jqx.hasProperty(i,"draggable")&&(this.draggable=n.jqx.get(i,"draggable")),n.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=n.jqx.get(i,"filterCondition")),n.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=n.jqx.get(i,"threeStateCheckbox")),n.jqx.hasProperty(i,"nullable")&&(this.nullable=n.jqx.get(i,"nullable")),n.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=n.jqx.get(i,"columnGroup")),!i instanceof String&&!(typeof i=="string")))for(r in i)if(!u.hasOwnProperty(r)&&!u.hasOwnProperty(r.toLowerCase())){t.host.remove();throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Invalid property name - "+r+".");}},this._initfields(i),this}function i(n,t){return this.setdata=function(n){n!=null&&(this.bounddata=n,this.boundindex=n.boundindex,this.visibleindex=n.visibleindex,this.group=n.group,this.parentbounddata=n.parentItem,this.uniqueid=n.uniqueid,this.level=n.level)},this.setdata(t),this.parentrow=null,this.subrows=[],this.owner=n,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(n){this.hidden=n.hidden;this.rowdetails=n.rowdetails;this.rowdetailsheight=n.rowdetailsheight;this.rowdetailshidden=!n.showdetails;this.height=n.height},this}n.jqx.jqxWidget("jqxGrid","",{});n.extend(n.jqx._jqxGrid.prototype,{defineInstance:function(){var t={disabled:!1,width:600,height:400,pagerheight:28,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:25,columnsheight:25,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:[],selectedcells:[],autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:199,updatefilterconditions:null,showaggregates:!1,showfilterrow:!1,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:n.jqx.utilities.scrollBarSize,touchscrollbarsize:n.jqx.utilities.touchScrollBarSize,scrollbarautoshow:n.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",sorttogglestates:2,rendergridrows:null,enableanimations:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:25,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:[],_pageviews:[],_cellscache:[],_rowdetailscache:[],_rowdetailselementscache:[],_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};n.extend(!0,this,t)},createInstance:function(){var s,e,h,t,f,r,u,i,o;if(this.that=this,this.pagesize=parseInt(this.pagesize),this.toolbarheight=parseInt(this.toolbarheight),this.columnsheight=parseInt(this.columnsheight),this.filterrowheight=parseInt(this.filterrowheight),this.statusbarheight=parseInt(this.statusbarheight),this.groupsheaderheight=parseInt(this.groupsheaderheight),s="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+this.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'><\/div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'><\/div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+this.element.id+"'><\/div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+this.element.id+"'><\/div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+this.element.id+"'><\/div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'><\/div><div class='jqx-clear jqx-position-absolute' id='statusbar'><\/div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'><\/div><\/div><\/div>",this.element.innerText="",this.element.innerHTML="",n.jqx.utilities.scrollBarSize!=15&&(this.scrollbarsize=n.jqx.utilities.scrollBarSize),this.source&&(this.source.dataBind||(this.source=new n.jqx.dataAdapter(this.source)),t=this.source._source.datafields,t&&t.length>0&&(this._camelCase=this.source._source.dataFields!==undefined,this.editmode=this.editmode.toLowerCase(),this.selectionmode=this.selectionmode.toLowerCase())),this.host.attr("role","grid"),this.host.attr("align","left"),this.element.innerHTML=s,this.host.addClass(this.toTP("jqx-grid")),this.host.addClass(this.toTP("jqx-reset")),this.host.addClass(this.toTP("jqx-rc-all")),this.host.addClass(this.toTP("jqx-widget")),this.host.addClass(this.toTP("jqx-widget-content")),this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset")),e=this.host.find("#verticalScrollBar"+this.element.id),h=this.host.find("#horizontalScrollBar"+this.element.id),this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),!e.jqxScrollBar)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Missing reference to jqxscrollbar.js");if(this.editors=[],this.vScrollBar=e.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=h.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.groupsheader=this.host.find("#groupsheader"),this.groupsheader.addClass(this.toTP("jqx-grid-groups-header")),this.groupsheader.addClass(this.toTP("jqx-widget-header")),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=n.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=n.data(this.hScrollBar[0],"jqxScrollBar").instance,this.gridtable=null,this.isNestedGrid=this.host.parent()?this.host.parent().css("z-index")==2e3:!1,this.touchdevice=this.isTouchDevice(),this.localizestrings&&(this.localizestrings(),this.localization!=null&&this.localizestrings(this.localization,!1)),this.rowdetailstemplate&&(undefined==this.rowdetailstemplate.rowdetails&&(this.rowdetailstemplate.rowdetails="<div><\/div>"),undefined==this.rowdetailstemplate.rowdetailsheight&&(this.rowdetailstemplate.rowdetailsheight=200),undefined==this.rowdetailstemplate.rowdetailshidden&&(this.rowdetailstemplate.rowdetailshidden=!0)),this.showfilterrow&&!this.filterable)throw new Error('jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(this.autorowheight&&!this.autoheight&&!this.pageable)throw new Error('jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(this.virtualmode&&this.rendergridrows==null)throw new Error('jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(this.virtualmode&&!this.pageable&&this.groupable)throw new Error('jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!this._testmodules()){if(this._builddataloadelement(),this._cachedcolumns=this.columns,this.rowsheight!=25&&this._measureElement("cell"),(this.columnsheight!=25||this.columngroups)&&this._measureElement("column"),this.source&&(t=this.source.datafields,t==null&&this.source._source&&(t=this.source._source.datafields),t))for(f=0;f<this.columns.length;f++)if(r=this.columns[f],r&&r.cellsformat&&r.cellsformat.length>2)for(u=0;u<t.length;u++)if(t[u].name==r.datafield&&!t[u].format){t[u].format=r.cellsformat;break}this.databind(this.source);this.showtoolbar&&this.toolbar.css("visibility","inherit");this.showstatusbar&&this.statusbar.css("visibility","inherit");this._arrange();this.pageable&&this._initpager&&this._initpager();this.tableheight=null;i=this.that;o=function(){i.content&&(i.content[0].scrollTop=0,i.content[0].scrollLeft=0);i.gridcontent&&(i.gridcontent[0].scrollLeft=0,i.gridcontent[0].scrollTop=0)};this.addHandler(this.content,"mousedown",function(){o()});this.addHandler(this.content,"scroll",function(){return o(),!1});this.showfilterrow||(this.showstatusbar||this.showtoolbar||this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect"));this.enablebrowserselection&&(this.content.removeClass("jqx-disableselect"),this.host.removeClass("jqx-disableselect"));this._resizeWindow();this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.hasTransform=n.jqx.utilities.hasTransform(this.host);this.scrollmode=="logical"&&(this.vScrollInstance.thumbStep=this.rowsheight,this.vScrollInstance.step=this.rowsheight);n.jqx.isHidden(this.host)||(this.filterable||this.groupable||this.sortable)&&this._initmenu()}},_resizeWindow:function(){var t=this.that;(this.width!=null&&this.width.toString().indexOf("%")!=-1||this.height!=null&&this.height.toString().indexOf("%")!=-1)&&(this._updatesizeonwindowresize=!0,n.jqx.utilities.resize(this.host,function(i){var e=n(window).width(),f=n(window).height(),r=t.host.width(),u=t.host.height();if(t.autoheight&&(t._lastHostWidth=f),t._lastHostWidth!=r||t._lastHostHeight!=u){if(t.touchdevice&&t.editcell&&i!=="orientationchange")return;t._updatesize(t._lastHostWidth!=r,t._lastHostHeight!=u)}t._lastWidth=e;t._lastHeight=f;t._lastHostWidth=r;t._lastHostHeight=u}))},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=n('<div style="overflow: hidden; position: absolute;"><\/div>'),this.showdefaultloadelement){var t=n('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"<\/span><\/div><\/div>");t.addClass(this.toTP("jqx-rc-all"));this.dataloadelement.addClass(this.toTP("jqx-rc-all"));t.addClass(this.toTP("jqx-fill-state-normal"));this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.width);this.dataloadelement.height(this.height);this.host.prepend(this.dataloadelement)},_measureElement:function(t){var i=n("<span style='visibility: hidden; white-space: nowrap;'>measure Text<\/span>");i.addClass(this.toTP("jqx-widget"));n(document.body).append(i);t=="cell"?this._cellheight=i.height():this._columnheight=i.height();i.remove()},_measureMenuElement:function(){var t=n("<span style='visibility: hidden; white-space: nowrap;'>measure Text<\/span>"),i;return t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),n(document.body).append(t),i=t.outerHeight(),t.remove(),i},_measureElementWidth:function(t){var i=n("<span style='visibility: hidden; white-space: nowrap;'>"+t+"<\/span>"),r;return i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),n(document.body).append(i),r=i.outerWidth()+20,i.remove(),r},_getBodyOffset:function(){var t=0,i=0;return n("body").css("border-top-width")!="0px"&&(t=parseInt(n("body").css("border-top-width")),isNaN(t)&&(t=0)),n("body").css("border-left-width")!="0px"&&(i=parseInt(n("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",u=this.that,i=function(){t.length!=""&&(t+=",")},r,o,f,e;if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(i(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(i(),t+=" jqxscrollbar.js"),this.host.jqxButton||(i(),t+=" jqxbuttons.js"),n.jqx.dataAdapter||(i(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(i(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(i(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(i(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(i(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(i(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(i(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(i(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(i(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(i(),t+=" jqxgrid.selection.js"),t!=""||this.editable||this.filterable||this.pageable){for(r=[],o=function(n){switch(n){case"checkbox":u.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,i(),t+=" jqxcheckbox.js");break;case"numberinput":u.host.jqxNumberInput||r.numberinput||(r.numberinput=!0,i(),t+=" jqxnumberinput.js");break;case"datetimeinput":u.host.jqxDateTimeInput||r.datetimeinput?u.host.jqxCalendar||r.calendar||(i(),t+=" jqxcalendar.js"):(i(),r.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":u.host.jqxComboBox||r.combobox?u.host.jqxListBox||r.listbox||(i(),r.listbox=!0,t+=" jqxlistbox.js"):(i(),r.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":u.host.jqxDropDownList||r.dropdownlist?u.host.jqxListBox||r.listbox||(i(),r.listbox=!0,t+=" jqxlistbox.js"):(i(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}},(this.filterable||this.pageable)&&o("dropdownlist"),f=0;f<this.columns.length;f++)this.columns[f]!=undefined&&(e=this.columns[f].columntype,o(e),this.filterable&&this.showfilterrow&&(e=this.columns[f].filtertype,(e=="checkedlist"||e=="bool")&&o("checkbox"),e=="date"&&o("datetimeinput")));if(t!="")throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Missing references to the following module(s): "+t);}return!1},focus:function(){try{this.wrapper.focus();var n=this.that;setTimeout(function(){n.wrapper.focus()},25);this.focused=!0}catch(t){}},hiddenParent:function(){return n.jqx.isHidden(this.host)},resize:function(n,t){this.width=n;this.height=t;this._updatesize(!0,!0)},_updatesize:function(t,i){var r,u,f,e;this._loading||(r=this.that,r._newmax=null,u=r.host.width(),f=r.host.height(),r._oldWidth||(r._oldWidth=u),r._oldHeight||(r._oldHeight=f),r._resizeTimer&&clearTimeout(r._resizeTimer),e=5,r._resizeTimer=setTimeout(function(){var h,c,e,s,o,a,v,f,l;if(r.resizingGrid=!0,!n.jqx.isHidden(r.host)){if(r.editcell&&(r.endcelledit(r.editcell.row,r.editcell.column,!0,!0),r._oldselectedcell=null),(e!=r._oldHeight||i==!0)&&(h=r.groupable&&r.groups.length>0,c=r.vScrollBar.css("visibility"),r.autoheight||(r.virtualmode&&(r._pageviews=[]),h||r.rowdetails||r.pageable?(r._arrange(),r.prerenderrequired=!0,e=Math.round(r.host.height())+2*r.rowsheight,realheight=r._gettableheight(),s=Math.round(e/r.rowsheight),o=Math.max(r.dataview.totalrows,r.dataview.totalrecords),r.pageable&&(o=r.pagesize,r.pagesize>Math.max(r.dataview.totalrows,r.dataview.totalrecords)&&r.autoheight?o=Math.max(r.dataview.totalrows,r.dataview.totalrecords):r.autoheight||r.dataview.totalrows<r.pagesize&&(o=Math.max(r.dataview.totalrows,r.dataview.totalrecords))),a=o*r.rowsheight,v=r._getpagesize(),!r.pageable&&r.autoheight&&(s=o),r.virtualsizeinfo&&(r.virtualsizeinfo.visiblerecords=s),r.rendergridcontent(!0,!1),r._renderrows(r.virtualsizeinfo)):(r._arrange(),r.virtualsizeinfo=r._calculatevirtualheight(),e=Math.round(r.host.height())+2*r.rowsheight,parseInt(e)>=parseInt(r._oldHeight)&&(r.prerenderrequired=!0),r._renderrows(r.virtualsizeinfo)),c!=r.vScrollBar.css("visibility")&&(r.vScrollInstance.setPosition(0),r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths()))),u!=r._oldWidth||t==!0){if(f=!1,r.editcell&&r.editcell.editor)switch(r.editcell.columntype){case"dropdownlist":if(f=r.editcell.editor.jqxDropDownList("isOpened")||r.editcell.editor.jqxDropDownList("isanimating")&&!r.editcell.editor.jqxDropDownList("ishiding"),f){r.editcell.editor.jqxDropDownList({openDelay:0});r.editcell.editor.jqxDropDownList("open");r.editcell.editor.jqxDropDownList({openDelay:250});return}break;case"combobox":if(f=r.editcell.editor.jqxComboBox("isOpened")||r.editcell.editor.jqxComboBox("isanimating")&&!r.editcell.editor.jqxComboBox("ishiding"),f){r.editcell.editor.jqxComboBox({openDelay:0});r.editcell.editor.jqxComboBox("open");r.editcell.editor.jqxComboBox({openDelay:250});return}break;case"datetimeinput":if(f){f=r.editcell.editor.jqxDateTimeInput("isOpened")||r.editcell.editor.jqxDateTimeInput("isanimating")&&!r.editcell.editor.jqxDateTimeInput("ishiding");r.editcell.editor.jqxDateTimeInput({openDelay:0});r.editcell.editor.jqxDateTimeInput("open");r.editcell.editor.jqxDateTimeInput({openDelay:250});return}}l=r.hScrollBar.css("visibility");r._arrange();r._updatecolumnwidths();r.table&&r.table.width(r.columnsheader.width());r._updatecellwidths();t==!1&&r._oldWidth>u||i&&r.dataview.rows.length!=0||r._renderrows(r.virtualsizeinfo);l!=r.hScrollBar.css("visibility")&&r.hScrollInstance.setPosition(0)}r._oldWidth=u;r._oldHeight=e;r.resizingGrid=!1}},e))},getTouches:function(t){return n.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical";t.vScrollInstance.thumbStep=t.rowsheight;var i=n.jqx.mobile.getTouchEventName("touchstart"),r=n.jqx.mobile.getTouchEventName("touchend"),u=n.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1;t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,u+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),n.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(n,i){var r;t.vScrollBar.css("visibility")=="visible"&&(r=t.vScrollInstance.value,t.vScrollInstance.setPosition(r+i));t.hScrollBar.css("visibility")=="visible"&&(r=t.hScrollInstance.value,t.hScrollInstance.setPosition(r+n));t.vScrollInstance.thumbCapture=!0;t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,u+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),n.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(n,i){var r;t.vScrollBar.css("visibility")=="visible"&&(r=t.vScrollInstance.value,t.vScrollInstance.setPosition(r+i));t.hScrollBar.css("visibility")=="visible"&&(r=t.hScrollInstance.value,t.hScrollInstance.setPosition(r+n));t.vScrollInstance.thumbCapture=!0;t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")}),this.addHandler(this.host,r,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")})))}},isTouchDevice:function(){if(this.touchDevice!=undefined)return this.touchDevice;var t=n.jqx.mobile.isTouchDevice();if(this.touchDevice=t,this.touchmode==!0){if(n.jqx.browser.msie&&n.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0;n.jqx.mobile.setMobileSimulator(this.element);this.touchDevice=t}else this.touchmode==!1&&(t=!1);return t&&this.touchModeStyle!=!1&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(n){return this.toThemeProperty(n)},localizestrings:function(t,i){var r;if(this._cellscache=[],n.jqx.dataFormat&&n.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+this.loadingerrormessage);if(t!=null){for(r in t)r.toLowerCase()!==r&&(t[r.toLowerCase()]=t[r]);if(t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),t.decimalseparator!=undefined&&(this.gridlocalization.decimalseparator=t.decimalseparator),t.thousandsseparator!=undefined&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),i!==!1){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),n(this.dataloadelement).css("visibility","hidden"),n(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(r in this._filterrowcache)n(this._filterrowcache[r]).remove();this._filterrowcache=[];this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates();this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today"}},_initmenu:function(){var t=this.that,e,s,h,k,d,o;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel();this.removeHandler(this.gridmenu,"keydown");this.removeHandler(this.gridmenu,"closed");this.removeHandler(this.gridmenu,"itemclick");this.gridmenu.jqxMenu("destroy");this.gridmenu.removeData();this.gridmenu.remove()}this.menuitemsarray=[];this.gridmenu=n('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"><\/div>');this.host.append(this.gridmenu);var i=n("<ul><\/ul>"),l=n('<li><div class="jqx-grid-sortasc-icon"><\/div>'+this.gridlocalization.sortascendingstring+"<\/li>"),a=n('<li><div class="jqx-grid-sortdesc-icon"><\/div>'+this.gridlocalization.sortdescendingstring+"<\/li>"),v=n('<li><div class="jqx-grid-sortremove-icon"><\/div>'+this.gridlocalization.sortremovestring+"<\/li>"),w='<div class="jqx-grid-groupby-icon"><\/div>',y=n("<li>"+w+this.gridlocalization.groupbystring+"<\/li>"),p=n("<li>"+w+this.gridlocalization.groupremovestring+"<\/li>"),g=n('<li type="separator"><\/li>'),f=n('<li class="filter" style="height: 175px;" ignoretheme="true"><div class="filter"><\/div><\/li>'),r=this.gridlocalization.sortascendingstring.length,u=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>r&&(r=this.gridlocalization.sortdescendingstring.length,u=this.gridlocalization.sortdescendingstring);this.gridlocalization.sortremovestring.length>r&&(r=this.gridlocalization.sortremovestring.length,u=this.gridlocalization.sortremovestring);this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>r&&(r=this.gridlocalization.groupbystring.length,u=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>r&&(r=this.gridlocalization.groupremovestring.length,u=this.gridlocalization.groupremovestring));e=200;u=n.trim(u).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");s=n("<span>"+u+"<\/span>");s.addClass(this.toThemeProperty("jqx-menu-item"));this.host.append(s);e=s.outerWidth()+60;s.remove();h=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(i.append(l),this.menuitemsarray[0]=l[0],i.append(a),this.menuitemsarray[1]=a[0],i.append(v),this.menuitemsarray[2]=v[0],h=3);this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(i.append(y),this.menuitemsarray[3]=y[0],i.append(p),this.menuitemsarray[4]=p[0],h+=2);var nt=this._measureMenuElement(),c=h*nt+9,b=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems)if(this._initfilterpanel)this.menuitemsarray[5]=f[0],this.menuitemsarray[6]=f[0],i.append(g),i.append(f),c+=180,n.jqx.browser.msie&&n.jqx.browser.version<8&&(c+=20),k=n(f).find("div:first"),e+=20,this._initfilterpanel(this,k,"",e),b=!1,this.removeHandler(n(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(n(document),"click.menu"+t.element.id,t._closemenuafterclick,t);else throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Missing reference to jqxgrid.filter.js.");this.gridmenu.append(i);n.jqx.browser.msie&&n.jqx.browser.version<8&&this.filterable&&(n("#listBoxfilter1"+this.element.id).css("z-index",4990),n("#listBoxfilter2"+this.element.id).css("z-index",4990),n("#listBoxfilter3"+this.element.id).css("z-index",4990),n("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(n("#gridmenu"+this.element.id),"initialized",function(){n("#menuWrappergridmenu"+t.element.id).css("z-index",4980)}));this.menuitemsarray[0]==undefined&&(c=65);this.removeHandler(this.gridmenu,"keydown");this.addHandler(this.gridmenu,"keydown",function(i){var r;if(i.keyCode==27)t.gridmenu.jqxMenu("close");else if(i.keyCode==13&&t.filterable&&t._buildfilter){var u=n(n.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display")=="block",e=n(n.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display")=="block",o=n(n.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display")=="block",s=n(n.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus");s?(r=n.data(document.body,"contextmenu"+t.element.id).column,t._clearfilter(t,t.element,r),t.gridmenu.jqxMenu("close")):u||e||o||(r=n.data(document.body,"contextmenu"+t.element.id).column,t.gridmenu.jqxMenu("close"),t._buildfilter(t,f,r))}});this.popupwidth!="auto"&&(e=this.popupwidth);this.gridmenu.jqxMenu({popupZIndex:999999,width:e,height:c,autoCloseOnClick:b,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",f[0].id,"closeOnClick",!1);this.rtl&&(d=this.that,n.each(i.find("li"),function(){n(this).addClass(d.toTP("jqx-rtl"))}),o=function(n){var t=n.find("div");t.css("float","right");t.css("margin-left","4px");t.css("margin-right","-4px")},o(v),o(a),o(l),o(y),o(p));this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){var t,i,r,u,e,f;this.gridmenu||this._initmenu();t=this.gridlocalization.sortascendingstring.length;i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring);this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring);this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));r=200;i=n.trim(i).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");u=n("<span>"+i+"<\/span>");u.addClass(this.toThemeProperty("jqx-menu-item"));this.host.append(u);r=u.outerWidth()+60;u.remove();e=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(e=3);this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(e+=2);f=e*27+3;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(f+=180,r+=20,n.jqx.browser.msie&&n.jqx.browser.version<8&&(f+=20));this.menuitemsarray[0]==undefined&&(f=65);this.popupwidth!="auto"&&(r=this.popupwidth);this.gridmenu.jqxMenu({width:r,height:f})},_closemenuafterclick:function(t){var i=t!=null?t.data:this,o=!1,f,r,e;if(t.target==undefined||t.target!=undefined&&t.target.className.indexOf==undefined){i.gridmenu.jqxMenu("close");return}if(t.target.className.indexOf("filter")==-1||t.target.className.indexOf("jqx-grid-cell-filter")!=-1){if(t.target.className.indexOf("jqx-grid-cell")!=-1){i.gridmenu.jqxMenu("close");return}if(!i._hasOpenedMenu||!n(t.target).ischildof(i.gridmenu)){var c=i.host.coord(),u=i.gridmenu.coord(),s=t.pageX,h=t.pageY;if(n.each(n(t.target).parents(),function(){return this.id!=null&&this.id.indexOf&&this.id.indexOf("filter")!=-1?(o=!0,!1):this.className.indexOf&&this.className.indexOf("filter")!=-1&&this.className.indexOf("jqx-grid-cell-filter")==-1?(o=!0,!1):this.className.indexOf&&this.className.indexOf("jqx-grid-cell")!=-1?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&this.className.indexOf("jqx-grid-column")!=-1?(i.gridmenu.jqxMenu("close"),!1):void 0}),!o){try{if(i.filtermode==="default"){if(f=n(n.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,r=new Date,r-f<100)return;if(e=n(n.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,r-e<100)return;if(n(n.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display")=="block")return;if(n(n.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display")=="block")return;if(n(n.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display")=="block")return;if(i._hasdatefilter&&n(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()=="div"){if(n(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display")=="block")return;if(n(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display")=="block")return}}else{if(f=n(n.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,r=new Date,r-f<100)return;if(e=n(n.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup,r-e<100)return}}catch(l){}s>=u.left&&s<=u.left+i.gridmenu.width()&&h>=u.top&&h<=u.top+i.gridmenu.height()||i.gridmenu.jqxMenu("close")}}}},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed");this.addHandler(this.gridmenu,"closed",function(){t._closemenu()});this.removeHandler(this.gridmenu,"itemclick");this.addHandler(this.gridmenu,"itemclick",function(i){for(var s,e,u,r,h,o=i.args,f=0;f<t.menuitemsarray.length;f++)if(s=t.menuitemsarray[f],o==s){if(n(o).attr("ignoretheme")!=undefined)return;if(e=n.data(document.body,"contextmenu"+t.element.id),u=e.column,t.filterable&&t.gridmenu.jqxMenu("close"),r=u.displayfield,r==null&&(r=u.datafield),e!=null)switch(f){case 0:t.sortby(r,"ascending",null);break;case 1:t.sortby(r,"descending",null);break;case 2:t.sortby(r,null,null);break;case 3:t.addgroup(u.datafield);break;case 4:t.removegroup(u.datafield);break;case 5:h=n(t.menuitemsarray[6]);n(h).css("display","block")}break}})},getdatainformation:function(){var n=this.dataview.totalrecords;return this.summaryrows&&(n+=this.summaryrows.length),{rowscount:n,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows();this._updaterowheights();this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that,i;this.hiddens=[];i=this.hiddenboundrows;n.each(i,function(n){if(this.index!=undefined){var r=this.index,i=t.getrowvisibleindex(n);t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that,i;this.heights=[];i=this.heightboundrows;n.each(i,function(n){if(this.index!=undefined){var r=this.index,i=t.getrowvisibleindex(n);t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that,i;this.details=[];i=this.detailboundrows;n.each(i,function(n){if(this.index!=undefined){var r=this.index,i=t.getrowvisibleindex(n);t.details[i]=this.details}})},_getmenuitembyindex:function(n){return n==undefined?null:this.menuitemsarray[n]},openmenu:function(t){var u,f,i,r;if(!this._openingmenu){if(this._openingmenu=!0,this.closemenu(),u=this.getcolumn(t),!u.menu)return!1;for(this.gridmenu||this._initmenu(),f=u.columnsmenu,n(u.element).trigger("mouseenter"),i=this,r=0;r<i.columns.records.length;r++)i.columns.records[r].datafield!=t&&n(i.columns.records[r].element).trigger("mouseleave");setTimeout(function(){n(f)[0].style.display=="block"&&n(f).trigger("click");i._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){var t,f,r,i;if(this._hasOpenedMenu&&(this.gridmenu!=null&&this.gridmenu.jqxMenu("close"),t=n.data(document.body,"contextmenu"+this.element.id),f=16,t!=null&&this.autoshowcolumnsmenubutton&&(this.enableanimations?(n(t.columnsmenu).animate({"margin-left":0},"fast",function(){n(t.columnsmenu).css("display","none")}),r=this.rtl?0:-32,t.column.iconscontainer.animate({"margin-left":r},"fast")):(n(t.columnsmenu).css("display","none"),r=this.rtl?0:-32,t.column.iconscontainer.css("margin-left",r)),n.data(document.body,"contextmenu"+this.element.id,null)),this._hasOpenedMenu=!1,i=this._getmenuitembyindex(5),i)){var u=n(i).find("#filter1"+this.element.id),e=n(i).find("#filter2"+this.element.id),o=n(i).find("#filter3"+this.element.id);u.length>0&&this.filtermode==="default"&&(u.jqxDropDownList("hideListBox"),e.jqxDropDownList("hideListBox"),o.jqxDropDownList("hideListBox"))}},scrolloffset:function(n,t){n!=null&&t!=null&&n!=undefined&&t!=undefined&&(this.vScrollBar.jqxScrollBar("setPosition",n),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(n){n!=null&&n!=undefined&&this.hScrollBar.css("visibility")!="hidden"&&this.hScrollBar.jqxScrollBar("setPosition",n)},scrolltop:function(n){n!=null&&n!=undefined&&this.vScrollBar.css("visibility")!="hidden"&&this.vScrollBar.jqxScrollBar("setPosition",n)},beginupdate:function(n){this._updating=!0;this._datachanged=!1;n===!0&&(this._batchupdate=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate){this._batchupdate=!1;this._datachanged=!1;this.render();return}if(this._datachanged==!0){var n=this.vScrollInstance.value;this.render(!0,!0,!1);this._datachanged=!1;n!=0&&n<this.vScrollInstance.max&&this.scrolltop(n)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates();this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement());this.dataloadelement.width(this.host.width());this.dataloadelement.height(this.host.height());n(this.dataloadelement).css("visibility","visible");n(this.dataloadelement).css("display","block")},hideloadelement:function(){n(this.dataloadelement).css("visibility","hidden");n(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var n=this.that;n.focusedfilter&&(n.focusedfilter.focus(),setTimeout(function(){var t,i;if(n.focusedfilter.focus(),n.focusedfilter[0].nodeName.toLowerCase()=="input"){t=n.focusedfilter.val().length;try{"selectionStart"in n.focusedfilter[0]?n.focusedfilter[0].setSelectionRange(t,t):(i=n.focusedfilter[0].createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select())}catch(r){}}},10))},databind:function(t,i){var r,f,u,e;this.loadingstate!==!0&&(this.host.css("display")=="block"&&(this.autoshowloadelement?(n(this.dataloadelement).css("visibility","visible"),n(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(n(this.dataloadelement).css("visibility","hidden"),n(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=[]),r=this.that,t==null&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),(t.loadallrecords==undefined||t.loadallrecords==null)&&(t.loadallrecords=!0),(t.sortcomparer==undefined||t.sortcomparer==null)&&(t.sortcomparer=null),(t.filter==undefined||t.filter==null)&&(t.filter=null),(t.sort==undefined||t.sort==null)&&(t.sort=null),(t.data==undefined||t.data==null)&&(t.data=null),f=null,t!=null&&(f=t._source!=undefined?t._source.url:t.url),this.dataview=this.dataview||new n.jqx.dataview,n.jqx.dataview.sort&&n.extend(this.dataview,new n.jqx.dataview.sort),n.jqx.dataview.grouping&&n.extend(this.dataview,new n.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),r.initializedcall||(t._source&&this.sortable&&(t._source.sortcolumn!=undefined&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),t._source.sortdirection!=undefined&&(this.dataview.sortfielddirection=t._source.sortdirection,u=t._source.sortdirection,e=u=="a"||u=="asc"||u=="ascending"||u==!0?!0:!1,this.sortdirection=u!=null?{ascending:e,descending:!e}:{ascending:!1,descending:!1})),this.pageable&&t._source&&(t._source.pagenum!=undefined&&(this.dataview.pagenum=t._source.pagenum),t._source.pagesize!=undefined?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,this.dataview.pagesize==undefined&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&n.each(this.columns,function(){this.filter&&r.dataview.addfilter(this.datafield,this.filter)})),this._loading=!0,this.dataview.update=function(t){var h,e,o,c;if(!r.pageable&&r.virtualmode&&(r.loadondemand=!0),r._loading=!1,r.dataview.isupdating()&&r.dataview.resumeupdate(!1),r.pageable&&r.pagerrenderer)if(r._initpager)r._initpager();else throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Missing reference to jqxgrid.pager.js.");if(r.source&&r.source.sortcolumn&&r.sortby&&!r.virtualmode)r.render(),r.source._source.sort||r.sortby(r.source.sortcolumn,r.source.sortdirection,r.source.sortcomparer),r.source.sortcolumn=null;else{var u=r.vScrollInstance.value,f=r.hScrollInstance.value,s=r.source?r.source.datatype:"array";if(s!="local"||s!="array"){if(h=r.virtualsizeinfo==null||r.virtualsizeinfo!=null&&r.virtualsizeinfo.virtualheight==0,i=="cells"){if(e=!1,r.filterable&&r._initfilterpanel&&r.dataview.filters.length&&(e=!0),!1==t){r.vScrollInstance.isScrolling()||r.hScrollInstance.isScrolling()||(r._cellscache=[],r._pagescache=[],r._renderrows(r.virtualsizeinfo),r.showfilterrow&&r.filterable&&r.filterrow&&r._updatelistfilters(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates());r.sortcolumn&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer);r.autoshowloadelement&&(n(r.dataloadelement).css("visibility","hidden"),n(r.dataloadelement).css("display","none"));r.virtualmode&&!r._loading&&(r.loadondemand=!0,r._renderrows(r.virtualsizeinfo));return}e?i="filter":r.sortcolumn!=undefined&&(i="sort")}!r.virtualmode||h||r.virtualmode&&r.pageable?r.initializedcall==!0&&i=="pagechanged"?(u=0,r.groupable&&r.groups.length>0?(r._render(!0,!0,!1,!1,!1),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo)):(r.rendergridcontent(!0),r.pageable&&r.updatepagerdetails&&(r.updatepagerdetails(),r.autoheight?(r._updatepageviews(),r.autorowheight&&r._renderrows(this.virtualsizeinfo)):r.autorowheight&&(r._updatepageviews(),r._renderrows(this.virtualsizeinfo)))),r.showaggregates&&r._updateaggregates&&r._updateaggregates()):i=="filter"?r.virtualmode?(r._render(!0,!0,!1,!1,!1),r._updatefocusedfilter(),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo)):r._render(!0,!0,!1,!1,!1):i=="sort"?(r.virtualmode?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates()):(r._render(!0,!0,!1,!1,!1),r.sortcolumn&&!r.source.sort&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer)),r.source.sort&&r._updatefocusedfilter()):i=="data"?r._render(!0,!0,!1,!1,!1):i=="state"?r._render(!0,!0,!1,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode):r._render(!0,!0,!0,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode):r.virtualmode&&t==!0&&!r.pageable?(r._render(!0,!0,!1,!1,!1),r._updatefocusedfilter(),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo)):r.virtualmode&&!r.pageable&&t==!1&&i!=undefined?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates()):r.virtualmode&&r.dataview.totalrecords==0&&r.dataview.filters.length>0?r._render(!0,!0,!0,r.menuitemsarray&&!r.virtualmode):(r._pagescache=[],r._renderrows(r.virtualsizeinfo));r.vScrollInstance.value!=u&&u<=r.vScrollInstance.max&&r.vScrollInstance.setPosition(u);r.hScrollInstance.value!=f&&f<=r.hScrollInstance.max&&r.hScrollInstance.setPosition(f)}}r.autoshowloadelement&&(n(r.dataloadelement).css("visibility","hidden"),n(r.dataloadelement).css("display","none"));r.pageable&&(r.pagerrightbutton&&(r.pagerrightbutton.jqxButton({disabled:!1}),r.pagerleftbutton.jqxButton({disabled:!1}),r.pagershowrowscombo.jqxDropDownList({disabled:!1})),r.pagerfirstbutton&&(r.pagerfirstbutton.jqxButton({disabled:!1}),r.pagerlastbutton.jqxButton({disabled:!1})));r._raiseEvent(11);r.initializedcall?r._updateTouchScrolling():(o=function(){r._raiseEvent(0);r.initializedcall=!0;r.isInitialized=!0;r.ready&&r.ready();r.renderstatusbar&&r.renderstatusbar(r.statusbar);r.rendertoolbar&&r.rendertoolbar(r.toolbar);r.autoloadstate&&r.loadstate&&r.loadstate(null,!0)},n.jqx.isHidden(r.host)?(r.readyInterval&&clearInterval(r.readyInterval),r.readyInterval=setInterval(function(){n.jqx.isHidden(r.host)||r.__isRendered&&(clearInterval(r.readyInterval),r.readyInterval=null,o(),r._initmenu())},200)):o(),r.width!=null&&r.width.toString().indexOf("%")!=-1||r.height!=null&&r.height.toString().indexOf("%")!=-1,r.host.css("visibility")=="hidden"&&(c=n.jqx.browser.msie&&n.jqx.browser.version<8,r.vScrollBar.css("visibility")=="visible"&&r.vScrollBar.css("visibility","inherit"),r.autowidth||r.hScrollBar.css("visibility")=="visible"&&r.hScrollBar.css("visibility","inherit"),r._intervalTimer=setInterval(function(){r.host.css("visibility")=="visible"&&(r._updatesize(!0),clearInterval(r._intervalTimer))},100)))},this.dataview.databind(t),this.dataview.isupdating()&&(f!=undefined?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows())},scrollto:function(n,t){undefined!=n&&this.hScrollInstance.setPosition(n);undefined!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(n){var u,f,r,h,t,i;if(this.autoheight&&!this.pageable||(u=this._getpagesize(),r=Math.floor(n/u),this._pageviews[r]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0))return!0;if(f=!1,this.pageable&&this.gotopage&&!this.virtualmode&&(r=Math.floor(n/u),this.dataview.pagenum!=r)){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(r);f=!0}var o=this.vScrollInstance.value,s=this._gettableheight()-this.rowsheight,e=u*(n/u-r);if(e=Math.round(e),this._pageviews[r]){if(h=this._pageviews[r].top,t=h+e*this.rowsheight,this.rowdetails)for(i=u*r;i<n;i++)this.details[i]&&this.details[i].rowdetailshidden==!1&&(t+=this.details[i].rowdetailsheight);this.scrollmode=="deferred"&&this.vScrollInstance.max<=t+this.rowsheight&&(t=this.vScrollInstance.max);t<o?(this.scrolltop(t),f=!0):t>o+s+2&&(this.scrolltop(t-s),f=!0)}else if(this.pageable){if(t=e*this.rowsheight,this.rowdetails)for(i=u*r;i<u*r+e;i++)this.details[i]&&this.details[i].rowdetailshidden==!1&&(t+=this.details[i].rowdetailsheight);(t<o||t>o+s)&&(this.scrollto(0,t),f=!0)}return f},ensurecellvisible:function(t,i){var r=this.that,h=this.hScrollBar.jqxScrollBar("value"),f=r.hScrollInstance.max,c,u,o;if(r.rtl&&this.hScrollBar.css("visibility")!="visible"&&(f=0),c=this.ensurerowvisible(t),u=0,this.columns.records){if(o=h,this.hScrollBar.css("visibility")=="hidden")return;var l=this.host.width(),s=0,a=this.vScrollBar.css("visibility")=="visible"?20:0,e=!1;n.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==i){var n=0,t=r.rtl?f-h:o;return u+this.width>t+l-a?(n=u+this.width-l+a,r.rtl&&(n=f-n),r.scrollleft(n),e=!0):u<=t&&(n=u-this.width,r.rtl&&(n=f-n),r.scrollleft(n),e=!0),s==0?(r.rtl?r.scrollleft(f):r.scrollleft(0),e=!0):s==r.columns.records.length-1&&r.hScrollBar.css("visibility")=="visible"&&(r.rtl?r.scrollleft(r.hScrollBar.jqxScrollBar("min")):r.scrollleft(r.hScrollBar.jqxScrollBar("max")),e=!0),!1}s++;u+=this.width});e||r.scrollleft(o)}return c},setrowheight:function(n,t){if(this._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+this.loadingerrormessage);return n==null||t==null?!1:(this.heightboundrows[n]={index:n,height:t},n=this.getrowvisibleindex(n),n<0)?!1:(this.rows.records[n]?this.rows.records[n].height=t:(row=new i(this,null),row.height=t,this.rows.replace(n,row)),this.heights[n]=t,this.rendergridcontent(!0),!0)},getrowheight:function(n){return n==null?null:(n=this.getrowvisibleindex(n),n<0)?!1:this.rows.records[n]?this.rows.records[n].height:void 0},setrowdetails:function(t,i,r,u){var f,o,e;if(t!=undefined&&t!=null&&!(t<0))return(f=t+"_",this._rowdetailscache[f]&&(o=this._rowdetailscache[f].element,n(o).remove(),this._rowdetailscache[f]=null),e=this.dataview.generatekey(),this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:r,rowdetailshidden:u,key:e}},t=this.getrowvisibleindex(t),t<0)?!1:this._setrowdetails(t,i,r,u,e)},getcolumn:function(t){var i=null;return this.columns.records&&n.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&n.each(this.columns.records,function(){return i++,this.datafield==t?!1:void 0}),i},_getcolumnat:function(n){return this.columns.records[n]},_getprevvisiblecolumn:function(n){for(var i=this.that,t;n>0;){if(n--,t=i.getcolumnat(n),!t)return null;if(!t.hidden)return t}return null},_getnextvisiblecolumn:function(n){for(var i=this.that,t;n<this.columns.records.length;){if(n++,t=i.getcolumnat(n),!t)return null;if(!t.hidden)return t}return null},getcolumnat:function(n){return isNaN(n)?null:this.columns.records[n]},_getcolumn:function(t){var i=null;return n.each(this._columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(n,t,i){var r,f,u;if(n==null||t==null||i==null)return null;if(t=t.toLowerCase(),r=this.getcolumn(n),r!=null){f=r[t];r[t]=i;u=this._getcolumn(n);u!=null&&(u[t]=i);this._cellscache=[];switch(t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0;this._rendercolumnheaders();this._updatecellwidths();this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader();this._renderrows(this.virtualsizeinfo);break;case"editable":case"resizable":case"draggable":if(t=="editable"&&i!=f){if((this.editcell!=null&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),r.columntype=="checkbox"&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))||this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,t=="pinned"&&this._initializeColumns(),this.rendergridcontent(!0),this.updating())return!1;t=="hidden"&&(this._updatecolumnwidths(),this._updatecellwidths());this._renderrows(this.virtualsizeinfo);this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;r._width=null;r._percentagewidth=null;this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(n,t){if(n==null||t==null)return null;t=t.toLowerCase();var i=this.getcolumn(n);return i[t]},setcolumnproperty:function(n,t,i){this._setcolumnproperty(n,t,i)},getcolumnproperty:function(n,t){return this._getcolumnproperty(n,t)},hidecolumn:function(n){this._setcolumnproperty(n,"hidden",!0)},showcolumn:function(n){this._setcolumnproperty(n,"hidden",!1)},iscolumnvisible:function(n){return!this._getcolumnproperty(n,"hidden")},pincolumn:function(n){this._setcolumnproperty(n,"pinned",!0)},unpincolumn:function(n){this._setcolumnproperty(n,"pinned",!1)},iscolumnpinned:function(n){return this._getcolumnproperty(n,"pinned")},_setrowdetails:function(n,t,i,r,u){var f,e;if(i==0&&(i=100),n==null||i==null)return!1;if(u!=null)this.details[n]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:u};else{var s=this.details[n]!=null?this.details[n].detailskey:null,o={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:s},h=this.that;for(f=0;f<this.detailboundrows.length;f++)if(this.detailboundrows[f]!=undefined&&(e=this.detailboundrows[f],e.details.detailskey==s)){e.details.rowdetailsheight=o.rowdetailsheight;e.details.rowdetailshidden=o.rowdetailshidden;e.details.rowdetails=o.rowdetails;break}this.details[n]=o}return this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0},getrowdetails:function(n){return n==null?!1:(n=this.getrowvisibleindex(n),this._getrowdetails(n))},_getrowdetails:function(n){return n==null?!1:n<0?!1:this.details[n]?this.details[n]:this.rowdetailstemplate?this.rowdetailstemplate:void 0},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(n){if(this._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+this.loadingerrormessage);if(n==null||(n=this.getrowvisibleindex(n),n<0))return!1;var t=this._getrowdetails(n);return this._setrowdetailsvisibility(n,t,!1)},hiderowdetails:function(n){if(this._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+this.loadingerrormessage);if(n=this.getrowvisibleindex(n),n<0)return!1;var t=this._getrowdetails(n);return this._setrowdetailsvisibility(n,t,!0)},_togglerowdetails:function(n){var r=n.visibleindex,t=this._getrowdetails(r);if(t!=null){var i=this.vScrollInstance.value,u=!t.rowdetailshidden,f=this._setrowdetailsvisibility(r,t,u);return i!==0&&this.vScrollBar.css("visibility")!=="hidden"&&(i<=this.vScrollInstance.max?this.vScrollInstance.setPosition(i):this.vScrollInstance.setPosition(this.vScrollInstance.max)),f}return!1},_setrowdetailsvisibility:function(n,t,i){var u,r;if(this.rowdetailstemplate&&(this.details||(this.details=[]),this.details[n]||(this.details[n]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails},u=this.dataview.generatekey(),this.details[n].detailskey=u,this.detailboundrows[n]={index:n,details:this.details[n]})),t!=null)this.details[n].rowdetailshidden=i;else return!1;return r=this.details[n],i?this._raiseEvent(21,{rowindex:n,details:r.rowdetails,height:r.rowdetailsheight}):this._raiseEvent(20,{rowindex:n,details:r.rowdetails,height:r.rowdetailsheight}),this._setrowdetails(n,r.rowdetails,r.rowdetailsheight,r.rowdetailshidden)},getrowvisibleindex:function(n){if(n==undefined||n==null||n<0)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[n];return t==undefined?-1:t.visibleindex}return this.getrowdisplayindex(n)},hiderow:function(n){if(this._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+this.loadingerrormessage);return n==undefined||n==null||n<0?!1:n==null?!1:(this.hiddenboundrows[n]={index:n,hidden:!0},n=this.getrowvisibleindex(n),this._setrowvisibility(n,!0))},showrow:function(n){if(this._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+this.loadingerrormessage);return n==undefined||n==null||n<0?!1:n==null?!1:(this.hiddenboundrows[n]={index:n,hidden:!1},n=this.getrowvisibleindex(n),this._setrowvisibility(n,!1))},isrowhiddenat:function(n){return n==null?null:(n=this.getrowvisibleindex(n),this.rows.records[n]?this.rows.records[n].hidden:void 0)},_setrowvisibility:function(n,t,i){return n==null?!1:(this.hiddens[n]=t,i==undefined||i)?(this.rendergridcontent(!0),!0):!1},_loadrows:function(){var s,c,f,u,n,e,t,v,o,y;if(this._pageviews[this.dataview.pagenum]||this.pageable){if(s=this.pageable?0:this._pageviews[this.dataview.pagenum].top,!this.pageable&&this._pagescache[this.dataview.pagenum]!=undefined)return null;if(this.virtualsizeinfo){var r=this.that,l=[],h=[],a=r.groupable&&r.groups.length>0,w=this.dataview.totalrecords,b=this.virtualsizeinfo.virtualheight,p=0;for(this.rows.beginupdate(),c=this.dataview.pagesize,this.pageable&&a&&(c=this.dataview.rows.length),f=0;f<c;f++){if(f>=this.dataview.rows.length)break;(u=this.dataview.rows[f],n=null,r.rows.records[u.visibleindex]?(n=r.rows.records[u.visibleindex],n.setdata(u)):n=new i(r,u),n.hidden=this.hiddens[n.visibleindex],this.rowdetailstemplate&&(n.rowdetails=this.rowdetailstemplate.rowdetails,n.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,n.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden),e=this.details[n.visibleindex],e?(n.rowdetails=e.rowdetails,n.rowdetailsheight=e.rowdetailsheight,n.rowdetailshidden=e.rowdetailshidden):this.rowdetailstemplate||(n.rowdetails=null),a&&this.pageable&&n.parentbounddata!=null&&(t=l[n.parentbounddata.uniqueid],t!=null&&(v=this._findgroupstate(t.uniqueid),this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,n.parentbounddata,!v,!1),n.hidden=this.hiddens[n.visibleindex]),t!=null&&t!=undefined&&(n.parentrow=t,t.subrows[t.subrows.length++]=n)),n.hidden)||(o=u.visibleindex,this.heights[o]||(this.heights[o]=this.rowsheight),n.height=this.heights[o],this.rowdetails&&n.rowdetails&&!n.rowdetailshidden&&(n.height+=n.rowdetailsheight),l[n.uniqueid]=n,h[p++]=n,n.top=s,s+=n.height,y=o,r.rows.replace(y,n))}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=s);this.rows.resumeupdate();h.length>0&&(this._pagescache[this.dataview.pagenum]=h)}}},_gettableheight:function(){var n,t;return this.tableheight!=undefined?this.tableheight:(n=this.host.height(),this.columnsheader&&(t=this.columnsheader.outerHeight(),this.showheader||(t=0)),n-=t,this.hScrollBar[0].style.visibility=="visible"&&(n-=this.hScrollBar.outerHeight()),this.pageable&&(n-=this.pager.outerHeight()),this._groupsheader()&&(n-=this.groupsheader.outerHeight()),this.showtoolbar&&(n-=this.toolbarheight),this.showstatusbar&&(n-=this.statusbarheight),n>0)?(this.tableheight=n,n):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var n=Math.round(this.host.height())+2*this.rowsheight;return Math.round(n/this.rowsheight)}return this.autoheight||this.autorowheight?this.dataview.totalrows==0?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var l=this.that,c=Math.round(this.host.height())+2*this.rowsheight,e,n,o;realheight=this._gettableheight();e=Math.round(c/this.rowsheight);this.heights=[];this.hiddens=[];this.details=[];this.expandedgroups=[];this.hiddenboundrows=[];this.heightboundrows=[];this.detailboundrows=[];n=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(n=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?n=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(n=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var r=n*this.rowsheight,s=0,h=0,u=0,t=this._getpagesize(),f=t*this.rowsheight,i=0;if(!this.pageable&&this.autoheight&&(e=n),n+t>0)while(i<=n+t){if(s+=f,i-t<n&&i>=n){o=i-n;o>0&&(u-=f,this._pageviews[h-1]={top:u,height:f-o*this.rowsheight});break}else this._pageviews[h++]={top:u,height:f};u=s;i+=t}return this.resizingGrid!=!0&&this.vScrollBar.jqxScrollBar({value:0}),r>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),this.scrollmode=="deferred"?this.vScrollBar.jqxScrollBar({max:r}):this.vScrollBar.jqxScrollBar({max:r-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=t,this.dataview.updateview(),{visiblerecords:e,virtualheight:r}},_updatepageviews:function(){var i,t,r,u,s,v;if(!this.updating()){this._pagescache=[];this._pageviews=[];this.tableheight=null;var h=this.that,y=Math.round(this.host.height())+2*this.rowsheight,c=Math.round(y/this.rowsheight),f=Math.max(this.dataview.totalrows,this.dataview.totalrecords),n=f*this.rowsheight,l=0,e=0,p=0,a=0,o=0,w=this._getpagesize();if(this.pageable)this._updatepagedview&&(n=this._updatepagedview(f,n,0)),this.autoheight&&this._arrange();else for(i=0;i<f;i++)t={index:i,height:this.heights[i],hidden:this.hiddens[i],details:this.details[i]},this.heights[i]==undefined&&(this.heights[i]=this.rowsheight,t.height=this.rowsheight),this.hiddens[i]==undefined&&(this.hiddens[i]=!1,t.hidden=!1),this.details[i]==undefined&&(this.details[i]=null),t.height!=h.rowsheight&&(n-=h.rowsheight,n+=t.height),t.hidden?n-=t.height:(e+=t.height,r=0,this.rowdetails&&(this.rowdetailstemplate&&(t.details||(t.details=this.rowdetailstemplate)),t.details&&t.details.rowdetails&&!t.details.rowdetailshidden&&(r=t.details.rowdetailsheight,e+=r,n+=r)),l+=t.height+r),o++,(o>=w||i==f-1)&&(this._pageviews[p++]={top:a,height:e},e=0,a=l,o=0);u=this._gettableheight();n>u?(this.pageable&&this.gotopage&&(n=this._pageviews[0].height,n<0&&(n=this._pageviews[0].height)),this.vScrollBar.css("visibility")!="visible"&&this.vScrollBar.css("visibility","visible"),(n<=u||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),n-u>0?this.scrollmode!="deferred"&&(s=n-u,v=this.vScrollInstance.max,this.vScrollBar.jqxScrollBar({max:s}),s!=v&&this.vScrollBar.jqxScrollBar({value:0})):this.vScrollBar.jqxScrollBar({value:0,max:n})):(this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0}));this._arrange();this.autoheight&&(c=Math.round(this.host.height()/this.rowsheight));this.virtualsizeinfo={visiblerecords:c,virtualheight:n}}},updatebounddata:function(n){n=="data"||n=="sort"||n=="filter"||n=="cells"||n=="pagechanged"||n=="pagesizechanged"||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterrow.remove(),this._filterrowcache=[],this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata()));this.databind(this.source,n)},refreshdata:function(){this._refreshdataview();this.render()},_updatevscrollbarmax:function(){var n,t,i;this._pageviews&&this._pageviews.length>0&&(n=this._pageviews[0].height,(this.virtualmode||!this.pageable)&&(n=this.virtualsizeinfo.virtualheight),t=this._gettableheight(),n>t?(this.pageable&&this.gotopage&&(n=this._pageviews[0].height,n<0&&(n=this._pageviews[0].height)),this.vScrollBar.css("visibility")!="visible"&&this.vScrollBar.css("visibility","visible"),(n<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),n-t>0?(i=n-t,this.vScrollBar.jqxScrollBar({max:i})):this.vScrollBar.jqxScrollBar({value:0,max:n})):(this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})))},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(t!=!0){if(n.jqx.isHidden(this.host))return;this.virtualsizeinfo!=null&&(this._cellscache=[],this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null);this.render()},_preparecolumngroups:function(){var v=this.columnsheight,h,c,i,s,r,y,l,n,t,f,u,a,e,o;if(this.columngroups){if(this.columnshierarchy=[],this.columngroups.length){for(h=this,n=0;n<this.columngroups.length;n++)this.columngroups[n].parent=null,this.columngroups[n].groups=null;for(n=0;n<this.columns.records.length;n++)this.columns.records[n].parent=null,this.columns.records[n].groups=null;for(c=function(n){for(var i,t=0;t<h.columngroups.length;t++)if(i=h.columngroups[t],i.name===n)return i;return null},n=0;n<this.columngroups.length;n++)t=this.columngroups[n],t.groups||(t.groups=null),t.parentgroup&&(i=c(t.parentgroup),i&&(t.parent=i,i.groups||(i.groups=[]),i.groups.indexOf(t)===-1&&i.groups.push(t)));for(n=0;n<this.columns.records.length;n++)t=this.columns.records[n],t.columngroup&&(i=c(t.columngroup),i&&(i.groups||(i.groups=[]),t.parent=i,i.groups.indexOf(t)===-1&&i.groups.push(t)));for(s=0,n=0;n<this.columns.records.length;n++){for(t=this.columns.records[n],r=t,t.level=0;r.parent;)r=r.parent,t.level++;for(r=t,y=t.level,s=Math.max(s,t.level);r.parent;)r=r.parent,r&&(r.level=--y)}for(l=function(n){var i=[],t,u,r;if(n.columngroup&&i.push(n),n.groups)for(t=0;t<n.groups.length;t++)if(n.groups[t].columngroup)i.push(n.groups[t]);else if(n.groups[t].groups)for(u=l(n.groups[t]),r=0;r<u.length;r++)i.push(u[r]);return i},n=0;n<this.columngroups.length;n++){for(t=this.columngroups[n],f=l(t),t.columns=f,u=[],a=0,e=0;e<f.length;e++)u.push(this.columns.records.indexOf(f[e])),f[e].pinned&&a++;if(a!=0)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");for(u.sort(function(n,t){return(n=parseInt(n),t=parseInt(t),n<t)?-1:n>t?1:0}),o=1;o<u.length;o++)if(u[o]!=u[o-1]+1)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.");}}this.columngroupslevel=1+s;v=this.columngroupslevel*this.columnsheight}return v},_render:function(t,i,r,u,f){var e,o,s;if(this.dataview!=null&&!this._loading&&!this._batchupdate){if(n.jqx.isHidden(this.host)){e=this;e.___hiddenTimer&&(clearInterval(e.___hiddenTimer),e.___hiddenTimer=null);this.___hiddenTimer=setInterval(function(){n.jqx.isHidden(e.host)||(clearInterval(e.___hiddenTimer),e.render())},300);return}this.editcell!=null&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1);this.validationpopup=null;this._removeHandlers();this._addHandlers();this._initializeRows();this._requiresupdate=i!=undefined?i:!0;this._newmax=null;r&&(this._requiresupdate||u!=!1&&this._initmenu(),this.columns==null?this.columns=new n.jqx.collection(this.element):this._initializeColumns());this.tableheight=null;this._pagescache=[];this._pageviews=[];this.visiblerows=[];this.hittestinfo=[];this._requiresupdate&&(this._clearcaches(),u==!0&&this._initmenu());this.virtualsizeinfo=null;this.prerenderrequired=!0;(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=[],this._rowdetailselementscache=[],this.detailboundrows=[],this.details=[],n.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null);this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors();r?(this.filterrow&&this.filterrow.detach(),n.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||n('<div style="overflow: hidden;"><\/div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&n.jqx.utilities.html(this.gridcontent,"");this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none");this.gridcontent=this.gridcontent||n('<div style="width: 100%; overflow: hidden; position: absolute;"><\/div>');this.gridcontent.remove();o=this.columnsheight;o=this._preparecolumngroups();this.showfilterrow&&this.filterable?this.columnsheader.height(o+this.filterrowheight):this.columnsheader.height(o);this.content.append(this.columnsheader);this.content.append(this.gridcontent);this._arrange();this._initgroupsheader&&this._initgroupsheader();this.selectionarea=this.selectionarea||n("<div style='z-index: 99999; visibility: hidden; position: absolute;'><\/div>");this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea"));this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.content.append(this.selectionarea);this.tableheight=null;this.rendergridcontent(!1,r);this.groups.length>0&&this.groupable&&(s=this.vScrollBar[0].style.visibility,this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=s&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1);this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo)));this.showaggregates&&this._updateaggregates&&this._updateaggregates();this._addoverlayelement();this.scrollmode=="deferred"&&this._addscrollelement();this.showfilterrow&&this.filterable&&this.filterrow&&(f==undefined||f==!0)&&this._updatelistfilters(!r);this.rendered&&this.rendered("full");this.__isRendered=!0}},_addoverlayelement:function(){var t,i,r;if(this.autoheight){this._overlayElement&&this._overlayElement.remove();this._updateTouchScrolling();return}t=n.jqx.utilities.getBrowser();(t.browser=="msie"&&parseInt(t.version)<9||this.isTouchDevice())&&(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=n("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'><\/div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice()?this.vScrollBar.css("visibility")!=="hidden"||this.hScrollBar.css("visibility")!=="hidden"?(i=0,this.selectionmode=="checkbox"&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0))),r=this._overlayElement.css("left"),this._overlayElement.css("left",r+i)):this._overlayElement&&this._overlayElement.remove():this.content.prepend(this._overlayElement));this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove();this._scrollelementoverlay&&this._scrollelementoverlay.remove();this._scrollelementoverlay=n("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'><\/div>");this._scrollelementoverlay.css("background","black");this._scrollelementoverlay.css("z-index",18e3);this._scrollelementoverlay.css("opacity",.1);this._scrollelement=n("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'><\/span>");this._scrollelement.css("z-index",18005);this._scrollelement.addClass(this.toThemeProperty("jqx-button"));this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all"));this._scrollelement.addClass(this.toThemeProperty("jqx-shadow"));this.content.prepend(this._scrollelement);this.content.prepend(this._scrollelementoverlay)},rendergridcontent:function(n,t){var r,i,t,u;return this.updating()?!1:((n==undefined||n==null)&&(n=!1),this._requiresupdate=n,r=this.prerenderrequired,this.prerenderrequired&&this._arrange(),i=this.that,t=t,(t==null||t==undefined)&&(t=!0),this.tableheight=null,i.virtualsizeinfo=i.virtualsizeinfo||i._calculatevirtualheight(),i.pageable&&!i.autoheight&&i.dataview.totalrows<i.pagesize&&(i._requiresupdate=!0),t?i._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),i._renderrows(i.virtualsizeinfo),this.gridcontent&&(this.gridcontent[0].scrollTop!=0&&(this.gridcontent[0].scrollTop=0),this.gridcontent[0].scrollLeft!=0&&(this.gridcontent[0].scrollLeft=0)),r&&(u=this.tableheight,this._arrange(),u!=this.tableheight&&this.autoheight&&i._renderrows(i.virtualsizeinfo)),this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&this.initializedcall!=null&&this.savestate&&this.savestate(),!0)},_updatecolumnwidths:function(){var t=this.host.width(),i=t,c="",f,s,h,u,e,o,l,r;if(this.columns!=undefined&&this.columns.records!=undefined){if(f=this.that,e=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth,n.each(this.columns.records,function(n,r){var r,u,o;this.hidden&&this.hideable||(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined?(r=0,u=f.vScrollBar[0].style.visibility=="hidden"?0:f.scrollbarsize+5,f.scrollbarautoshow&&(u=0),o=i,r=parseFloat(this.width)*o/100,u+=e,this._percentagewidth!=undefined&&(r=parseFloat(this._percentagewidth)*(o-u)/100),r<this.minwidth&&this.minwidth!="auto"&&(r=this.minwidth),r>this.maxwidth&&this.maxwidth!="auto"&&(r=this.maxwidth),t-=r):this.width=="auto"||this._width?c+=this.text:t-=this.width)}),s=this._gettableheight(),!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>s)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){if(h=this.dataview.loadedrootgroups.length*this.rowsheight,this.pageable)for(u=0;u<this.dataview.rows.length;u++)this.dataview.rows[u].group&&this.dataview.rows[u].level===0&&(h+=this.rowsheight);h>s?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):this.vScrollBar.css("visibility")=="visible"&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;(e=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth,i-=e,this.columnsheader)&&(o=this.columnsheader.find("#columntable"+this.element.id),o.length!=0)&&(l=o.find(".jqx-grid-column-header"),r=0,n.each(this.columns.records,function(u){var o=n(l[u]),s=!1,f=this.width,e;(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined)&&(f=this._percentagewidth!=undefined?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,s=!0);this.width=="auto"||this._width||s?s?(f<this.minwidth&&this.minwidth!="auto"&&(f=this.minwidth,this.width=f),f>this.maxwidth&&this.maxwidth!="auto"&&(f=this.maxwidth,this.width=f),parseInt(o[0].style.width)!=f&&(o.width(f),this.width=f)):(e=Math.floor(t*(this.text.length/c.length)),isNaN(e)&&(e=this.minwidth),e<0&&($element=n("<span>"+this.text+"<\/span>"),n(document.body).append($element),e=10+$element.width(),$element.remove()),e<this.minwidth&&(e=this.minwidth),e>this.maxwidth&&(e=this.maxwidth),this._width="auto",this.width=e,o.width(this.width)):parseInt(o[0].style.width)!=this.width&&o.width(this.width);parseInt(o[0].style.left)!=r&&o.css("left",r);this.hidden&&this.hideable||(r+=this.width);this._requirewidthupdate=!0}),this.columnsheader.width(2+r),o.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=r==0?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.autowidth&&this._arrange())}},_rendercolumnheaders:function(){var t=this.that,r,g,e,u,v,o,i,b,p,y,nt,w;if(!this.prerenderrequired){this._rendersortcolumn&&this._rendersortcolumn();this._renderfiltercolumn&&this._renderfiltercolumn();this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui());return}this._columnsbydatafield=[];this.columnsheader.find("#columntable"+this.element.id).remove();r=n('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"><\/div>');r[0].cells=[];var a=0,s=0,k="",f=this.host.width(),c=f,h=[],l=[],d=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(n.each(this.columns.records,function(n,i){if(!(this.hidden&&this.hideable))if(this.width=="auto"||this._width)k+=this.text;else if(this.width<this.minwidth&&this.minwidth!="auto")f-=this.minwidth;else if(this.width>this.maxwidth&&this.maxwidth!="auto")f-=this.maxwidth;else if(this.width.toString().indexOf("%")!=-1){var i=0,r=t.vScrollBar[0].style.visibility=="hidden"?0:t.scrollbarsize+5;r+=d;i=parseFloat(this.width)*(c-r)/100;i<this.minwidth&&this.minwidth!="auto"&&(i=this.minwidth);i>this.maxwidth&&this.maxwidth!="auto"&&(i=this.maxwidth);f-=i}else typeof this.width=="string"&&(this.width=parseInt(this.width)),f-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),h[h.length]=this):l[l.length]=this}),this.rtl){for(g=0,h.reverse(),e=this.columns.records.length-1;e>=this.columns.records.length-h.length;e--)this.columns.replace(e,h[g++]);for(u=0;u<l.length;u++)this.columns.replace(u,l[u])}else{for(e=0;e<h.length;e++)this.columns.replace(e,h[e]);for(u=0;u<l.length;u++)this.columns.replace(h.length+u,l[u])}if(v=this.headerZIndex,o=t.groupable?t.groups.length:0,this.rowdetails&&this.showrowdetailscolumn&&o++,i=t.columnsheader.height(),this.showfilterrow&&(this.columngroups?i-=this.filterrowheight:i=this.columnsheight),b=this._gettableheight(),this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>b&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){if(p=0,this.pageable){if(this.pageable)for(y=0;y<this.dataview.rows.length;y++)this.dataview.rows[y].group&&this.dataview.rows[y].level===0&&(p+=this.rowsheight)}else p=this.dataview.loadedrootgroups.length*this.rowsheight;p>b&&(f-=this.scrollbarsize+5,c-=this.scrollbarsize+5)}else f-=this.scrollbarsize+5,c-=this.scrollbarsize+5;else this.autoheight||(f-=this.scrollbarsize+5,c-=this.scrollbarsize+5);c-=d;nt=function(n,i){var r=t.columngroupslevel*t.columnsheight;return r-i.level*t.columnsheight};n.each(this.columns.records,function(u){var rt,l,tt,y,b,ut,d,p,w,it,h,et,ot,lt,g,at;this.height=t.columnsheight;t.columngroups&&t.columngroups.length&&(this.height=nt(this.datafield,this),i=this.height);rt=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(rt+=" "+t.toTP("jqx-grid-column-header-rtl"));var vt=t.rtl?150+v+1:150+v-1,yt=t.rtl?v++:v--,e=n('<div role="columnheader" style="z-index: '+yt+';position: absolute; height: 100%;" class="'+rt+'"><div style="height: 100%; width: 100%;"><\/div><\/div>');t.columngroups&&(e[0].style.height=i+"px",e[0].style.bottom="0px",this.pinned&&(e[0].style.zIndex=vt));this.uielement=e;this.classname!=""&&this.classname&&e.addClass(this.classname);l=this.width;tt=!1;this.width===null&&(this.width="auto");(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined)&&(l=this._percentagewidth!=undefined?parseFloat(this._percentagewidth)*c/100:parseFloat(this.width)*c/100,tt=!0);this.width=="auto"||this._width||tt?tt?(l<this.minwidth&&this.minwidth!="auto"&&(l=this.minwidth),l>this.maxwidth&&this.maxwidth!="auto"&&(l=this.maxwidth),(this._percentagewidth==undefined||this.width.toString().indexOf("%")!=-1)&&(this._percentagewidth=this.width),e.width(l),this.width=l):this.hidden||(y=Math.floor(f*(this.text.length/k.length)),isNaN(y)&&(y=this.minwidth),y<0&&($element=n("<span>"+this.text+"<\/span>"),n(document.body).append($element),y=10+$element.width(),$element.remove()),y<this.minwidth&&(y=this.minwidth),y>this.maxwidth&&(y=this.maxwidth),this._width="auto",this.width=y,l=this.width,e.width(this.width)):(l<this.minwidth&&this.minwidth!="auto"&&(l=this.minwidth,this.width=l),l>this.maxwidth&&this.maxwidth!="auto"&&(l=this.maxwidth,this.width=l),e[0].style.width=parseInt(l)+"px");this.hidden&&this.hideable&&e.css("display","none");b=n(e.children()[0]);ut=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");ut+=" "+t.toTP("jqx-icon-arrow-down");d=n('<div style="height: '+i+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+ut+'" style="width: 100%; height:100%;"><\/div><\/div>');t.enableanimations||d.css("margin-left",-16);t.rtl&&d.css("left","0px");this.columnsmenu=d[0];r[0].cells[u]=e[0];d[0].style.width=parseInt(t.columnsmenuwidth)+"px";var ft=t.columnsmenu,st=!1,ht=!1,ct=t.groupable&&o>0&&a<o||t.rowdetails&&a<o;if(t.rtl&&(ct=(t.groupable&&o>0&&a<o||t.rowdetails&&a<o)&u>t.columns.records.length-1-o),ct?(a++,ft&=!1,this.sortable=!1,this.editable=!1,ht=!0):(p=this.renderer!=null?this.renderer(this.text,this.align,i):t._rendercolumnheader(this.text,this.align,i,t),p==null&&(p=t._rendercolumnheader(this.text,this.align,i,t)),this.renderer!=null&&(p=n(p)),ft&=!0,st=!0),t.WinJS?MSApp.execUnsafeLocalFunction(function(){b.append(n(p))}):this.renderer?b.append(n(p)):p&&(b[0].innerHTML=p),p!=null&&(w=n('<div class="iconscontainer" style="height: '+i+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+i+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"><\/div><\/div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+i+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"><\/div><\/div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+i+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"><\/div><\/div><\/div>'),d.addClass(t.toTP("jqx-widget-header")),b.append(w),it=w.children(),this.sortasc=it[1],this.sortdesc=it[2],this.filtericon=it[0],this.iconscontainer=w,t.rtl&&(w.css("margin-left","0px"),w.css("left","0px"),n(this.sortasc).css("float","left"),n(this.filtericon).css("float","left"),n(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&n(this.filtericon).css("display","block")),ft&&(t._handlecolumnsmenu(t,b,e,d,this),this.menu||d.hide()),r.append(e),t.groupable&&st)if(e[0].id=t.dataview.generatekey(),t._handlecolumnstogroupsdragdrop)t._handlecolumnstogroupsdragdrop(this,e);else throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Missing reference to jqxgrid.grouping.js.");if(t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,e),h=this,t.addHandler(e,"click",function(n){if(h.checkboxcolumn)return!0;t.sorttogglestates>0&&t._togglesort&&(t._loading||t._togglesort(h));n.preventDefault();t._raiseEvent(7,{column:h.getcolumnproperties(),datafield:h.datafield,originalEvent:n})}),h.resizable&&t.columnsresize&&!ht&&(et=!1,ot="mousemove",t.isTouchDevice()&&t.touchmode!==!0&&(et=!0,ot=n.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(e,ot,function(i){var r=parseInt(i.pageX),u=5,f=parseInt(e.coord().left),s,c,o;if(t.hasTransform&&(f=n.jqx.utilities.getOffset(e).left),t.resizing)return!0;if(t._handlecolumnsresize){if(et)return s=t.getTouches(i),c=s[0],r=c.pageX,u=40,r>=f+h.width-u?(t.resizablecolumn={columnelement:e,column:h},e.css("cursor","col-resize")):(e.css("cursor",""),t.resizablecolumn=null),!0;if(o=h.width,t.rtl&&(o=0),r>=f+o-u){if(r<=f+o+u)return t.resizablecolumn={columnelement:e,column:h},e.css("cursor","col-resize"),!1;e.css("cursor","");t.resizablecolumn=null}else e.css("cursor",""),r<f+o-u&&(h._animating||h._menuvisible||e.mouseenter()),t.resizablecolumn=null}})),e.css("left",s),this.hidden&&this.hideable||(s+=l),h.rendered&&(lt=h.rendered(n(b[0].firstChild),h.align,i),lt&&w!=null&&w.hide()),h.checkboxcolumn){if(w&&w.hide(),!t.host.jqxCheckBox)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Missing reference to jqxcheckbox.js");b.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"><\/div>');g=b.find("div:first");g.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0});h.checkboxelement=g;at=g.data().jqxCheckBox.instance;t._checkboxcolumn=h;at.updated=function(n,i,r){t._checkboxcolumnupdating=!0;t.disabled&&(g.jqxCheckBox({disabled:t.disabled}),i=r);i?t.selectallrows():t.unselectallrows();t._checkboxcolumnupdating=!1}}});s>0?this.columnsheader.width(2+s):this.columnsheader.width(s);this.columnsrow=r;t.columnsheader.append(r);this.showfilterrow&&this._updatefilterrow&&(this.columngroups?r.height(this.columngroupslevel*this.columnsheight):r.height(this.columnsheight),this.filterrow||(w=n("<div><\/div>"),w[0].id="filterrow."+this.element.id,w.height(this.filterrowheight),this.filterrow=w),this.filterrow.width(2+s),this.columnsheader.append(this.filterrow),this._updatefilterrow());r[0].style.visibility=s==0?"hidden":"inherit";r.width(s);this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop();this._handlecolumnsreorder&&this._handlecolumnsreorder();this._rendersortcolumn&&this._rendersortcolumn();this._renderfiltercolumn&&this._renderfiltercolumn();this._handlecolumnsresize&&this._handlecolumnsresize();this.columngroups&&this._rendercolumngroups();this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){var s,h,e,i,t,c,y,u,l,o,p;if(this.columngroups){for(s=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&s++;var w=this.headerZIndex-s+this.columns.records.length,f=this.that,v=f.toTP("jqx-grid-column-header")+" "+f.toTP("jqx-grid-columngroup-header")+" "+f.toTP("jqx-widget-header");for(f.rtl&&(v+=" "+f.toTP("jqx-grid-columngroup-header-rtl")),h=this.columnsheader.find("#columntable"+this.element.id),h.find("jqx-grid-columngroup-header").remove(),e=0;e<this.columngroupslevel-1;e++)for(i=0;i<this.columngroups.length;i++)if((t=this.columngroups[i],c=t.level,c===e)&&(y=c*this.columnsheight,u=99999,t.groups)){l=function(n){for(var t,i=0,r=0;r<n.groups.length;r++)t=n.groups[r],t.groups?i+=l(t):t.hidden||(i+=t.width,u=Math.min(parseFloat(t.element.style.left),u));return i};t.width=l(t);t.left=u;var a=this.columnsheight,b=w--,r=n('<div role="columnheader" style="z-index: '+b+';position: absolute;" class="'+v+'"><\/div>'),o=n(this._rendercolumnheader(t.text,t.align,this.columnsheight,this));t.renderer&&(o=n("<div style='height: 100%; width: 100%;'><\/div>"),p=t.renderer(t.text,t.align,a),o.html(p));r.append(o);r[0].style.left=u+"px";u===0&&(r[0].style.borderLeftColor="transparent");r[0].style.top=y+"px";r[0].style.height=a+"px";r[0].style.width=-1+t.width+"px";h.append(r);t.element=r;t.rendered&&t.rendered(o,t.align,a)}}},_resizecolumngroups:function(){var i,u,f,t;if(this.columngroups)for(i=0;i<this.columngroups.length;i++){var n=this.columngroups[i],e=n.level,o=e*this.columnsheight,r=99999;n.groups&&(u=function(n){for(var t,i=0,f=0;f<n.groups.length;f++)t=n.groups[f],t.groups?i+=u(t):t.hidden||(i+=t.width,r=Math.min(parseFloat(t.element.style.left),r));return i},n.width=u(n),n.left=r,f=this.columnsheight,t=n.element,t[0].style.left=r+"px",t[0].style.top=o+"px",t[0].style.height=f+"px",t[0].style.width=-1+n.width+"px")}},_handlecolumnsmenu:function(t,i,r,u,f){var l,h;t.dragmousedown=null;u[0].id=t.dataview.generatekey();i.append(u);r[0].columnsmenu=u[0];f.element=r[0];var o=this.columnsmenuwidth+1,v=function(){var n;if(!f.menu)return!1;if(!t.resizing){if(f._menuvisible&&t._hasOpenedMenu)return!1;f._animating=!0;t.menuitemsarray&&t.menuitemsarray.length>0&&(t.enableanimations?(u.css("display","block"),u.stop(),f.iconscontainer.stop(),t.rtl?(u.css("margin-left",-o),u.animate({"margin-left":"0px"},"fast",function(){u.css("display","block");f._animating=!1;f._menuvisible=!0})):(u.css("margin-left","0px"),u.animate({"margin-left":-o},"fast",function(){u.css("display","block");f._animating=!1;f._menuvisible=!0})),n=t.rtl?o:-(32+o),f.iconscontainer.animate({"margin-left":n},"fast")):(u.css("display","block"),n=t.rtl?16:-48,f.iconscontainer.css("margin-left",n+"px"),f._animating=!1,f._menuvisible=!0))}},c="mouseenter";t.isTouchDevice()&&(c="touchstart");t.addHandler(r,c,function(i){var s=parseInt(i.pageX),e=t.columnsresize&&f.resizable?3:0,o=parseInt(r.coord().left),u,h;if(t.hasTransform&&(o=n.jqx.utilities.getOffset(r).left),u=f.width,t.rtl&&(u=0),e!=0&&s>=o+u-e&&s<=o+u+e)return!1;h=t.vScrollInstance.isScrolling();f.menu&&t.autoshowcolumnsmenubutton&&!h&&!t.disabled&&v()});t.autoshowcolumnsmenubutton||(u.css("display","block"),l=t.rtl?16:-48,f.iconscontainer.css("margin-left",l+"px"),t.rtl?u.css({"margin-left":"0px"}):u.css({"margin-left":-o}));t.addHandler(r,"mouseleave",function(){var r,i;if(t.menuitemsarray&&t.menuitemsarray.length>0&&f.menu){if(r=n.data(document.body,"contextmenu"+t.element.id),r!=undefined&&u[0].id==r.columnsmenu.id)return;t.autoshowcolumnsmenubutton&&(t.enableanimations?(t.rtl?u.css("margin-left","0px"):u.css("margin-left",-o),u.stop(),f.iconscontainer.stop(),t.rtl?u.animate({"margin-left":-o},"fast",function(){u.css("display","none");f._menuvisible=!1}):u.animate({"margin-left":0},"fast",function(){u.css("display","none");f._menuvisible=!1}),i=t.rtl?0:-32,f.iconscontainer.animate({"margin-left":i},"fast")):(u.css("display","none"),i=t.rtl?0:-32,f.iconscontainer.css("margin-left",i+"px"),f._menuvisible=!1))}});var s=!0,e="",a=n(f.filtericon);t.addHandler(u,"mousedown",function(){t.gridmenu||t._initmenu();s=!n.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id);e=n.data(document.body,"contextmenu"+t.element.id);e!=null&&(e=e.column.datafield)});t.addHandler(a,"mousedown",function(){t.gridmenu||t._initmenu();s=!n.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id);e=n.data(document.body,"contextmenu"+t.element.id);e!=null&&(e=e.column.datafield)});h=function(){var r,i,y,p,h,d,a,v;if(!f.menu||(t.gridmenu||t._initmenu(),t.disabled))return!1;for(r=0;r<t.columns.records.length;r++)t.columns.records[r].datafield!=f.datafield&&(t.columns.records[r]._menuvisible=!1);if(i=u.coord(!0),y=u.height(),!s&&(s=!0,e==f.datafield))return t._closemenu(),!1;p=t.host.coord(!0);t.hasTransform&&(p=n.jqx.utilities.getOffset(t.host),i=n.jqx.utilities.getOffset(u));p.left+t.host.width()>parseInt(i.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",i.left,i.top+y):t.gridmenu.jqxMenu("open",u.width()+i.left-t.gridmenu.width(),i.top+y);t.gridmenu.width()<100&&t._arrangemenu();t._hasOpenedMenu=!0;var w=t._getmenuitembyindex(0),b=t._getmenuitembyindex(1),k=t._getmenuitembyindex(2),c=t._getmenuitembyindex(3),l=t._getmenuitembyindex(4),o=t._getmenuitembyindex(5);w!=null&&b!=null&&k!=null&&(h=f.sortable&&t.sortable,t.gridmenu.jqxMenu("disable",w.id,!h),t.gridmenu.jqxMenu("disable",b.id,!h),t.gridmenu.jqxMenu("disable",k.id,!h),f.datafield&&(t.sortcolumn==f.datafield?(d=t.getsortinformation(),h&&(d.sortdirection.ascending?t.gridmenu.jqxMenu("disable",w.id,!0):t.gridmenu.jqxMenu("disable",b.id,!0))):t.gridmenu.jqxMenu("disable",k.id,!0)));c!=null&&l!=null&&(t.groupable&&f.groupable?t.groups&&t.groups.indexOf(f.datafield)!=-1?(t.gridmenu.jqxMenu("disable",c.id,!0),t.gridmenu.jqxMenu("disable",l.id,!1)):(t.gridmenu.jqxMenu("disable",c.id,!1),t.gridmenu.jqxMenu("disable",l.id,!0)):(t.gridmenu.jqxMenu("disable",l.id,!0),t.gridmenu.jqxMenu("disable",c.id,!0)));o!=null&&(t._updatefilterpanel(t,o,f),a=0,t.sortable&&t._togglesort&&t.showsortmenuitems&&(a+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(a+=2),v=a*27+3,n.jqx.browser.msie&&n.jqx.browser.version<8&&(v+=20,n(o).height(190)),t.filterable&&t.showfiltermenuitems&&(f.filterable?(t.gridmenu.height(v+180),n(o).css("display","block")):(t.gridmenu.height(v),n(o).css("display","none"))));n.data(document.body,"contextmenu"+t.element.id,{column:f,columnsmenu:u[0]})};t.addHandler(a,"click",function(){return f.menu?(t.showfilterrow||(u[0].style.display!="block"&&r.trigger("mouseenter"),setTimeout(function(){u[0].style.display!="block"&&r.trigger("mouseenter");h()},200)),!1):!1});t.addHandler(u,"click",function(){return f.menu?(h(),!1):!1});t.isTouchDevice()&&t.addHandler(u,n.jqx.mobile.getTouchEventName("touchstart"),function(){return f.menu?(t._hasOpenedMenu?t._closemenu():h(),!1):!1})},_removecolumnhandlers:function(t){var i=this.that,r=n(t.element),f,u;r.length>0&&(i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave"),f=n(t.filtericon),i.removeHandler(f,"mousedown"),i.removeHandler(f,"click"),i.removeHandler(r,"click"),i.removeHandler(r,"mousemove"),i.columnsreorder&&(i.removeHandler(r,"mousedown.drag"),i.removeHandler(r,"mousemove.drag")),i.removeHandler(r,"dragstart"),r[0].columnsmenu&&(u=n(r[0].columnsmenu),i.removeHandler(u,"click"),i.removeHandler(u,"mousedown"),i.removeHandler(u,n.jqx.mobile.getTouchEventName("touchstart"))))},_rendercolumnheader:function(n,t,i,r){var u="4px";return(r.columngroups?(u=i/2-this._columnheight/2,u<0&&(u=4),u+="px"):this.columnsheight!=25&&(u=this.columnsheight/2-this._columnheight/2,u<0&&(u=4),u+="px"),this.enableellipsis)?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+u+"; margin-top: "+u+';"><span style="text-overflow: ellipsis; cursor: default;">'+n+"<\/span><\/div>":t=="center"||t=="middle"?'<div style="padding-bottom: 2px; text-align: center; margin-top: '+u+';"><a href="#">'+n+"<\/a><\/div>":'<a style="margin-top: '+u+"; float: "+t+';" href="#">'+n+"<\/a>"},_renderrows:function(t,i){var r=this.that,l,u,a,y,e,p,c,s,o,h,f,v,w;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length<this.dataview.rows.length&&(r.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)&&(l=this.source.totalrecords,isNaN(l)||this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length!=l&&(r.prerenderrequired=!0)),(this.autoheight||this.autorowheight)&&!r.prerenderrequired&&this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0))),r._prerenderrows(t),r._requiresupdate&&(r._requiresupdate=!1,r._updatepageviews()),u=function(){r._loading||(r.WinJS?MSApp.execUnsafeLocalFunction(function(){r._rendervisualrows()}):r._rendervisualrows(),r.virtualmode&&r.showaggregates&&r._updateaggregates&&r.refreshaggregates())},a=n.jqx.browser.msie&&n.jqx.browser.version<10,this.virtualmode)y=function(){var n,t,u,f;if(r.rendergridrows&&(n=r._startboundindex,n==undefined&&(n=0),t=n+1+r.dataview.pagesize,n!=null&&t!=null&&(u=r.source._source?!0:!1,f=u?r.source._source.recordstartindex:r.source.recordstartindex,f!=n||i==!0))){if(u){if(t>=r.source._source.totalrecords&&(t=r.source._source.totalrecords,n=t-r.dataview.pagesize-1,n<0&&(n=0),r.source._source.recordendindex==t&&r.source._source.recordstartindex==n))return;r.source._source.recordstartindex=n;r.source._source.recordendindex=t}else r.source.recordstartindex=n,r.source.recordendindex=t;r.updatebounddata("cells")}},this.loadondemand&&(u(),y(),this.loadondemand=!1),s=this._browser==undefined?this._isIE10():this._browser,this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?u():this.autoheight?u():s||a||navigator&&navigator.userAgent.indexOf("Safari")!=-1?(this._scrolltimer!=null&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){u()},5)):u();else{if(this.scrollmode=="deferred"&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){this._scrolltimer!=null&&clearInterval(this._scrolltimer);e=this._getfirstvisualrow();e!=null&&(p=function(){var o,i,f,s,u,t;if(e==null)return"";for(o="<table>",i=r.deferreddatafields,i==null&&r.columns.records.length>0&&(i=[],i.push(r.columns.records[0].displayfield)),f=0;f<i.length;f++)s=i[f],u=r._getcolumnbydatafield(s),u&&(t=r._getcellvalue(u,e),u.cellsformat!=""&&n.jqx.dataFormat&&(n.jqx.dataFormat.isDate(t)?t=n.jqx.dataFormat.formatdate(t,u.cellsformat,r.gridlocalization):n.jqx.dataFormat.isNumber(t)&&(t=n.jqx.dataFormat.formatnumber(t,u.cellsformat,r.gridlocalization))),o+="<tr><td>"+t+"<\/td><\/tr>");return o+"<\/table>"},c=this.scrollfeedback?this.scrollfeedback(e.bounddata):p(e.bounddata),c!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=c,this._scrollelementcontent=c));this._scrollelement.css("visibility","visible");this._scrollelementoverlay.css("visibility","visible");this._scrollelement.css("margin-top",-this._scrollelement.height()/2);this._scrolltimer=setInterval(function(){r.hScrollInstance.isScrolling()||r.vScrollInstance.isScrolling()||(u(),r._scrollelement.css("visibility","hidden"),r._scrollelementoverlay.css("visibility","hidden"),clearInterval(r._scrolltimer),e&&r.ensurerowvisible(e.visibleindex))},100);return}if(navigator&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")!=-1&&(this._updatedelay=1),this.touchDevice!=undefined&&this.touchDevice==!0&&(this._updatedelay=5),s=this._browser==undefined?this._isIE10():this._browser,(s||a)&&(this._updatedelay=5),s&&this.hScrollInstance.isScrolling()){u();return}n.jqx.browser.mozilla&&this._updatedelay==0&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0);this.updatedelay!=null&&(this._updatedelay=this.updatedelay);this._updatedelay==0?u():(o=this._jqxgridrendertimer,o!=null&&clearTimeout(o),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(o=setTimeout(function(){u()},this._updatedelay),this._jqxgridrendertimer=o):(this._jqxgridrendertimer=o,u()))}r.autorowheight&&!r.autoheight&&this._pageviews.length>0&&(h=this._gettableheight(),f=this._pageviews[0].height,f>h?(this.pageable&&this.gotopage&&(f=this._pageviews[0].height,f<0&&(f=this._pageviews[0].height)),this.vScrollBar.css("visibility")!="visible"&&this.vScrollBar.css("visibility","visible"),(f<=h||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),f-h>0?this.scrollmode!="deferred"&&(v=f-h,w=this.vScrollInstance.max,this.vScrollBar.jqxScrollBar({max:v}),Math.round(v)!=Math.round(w)&&this.vScrollBar.jqxScrollBar({value:0})):this.vScrollBar.jqxScrollBar({value:0,max:f})):(this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})),this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=f))},scrolling:function(){var n=this.vScrollInstance.isScrolling(),t=this.hScrollInstance.isScrolling();return{vertical:n,horizontal:t}},_renderhorizontalscroll:function(){var l=this.hScrollInstance,u=l.value,n,i,h,t,r,c,o,s,e,v;if(this.hScrollBar.css("visibility")==="hidden"&&(l.value=0,u=0),n=parseInt(u),this.table!=null){var y=this.table[0].rows.length,f=this.columnsrow,a=this.groupable&&this.groups.length>0?this.groups.length:0,p=this.columns.records.length-a,w=this.columns.records,b=this.dataview.rows.length==0;if(this.rtl&&this.hScrollBar.css("visibility")!="hidden"&&(n=l.max-n),b&&!this._haspinned){for(i=0;i<y;i++)for(h=this.table[0].rows[i],t=0;t<a+p;t++)r=h.cells[t],r!=undefined&&(c=w[t],c.pinned&&(r.style.marginLeft=n+"px",i==0&&(e=f[0].cells[t],e.style.marginLeft=n+"px")));this.table[0].style.marginLeft=-n+"px";f[0].style.marginLeft=-n+"px"}else if(this._haspinned||this._haspinned==undefined){for(i=0;i<y;i++)for(h=this.table[0].rows[i],t=0;t<a+p;t++)if(r=h.cells[t],r!=undefined&&(c=w[t],c.pinned)){if(n==0&&r.style.marginLeft=="")continue;o=null;s=null;this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(s=this.filterrow[0].cells[t]);this.showaggregates&&this.statusbar[0].cells&&(o=this.statusbar[0].cells[t]);this.rtl?(r.style.marginLeft=-parseInt(u)+"px",i==0&&(e=f[0].cells[t],e.style.marginLeft=-parseInt(u)+"px",o&&(o.style.marginLeft=-parseInt(u)+"px"),s&&(s.style.marginLeft=-parseInt(u)+"px"))):(r.style.marginLeft=n+"px",i==0&&(e=f[0].cells[t],e.style.marginLeft=n+"px",o&&(o.style.marginLeft=n+"px"),s&&(s.style.marginLeft=n+"px")))}this.table[0].style.marginLeft=-n+"px";f[0].style.marginLeft=-n+"px"}else this._haspinned==!1&&(this.table[0].style.marginLeft=-n+"px",f[0].style.marginLeft=-n+"px");this.showaggregates&&this.statusbar[0].cells&&(v=0,this.rtl&&this.vScrollBar.css("visibility")!="hidden"&&this.hScrollBar.css("visibility")!="hidden"&&(v=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-n+v+"px");this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-n+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)n(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(n,t,i,r,u){var f,c;if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+r};var s=0,e=-1,o=i+r,h=!1;if(this.autorowheight)return{start:0,end:i+r};if(!u)for(f=0;f<i+r;f++)if(c=f,h||this.columns.records[f].pinned&&(h=!0),this.columns.records[f].hidden||(s+=this.columns.records[f].width),s>=n&&e==-1&&(e=f),s>t+n){o=f;break}return o++,o>i+r&&(o=i+r),(e==-1||h)&&(e=0),{start:e,end:o}},_getfirstvisualrow:function(){var u=this.vScrollInstance,f=u.value,i=parseInt(f),n,r,t;if(this._pagescache.length==0&&(this.dataview.updateview(),this._loadrows()),this.vScrollBar[0].style.visibility!="visible"&&(i=0),!this.pageable){if(n=this._findvisiblerow(i,this._pageviews),n==-1)return null;n!=this.dataview.pagenum?(this.dataview.pagenum=n,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}return r=this._findvisiblerow(i,this._pagescache[this.dataview.pagenum]),t=this._pagescache[this.dataview.pagenum],t&&t[0]?t[r]:void 0},_rendervisualrows:function(){var wt,nt,it,w,s,t,dt,lt,a,v,gt,ni,o,i,at,vt,d,f,r,g,c,l;if(this.virtualsizeinfo){var y=this.vScrollInstance,yt=this.hScrollInstance,ii=y.value,ri=yt.value,p=parseInt(ii),ft=parseInt(ri),tt=this._gettableheight(),pt=this._hostwidth!=undefined?this._hostwidth:this.host.width();if(this.hScrollBar[0].style.visibility=="visible"&&(tt+=29),this.scrollmode=="deferred"&&this._newmax!=0&&p>this._newmax&&this._newmax!=null&&(p=this._newmax),wt=y.isScrolling()||yt.isScrolling()||this._keydown,nt=this.groupable&&this.groups.length>0,this.visiblerows=[],this.hittestinfo=[],this.editcell&&this.editrow==undefined&&this._hidecelleditor(!1),this.editrow!=undefined&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=[]),this._pagescache.length==0&&(this.dataview.updateview(),this._loadrows()),this.vScrollBar[0].style.visibility=="hidden"&&(p=0),!this.pageable){if(it=this._findvisiblerow(p,this._pageviews),it==-1){this._clearvisualrows();this._renderemptyrow();this._updaterowdetailsvisibility();return}it!=this.dataview.pagenum?(this.dataview.pagenum=it,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}if(w=this.groupable&&this.groups.length>0?this.groups.length:0,this.columns.records){var rt=this.columns.records.length-w,ui=this._findvisiblerow(p,this._pagescache[this.dataview.pagenum]),u=this._pagescache[this.dataview.pagenum],e=ui;e<0&&(e=0);var et=0,h=0,ot=0,st=0,ut=this.virtualsizeinfo.visiblerecords,bt=this.groupable?this.groups.length:0,b=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(b+=" "+this.toTP("jqx-grid-cell-rtl"));(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&this.groups.length===0)&&(ut=this.dataview.pagesize);nt&&(b=" "+this.toTP("jqx-grid-group-cell"));this.isTouchDevice()&&(b+=" "+this.toTP("jqx-touch"));this.autorowheight&&(b+=" jqx-grid-cell-wrap");var o=this.rowsheight,oi=e,fi=this._rendercell,kt=this._getvisualcolumnsindexes(ft,pt,w,rt,nt),ht=kt.start,ct=kt.end;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(e=0),e>=0){for(this._updaterowdetailsvisibility(),this._startboundindex=u!=null?u[e].bounddata.boundindex:0,this._startvisibleindex=u!=null?u[e].bounddata.visibleindex:0,s=0;s<ut&&h<ut;s++){if(t=u!=undefined?u[e+s]:null,t==null){if(e=-s,this._pagescache[this.dataview.pagenum+1])u=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{dt=this._pageviews.length;do if(this.dataview.pagenum<this._pageviews.length-1)this.dataview.pagenum++,u=undefined,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),u=this._pagescache[this.dataview.pagenum]);else{u=undefined;break}while(u==undefined&&this.dataview.pagenum<dt)}u!=undefined&&(t=u[e+s])}if(t!=null){if(t.hidden)continue;if(this._endboundindex=this._startboundindex+s,this._endvisibleindex=this._startvisibleindex+s,s==0&&(lt=Math.abs(p-t.top),this.table[0].style.top=-lt+"px",st=-lt),i=this.table[0].rows[h],!i)continue;for(parseInt(i.style.height)!=t.height&&(i.style.height=parseInt(t.height)+"px"),ot+=t.height,a=this.rowdetails&&t.rowdetails,v=!t.rowdetailshidden,a&&v&&(i.style.height=parseInt(t.height-t.rowdetailsheight)+"px",ut++),gt=this._isrowselected(!0,t),r=ht;r<ct;r++)ni=r,this._rendervisualcell(fi,b,gt,a,v,nt,bt,i,t,ni,h,wt);if(t.group!=undefined&&this._rendergroup&&this._rendergroup(bt,i,t,w,rt,h,pt),this.autorowheight&&(this.autoheight||this.pageable)){for(o=this.rowsheight,r=ht;r<ct;r++){if(this.editable&&this.editcell&&this.editcell.column==this.columns.records[r].datafield&&this.editcell.row==this.getboundindex(t)){o=Math.max(o,this.editcell.editor.height());continue}i.cells[r].firstChild&&(o=Math.max(o,8+parseInt(i.cells[r].firstChild.offsetHeight)))}i.style.height=parseInt(o)+"px";this.heights[this._startboundindex+s]=o;a&&v&&(o+=t.rowdetailsheight);t.height=o}if(this.visiblerows[this.visiblerows.length]=t,this.hittestinfo[this.hittestinfo.length]={row:t,visualrow:i,details:!1},a&&v&&(h++,i=this.table[0].rows[h],this._renderrowdetails(b,i,t,w,rt,h),this.visiblerows[this.visiblerows.length]=t,this.hittestinfo[this.hittestinfo.length]={row:t,visualrow:i,details:!0}),!this.autorowheight&&ot+st>=tt)break}else cansetheight=!0,this._clearvisualrow(ft,nt,h,w,rt),ot+et+st<=tt&&(et+=o);h++}if(this._horizontalvalue=ft,et>0&&this.vScrollBar[0].style.visibility=="visible"){var si=parseInt(this.table.css("top")),ti=this._pageviews[this._pageviews.length-1],ei=y.max,k=ti.top+ti.height-tt;this.hScrollBar.css("visibility")=="visible"&&(k+=this.scrollbarsize+20);ei==k||this.autorowheight||k>=0&&(this.scrollmode!="deferred"?(y.max=k,y.setPosition(y.max)):this._newmax!=k&&(this._newmax=k,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){for(this._pagescache=[],at=0,vt=0,d=0;d<this.visiblerows.length;d++){f=this.visiblerows[d];f.top=at;at+=f.height;vt+=f.height;var a=this.rowdetails&&f.rowdetails,v=!f.rowdetailshidden,i=this.table[0].rows[d];for(a&&v&&d++,r=ht;r<ct;r++)if(g=this.columns.records[r],!g.hidden&&!g.cellsrenderer&&(c=i.cells[r],l=0,c.firstChild?(l=(f.height-parseInt(c.firstChild.offsetHeight)-8)/2,a&&v&&(l=(f.height-f.rowdetailsheight-n(c.firstChild).height()-8)/2)):l=(f.height-parseInt(n(c).height())-8)/2,l>=0&&(l=parseInt(l)+4,c.firstChild&&c.firstChild.className.indexOf("jqx-grid-groups-row")==-1&&g.columntype!="checkbox"&&g.columntype!="button"))){if(this.editable&&this.editcell&&this.editcell.column==g.datafield&&this.editcell.row==this.getboundindex(f))continue;c.firstChild.style.marginTop=l+"px"}}this._pageviews[0]&&(this._pageviews[0].height=vt);this._arrange()}this._renderemptyrow()}}},_hideemptyrow:function(){var i,u,r,t;if(this.showemptyrow&&this.table&&this.table[0].rows&&(i=this.table[0].rows[0],i))for(u=!1,r=0;r<i.cells.length;r++)t=n(i.cells[r]),t.css("display")=="none"||u||(t.width()==this.host.width()||t.text()==this.gridlocalization.emptydatastring)&&(t[0].checkbox=null,t[0].button=null,u=!0,t[0].innerHTML="")},_renderemptyrow:function(){var e,s,r,u,t,i,o,f;if(!this._loading&&this.dataview.records.length==0&&this.showemptyrow&&(e=!1,s=this.toTP("jqx-grid-cell"),this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0))for(r=this.table[0].rows[0],this.table[0].style.top="0px",u=0;u<r.cells.length;u++)t=n(r.cells[u]),t.css("display")=="none"||e||(t[0].checkbox=null,t[0].button=null,t[0].className=s,e=!0,t[0].innerHTML="",i=n("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'><\/span>"),i.text(this.gridlocalization.emptydatastring),t.append(i),o=0,this.oldhscroll||(o=parseInt(this.table[0].style.marginLeft),this.rtl&&(t.css("z-index",999),t.css("overflow","visible"))),i.css("left",-o-i.width()/2),i.css("top",this._gettableheight()/2-i.height()/2),n.jqx.browser.msie&&n.jqx.browser.version<8&&(i.css("margin-left","0px"),i.css("left",this.host.width()/2-i.width()/2)),f=Math.abs(parseInt(this.table[0].style.top)),isNaN(f)&&(f=0),n(r).height(this._gettableheight()+f),t.css("margin-left","0px"),t.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())),t.addClass(this.toThemeProperty("jqx-grid-empty-cell"))},_clearvisualrows:function(){var t=this.virtualsizeinfo.visiblerecords,i=this.hScrollInstance,r=i.value,u=parseInt(r),f=this.groupable&&this.groups.length>0,n;if(this.columns.records)for(n=0;n<t;n++)this._clearvisualrow(u,f,n,0,this.columns.records.length)},_iscellselected:function(n,t,i){var u=!1,f=0,e,r;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(f=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){e=this.getrowboundindexbyid(t.bounddata.uid);for(r in this.selectedcells)r==e+"_"+i&&(u=!0);return u}if(n&&t.bounddata!=null)if(this.selectionmode!="singlerow"){if(this.dataview.filters.length>0)if(this.virtualmode||t.bounddata.dataindex==undefined)for(r in this.selectedcells)r==f+t.bounddata.boundindex+"_"+i&&(u=!0);else for(r in this.selectedcells)r==f+t.bounddata.dataindex+"_"+i&&(u=!0);else for(r in this.selectedcells)if(r==f+t.bounddata.boundindex+"_"+i){u=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||t.bounddata.dataindex==undefined){for(r in this.selectedcells)if(r==f+t.bounddata.boundindex+"_"+i){u=!0;break}}else for(r in this.selectedcells)if(r==f+t.bounddata.dataindex+"_"+i){u=!0;break}}else for(r in this.selectedcells)if(r==f+t.bounddata.boundindex==this.selectedrowindex){u=!0;break}return u},_isrowselected:function(n,t){var i=!1,r=0,u;return(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable)?(u=this.getrowboundindexbyid(t.bounddata.uid),u==undefined||u==-1)?!1:(this.selectedrowindexes.indexOf(u)!=-1&&(i=!0),i||(i=u==this.selectedrowindex&&this.selectedrowindex!=-1),i):(n&&t.bounddata!=null&&(this.selectionmode!="singlerow"?this.dataview.filters.length>0?this.virtualmode||t.bounddata.dataindex==undefined?this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)!=-1&&(i=!0):this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)!=-1&&(i=!0):this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)!=-1&&(i=!0):this.dataview.filters.length>0?this.virtualmode||t.bounddata.dataindex==undefined?this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)!=-1&&(i=!0):this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)!=-1&&(i=!0):r+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i)},_rendervisualcell:function(t,i,r,u,f,e,o,s,h,c,l,a){var y=this.columns.records[c],p,v,g,nt,tt,k,b,d,w;if(y.hidden){p=s.cells[c];p.innerHTML="";return}if(cellvalue=this._getcellvalue(y,h),p=s.cells[c],v=i,this.selectionmode.indexOf("cell")!=-1&&(r=this.dataview.filters.length>0?this.selectedcells[h.bounddata.dataindex+"_"+y.datafield]?!0:!1:this.selectedcells[h.boundindex+"_"+y.datafield]?!0:!1,this.editcell&&this.editcell.row===h.boundindex&&this.editcell.column===y.datafield&&y.columntype!=="checkbox"&&(r=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(r=this._iscellselected(!0,h,y.datafield))),y.cellclassname!=""&&y.cellclassname&&(typeof y.cellclassname=="string"?v+=" "+y.cellclassname:(g=y.cellclassname(this.getboundindex(h),y.datafield,cellvalue,h.bounddata),g&&(v+=" "+g))),nt=this.showsortcolumnbackground&&this.sortcolumn&&y.displayfield==this.sortcolumn,nt&&(v+=" "+this.toTP("jqx-grid-cell-sort")),y.filter&&this.showfiltercolumnbackground&&(v+=" "+this.toTP("jqx-grid-cell-filter")),(y.pinned&&this.showpinnedcolumnbackground||y.grouped)&&(v+=e?" "+this.toTP("jqx-grid-cell-pinned"):" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&h.group==undefined&&(tt=h.visibleindex,tt>=this.altstart&&(this.altstart+tt)%(1+this.altstep)==0&&(v+=nt?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),y.filter&&this.showfiltercolumnbackground&&(v+=" "+this.toTP("jqx-grid-cell-filter-alt")),y.pinned&&this.showpinnedcolumnbackground&&(v+=" "+this.toTP("jqx-grid-cell-pinned-alt")))),c<=o?(e||this.rowdetails)&&(k=n(p),b=this.columns.records[c].width,p.style.width!=parseInt(b)+"px"&&k.width(b)):(e||this.rowdetails)&&this._hiddencolumns&&(k=n(p),b=this.columns.records[c].width,parseInt(p.style.width)!=b&&k.width(b)),d=!0,this.rowdetails&&u&&(f&&!e?v+=" "+this.toTP("jqx-grid-details-cell"):e&&(v+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(h.group==undefined&&c==s.cells.length-o-1){w=this.toThemeProperty("jqx-icon-arrow-down");f?(v+=" "+this.toTP("jqx-grid-group-expand-rtl"),v+=" "+w):(v+=" "+this.toTP("jqx-grid-group-collapse-rtl"),w=this.toThemeProperty("jqx-icon-arrow-left"),v+=" "+w);d=!1;p.title="";p.innerHTML="";p.className!=v&&(p.className=v);return}}else if(h.group==undefined&&c==o){w=this.toThemeProperty("jqx-icon-arrow-down");f?(v+=" "+this.toTP("jqx-grid-group-expand"),v+=" "+w):(v+=" "+this.toTP("jqx-grid-group-collapse"),w=this.toThemeProperty("jqx-icon-arrow-right"),v+=" "+w);d=!1;p.title="";p.innerHTML="";p.className!=v&&(p.className=v);return}if(r&&d&&c>=o&&(v+=" "+this.toTP("jqx-grid-cell-selected"),v+=" "+this.toTP("jqx-fill-state-pressed")),p.className!=v&&(p.className=v),h.group!=undefined){cellvalue="";p.title="";p.innerHTML="";return}t(this,y,h,cellvalue,p,a)},_rendercell:function(t,i,r,u,f,e){var c=u+"_"+i.visibleindex,s,v,p,l,w,o,h;if((i.columntype=="number"||i.cellsrenderer!=null)&&(c=r.uniqueid+"_"+i.visibleindex),i.columntype=="number"&&(u=r.visibleindex),t.editcell&&t.editrow==undefined)if(t.editmode=="selectedrow"&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(r)&&t._showcelleditor){t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,f,!1,!1):t._showcelleditor(t.editcell.row,i,f,t.editcell.init);return}}else if(t.editcell.row==t.getboundindex(r)&&t.editcell.column==i.datafield&&(t.editcell.element=f,t.editcell.editing&&t._showcelleditor)){t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init);return}if(s=t._defaultcellsrenderer(u,i),v=t._cellscache[c],v){if(i.columntype=="inline"){t._renderinlinecell(t,f,i,r,u);i.cellsrenderer!=null&&(l=i.cellsrenderer(t.getboundindex(r),i.datafield,u,s,i.getcolumnproperties(),r.bounddata),l!=undefined&&(f.innerHTML=l));return}if(i.columntype=="checkbox"){if(t.host.jqxCheckBox){u===""&&(u=null);p=f.innerHTML.toString().length==0;!f.checkbox||t.groupable||p?t._rendercheckboxcell(t,f,i,r,u):(f.checkboxrow=t.getboundindex(r),u==""&&(u=!1),u=="1"&&(u=!0),u=="0"&&(u=!1),u==1&&(u=!0),u==0&&(u=!1),u=="true"&&(u=!0),u=="false"&&(u=!1),u!=null||i.threestatecheckbox||(u=!1),i.checkboxcolumn&&(u=!1,t.dataview.filters.length>0&&!t.virtualmode&&r.bounddata.dataindex!=undefined?t.selectedrowindexes.indexOf(r.bounddata.dataindex)!=-1&&(u=!0):t.selectedrowindexes.indexOf(r.bounddata.boundindex)!=-1&&(u=!0)),t.disabled||(f.checkboxinstance?f.checkboxinstance._setState(u):f.checkbox.jqxCheckBox("_setState",u)));i.cellsrenderer!=null&&(l=i.cellsrenderer(t.getboundindex(r),i.datafield,u,s,i.getcolumnproperties(),r.bounddata),l!=undefined&&(f.innerHTML=l));return}}else if(i.columntype=="button"&&t.host.jqxButton){u==""&&(u=!1);i.cellsrenderer!=null&&(u=i.cellsrenderer(t.getboundindex(r),i.datafield,u,s,i.getcolumnproperties(),r.bounddata));f.innerHTML==""&&(f.buttonrow=t.getboundindex(r),f.button=null,t._renderbuttoncell(t,f,i,r,u));f.button&&!t.groupable?(f.buttonrow=t.getboundindex(r),f.button.val(u)):t._renderbuttoncell(t,f,i,r,u);return}if(o=v.element,i.cellsrenderer!=null||f.childNodes&&f.childNodes.length==0||t.groupable||t.rowdetails)f.innerHTML!=o&&(f.innerHTML=o);else if(f.innerHTML.indexOf("editor")>=0)f.innerHTML=o;else if(e){var b=o.indexOf(">"),k=o.indexOf("<\/"),a=o.substring(b+1,k),y=f.childNodes[0];a.indexOf(">")>=0?f.innerHTML=o:y.childNodes[0]?a!=y.childNodes[0].nodeValue&&(a.indexOf("&")>=0?f.innerHTML=o:y.childNodes[0].nodeValue=a):(w=document.createTextNode(a),y.appendChild(w))}else f.innerHTML!=o&&(f.innerHTML=o);t.enabletooltips&&i.enabletooltips&&(f.title=v.title);return}if(i.columntype=="checkbox"){t._rendercheckboxcell(t,f,i,r,u);t._cellscache[c]={element:"",title:u};t.enabletooltips&&i.enabletooltips&&(f.title=u);return}if(i.columntype=="button"){i.cellsrenderer!=null&&(u=i.cellsrenderer(t.getboundindex(r),i.datafield,u,s,i.getcolumnproperties(),r.bounddata));t._renderbuttoncell(t,f,i,r,u);t._cellscache[c]={element:"",title:u};t.enabletooltips&&i.enabletooltips&&(f.title=u);return}if(i.columntype=="number")u=r.visibleindex;else if(i.columntype=="inline"){t._renderinlinecell(t,f,i,r,u);t._cellscache[c]={element:"",title:u};t.enabletooltips&&i.enabletooltips&&(f.title=u);return}return o=null,o=i.cellsrenderer!=null?i.cellsrenderer(t.getboundindex(r),i.datafield,u,s,i.getcolumnproperties(),r.bounddata):s,o==null&&(o=s),h=u,t.enabletooltips&&i.enabletooltips&&(i.cellsformat!=""&&n.jqx.dataFormat&&(n.jqx.dataFormat.isDate(u)?h=n.jqx.dataFormat.formatdate(h,i.cellsformat,this.gridlocalization):n.jqx.dataFormat.isNumber(u)&&(h=n.jqx.dataFormat.formatnumber(h,i.cellsformat,this.gridlocalization))),f.title=h),t.WinJS?n(f).html(o):f.innerHTML=o,t._cellscache[c]={element:f.innerHTML,title:h},!0},_isIE10:function(){var i,t;return this._browser==undefined&&(i=n.jqx.utilities.getBrowser(),i.browser=="msie"&&parseInt(i.version)>9?this._browser=!0:(this._browser=!1,i.browser=="msie"&&(t="Browser CodeName: "+navigator.appCodeName+"",t+="Browser Name: "+navigator.appName+"",t+="Browser Version: "+navigator.appVersion+"",t+="Platform: "+navigator.platform+"",t+="User-agent header: "+navigator.userAgent+"",t.indexOf("Zune 4.7")!=-1&&(this._browser=!0)))),this._browser},_renderinlinecell:function(t,i){var r=n(i);i.innerHTML='<div style="position: absolute;"><\/div>'},_rendercheckboxcell:function(t,i,r,u,f){var e,o,s;t.host.jqxCheckBox&&(e=n(i),f===""&&(f=r.threestatecheckbox?null:!1),f=="1"&&(f=!0),f=="0"&&(f=!1),f==1&&(f=!0),f==0&&(f=!1),f=="true"&&(f=!0),f=="false"&&(f=!1),r.checkboxcolumn&&(f=!1,o=this.getboundindex(u),this.selectedrowindexes.indexOf(o)!=-1&&(f=!0)),e.find(".jqx-checkbox").length==0?(i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"><\/div>',n(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:r.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:f}),this.editable&&r.editable&&n(i.firstChild).jqxCheckBox({locked:!1}),r.checkboxcolumn&&n(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=n(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(u),s=n.data(i.firstChild,"jqxCheckBox").instance,s.updated=function(u,f,e){var h,c,l,o,s;if(t.disabled)for(f=e,h=t.table[0].rows.length,c=t._getcolumnindex(r.datafield),o=0;o<h;o++)s=t.table[0].rows[o].cells[c].firstChild,s&&n(s).jqxCheckBox({disabled:t.disabled});if(r.editable&&!t.disabled){if(h=t.table[0].rows.length,c=t._getcolumnindex(r.datafield),t.editrow==undefined){if(r.cellbeginedit&&(l=r.cellbeginedit(i.checkboxrow,r.datafield,r.columntype,!f),l==!1)){t.setcellvalue(i.checkboxrow,r.datafield,!f,!0);return}if(t.editmode!=="selectedrow")for(o=0;o<h;o++)s=t.table[0].rows[o].cells[c].firstChild,s&&n(s).jqxCheckBox("destroy");t.editcell&&t.editcell.validated==!1?t.setcellvalue(i.checkboxrow,r.datafield,!f,!0):t.editmode!=="selectedrow"||t.editcell==null?(t._raiseEvent(17,{rowindex:i.checkboxrow,datafield:r.datafield,value:e,columntype:r.columntype}),t.setcellvalue(i.checkboxrow,r.datafield,f,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,datafield:r.datafield,oldvalue:e,value:f,columntype:r.columntype})):t.setcellvalue(i.checkboxrow,r.datafield,f,!1,!1)}}else r.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(f?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))}):(i.checkboxrow=this.getboundindex(u),n(i.firstChild).jqxCheckBox("_setState",f)))},_renderbuttoncell:function(t,i,r,u,f){var e,o,s;t.host.jqxButton&&(e=n(i),f==""&&(f=!1),e.find(".jqx-button").length==0?(i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',n(i.firstChild).val(f),n(i.firstChild).attr("hideFocus","true"),n(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:r.width-4}),i.button=n(i.firstChild),i.buttonrow=t.getboundindex(u),o=this.isTouchDevice(),o?(s=n.jqx.mobile.getTouchEventName("touchend"),t.addHandler(n(i.firstChild),s,function(n){r.buttonclick&&r.buttonclick(i.buttonrow,n)})):t.addHandler(n(i.firstChild),"click",function(n){r.buttonclick&&r.buttonclick(i.buttonrow,n)})):(i.buttonrow=t.getboundindex(u),n(i.firstChild).val(f)))},_clearvisualrow:function(t,i,r,u,f){var l=this.toTP("jqx-grid-cell"),h,c,e,s,a,o;for(i&&(l=" "+this.toTP("jqx-grid-group-cell")),l+=" "+this.toTP("jqx-grid-cleared-cell"),h=this.table[0].rows,c=0;c<u+f;c++)h[r]&&(e=h[r].cells[c],e.className!=l&&(e.className=l),s=this.columns.records[c],this._horizontalvalue==t||s.pinned||this.oldhscroll==!0&&(a=-t,e.style.marginLeft=-t+"px"),o=s.width,o<s.minwidth&&(o=s.minwidth),o>s.maxwidth&&(o=s.maxwidth),parseInt(e.style.width)!=o&&(n(e)[0].style.width=o!="auto"?o+"px":o),e.title!=""&&(e.title=""),e.innerHTML!=""&&(e.innerHTML=""));h[r]&&parseInt(h[r].style.height)!=this.rowsheight&&(h[r].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(n){var t=this._findgroup(n);return t==null?!1:t.expanded},_findgroup:function(n){return this.expandedgroups[n]?this.expandedgroups[n]:null},_clearcaches:function(){this._columnsbydatafield=[];this._pagescache=[];this._pageviews=[];this._cellscache=[];this.heights=[];this.hiddens=[];this.hiddenboundrows=[];this.heightboundrows=[];this.detailboundrows=[];this.details=[];this.expandedgroups=[];this._rowdetailscache=[];this._rowdetailselementscache=[];n.jqx.dataFormat&&n.jqx.dataFormat.cleardatescache();this.tableheight=null},_getColumnText:function(t){if(this._columnsbydatafield==undefined&&(this._columnsbydatafield=[]),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,r=null;return n.each(this.columns.records,function(){if(this.datafield==t)return i=this.text,r=this,!1}),this._columnsbydatafield[t]={label:i,column:r},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(this.__columnsbydatafield==undefined&&(this.__columnsbydatafield=[]),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var r=t,i=null;return n.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return r=this.text,i=this,!1}),this.__columnsbydatafield[t]=i,this.__columnsbydatafield[t]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(t,i,r,u,f){var y,o,l,s,h,nt,tt,v,e,a,b;if(i!=undefined){var rt=n(i),k=0,c=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(y=0;y<=f;y++)o=n(i.cells[y]),o[0].innerHTML="",o[0].className="jqx-grid-details-cell";if(o=n(i.cells[k]),o[0].style.display=="none"){for(var p=i.cells[k],d=2,ut=k;p!=undefined&&p.style.display=="none"&&d<10;)p=i.cells[ut+d-1],d++;o=n(p)}if(this.rtl)for(l=u;l<f;l++)i.cells[l].innerHTML="",i.cells[l].className="jqx-grid-details-cell";if(o.css("width","100%"),rt.height(r.rowdetailsheight),o[0].className=t,s=this.getboundindex(r),h=s+"_",this._rowdetailscache[h]){if(nt=this._rowdetailscache[h],tt=nt.html,this.initrowdetails){if(this._rowdetailscache[h].element){var e=this._rowdetailscache[h].element,a=o.coord(),w=this.gridcontent.coord(),it=parseInt(a.top)-parseInt(w.top),g=parseInt(a.left)-parseInt(w.left);this.rtl&&(g=0);n(e).css("top",it);n(e).css("left",g);n(e).css("display","block");n(e).width(this.host.width()-c);this.layoutrowdetails&&this.layoutrowdetails(s,e,this.element,this.getrowdata(s))}}else o[0].innerHTML=tt;return}if(o[0].innerHTML="",this.enablerowdetailsindent||(c=0),v='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+c+'px;">'+r.rowdetails+"<\/div>",this.rtl&&(v='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+c+'px;">'+r.rowdetails+"<\/div>"),this._rowdetailscache[h]={id:i.id,html:v},this.initrowdetails){e=n(v)[0];n(this.gridcontent).prepend(n(e));n(e).css("position","absolute");n(e).width(this.host.width()-c);n(e).height(o.height());a=o.coord();n(e).css("z-index",2e3);this.isTouchDevice()&&n(e).css("z-index",99999);n(e).addClass(this.toThemeProperty("jqx-widget-content"));var a=o.coord(),w=this.gridcontent.coord(),it=parseInt(a.top)-parseInt(w.top),g=parseInt(a.left)-parseInt(w.left);n(e).css("top",it);n(e).css("left",g);this.content[0].scrollTop=0;this.content[0].scrollLeft=0;b=n(n(e).children()[0]);b[0].id!=""&&(b[0].id=b[0].id+s);this.initrowdetails(s,e,this.element,this.getrowdata(s));this._rowdetailscache[h].element=e;this._rowdetailselementscache[s]=e}else o[0].innerHTML=v}},_defaultcellsrenderer:function(t,i){i.cellsformat!=""&&n.jqx.dataFormat&&(n.jqx.dataFormat.isDate(t)?t=n.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):n.jqx.dataFormat.isNumber(t)&&(t=n.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var r="4px";if(this.rowsheight!=25&&(r=this.rowsheight/2-this._cellheight/2,r<0&&(r=4),r+="px"),this.enableellipsis){if(i.cellsalign=="center"||i.cellsalign=="middle")return'<div style="text-overflow: ellipsis; overflow: hidden; padding-bottom: 2px; text-align: center; margin-top: '+r+';">'+t+"<\/div>";if(i.cellsalign=="left")return'<div style="overflow: hidden; text-overflow: ellipsis; padding-bottom: 2px; text-align: left; margin-right: 2px; margin-left: 4px; margin-top: '+r+';">'+t+"<\/div>";if(i.cellsalign=="right")return'<div style="overflow: hidden;  text-overflow: ellipsis; padding-bottom: 2px; text-align: right; margin-right: 2px; margin-left: 4px; margin-top: '+r+';">'+t+"<\/div>"}return i.cellsalign=="center"||i.cellsalign=="middle"?'<div style="text-align: center; margin-top: '+r+';">'+t+"<\/div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+r+"; float: "+i.cellsalign+';">'+t+"<\/span>"},getcelltext:function(t,i){if(t==null||i==null)return null;var r=this.getcellvalue(t,i),u=this.getcolumn(i);return u&&u.cellsformat!=""&&n.jqx.dataFormat&&(n.jqx.dataFormat.isDate(r)?r=n.jqx.dataFormat.formatdate(r,u.cellsformat,this.gridlocalization):n.jqx.dataFormat.isNumber(r)&&(r=n.jqx.dataFormat.formatnumber(r,u.cellsformat,this.gridlocalization))),r},getcelltextbyid:function(t,i){if(t==null||i==null)return null;var r=this.getcellvaluebyid(t,i),u=this.getcolumn(i);return u&&u.cellsformat!=""&&n.jqx.dataFormat&&(n.jqx.dataFormat.isDate(r)?r=n.jqx.dataFormat.formatdate(r,u.cellsformat,this.gridlocalization):n.jqx.dataFormat.isNumber(r)&&(r=n.jqx.dataFormat.formatnumber(r,u.cellsformat,this.gridlocalization))),r},_getcellvalue:function(n,t){var i=null;return i=t.bounddata[n.datafield],n.displayfield!=null&&(i=t.bounddata[n.displayfield]),i==null&&(i=""),i},getcell:function(n,t){if(n==null||t==null)return null;var r=parseInt(n),i=n,u="";return isNaN(r)||(i=this.getrowdata(r)),i!=null&&(u=i[t]),this._getcellresult(u,n,t)},getrenderedcell:function(n,t){if(n==null||t==null)return null;var r=parseInt(n),i=n,u="";return isNaN(r)||(i=this.getrenderedrowdata(r)),i!=null&&(u=i[t]),this._getcellresult(u,n,t)},_getcellresult:function(n,t,i){var u=this.getcolumn(i);if(u==null||u==undefined)return null;var r=u.getcolumnproperties(),e=r.hidden,o=r.width,s=r.pinned,h=r.cellsalign,c=r.cellsformat,f=this.getrowheight(t);return f==!1?null:{value:n,row:t,column:i,datafield:i,width:o,height:f,hidden:e,pinned:s,align:h,format:c}},setcellvaluebyid:function(n,t,i,r,u){var f=this.getrowboundindexbyid(n);return this.setcellvalue(f,t,i,r,u)},getcellvaluebyid:function(n,t){var i=this.getrowboundindexbyid(n);return this.getcellvalue(i,t)},setcellvalue:function(t,i,r,u,f){var w,c,y,d,l,b,h,it,rt,s,p,g,nt,ft,ot,st,et;if(t==null||i==null)return!1;var v=parseInt(t),lt=v,e=t;if(isNaN(v)||(e=this.getrowdata(v)),w=!1,this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(w=!0),this.virtualmode&&(this._pagescache=[]),this.sortcache&&(this.sortcache={}),c="",y="",e!=null&&e[i]!==r){if(e[i]===null&&r==="")return;var h=this._getcolumnbydatafield(i),a="string",k=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(k&&(d="",n.each(k,function(){if(this.name==h.displayfield)return this.type&&(d=this.type),!1}),d&&(a=d),y=e[h.displayfield]),c=e[i],(!h.nullable||r!=null&&r!==""&&h.nullable&&r.label===undefined)&&(n.jqx.dataFormat.isNumber(c)||a=="number"||a=="float"||a=="int"||a=="decimal"&&a!="date"?(r=new Number(r),r=parseFloat(r),isNaN(r)&&(r=0)):(n.jqx.dataFormat.isDate(c)||a=="date")&&r!=""&&(l=r,l=new Date(l),l!="Invalid Date"&&l!=null?r=l:l=="Invalid Date"&&(l=new Date,r=l)),e[i]===r)){this._updating||u==!1||this._renderrows(this.virtualsizeinfo);return}if(e[i]=r,b=this.getrenderedrowdata(v,!0),!b)return;b[i]=r;r!=null&&r.label!=null&&(h=this._getcolumnbydatafield(i),e[h.displayfield]=r.label,b[h.displayfield]=r.label,e[i]=r.value,b[i]=r.value);w&&e.dataindex!=undefined&&(lt=e.dataindex,this.dataview.cachedrecords[e.dataindex][i]=r,r!=null&&r.label!=undefined&&(this.dataview.cachedrecords[e.dataindex][i]=r.value,this.dataview.cachedrecords[e.dataindex][h.displayfield]=r.label))}else return this._updating||u==!1||this._renderrows(this.virtualsizeinfo),!1;if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){if(it=v,w&&e.dataindex!=undefined&&(it=e.dataindex),rt=this.source._source._localdata()[it],this.source.suspendKO=!0,s=rt,s[i]&&s[i].subscribe)r!=null&&r.label!=null?(s[h.displayfield](r.label),s[i](r.value)):s[i](r);else{var k=this.source._source.datafields,ut=null;if(k&&n.each(k,function(){if(this.name==i)return ut=this.map,!1}),ut==null)r!=null&&r.label!=null?(s[i]=r.value,s[h.displayfield]=r.label):s[i]=r;else if(p=ut.split(this.source.mapChar),p.length>0){for(g=s,nt=0;nt<p.length-1;nt++)g=g[p[nt]];g[p[p.length-1]]=r}this.source._source._localdata.replace(rt,n.extend({},s))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating?(ft=this.getsortinformation(),this.sortcolumn==i&&(this.dataview.clearsortdata(),this.dataview.sortby(ft.sortcolumn,ft.sortdirection.ascending))):this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null),this._cellscache=[],this.source.updaterow&&(f==undefined||f==!0)){var tt=!1,o=this.that,at=function(n){!1==n&&(o.setcellvalue(t,i,c,!0,!1),c!=y&&o.setcellvalue(t,o.getcolumn(i).displayfield,y,!0,!1))};try{ot=this.getrowid(v);tt=this.source.updaterow(ot,e,at);tt==undefined&&(tt=!0)}catch(vt){tt=!1;o.setcellvalue(t,i,c,!0,!1);c!=y&&o.setcellvalue(t,o.getcolumn(i).displayfield,y,!0,!1);return}}if(st=this.vScrollInstance.value,this._updating&&u!=!0&&(u=!1),u==!0||u==undefined){var o=this.that,ht=function(){o.pageable&&o.updatepagerdetails&&(o.updatepagerdetails(),(o.autoheight||o.autorowheight)&&o._updatepageviews())},ct=this.groupable&&this.groups.length>0;w&&!ct?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),ht(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!ct?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),ht(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable?this.groups.indexOf(i)!=-1?(this._pagescache=[],this._cellscache=[],this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=[],this._cellscache=[],this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)):(this._pagescache=[],this._cellscache=[],this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}return this.vScrollInstance.setPosition(st),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow&&(et=this.getcolumn(i).filtertype,(et=="list"||et=="checkedlist")&&this._updatelistfilters(!0)),this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:r,value:r,oldvalue:c}),!0},getcellvalue:function(n,t){var r,i;return n==null||t==null?null:(r=parseInt(n),i=n,isNaN(r)||(i=this.getrowdata(r)),i!=null)?i[t]:null},getrows:function(){var e=this.dataview.records.length,u,r,t,i,f;if(this.virtualmode){for(t=[],i=0;i<this.dataview.records.length;i++)u=this.dataview.records[i],u&&t.push(u);return(this.dataview.records.length===undefined&&n.each(this.dataview.records,function(){var n=this;n&&t.push(n)}),r=0,this.pageable&&(r=this.dataview.pagenum*this.dataview.pagesize),t.length>this.source._source.totalrecords-r)?t.slice(0,this.source._source.totalrecords-r):t}if(this.dataview.sortdata){for(t=[],i=0;i<e;i++)f={},f=n.extend({},this.dataview.sortdata[i].value),t[i]=f;return t}return this.dataview.records},getrowboundindexbyid:function(n){var r=this.dataview.recordsbyid["id"+n],i,t;if(r&&r.boundindex)return this.getboundindex(r);for(i=this.getboundrows(),t=0;t<i.length;t++)if(i[t]&&i[t].uid==n)return t;return-1},getrowdatabyid:function(n){var t=this.dataview.recordsbyid["id"+n],i;return t?t:(i=this.getrowboundindexbyid(n),this.getboundrows()[i])},getrowdata:function(n){var t;return n==undefined&&(n=0),this.virtualmode?this.dataview.records[n]:this.getboundrows()[n]},getrenderedrowdata:function(n,t){var i,r;return(n==undefined&&(n=0),this.virtualmode)?(i=this.getrowvisibleindex(n),r=this.dataview.loadedrecords[i],r):(i=this.getrowvisibleindex(n),i>=0)?(this.groupable&&this.groups.length>0?r=this.dataview.loadedrecords[i]:(r=this.dataview.loadedrecords[i],this.pageable&&(t==undefined||t==!1)&&(r=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+n])),r):null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(n){for(var i=this.getdisplayrows(),t=0;t<i.length;t++)if(i[t].dataindex!==undefined){if(i[t].dataindex===n)return i[t].visibleindex}else if(i[t].boundindex===n)return i[t].visibleindex;return-1},getboundindex:function(n){var t=n.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&n.bounddata&&(t=this.getrowboundindexbyid(n.bounddata.uid)),this.dataview.filters.length>0&&(n.bounddata?n.bounddata.dataindex!==undefined&&(t=n.bounddata.dataindex):n.dataindex!==undefined&&(t=n.dataindex)),t},getrowboundindex:function(n){var t=this.getdisplayrows()[n];return t?t.dataindex!==undefined?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(n){var t=this.getvisiblerows();return t?t[n]:null},getloadedrowdata:function(n){var t=this.getloadedrows();return t?t[n]:null},getvisiblerows:function(){var t,n,i;if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(t=[],n=0;n<this.dataview.pagesize;n++){if(i=this.dataview.loadedrecords[n+this.dataview.pagesize*this.dataview.pagenum],i==undefined)break;t.push(i)}return t}if(this._startboundindex!=undefined&&this._endboundindex!=undefined){for(t=[],n=this._startvisibleindex;n<=this._endvisibleindex;n++){if(i=this.dataview.loadedrecords[n],i==undefined)break;t.push(i)}return t}return this.dataview.loadedrecords},getrowid:function(n){var r,i,t;if(n==undefined&&(n=0),this.virtualmode){if(i=this.getrowvisibleindex(n),t=this.dataview.loadedrecords[i],t)return t.uid}else{if(t=null,r=this.dataview.filters.length>0,n>=0&&n<this.dataview.bounditems.length&&!r&&(this.groupable&&this.groups.length>0?(i=this.getrowvisibleindex(n),t=this.dataview.loadedrecords[i]):(i=this.getrowvisibleindex(n),t=this.dataview.loadedrecords[i]),t))return t.uid;if(this.dataview.filters.length>0)return(t=this.getboundrows()[n],t&&t.uid!=null)?t.uid:null}return null},_updateGridData:function(n){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0);t?(this.dataview.refresh(),n=="updaterow"?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=[],this._pagescache=[],this._renderrows(this.virtualsizeinfo));this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,r){var f,u,e,o;if(t!=undefined&&i!=undefined){if(f=this.that,u=!1,f._datachanged=!0,e=function(t,i,u){var f,e;if(t._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+t.loadingerrormessage);if(f=!1,n.isArray(i)?(n.each(i,function(n){f=t.dataview.updaterow(this,u[n],!1)}),t.dataview.refresh()):f=t.dataview.updaterow(i,u),e=t.vScrollInstance.value,(r==undefined||r==!0)&&(t._updating==undefined||t._updating==!1)&&t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var o=t.dataview.recordsbyid["id"+i],s=t.dataview.records.indexOf(o),h=t.source._source._localdata()[s];t.source.suspendKO=!0;t.source._source._localdata.replace(h,n.extend({},o));t.source.suspendKO=!1}return t.vScrollInstance.setPosition(e),f},this.source.updaterow){o=function(n){n==!0||n==undefined?e(f,t,i):u=!1};try{u=this.source.updaterow(t,i,o);u==undefined&&(u=!0)}catch(s){u=!1}}else u=e(f,t,i);return u}return!1},deleterow:function(t,i){var f,o;if(t!=undefined){this._datachanged=!0;var r=!1,e=this.that,u=this.getrowboundindexbyid(t);if(u!=undefined&&(this.selectedrowindexes.indexOf(u)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(u),1),this.selectedrowindex==u&&(this.selectedrowindex=-1)),f=function(t,r){var f,u;if(t._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+t.loadingerrormessage);return u=!1,f=t.vScrollInstance.value,n.isArray(r)?(n.each(r,function(){u=t.dataview.deleterow(this,!1)}),t.dataview.refresh()):u=t.dataview.deleterow(r),(t._updating==undefined||t._updating==!1)&&(i==undefined||i==!0)&&(t._render(!0,!0,!1,!1),t.vScrollBar.css("visibility")!="visible"&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1),t.dataview.sortby&&t.dataview.clearsortdata(),t.vScrollInstance.setPosition(f),u},this.source.deleterow){o=function(n){(n==!0||n==undefined)&&f(e,t)};try{this.source.deleterow(t,o);r==undefined&&(r=!0)}catch(s){r=!1}}else r=f(e,t);return r}return!1},addrow:function(t,i,r){var u,f,h,e,o,s,c;if(i!=undefined){if(this._datachanged=!0,r==undefined&&(r="last"),u=!1,f=this.that,t==null)if(h=this.dataview.filters&&this.dataview.filters.length>0,e=h?this.dataview.cachedrecords.length:this.dataview.totalrecords,n.isArray(i))o=[],n.each(i,function(n){var t=f.dataview.getid(f.dataview.source.id,i[n],e+n);o.push(t)}),t=o;else for(t=this.dataview.getid(this.dataview.source.id,i,e);null!=this.dataview.recordsbyid["id"+t];)t++;if(s=function(t,i,r,u){if(t._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+t.loadingerrormessage);var e=t.vScrollInstance.value,f=!1;return n.isArray(r)?(n.each(r,function(n){this.dataindex!=undefined&&delete this.dataindex;var r=null;i!=null&&i[n]!=null&&(r=i[n]);f=t.dataview.addrow(r,this,u,!1)}),t.dataview.refresh()):(r!=undefined&&r.dataindex!=undefined&&delete r.dataindex,f=t.dataview.addrow(i,r,u)),(t._updating==undefined||t._updating==!1)&&(t._render(!0,!0,!1,!1),t.invalidate()),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(r),t.source.suspendKO=!1),t.scrollmode!="deferred"?t.vScrollInstance.setPosition(e):t.vScrollInstance.setPosition(0),f},this.source.addrow){c=function(n,u){(n==!0||n==undefined)&&(u!=undefined&&(t=u),s(f,t,i,r))};try{u=this.source.addrow(t,i,r,c);u==undefined&&(u=!0)}catch(l){u=!1}if(u==!1)return!1}else s(this,t,i,r);return u}return!1},_findvisiblerow:function(n,t){var r,u,i;for(n==undefined&&(n=parseInt(this.vScrollInstance.value)),r=0,(t==undefined||t==null)&&(t=this.rows.records),u=t.length;r<=u;){if(mid=parseInt((r+u)/2),i=t[mid],i==undefined)break;if(i.top>n&&i.top+i.height>n)u=mid-1;else if(i.top<n&&i.top+i.height<n)r=mid+1;else return mid}return-1},_updatecellwidths:function(){var h=this.virtualsizeinfo,n,l,a,f,e,v,t,r;if(h&&(n=this.that,n.gridcontent!=undefined)){n.table==undefined&&(n.table=n.gridcontent.find("#contenttable"+n.element.id));var y=n.groupable&&n.groups.length>0,c=0,i=h.visiblerecords;if(n.pageable&&(n.autoheight||n.autorowheight)&&(i=n.dataview.pagesize,n.groupable&&(n.dataview.updateview(),i=n.dataview.rows.length)),n.groupable||n.pageable||!(n.autoheight||n.autorowheight)||(i=n.dataview.totalrecords),n.rowdetails&&(i+=n.dataview.pagesize),n.columns.records){for(l=n.columns.records.length,a=n.table[0].rows,f=0;f<i;f++){if(e=a[f],!e)break;for(v=e.cells,t=0,r=0;r<l;r++){var o=n.columns.records[r],s=o.width,u=v[r];parseInt(u.style.left)!=t&&(u.style.left=t+"px");parseInt(u.style.width)!=s&&(u.style.width=s+"px");o.hidden&&o.hideable?u.style.display="none":t+=parseFloat(s)}c==0&&(n.table.width(parseFloat(t)+2),c=t)}n.showaggregates&&n._updateaggregates&&n._updateaggregates();n.showfilterrow&&n.filterable&&n._updatefilterrowui&&n._updatefilterrowui();n._updatescrollbarsafterrowsprerender();y&&n._renderrows(n.virtualsizeinfo)}}},_updatescrollbarsafterrowsprerender:function(){var n=this.that,u=n.hScrollBar[0].style.visibility,t=0,f=n.vScrollBar[0].style.visibility,i,r;f=="visible"&&(t=n.scrollbarsize+3);n.scrollbarautoshow&&(t=0);i=n.element.style.width;i=i.toString().indexOf("%")>=0?n.host.width():parseInt(i);parseInt(n.table[0].style.width)-2>i-t?(u!="visible"&&(n.autowidth||(n.hScrollBar[0].style.visibility="visible"),n._arrange()),f=="visible"?n.scrollmode=="deferred"||n.virtualmode?n._updatevscrollbarmax():n.virtualsizeinfo&&(r=n.virtualsizeinfo.virtualheight-n._gettableheight(),!isNaN(r)&&r>0&&(u!="hidden"?n.vScrollBar.jqxScrollBar("max",r+n.scrollbarsize+4):n.vScrollBar.jqxScrollBar("max",r))):t=-2,n.hScrollBar.jqxScrollBar("max",t+n.table.width()-n.host.width())):u!="hidden"&&(n.hScrollBar.css("visibility","hidden"),n._arrange());n._renderhorizontalscroll()},_prerenderrows:function(t){var i=this.that,k,y,p,f,a,w,s,d,g,c,v,nt,o,h,e,r,u,l;if(i.prerenderrequired==!0){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),i.gridcontent==undefined)return;if(i.gridcontent.find("#contenttable"+i.element.id).remove(),i.table!=null&&(i.table.remove(),i.table=null),i.table=n('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;" height="100%"><\/div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table),k=i.groupable&&i.groups.length>0,y=0,i.table[0].rows=[],p=i.toTP("jqx-grid-cell"),k&&(p=" "+i.toTP("jqx-grid-group-cell")),f=t.visiblerecords,i.pageable&&(i.autoheight||i.autorowheight)&&(f=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),f=i.dataview.rows.length,f<i.dataview.pagesize&&(f=i.dataview.pagesize))),!i.pageable&&(i.autoheight||i.autorowheight)&&(f=i.dataview.totalrecords),i.groupable&&(i.autoheight||i.autorowheight)&&!i.pageable&&(f=i.dataview.rows.length),i.rowdetails&&(f+=i.autoheight||i.autorowheight?i.dataview.pagesize:f),!i.columns.records)return;a=i.columns.records.length;n.jqx.browser.msie&&n.jqx.browser.version>8&&i.table.css("opacity","0.99");n.jqx.browser.mozilla;navigator.userAgent.indexOf("Safari")!=-1&&i.table.css("opacity","0.99");w=n.jqx.browser.msie&&n.jqx.browser.version<8;w&&i.host.attr("hideFocus","true");s=i.tableZIndex;f*a>s&&(s=f*a);var tt=i.dataview.records.length==0,it=i.isTouchDevice(),b="";for(i._hiddencolumns=!1,c=0;c<f;c++){for(h='<div role="row" style="position: relative; height='+i.rowsheight+'px;" id="row'+c+i.element.id+'">',w&&(h='<div role="row" style="position: relative; z-index: '+s+"; height:"+i.rowsheight+'px;" id="row'+c+i.element.id+'">',s--),o=0,e=0;e<a;e++)r=i.columns.records[e],u=r.width,u<r.minwidth&&(u=r.minwidth),u>r.maxwidth&&(u=r.maxwidth),i.rtl?(d=s-a+2*e,l='<div role="gridcell" style="left: '+o+"px; z-index: "+d+"; width:"+u+"px;",s--):l='<div role="gridcell" style="left: '+o+"px; z-index: "+s--+"; width:"+u+"px;",r.hidden&&r.hideable?(l+="display: none;",i._hiddencolumns=!0,s++):o+=u,l+='" class="'+p+'"><\/div>',h+=l;y==0&&(i.table.width(parseInt(o)+2),y=o);h+="<\/div>";b+=h}for(i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(b)}):i.table[0].innerHTML=b,i.table[0].rows=[],g=i.table.children(),c=0;c<f;c++)for(v=g[c],i.table[0].rows.push(v),v.cells=[],nt=n(v).children(),e=0;e<a;e++)v.cells.push(nt[e]);if(f==0){for(o=0,i.showemptyrow&&(h=n('<div style="position: relative;" id="row0'+i.element.id+'"><\/div>'),i.table.append(h),h.height(i.rowsheight),i.table[0].rows[0]=h[0],i.table[0].rows[0].cells=[]),e=0;e<a;e++)r=i.columns.records[e],u=r.width,i.showemptyrow&&(l=n('<div style="position: absolute; height: 100%; left: '+o+"px; z-index: "+s--+"; width:"+u+'px;" class="'+p+'"><\/div>'),l.height(i.rowsheight),h.append(l),i.table[0].rows[0].cells[e]=l[0]),u<r.minwidth&&(u=r.minwidth),u>r.maxwidth&&(u=r.maxwidth),r.hidden&&r.hideable||(o+=u);i.table.width(parseInt(o)+2);y=o}i._updatescrollbarsafterrowsprerender();i.rendered&&i.rendered("rows");i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var i=null,t=null,c,l,a,y,p,u,o,ut,r,h,g,nt,tt,it,rt,w;this.tableheight=null;var n=this.that,b=!1,v=!1;if(n.width!=null&&n.width.toString().indexOf("px")!=-1?i=n.width:n.width==undefined||isNaN(n.width)||(i=n.width),n.width!=null&&n.width.toString().indexOf("%")!=-1&&(i=n.width,b=!0),n.scrollbarautoshow&&(n.vScrollBar[0].style.display="none",n.hScrollBar[0].style.display="none",n.vScrollBar[0].style.zIndex=n.tableZIndex+n.headerZIndex,n.hScrollBar[0].style.zIndex=n.tableZIndex+n.headerZIndex),n.autowidth){for(c=0,l=0;l<n.columns.records.length;l++)a=n.columns.records[l].width,a=="auto"?(a=n._measureElementWidth(n.columns.records[l].text),c+=a):c+=a;n.vScrollBar.css("visibility")!="hidden"&&(c+=n.scrollbarsize+4);i=c;n.width=i}n.height!=null&&n.height.toString().indexOf("px")!=-1?t=n.height:n.height==undefined||isNaN(n.height)||(t=n.height);n.height!=null&&n.height.toString().indexOf("%")!=-1&&(t=n.height,v=!0);y=function(){var t=0,i=n.showheader?n.columnsheader!=null?n.columnsheader.height()+2:0:0;return t+=i,n.pageable&&(t+=n.pagerheight),n._groupsheader()&&(t+=n.groupsheaderheight),n.showtoolbar&&(t+=n.toolbarheight),n.showstatusbar&&(t+=n.statusbarheight),n.hScrollBar[0].style.visibility=="visible"&&(t+=20),t};n.autoheight&&n.virtualsizeinfo?n.pageable&&n.gotopage?(p=0,t=p+(n._pageviews[0]?n._pageviews[0].height:0),t+=y(),n.showemptyrow&&n.dataview.totalrecords==0&&(t+=n.rowsheight)):(p=n.host.height()-n._gettableheight(),n._pageviews.length>0?(t=p+n._pageviews[n._pageviews.length-1].height+n._pageviews[n._pageviews.length-1].top,n.vScrollBar[0].style.visibility="hidden"):(t=y(),n.showemptyrow&&(t+=n.rowsheight))):n.autoheight&&(t=n.dataview.totalrecords*n.rowsheight,n._loading&&(t=250,n.dataloadelement.height(t)),t+=y(),t>1e4&&(t=1e4));i!=null?(i=parseInt(i),b?n.element.style.width=n.width:n.element.style.width!=parseInt(n.width)+"px"&&(n.element.style.width=parseInt(n.width)+"px"),b&&(i=n.host.width(),i<=2&&(i=600,n.host.width(i)),n._oldWidth||(n._oldWidth=i))):n.host.width(250);t!=null?(v||(t=parseInt(t)),v?n.element.style.height=n.height:n.element.style.height!=parseInt(t)+"px"&&(n.element.style.height=parseInt(t)+"px"),v&&!n.autoheight&&(t=n.host.height(),t==0&&(t=400,n.host.height(t)),n._oldHeight||(n._oldHeight=t))):n.host.height(250);n.autoheight&&(n.tableheight=null,n._gettableheight());u=0;n.showtoolbar?(n.toolbar.width(i),n.toolbar.height(n.toolbarheight-1),n.toolbar.css("top",0),u+=n.toolbarheight,t-=parseInt(n.toolbarheight)):n.toolbar[0].style.height="0px";n.showstatusbar?(n.showaggregates?n.statusbar.width(n.table?Math.max(i,n.table.width()):i):n.statusbar.width(i),n.statusbar.height(n.statusbarheight)):n.statusbar[0].style.height="0px";n._groupsheader()?(n.groupsheader.width(i),n.groupsheader.height(n.groupsheaderheight),n.groupsheader.css("top",u),o=n.groupsheader.height()+1,u+=o,t>o&&(t-=parseInt(o))):(n.groupsheader[0].style.width!=i+"px"&&(n.groupsheader[0].style.width=parseInt(i)+"px"),n.groupsheader[0].style.height="0px",n.groupsheader[0].style.top!=u+"px"&&n.groupsheader.css("top",u),o=n.showgroupsheader&&n.groupable?n.groupsheaderheight:0,ut=u+o+"px",n.content[0].style.top!=ut&&n.content.css("top",u+n.groupsheaderheight));r=n.scrollbarsize;isNaN(r)&&(r=parseInt(r),r=isNaN(r)?"17px":r+"px");r=parseInt(r);var f=4,e=2,s=0;n.vScrollBar[0].style.visibility=="visible"&&(s=r+f);n.hScrollBar[0].style.visibility=="visible"&&(e=r+f+2);h=0;n.pageable&&(h=n.pagerheight,e+=n.pagerheight);n.showstatusbar&&(e+=n.statusbarheight,h+=n.statusbarheight);n.hScrollBar[0].style.height!=r+"px"&&(n.hScrollBar[0].style.height=parseInt(r)+"px");(n.hScrollBar[0].style.top!=u+t-f-r-h+"px"||n.hScrollBar[0].style.left!="0px")&&n.hScrollBar.css({top:u+t-f-r-h+"px",left:"0px"});var ft=n.hScrollBar[0].style.width,k=!1,d=!1;s==0?ft!=i-2+"px"&&(n.hScrollBar.width(i-2),k=!0):ft!=i-r-f+"px"&&(n.hScrollBar.width(i-r-f+"px"),k=!0);n.autoheight||(n.vScrollBar[0].style.width!=r+"px"&&(n.vScrollBar.width(r),d=!0),n.vScrollBar[0].style.height!=parseInt(t)-e+"px"&&(n.vScrollBar.height(parseInt(t)-e+"px"),d=!0),(n.vScrollBar[0].style.left!=parseInt(i)-parseInt(r)-f+"px"||n.vScrollBar[0].style.top!=u+"px")&&n.vScrollBar.css({left:parseInt(i)-parseInt(r)-f+"px",top:u}));n.rtl&&(n.vScrollBar.css({left:"0px",top:u}),n.vScrollBar.css("visibility")!="hidden"&&n.hScrollBar.css({left:r+2}));g=n.vScrollInstance;g.disabled=n.disabled;n.autoheight||d&&g.refresh();nt=n.hScrollInstance;nt.disabled=n.disabled;k&&nt.refresh();n.autowidth&&(n.hScrollBar[0].style.visibility="hidden");n.statusbarheight=parseInt(n.statusbarheight);n.toolbarheight=parseInt(n.toolbarheight);tt=function(n){n.vScrollBar[0].style.visibility=="visible"&&n.hScrollBar[0].style.visibility=="visible"?(n.bottomRight[0].style.visibility="visible",n.bottomRight.css({left:1+parseInt(n.vScrollBar.css("left")),top:parseInt(n.hScrollBar.css("top"))}),n.rtl&&n.bottomRight.css("left","0px"),n.bottomRight.width(parseInt(r)+3),n.bottomRight.height(parseInt(r)+4),n.showaggregates&&(n.bottomRight.css("z-index",99),n.bottomRight.height(parseInt(r)+4+n.statusbarheight),n.bottomRight.css({top:parseInt(n.hScrollBar.css("top"))-n.statusbarheight}))):n.bottomRight[0].style.visibility="hidden"};tt(this);n.content[0].style.width!=i-s+"px"&&n.content.width(i-s);n.content[0].style.height!=t-e+3+"px"&&n.content.height(t-e+3);n.scrollbarautoshow&&(n.content[0].style.width!=i+"px"&&n.content.width(i),n.content[0].style.height!=t+"px"&&n.content.height(t));n.content[0].style.top!=u+"px"&&n.content.css("top",u);n.rtl&&(n.content.css("left",s),n.scrollbarautoshow&&n.content.css("left","0px"),n.table&&(it=n.table.width(),it<i-s&&n.content.css("left",i-it)));n.showstatusbar&&(n.statusbar.css("top",u+t-n.statusbarheight-(n.pageable?n.pagerheight:0)),n.showaggregates&&(n.hScrollBar.css("visibility")=="visible"&&(n.hScrollBar.css({top:u+t-f-r-h+n.statusbarheight+"px"}),n.statusbar.css("top",1+u+t-r-5-n.statusbarheight-(n.pageable?n.pagerheight:0))),tt(this)),n.rtl&&(n.hScrollBar.css("visibility")!="visible"?n.statusbar.css("left",n.content.css("left")):n.statusbar.css("left","0px")));n.pageable?(n.pager.width(i),n.pager.height(n.pagerheight),n.pager.css("top",u+t-n.pagerheight-1)):n.pager[0].style.height="0px";n.table!=null&&(rt=-2,n.vScrollBar[0].style.visibility=="visible"&&(rt=n.scrollbarsize+3),n.hScrollBar[0].style.visibility=="visible"&&(w=rt+n.table.width()-n.host.width(),w>=0&&n.hScrollBar.jqxScrollBar("max",w),n.hScrollBar[0].style.visibility=="visible"&&w==0&&(n.hScrollBar[0].style.visibility="hidden",n._arrange())));i!=parseInt(n.dataloadelement[0].style.width)&&(n.dataloadelement[0].style.width=n.element.style.width);t!=parseInt(n.dataloadelement[0].style.height)&&(n.dataloadelement[0].style.height=n.element.style.height);n._hostwidth=i},destroy:function(){var s,u,t,h,i;if(delete n.jqx.dataFormat.datescache,delete this.gridlocalization,n.jqx.utilities.resize(this.host,null,!0),this.table&&this.table[0]){for(s=this.table[0].rows.length,i=0;i<s;i++){var r=this.table[0].rows[i],c=r.cells,l=c.length;for(u=0;u<l;u++)n(r.cells[u]).remove(),r.cells[u]=null,delete r.cells[u];r.cells=null;r.cells&&delete r.cells;n(this.table[0].rows[i]).remove();this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(a){}this.table.remove();delete this.table}if(this.columns&&this.columns.records){for(i=0;i<this.columns.records.length;i++)t=this.columns.records[i],this._removecolumnhandlers(this.columns.records[i]),t.element&&(n(t.element).remove(),n(t.sortasc).remove(),n(t.sortdesc).remove(),n(t.filtericon).remove(),n(t.menu).remove(),t.element=null,t.uielement=null,t.sortasc=null,t.sortdesc=null,t.filtericon=null,t.menu=null,delete t.element,delete t.uielement,delete t.sortasc,delete t.sortdesc,delete t.filtericon,delete t.menu,delete this.columnsrow[0].cells[i]);try{delete this.columnsrow[0].cells}catch(a){}delete this.columnsrow}if(n.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(n(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(n(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(n(document),"selectstart."+this.element.id),this.removeHandler(n(document),"mousedown.resize"+this.element.id),this.removeHandler(n(document),"mouseup.resize"+this.element.id),this.removeHandler(n(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var f=n.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,e=n.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,o=n.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(n(document),f);this.removeHandler(n(document),e);this.removeHandler(n(document),o)}if(this.removeHandler(n(document),"mousedown.reorder"+this.element.id),this.removeHandler(n(document),"mouseup.reorder"+this.element.id),this.removeHandler(n(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){var f=n.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,e=n.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,o=n.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(n(document),f);this.removeHandler(n(document),e);this.removeHandler(n(document),o)}if(this.removeHandler(n(window),"resize."+this.element.id),this.groupable){var f="mousemove.grouping"+this.element.id,e="mousedown.grouping"+this.element.id,o="mouseup.grouping"+this.element.id;this.removeHandler(n(document),f);this.removeHandler(n(document),e);this.removeHandler(n(document),o)}if(this.columnsreorder){var f="mousemove.reorder"+this.element.id,e="mousedown.reorder"+this.element.id,o="mouseup.reorder"+this.element.id;this.removeHandler(n(document),f);this.removeHandler(n(document),e);this.removeHandler(n(document),o);delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader.remove(),delete this.columnsheader,this.selectionarea.remove(),delete this.selectionarea,this.menuitemsarray&&this.menuitemsarray.length)for(h=this.menuitemsarray.length,i=0;i<h;i++)n(this.menuitemsarray[i]).remove();delete this.menuitemsarray;this.dataview._clearcaches();this.content.removeClass();this.content.remove();this.content=null;delete this.content;this.vScrollBar=null;this.hScrollBar=null;delete this.hScrollBar;delete this.hScrollBar;this.gridcontent.remove();delete this.gridcontent;this.gridmenu&&(this.gridmenu=null,delete this.gridmenu);delete this._mousemovefunc;delete this._mousewheelfunc;this.dataview.destroy();delete this.dataview;this.bottomRight.remove();delete this.bottomRight;this.wrapper.remove();delete this.wrapper;this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv);this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput);this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto);this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows);this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton);this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton);this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons);this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails);this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput);this.pager.remove();delete this.pager;this.groupsheader.remove();delete this.groupsheader;this.dataloadelement.remove();delete this.dataloadelement;this.toolbar.remove();delete this.toolbar;this.statusbar.remove();delete this.statusbar;this.host.removeData();this.host.removeClass();this.host.remove();this.host=null;delete this.host;delete this.element;delete this.set;delete this.get;delete this.that;delete this.call},_initializeColumns:function(){var u=this.source?this.source.datafields:null,c,e,l,o,i,h;if(u==null&&this.source&&this.source._source&&(u=this.source._source.datafields),c=u?u.length>0:!1,this.autogeneratecolumns){if(e=[],u)n.each(u,function(){var n={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};e.push(n)});else if(this.source.records.length>0){l=this.source.records[0];for(obj in l)obj!="uid"&&(i={width:100,datafield:obj,text:obj},e.push(i))}this.columns=e}if(this.columns&&this.columns.records)for(o=0;o<this.columns.records.length;o++)this._removecolumnhandlers(this.columns.records[o]);var r=this.that,f=new n.jqx.collection(this.element),s=0;this._haspinned=!1;this._columns?this.columns=this._columns:this._columns=this.columns;this.groupable&&n.each(this.groups,function(){var n=new t(r,this);n.visibleindex=s++;n.width=r.groupindentwidth;f.add(n);n.grouped=!0;n.filterable=!1;n.sortable=!1;n.editable=!1;n.resizable=!1;n.draggable=!1});this.rowdetails&&this.showrowdetailscolumn&&(i=new t(r,this),i.visibleindex=s++,i.width=r.groupindentwidth,i.pinned=!0,i.editable=!1,i.filterable=!1,i.draggable=!1,i.groupable=!1,i.resizable=!1,f.add(i),r._haspinned=!0);this.selectionmode=="checkbox"&&(i=new t(r,null),i.visibleindex=s++,i.width=r.groupindentwidth,i.checkboxcolumn=!0,i.editable=!1,i.columntype="checkbox",i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.datafield="_checkboxcolumn",f.add(i));h=[];n.each(this.columns,function(n){if(r.columns[n]!=undefined){var i=new t(r,this);if(i.visibleindex=s++,this.dataField!=undefined&&(this.datafield=this.dataField),this.pinned&&(r._haspinned=!0),this.datafield==null)r.source&&r.source._source&&r.source._source.datatype=="array"&&(c||(r.source._source.datafields?r.source._source.datafields.push({name:n.toString()}):(r.source._source.datafields=[],r.source._source.datafields.push({name:n.toString()}))),this.datafield=n.toString(),this.displayfield=n.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else if(h[this.datafield])throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");else h[this.datafield]=!0;f.add(i)}});this.rtl&&f.records.reverse();this.columns=f},_initializeRows:function(){var t=new n.jqx.collection(this.element);this.rows&&this.rows.clear();this.rows=t},_raiseEvent:function(t,i){var u,r,f;if(i==undefined&&(i={owner:null}),this._trigger!==!1)return u=this.events[t],this._camelCase||(u=u.toLowerCase()),args=i,args.owner=this,r=new n.Event(u),r.owner=this,r.args=args,f=this.host.trigger(r),i=r.args,f},wheel:function(n,t){var r,i;if(t.autoheight&&t.hScrollBar.css("visibility")!="visible")return n.returnValue=!0,!0;if(r=0,n||(n=window.event),n.originalEvent&&n.originalEvent.wheelDelta&&(n.wheelDelta=n.originalEvent.wheelDelta),n.wheelDelta?r=n.wheelDelta/120:n.detail&&(r=-n.detail/3),r)return i=t._handleDelta(r),i&&(n.preventDefault&&n.preventDefault(),n.originalEvent!=null&&(n.originalEvent.mouseHandled=!0),n.stopPropagation!=undefined&&n.stopPropagation()),i?(i=!1,n.returnValue=i,i):!1;n.preventDefault&&n.preventDefault();n.returnValue=!1},_handleDelta:function(n){var t,i;if(this.vScrollBar.css("visibility")!="hidden"){if(t=this.vScrollInstance.value,n<0?this.scrollDown():this.scrollUp(),i=this.vScrollInstance.value,t!=i)return!0}else if(this.hScrollBar.css("visibility")!="hidden"&&(t=this.hScrollInstance.value,n>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max),i=this.hScrollInstance.value,t!=i))return!0;return!1},scrollDown:function(){if(this.vScrollBar.css("visibility")!="hidden"){var n=this.vScrollInstance;n.value+this.rowsheight<=n.max?n.setPosition(parseInt(n.value)+this.rowsheight):n.setPosition(n.max)}},scrollUp:function(){if(this.vScrollBar.css("visibility")!="hidden"){var n=this.vScrollInstance;n.value-this.rowsheight>=n.min?n.setPosition(parseInt(n.value)-this.rowsheight):n.setPosition(n.min)}},_removeHandlers:function(){var t=this.that,i;t.removeHandler(t.vScrollBar,"valueChanged");t.removeHandler(t.hScrollBar,"valueChanged");t.vScrollInstance.valueChanged=null;t.hScrollInstance.valueChanged=null;i="mousedown.jqxgrid";t.isTouchDevice()&&(i=n.jqx.mobile.getTouchEventName("touchend"));t.removeHandler(t.host,"dblclick.jqxgrid");t.removeHandler(t.host,i);t.removeHandler(t.content,"mousemove",t._mousemovefunc);t.removeHandler(t.host,"mouseleave.jqxgrid");t.removeHandler(t.content,"mouseenter");t.removeHandler(t.content,"mouseleave");t.removeHandler(t.content,"mousedown");t.removeHandler(t.content,"scroll");t.removeHandler(t.content,"selectstart."+t.element.id);t.removeHandler(t.host,"dragstart."+t.element.id);t.removeHandler(t.host,"keydown.edit"+t.element.id);t.removeHandler(n(document),"keydown.edit"+t.element.id);t.removeHandler(n(document),"keyup.edit"+t.element.id);t._mousemovedocumentfunc&&t.removeHandler(n(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc);t.removeHandler(n(document),"mouseup.selection"+t.element.id);t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc);t.editable&&t.removeHandler(n(document),"mousedown.gridedit"+t.element.id);t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice(),u,r,f;i||t.addHandler(t.host,"dragstart."+t.element.id,function(){return!1});t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(){t.vScrollBar.fadeIn("fast");t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))}));t.editable&&t.addHandler(n(document),"mousedown.gridedit"+t.element.id,function(n){var y,r,u,s,h,o,c;if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var e=t.host.coord(),l=t.host.width(),a=t.host.height(),i=!1,f=!1,v=!1;if((n.pageY<e.top||n.pageY>e.top+a)&&(i=!0,f=!0),(n.pageX<e.left||n.pageX>e.left+l)&&(i=!0,v=!0),i){if(y=!1,t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&t.editcell.editor.jqxDateTimeInput("container")[0].style.display=="block")if(r=t.editcell.editor.jqxDateTimeInput("container").coord().top,u=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height(),f&&(n.pageY<r||n.pageY>u))i=!0,t.editcell.editor.jqxDateTimeInput("close");else return;break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&t.editcell.editor.jqxComboBox("container")[0].style.display=="block")if(r=t.editcell.editor.jqxComboBox("container").coord().top,u=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height(),f&&(n.pageY<r||n.pageY>u))i=!0,t.editcell.editor.jqxComboBox("close");else return;break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&t.editcell.editor.jqxDropDownList("container")[0].style.display=="block")if(r=t.editcell.editor.jqxDropDownList("container").coord().top,u=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height(),f&&(n.pageY<r||n.pageY>u))i=!0,t.editcell.editor.jqxDropDownList("close");else return;break;case"template":case"custom":for(s=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],h=function(r){var u=t.editcell.editor.data();if(u[r]&&u[r].instance.container&&u[r].instance.container[0].style.display=="block"){var e=u[r].instance,o=e.container.coord().top,s=e.container.coord().top+e.container.height();return f&&(n.pageY<o||n.pageY>s)?(i=!0,e.close(),!0):!1}},o=0;o<s.length;o++)if(c=h(s[o]),c==!1)return}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0);t._oldselectedcell=null}}});t.vScrollInstance.valueChanged=function(n){t.virtualsizeinfo&&(t._closemenu(),t.scrollmode!="physical"?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=n.currentValue):t.currentScrollValue!=undefined&&Math.abs(t.currentScrollValue-n.currentValue)>=5?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=n.currentValue):(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=n.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0;t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))};t.hScrollInstance.valueChanged=function(){if(t.virtualsizeinfo){t._closemenu();var r=function(){t._renderhorizontalscroll();t._renderrows(t.virtualsizeinfo);t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))},u=t._browser==undefined?t._isIE10():t._browser;navigator&&navigator.userAgent.indexOf("Safari")!=-1?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},1)):n.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},.01)):r();i&&(t._lastScroll=new Date)}};t._mousewheelfunc=t._mousewheelfunc||function(n){if(!t.editcell&&t.enablemousewheel)return t.wheel(n,t),!1};t.removeHandler(t.host,"mousewheel",t._mousewheelfunc);t.addHandler(t.host,"mousewheel",t._mousewheelfunc);u="mousedown.jqxgrid";i&&(u=n.jqx.mobile.getTouchEventName("touchend"));t.addHandler(t.host,u,function(i){if(t.isTouchDevice()&&((t._newScroll=new Date,t._newScroll-t._lastScroll<500)||n(i.target).ischildof(t.vScrollBar)||n(i.target).ischildof(t.hScrollBar)))return!1;t._mousedown=new Date;var r=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,r});i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){if(t.editable&&t.begincelledit&&t.editmode=="dblclick")t._handledblclick(i,t);else if(n.jqx.browser.msie&&n.jqx.browser.version<9)var r=t._handlemousedown(i,t);return t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(n){if(t._handlemousemove)return t._handlemousemove(n,t)},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(n){if(t._handlemousemoveselection)return t._handlemousemoveselection(n,t)},t.addHandler(n(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(n(document),"mouseup.selection"+t.element.id,function(n){t._handlemouseupselection&&t._handlemouseupselection(n,t)}));try{(document.referrer!=""||window.frameElement)&&window.top!=null&&window.top!=window.self&&(r=null,window.parent&&document.referrer&&(r=document.referrer),r&&r.indexOf(document.location.host)!=-1&&(f=function(n){t._handlemouseupselection&&t._handlemouseupselection(n,t)},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f)))}catch(e){}t.focused=!1;i||(t.addHandler(t.content,"mouseenter",function(){t.focused=!0;t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2));t._overlayElement&&(t._overlayElement[0].style.visibility=t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?"visible":"hidden")}),t.addHandler(t.content,"mouseleave",function(){t._handlemousemove&&t.enablehover&&t._clearhoverstyle();t._overlayElement&&(t._overlayElement[0].style.visibility="hidden");t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(n(document),"selectstart."+t.element.id,function(){if(t.__drag===!0)return!1}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){if(t.enablebrowserselection||t.showfilterrow&&n(i.target).ischildof(t.filterrow))return!0;if(!t.editcell)return!1;i.stopPropagation&&i.stopPropagation()}),t.addHandler(n(document),"keyup.edit"+t.element.id,function(){t._keydown=!1}),t.addHandler(n(document),"keydown.edit"+t.element.id,function(i){var f,r,u;if(t._keydown=!0&&!t.editcell,u=i.charCode?i.charCode:i.keyCode?i.keyCode:0,t.handlekeyboardnavigation&&(f=t.handlekeyboardnavigation(i),f==!0))return!1;if(t.editable&&t.editcell&&(u==13||u==27)&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t)),u==27&&(t.mousecaptured=!1,t.selectionarea.css("visibility")=="visible"&&t.selectionarea.css("visibility","hidden")),n.jqx.browser.msie&&n.jqx.browser.version<8&&t.focused&&!t.isNestedGrid){if(u==13&&r==!1)return r;if(r=!0,u=i.charCode?i.charCode:i.keyCode?i.keyCode:0,!t.editcell&&t.editable&&t.editmode!="programmatic"&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t)),r&&t.keyboardnavigation&&t._handlekeydown)return r=t._handlekeydown(i,t),r||(i.preventDefault&&i.preventDefault(),i.stopPropagation!=undefined&&i.stopPropagation()),r}return!0}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var r=!0,u;return t.handlekeyboardnavigation&&(u=t.handlekeyboardnavigation(i),u==!0)?!1:(t.editable&&t.editmode!="programmatic"&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),n.jqx.browser.msie&&n.jqx.browser.version<8?t.isNestedGrid&&r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),i.stopPropagation()):r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),r||(i.preventDefault&&i.preventDefault(),i.stopPropagation!=undefined&&i.stopPropagation()),r)}))},_hittestrow:function(t,i){var e,c,y,o,r,s,h,l;if(this.vScrollInstance!=null&&this.hScrollInstance!=null){t==undefined&&(t=0);i==undefined&&i==0;var a=this.vScrollInstance,v=this.hScrollInstance,f=a.value;if((this.vScrollBar.css("visibility")!="visible"&&(f=0),e=v.value,this.hScrollBar.css("visibility")!="visible"&&(e=0),this.scrollmode=="deferred"&&this._newmax!=null&&f>this._newmax&&(f=this._newmax),c=parseInt(f)+i,y=parseInt(e)+t,this.visiblerows!=null)&&this.visiblerows.length!=0){if(o=!1,r=this._findvisiblerow(c,this.visiblerows),r>=0){var u=this.visiblerows[r],p=this.rowdetails&&u.rowdetails,w=!u.rowdetailshidden;p&&(s=this.visiblerows[r-1],s==u&&(u=s,r--),w&&(h=n(this.hittestinfo[r].visualrow).position().top+parseInt(this.table.css("top")),l=n(this.hittestinfo[r].visualrow).height(),i>=h&&i<=h+l||(r++,u=this.visiblerows[r],o=!0)))}return{index:r,row:u,details:o}}}},getcellatposition:function(t,i){var b=this.that,k=this.showheader?this.columnsheader.height()+2:0,v=this._groupsheader()?this.groupsheader.height():0,d=this.showtoolbar?this.toolbarheight:0,u,c,e,r,l,t,w,a;v+=d;u=this.host.coord();this.hasTransform&&(u=n.jqx.utilities.getOffset(this.host));var o=t-u.left,s=i-k-u.top-v,y=this._hittestrow(o,s),f=y.row,g=y.index,h=this.table[0].rows[g];if(this.dataview&&this.dataview.records.length==0){for(c=this.table[0].rows,e=0,r=0;r<c.length;r++){if(s>=e&&s<e+this.rowsheight){h=c[r];break}e+=this.rowsheight}f={boundindex:r}}if(h==null)return!0;var nt=this.hScrollInstance,tt=nt.value,p=0,it=this.groupable?this.groups.length:0;for(r=0;r<h.cells.length;r++)if(l=parseInt(n(this.columnsrow[0].cells[r]).css("left")),t=l-tt,b.columns.records[r].pinned&&(t=l),w=t+n(this.columnsrow[0].cells[r]).width(),w>=o&&o>=t){p=r;break}return f!=null?(a=this._getcolumnat(p),{row:this.getboundindex(f),column:a.datafield,value:this.getcellvalue(this.getboundindex(f),a.datafield)}):null},_handlemousedown:function(t,i){var h,ut,c,ft,k,yt,y,p,et,pt,l,g,w,e,s,nt,o,f,tt,r,ot,st,ht,ct,it,rt,v,at,lt;if(t.target==null||i.disabled||n(t.target).ischildof(this.columnsheader)||(t.which?h=t.which==3:t.button&&(h=t.button==2),t.which?ut=t.which==2:t.button&&(ut=t.button==1),ut)||this.showstatusbar&&(n(t.target).ischildof(this.statusbar)||t.target==this.statusbar[0])||this.showtoolbar&&(n(t.target).ischildof(this.toolbar)||t.target==this.toolbar[0])||this.pageable&&(n(t.target).ischildof(this.pager)||t.target==this.pager[0])||!this.columnsheader||!this.editcell&&this.pageable&&n(t.target).ischildof(this.pager))return!0;var vt=this.showheader?this.columnsheader.height()+2:0,b=this._groupsheader()?this.groupsheader.height():0,bt=this.showtoolbar?this.toolbarheight:0;if((b+=bt,c=this.host.coord(),this.hasTransform&&(c=n.jqx.utilities.getOffset(this.host),ft=this._getBodyOffset(),c.left-=ft.left,c.top-=ft.top),o=parseInt(t.pageX),k=parseInt(t.pageY),this.isTouchDevice()&&(yt=i.getTouches(t),y=yt[0],o=parseInt(y.pageX),k=parseInt(y.pageY),i.touchmode==!0&&y._pageX!=undefined&&(o=parseInt(y._pageX),k=parseInt(y._pageY))),p=o-c.left,et=k-vt-c.top-b,!this.pageable||this.autoheight||!this.gotopage||(pt=this.pager.coord().top-c.top-b-vt,!(et>pt)))&&(l=this._hittestrow(p,et),l)&&!l.details){var u=l.row,wt=l.index,d=t.target.className,a=this.table[0].rows[wt];if(a==null)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;for(i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-b,clickedrow:a},g=this.hScrollInstance,w=g.value,this.rtl&&this.hScrollBar.css("visibility")!="hidden"&&(w=g.max-g.value),e=-1,s=this.groupable?this.groups.length:0,this.rtl&&(this.vScrollBar[0].style.visibility!="hidden"&&(w-=this.scrollbarsize+4),this.hScrollBar[0].style.visibility=="hidden"&&(w=-parseInt(this.content.css("left")))),f=0;f<a.cells.length;f++)if((nt=parseInt(n(this.columnsrow[0].cells[f]).css("left")),o=nt-w,i.columns.records[f].pinned&&!i.rtl&&(o=nt),r=this._getcolumnat(f),r==null||!r.hidden)&&(tt=o+n(this.columnsrow[0].cells[f]).width(),tt>=p&&p>=o)){e=f;i.mousecaptureposition.clickedcell=f;break}if(this.rtl&&this._haspinned)for(f=a.cells.length-1;f>=0;f--){if(!i.columns.records[f].pinned)break;var nt=n(this.columnsrow[0].cells[f]).coord().left-this.host.coord().left,o=nt,r=this._getcolumnat(f);if((r==null||!r.hidden)&&(tt=o+n(this.columnsrow[0].cells[f]).width(),tt>=p&&p>=o)){e=f;i.mousecaptureposition.clickedcell=f;break}}if(u!=null&&e>=0){if(this._raiseEvent(1,{rowindex:this.getboundindex(u),visibleindex:u.visibleindex,row:u,group:u.group,rightclick:h,originalEvent:t}),r=this._getcolumnat(e),ot=this.getcellvalue(this.getboundindex(u),r.datafield),this.editable&&this.editcell&&r.datafield==this.editcell.column&&this.getboundindex(u)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(u),column:r?r.getcolumnproperties():null,row:u,visibleindex:u.visibleindex,datafield:r?r.datafield:null,columnindex:e,value:ot,rightclick:h,originalEvent:t}),this.isTouchDevice())if(r.columntype=="checkbox"&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(wt,r.datafield),!0}else if(r.columntype=="button"&&this._overlayElement)return r.buttonclick&&r.buttonclick(a.cells[e].buttonrow,t),!0;if(st=!1,this._lastmousedown!=null&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(u)&&(this._raiseEvent(22,{rowindex:this.getboundindex(u),row:u,visibleindex:u.visibleindex,group:u.group,rightclick:h,originalEvent:t}),this._clickedcolumn==r.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(u),row:u,visibleindex:u.visibleindex,column:r?r.getcolumnproperties():null,datafield:r?r.datafield:null,columnindex:e,value:ot,rightclick:h,originalEvent:t}),st=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(h)return!0;if(st||(this._clickedrowindex=this.getboundindex(u),this._clickedcolumn=r.datafield),ht=n.jqx.utilities.getBrowser(),ht.browser=="msie"&&parseInt(ht.version)<=7&&(e==0&&this.rowdetails&&(d="jqx-grid-group-collapse"),s>0&&e<=s&&(d="jqx-grid-group-collapse")),d.indexOf("jqx-grid-group-expand")!=-1||d.indexOf("jqx-grid-group-collapse")!=-1)this.rtl?s>0&&e>a.cells.length-s-1&&this._togglegroupstate?this._togglegroupstate(u.bounddata,!0):e==a.cells.length-1-s&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(u.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):s>0&&e<s&&this._togglegroupstate?this._togglegroupstate(u.bounddata,!0):e==s&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(u.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(u.boundindex!=-1&&(ct=this.selectedrowindexes.slice(0),it=!1,i.selectionmode!="none"&&i.selectionmode!="checkbox"&&this._selectrowwithmouse&&((i.selectionmode=="multiplecellsadvanced"||i.selectionmode=="multiplecellsextended"||i.selectionmode=="multiplerowsextended"||i.selectionmode=="multiplerowsadvanced")&&(t.ctrlKey||t.shiftKey||(i.selectedrowindexes=[],i.selectedcells=[])),rt=!1,v=this.getboundindex(u),(i._oldselectedrow===v||i.selectionmode==="none")&&(rt=!0),i.selectionmode.indexOf("cell")==-1?(i.selectionmode!="singlerow"||i.selectedrowindex!=v&&i.selectionmode=="singlerow")&&(this._applyrowselection(v,!0,!1,null,r.datafield),this._selectrowwithmouse(i,l,ct,r.datafield,t.ctrlKey,t.shiftKey)):r.datafield!=null&&(this._selectrowwithmouse(i,l,ct,r.datafield,t.ctrlKey,t.shiftKey),t.shiftKey||this._applycellselection(v,r.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(it=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=v),i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&i.editmode!="programmatic"))return t.isPropagationStopped&&t.isPropagationStopped()?!1:(i.editmode=="selectedrow"?rt&&!i.editcell?r.columntype!=="checkbox"&&(lt=i.beginrowedit(this.getboundindex(u))):i.editcell&&!rt&&i.selectionmode!="none"&&(lt=i.endrowedit(i.editcell.row)):(at=i.editmode=="click"||it&&i.editmode=="selectedcell",i.selectionmode.indexOf("cell")==-1&&i.editmode!="dblclick"&&(at=!0),at&&u.boundindex!=undefined&&r.editable&&(lt=i.begincelledit(this.getboundindex(u),r.datafield,r.defaulteditorvalue),i.selectionmode.indexOf("cell")!=-1&&i._applycellselection(v,r.datafield,!1,!1)),i.selectionmode.indexOf("cell")!=-1&&i.editmode=="selectedcell"&&!it&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)),!0)}return!0}},_columnPropertyChanged:function(){},_rowPropertyChanged:function(){},_serializeObject:function(t){if(t==null)return"";var i="";return n.each(t,function(n){var r=this,t;n>0&&(i+=", ");i+="[";t=0;for(obj in r)t>0&&(i+=", "),i+="{"+obj+":"+r[obj]+"}",t++;i+="]"}),i},propertyChangedHandler:function(t,i,r,u){var f,e;if(this.isInitialized!=undefined&&this.isInitialized!=!1){i=i.toLowerCase();switch(i){case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect"));t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(t.columnsheight!=25||t.columngroups)&&t._measureElement("column");t._render(!0,!0,!0,!1,!1);break;case"rowsheight":u!=r&&(t.rowsheight!=25&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":r!=u&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:u}),t.hScrollBar.jqxScrollBar({touchMode:u}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":r!=u&&t._rendercolumnheaders();break;case"rendergridrows":r!=u&&t.updatebounddata();break;case"editmode":r!=u&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata();t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep});this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":r!=u&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":u!=r&&(t.pager&&(t.pager.removeClass(),t.pager.addClass(t.toTP("jqx-grid-pager")),t.pager.addClass(t.toTP("jqx-widget-header")),t.pageable&&t._updatepagertheme&&t._updatepagertheme()),t.groupsheader&&(t.groupsheader.removeClass(),t.groupsheader.addClass(t.toTP("jqx-grid-groups-header")),t.groupsheader.addClass(t.toTP("jqx-widget-header"))),t.toolbar.removeClass(),t.toolbar.addClass(t.toTP("jqx-grid-toolbar")),t.toolbar.addClass(t.toTP("jqx-widget-header")),t.statusbar.removeClass(),t.statusbar.addClass(t.toTP("jqx-grid-statusbar")),t.statusbar.addClass(t.toTP("jqx-widget-content")),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toTP("jqx-grid")),t.host.addClass(t.toTP("jqx-reset")),t.host.addClass(t.toTP("jqx-rc-all")),t.host.addClass(t.toTP("jqx-widget")),t.host.addClass(t.toTP("jqx-widget-content")),t.bottomRight.removeClass(),t.bottomRight.addClass(t.toTP("jqx-grid-bottomright")),t.bottomRight.addClass(t.toTP("jqx-scrollbar-state-normal")),t.toolbar.addClass(t.toTP("jqx-grid-toolbar")),t.toolbar.addClass(t.toTP("jqx-widget-header")),t.statusbar.addClass(t.toTP("jqx-grid-statusbar")),t.statusbar.addClass(t.toTP("jqx-widget-header")),t.render());break;case"showtoolbar":case"toolbarheight":r!=u&&(t._arrange(),t.refresh());break;case"showstatusbar":r!=u&&(t.statusbar&&(u?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh());break;case"statusbarheight":r!=u&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":r!=u&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":r!=u&&t.rendergridcontent();break;case"showrowdetailscolumn":r!=u&&t.render();break;case"scrollbarsize":r!=u&&t._arrange();break;case"width":case"height":r!=u&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading&&t.vScrollInstance.setPosition(0));break;case"altrows":case"altstart":case"altstep":r!=u&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":r!=u&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":r!=u&&t._initpager();break;case"selectedrowindex":t.selectrow(u);break;case"selectionmode":r!=u&&(u=="none"&&(t.selectedrowindexes=[],t.selectedcells=[],t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),u=="checkbox"&&t._render(!1,!1,!0,!1,!1));break;case"showheader":u?t.columnsheader.css("display","block"):t.columnsheader.css("display","none");break;case"virtualmode":r!=u&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":r!=u&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":t._serializeObject(t._cachedcolumns)!==t._serializeObject(u)?(f=!1,t.filterable&&r&&r.records&&n.each(r.records,function(){this.filter&&(f=!0);t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),f&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()):t._initializeColumns();break;case"autoheight":r!=u&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":r!=u&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(n(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(r!=u){if(t._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox){t._testmodules();return}if(t._initpager){if(i!="pageable"&&i!="pagermode"&&typeof u=="string"){e="The expected value type is: Int.";i!="pagesize"&&(e="The expected value type is: Array of Int values.");throw new Error("Invalid Value for: "+i+". "+e);}t.dataview.pageable=t.pageable;t.dataview.pagenum=0;t.dataview.pagesize=t._getpagesize();t.virtualmode&&t.updatebounddata();t.dataview.refresh(!0);t._initpager();i=="pagesizeoptions"&&u!=null&&u.length>0&&(t.pagesize=parseInt(u[0]),t.dataview.pagesize=parseInt(u[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(r)!==t._serializeObject(u)&&(t.dataview.groups=u,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":r!=u&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":u!=null&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":u!=null&&t.rendertoolbar(t.toolbar);break;case"disabled":u?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled"));n.jqx.aria(t,"aria-disabled",t.disabled);t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:u}),t.pagerleftbutton.jqxButton({disabled:u}),t.pagershowrowscombo.jqxDropDownList({disabled:u}),t.pagergotoinput.attr("disabled",u)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:u}),t.pagerlastbutton.jqxButton({disabled:u})));t.vScrollBar.jqxScrollBar({disabled:u});t.hScrollBar.jqxScrollBar({disabled:u});t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0)}}}});n.jqx.collection=function(n){return this.records=[],this.owner=n,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(){},this.clear=function(){this.records=[]},this.replace=function(n,t){this.records[n]=t;this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(n){return this.records[n]==undefined?!0:!1},this.initialize=function(n){n<1&&(n=1);this.records[n-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(n){return this.records.indexOf(n)},this.add=function(n){return n==null?!1:(this.records[this.records.length]=n,this.updating||this._raiseEvent({type:"add",element:n}),!0)},this.insertAt=function(n,t){return n==null||n==undefined?!1:t==null?!1:n>=0?n<this.records.length?(this.records.splice(n,0,t),this.updating||this._raiseEvent({type:"insert",index:n,element:t}),!0):this.add(t):!1},this.remove=function(n){if(n==null||n==undefined)return!1;var t=this.records.indexOf(n);return t!=-1?(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:n}),!0):!1},this.removeAt=function(n){if(n==null||n==undefined||n<0)return!1;if(n<this.records.length){var t=this.records[n];return this.records.splice(n,1),this.updating||this._raiseEvent({type:"removeAt",index:n,element:t}),!0}return!1},this};n.jqx.dataview=function(){return this.self=this,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=[],this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=[],this.source=null,this.changedrecords=[],this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self;delete this.grid;delete this.uniqueId;delete this.records;delete this.rows;delete this.columns;delete this.groups;delete this.filters;delete this.updated;delete this.update;delete this.suspend;delete this.pagesize;delete this.pagenum;delete this.totalrows;delete this.totalrecords;delete this.groupable;delete this.loadedrecords;delete this.loadedrootgroups;delete this.loadedgroups;delete this.loadedgroupsByKey;delete this.virtualmode;delete this._cachegrouppages;delete this.source;delete this.changedrecords;delete this.rowschangecallback;delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(n){this.suspend=!1;n==undefined&&(n=!0);this.refresh(n)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=[]},this.databind=function(t,i){var d=t._source?!0:!1,u=null,w,l,r,e,a,y,p,s,k,h;d?(u=t,t=t._source):u=new n.jqx.dataAdapter(t,{autoBind:!1});w=function(n){u.recordids=[];u.records=[];u.cachedrecords=[];u.originaldata=[];u._options.virtualmode=n.virtualmode;u._options.totalrecords=n.totalrecords;u._options.originaldata=n.originaldata;u._options.recordids=n.recordids;u._options.cachedrecords=[];u._options.pagenum=n.pagenum;u._options.pageable=n.pageable;t.type!=undefined&&(u._options.type=t.type);t.formatdata!=undefined&&(u._options.formatData=t.formatdata);t.contenttype!=undefined&&(u._options.contentType=t.contenttype);t.async!=undefined&&(u._options.async=t.async);t.updaterow!=undefined&&(u._options.updaterow=t.updaterow);t.addrow!=undefined&&(u._options.addrow=t.addrow);t.deleterow!=undefined&&(u._options.deleterow=t.deleterow);n.pagesize==0&&(n.pagesize=10);u._options.pagesize=n.pagesize};l=function(i){var r,f,e,o,c,s,h;if(i.totalrecords=u.totalrecords,i.virtualmode){if(r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize},t.recordstartindex!=undefined&&(r.startindex=parseInt(t.recordstartindex)),t.recordendindex!=undefined?r.endindex=parseInt(t.recordendindex):i.grid.pageable||(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords))),r.data=u.records,i.grid.rendergridrows&&i.totalrecords>0&&(f=0,t.records=i.grid.rendergridrows(r),t.records.length&&(f=t.records.length),t.records&&!t.records[r.startindex]&&(e=[],o=r.startindex,n.each(t.records,function(){e[o]=this;o++;f++}),t.records=e),f==0&&t.records&&n.each(t.records,function(){f++}),f>0&&f<r.endindex-r.startindex&&!i.grid.groupable))for(c=t.records[0],s=0;s<r.endindex-r.startindex-f;s++){h={};for(obj in c)h[obj]="";t.records.push&&t.records.push(h)}t.records&&i.totalrecords!=0||(t.records=[]);i.originaldata=t.records;i.records=t.records;i.cachedrecords=t.records}else i.originaldata=u.originaldata,i.records=u.records,i.recordids=u.recordids,i.cachedrecords=u.cachedrecords};w(this);this.source=t;i!==undefined&&(uniqueId=i);r=this.that;switch(t.datatype){case"local":case"array":default:t.localdata==null&&(t.localdata=[]);t.localdata!=null&&(u.unbindBindingUpdate(r.grid.element.id),(!r.grid.autobind&&r.grid.isInitialized||r.grid.autobind)&&u.dataBind(),h=function(i){var e,f,o;(i==undefined||i==""||(e=u._changedrecords[0],e&&(f=[],n.each(u._changedrecords,function(n){var o=this.index,e=this.record,t;r.grid._updateFromAdapter=!0;switch(i){case"update":t=r.grid.getrowid(o);n==u._changedrecords.length-1?r.grid.updaterow(t,e):r.grid.updaterow(t,e,!1);r.grid._updateFromAdapter=!1;return;case"add":r.grid.addrow(null,e);r.grid._updateFromAdapter=!1;return;case"remove":t=r.grid.getrowid(o);f.push(t);return}}),f.length>0&&(r.grid.deleterow(f,!1),r.grid._updateFromAdapter=!1)),i!="update"))&&(o=r.totalrecords,l(r,i),i=="updateData"?(r.refresh(),r.grid._updateGridData()):(t.recordstartindex&&this.virtualmode?r.updateview(t.recordstartindex,t.recordstartindex+r.pagesize):r.refresh(),r.update(o!=r.totalrecords)))},h(),u.bindBindingUpdate(r.grid.element.id,h));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(t.localdata!=null){u.unbindBindingUpdate(r.grid.element.id);(!r.grid.autobind&&r.grid.isInitialized||r.grid.autobind)&&u.dataBind();h=function(n){var i=r.totalrecords;l(r);n=="updateData"?(r.refresh(),r.grid._updateGridData()):(t.recordstartindex?r.updateview(t.recordstartindex,t.recordstartindex+r.pagesize):r.refresh(),r.update(i!=r.totalrecords))};h();u.bindBindingUpdate(r.grid.element.id,h);return}var c=0,f={};for(s=0;s<this.filters.length;s++){var v=this.filters[s].datafield,b=this.filters[s].filter,o=b.getfilters();for(f[v+"operator"]=b.operator,e=0;e<o.length;e++)o[e].datafield=v,a=o[e].value,o[e].type=="datefilter"?o[e].value&&o[e].value.toLocaleString?(y=this.grid.getcolumn(o[e].datafield),y.cellsformat?(p=this.grid.source.formatDate(o[e].value,y.cellsformat,this.grid.gridlocalization),f["filtervalue"+c]=p?p:o[e].value.toLocaleString()):f["filtervalue"+c]=a.toString()):f["filtervalue"+c]=a.toString():f["filtervalue"+c]=a.toString(),f["filtercondition"+c]=o[e].condition,f["filteroperator"+c]=o[e].operator,f["filterdatafield"+c]=v,c++}for(f.filterscount=c,f.groupscount=r.groups.length,s=0;s<r.groups.length;s++)f["group"+s]=r.groups[s];t.recordstartindex==undefined&&(t.recordstartindex=0);(t.recordendindex==undefined||t.recordendindex==0)&&(r.grid.height&&r.grid.height.toString().indexOf("%")==-1?(t.recordendindex=parseInt(r.grid.height)/r.grid.rowsheight,t.recordendindex+=2):t.recordendindex=n(window).height()/r.grid.rowsheight,this.pageable&&(t.recordendindex=this.pagesize));n.extend(f,{sortdatafield:r.sortfield,sortorder:r.sortfielddirection,pagenum:r.pagenum,pagesize:r.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});k=u._options.data;u._options.data?n.extend(u._options.data,f):(t.data&&n.extend(f,t.data),u._options.data=f);h=function(){var u=n.jqx.browser.msie&&n.jqx.browser.version<9,i=function(){var n=r.totalrecords;l(r);t.recordstartindex?r.updateview(t.recordstartindex,t.recordstartindex+r.pagesize):r.refresh();r.update(n!=r.totalrecords)};if(u)try{i()}catch(f){}else i()};u.unbindDownloadComplete(r.grid.element.id);u.bindDownloadComplete(r.grid.element.id,h);!r.grid.autobind&&r.grid.isInitialized||r.grid.autobind?u.dataBind():r.grid.isInitialized||r.grid.autobind||h();u._options.data=k}},this.getid=function(t,i,r){if(n(t,i).length>0)return n(t,i).text();if(t&&t.toString().length>0){var u=n(i).attr(t);if(u!=null&&u.toString().length>0)return u}return r},this.getvaluebytype=function(t,i){var u=t,r,t;return i.type=="date"?(r=new Date(t),t=r.toString()=="NaN"||r.toString()=="Invalid Date"?n.jqx.dataFormat?n.jqx.dataFormat.tryparsedate(t):r:r,t==null&&(t=u)):i.type=="float"?(t=parseFloat(t),isNaN(t)&&(t=u)):i.type=="int"?(t=parseInt(t),isNaN(t)&&(t=u)):i.type=="bool"&&(t!=null&&(t.toLowerCase()=="false"?t=!1:t.toLowerCase()=="true"&&(t=!0)),t=t==1?!0:t==0?!1:""),t},this.setpaging=function(n){n.pageSize!=undefined&&(this.pagesize=n.pageSize);n.pageNum!=undefined&&(this.pagenum=Math.min(n.pageNum,Math.ceil(this.totalrows/this.pagesize)));this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={};this.sortdata=null;this.changedrecords=[];this.records=[];this.rows=[];this.cacheddata=[];this.originaldata=[];this.bounditems=[];this.loadedrecords=[];this.loadedrootgroups=[];this.loadedgroups=[];this.loadedgroupsByKey=[];this._cachegrouppages=[];this.recordsbyid=[];this.cachedrecords=[];this.recordids=[]},this.addfilter=function(n,t){for(var r=-1,i=0;i<this.filters.length;i++)if(this.filters[i].datafield==n){r=i;break}r==-1?this.filters[this.filters.length]={filter:t,datafield:n}:this.filters[r]={filter:t,datafield:n}},this.removefilter=function(n){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==n){this.filters.splice(t,1);break}},this.getItemFromIndex=function(n){return this.records[n]},this.updaterow=function(n,t,i){var h=this.filters&&this.filters.length>0&&!this.virtualmode,f,r,u,s,o;if(h||t==undefined||n==undefined){if(this.filters&&this.filters.length>0){var e=this.cachedrecords,f=null,r=-1;for(u=0;u<e.length;u++)if(e[u].uid==n){f=e[u];r=u;break}if(f){s=this.that;for(o in t)s.cachedrecords[r][o]=t[o];return(i==!0||i==undefined)&&this.refresh(),!0}}}else return(t.uid=n,t[this.source.id]||(t[this.source.id]=t.uid),f=this.recordsbyid["id"+n],r=this.records.indexOf(f),r==-1)?!1:(this.records[r]=t,this.cachedrecords&&(this.cachedrecords[r]=t),(i==!0||i==undefined)&&this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:f,Data:t},!0);return!1},this.addrow=function(n,t,i,r){var u,f;if(t!=undefined){if(n)t.uid=n;else for(t.uid=this.getid(this.source.id,t,this.totalrecords),u=this.recordsbyid["id"+t.uid];u!=null;)f=Math.floor(Math.random()*1e4).toString(),t.uid=f,u=this.recordsbyid["id"+f];return t[this.source.id]||this.source.id!=undefined&&(t[this.source.id]=t.uid),i=="last"?this.records.push(t):typeof i=="number"&&isFinite(i)?this.records.splice(i,0,t):this.records.splice(0,0,t),this.filters&&this.filters.length>0&&(i=="last"?this.cachedrecords.push(t):typeof i=="number"&&isFinite(i)?this.cachedrecords.splice(i,0,t):this.cachedrecords.splice(0,0,t)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(r==!0||r==undefined)&&this.refresh(),this.changedrecords[t.uid]={Type:"New",Data:t},!0}return!1},this.deleterow=function(n,t){var e,u,r,i;if(n!=undefined){if(e=this.filters&&this.filters.length>0,this.recordsbyid["id"+n]&&!e)return u=this.recordsbyid["id"+n],r=this.records.indexOf(u),this.changedrecords[n]={Type:"Delete",Data:this.records[r]},this.records.splice(r,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(t==!0||t==undefined)&&this.refresh(),!0;if(this.filters&&this.filters.length>0){var f=this.cachedrecords,u=null,r=-1;for(i=0;i<f.length;i++)if(f[i].uid==n){u=f[i];r=i;break}if(u)return this.cachedrecords.splice(r,1),(t==!0||t==undefined)&&(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,r,u,f,e,o){var b=this.that,l=[],k=t,h=i,v=r,y=u,c=h.length,p=0,s=0,w,e,o,a;if(this.columns=[],this.bounditems=[],this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this._cachegrouppages=[],this.recordsbyid={},this.totalrecords==0&&(Object.size=function(n){var t=0;for(var i in n)n.hasOwnProperty(i)&&t++;return t},w=Object.size(k),this.totalrecords=w,n.each(this.records,function(){var t=this,i=0;return n.each(t,function(n){b.columns[i++]=n}),!1})),this.virtualmode){if(this.pageable){this.updateview();return}if(e=0,this.groupable)o=this.totalrecords;else{this.updateview();return}}else e=0,o=this.totalrecords;return this.groupable&&this.groups.length>0&&this.loadgrouprecords?(a=e,a=this.loadgrouprecords(0,e,o,v,s,y,h,c,l)):p=this.loadflatrecords(e,o,v,s,y,h,c,l),c>s&&h.splice(s,c-s),this.totalrows=this.groups.length>0&&this.groupable?a:p,l},this.loadflatrecords=function(t,i,r,u,f,e,o,s){var c=this.that,a=t,v=t,l,h,p;i=Math.min(i,this.totalrecords);var w=this.sortdata!=null,b=this.source.id&&(this.source.datatype=="local"||this.source.datatype=="array"||this.source.datatype==""),y=w?this.sortdata:this.records;for(l=t;l<i;l++)h={},w?(h=n.extend({},y[l].value),id=h[c.uniqueId],h.boundindex=y[l].index,h.uid==undefined&&(h.uid=c.getid(c.source.id,h,h.boundindex)),c.recordsbyid["id"+h.uid]=y[l].value,c.loadedrecords[a]=h,h.uniqueid=c.generatekey(),c.bounditems[h.boundindex]=h):(h=n.extend({},y[l]),id=h[c.uniqueId],h.boundindex=a,c.loadedrecords[a]=h,h.uid==undefined&&(h.uid=c.getid(c.source.id,h,a)),c.recordsbyid["id"+h.uid]=y[l],h.uniqueid=c.generatekey(),c.bounditems[this.bounditems.length]=h),(u>=o||id!=e[u][c.uniqueId]||f&&f[id])&&(s[s.length]=u),e[u]=h,u++,h.visibleindex=v,v++,a++;return c.grid.summaryrows&&(p=a,n.each(c.grid.summaryrows,function(){var t=n.extend({},this);t.boundindex=i++;c.loadedrecords[p]=t;t.uniqueid=c.generatekey();c.bounditems[c.bounditems.length]=t;e[u]=t;u++;t.visibleindex=v;v++;p++})),v},this.updateview=function(n,t){var v=this.that,c=this.pagesize*this.pagenum,u=0,i=[],e=this.filters,l=this.updated,o=i.length,a,s,y,h,r,f;if(this.pageable){if(this.virtualmode)if(this.groupable&&this.groups.length!=0){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(this._cachegrouppages[this.pagenum+"_"+this.pagesize]!=undefined){this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize];this.totalrows=this.rows.length;return}a=this.pagesize*(1+this.pagenum);a>this.totalrecords&&(a=this.totalrecords);this.loadgrouprecords(0,this.pagesize*this.pagenum,a,e,u,l,i,o,[]);this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows;this.totalrows=this.rows.length;return}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),e,u,l,i,o,[]),this.totalrows=i.length}else if(this.virtualmode&&(!this.groupable||this.groups.length==0)&&(s=this.pagesize,s==0&&(s=Math.min(100,this.totalrecords)),y=s*this.pagenum,this.loadedrecords.length==0&&(y=0),n!=null&&t!=null?this.loadflatrecords(n,t,e,u,l,i,o,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),e,u,l,i,o,[]),this.totalrows=this.loadedrecords.length,this.rows=i,i.length>=s))return;if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)i=this._updategroupsinpage(v,e,c,u,o,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(r=this.pagesize*this.pagenum;r<this.pagesize*(1+this.pagenum);r++)(f=r<this.loadedrecords.length?this.loadedrecords[r]:null,f!=null)&&((!this.pagesize||c>=this.pagesize*this.pagenum&&c<=this.pagesize*(this.pagenum+1))&&(i[u]=f,u++),c++);if((i.length==0||i.length<this.pagesize)&&!this.pageable&&this.virtualmode)for(u=i.length,h=i.length,r=this.pagesize*this.pagenum;r<this.pagesize*(1+this.pagenum)-h;r++)f={},f.boundindex=r+h,f.visibleindex=r+h,f.uniqueid=v.generatekey(),f.empty=!0,v.bounditems[r+h]=f,i[u]=f,u++;this.rows=i},this.generatekey=function(){var n=function(){return(1+Math.random())*16|0};return""+n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){var e,v,w,u,c,f,s,o,r,h,a;if(!this.suspend){if(t==undefined&&(t=!0),e=this.rows.length,v=this.totalrows,this.filters.length>0&&!this.virtualmode){var y="",p=this.cachedrecords.length,i=[];if(this.totalrecords=0,o=this.cachedrecords,this._dataIndexToBoundIndex=[],w=this.filters.length,this.source!=null&&this.source.filter!=undefined&&this.source.localdata!=undefined)i=this.source.filter(this.filters,o,p),i==undefined&&(i=[]),this.records=i;else if(this.source.filter==null||this.source.filter==undefined){for(u=0;u<p;u++){for(c=o[u],f=undefined,s=0;s<w;s++){var y=this.filters[s].filter,b=c[this.filters[s].datafield],l=y.evaluate(b);f=f==undefined?l:y.operator=="or"?f||l:f&&l}f?(i[i.length]=n.extend({dataindex:u},c),this._dataIndexToBoundIndex[u]={boundindex:i.length-1}):this._dataIndexToBoundIndex[u]=null}this.records=i}if(this.sortdata&&(r=this.sortfield,this.sortcache[r])){this.sortdata=null;h=this.sortcache[r].direction;this.sortcache[r]=null;this.sortby(this.sortfield,h);return}}else if(this.filters.length==0&&!this.virtualmode&&this.cachedrecords&&(this.totalrecords=0,o=this.cachedrecords,this.records=o,this.sortdata&&(r=this.sortfield,this.sortcache[r]))){this.sortdata=null;h=this.sortcache[r].direction;this.sortcache[r]=null;this.sortby(this.sortfield,h);return}a=this.reload(this.records,this.rows,this.filter,this.updated,t);this.updated=null;this.rowschangecallback!=null&&(v!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),e!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:e,current:rows.length}}),(a.length>0||e!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:e,current:rows.length,diff:a}}))}},this}}(jqxBaseFramework),function(n){n.extend(n.jqx._jqxGrid.prototype,{_calculateaggregate:function(t,i,r,u){var f=t.aggregates,e,o,u,s;if(f||(f=i),f){for(e=[],o=0;o<f.length;o++)f[o]!="count"&&(e[e.length]=t.cellsformat);if(this.source&&this.source.getAggregatedData)return u==undefined&&(u=this.getrows()),this.virtualmode&&(u=[],n.each(this.source._source.records,function(){u.push(this)})),r==undefined||r==!0?this.source.getAggregatedData([{name:t.datafield,aggregates:f,formatStrings:e}],this.gridlocalization,u):this.source.getAggregatedData([{name:t.datafield,aggregates:f}],this.gridlocalization,u)}return null},getcolumnaggregateddata:function(n,t,i,r){var u=this.getcolumn(n),s=i==undefined||i==!1?!1:i,o,f,e;return t==null?"":(o=u.aggregates,u.aggregates=null,f=this._calculateaggregate(u,t,s,r),e={},f&&(e=f[n]),u.aggregates=o,e)},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(t,i,r){var e=this,u,f;if(!i){r.children().remove();r.html("");t.aggregatesrenderer&&(u={},t.aggregates&&(u=this.getcolumnaggregateddata(t.datafield,t.aggregates)),f=t.aggregatesrenderer({},t,r,null),r.html(f));return}r.children().remove();r.html("");t.aggregatesrenderer?i&&(f=t.aggregatesrenderer(i[t.datafield],t,r,this.getcolumnaggregateddata(t.datafield,i[t.datafield])),r.html(f)):n.each(i,function(){var f=this,t,i;for(u in f)t=n('<div style="position: relative; margin: 4px; overflow: hidden;"><\/div>'),i=u,i=e._getaggregatename(i),t.html(i+":"+f[u]),e.rtl&&t.addClass(e.toThemeProperty("jqx-rtl")),r.append(t)})},_getaggregatetype:function(n){var t,i;switch(n){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return n}t=n;for(i in n){t=i;break}return t},_getaggregatename:function(n){var t=n,i;switch(n){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(n===t&&typeof t!="string")for(i in n){t=i;break}return t},_updatecolumnsaggregates:function(){var r=this.getrows(),u=this.columns.records.length,t;if(undefined!=this.statusbar[0].cells)for(t=0;t<u;t++){var f=n(this.statusbar[0].cells[t]),i=this.columns.records[t],e=this._calculateaggregate(i,null,!0,r);this._updatecolumnaggregates(i,e,f)}},_updateaggregates:function(){var u=n('<div style="position: relative;" id="statusrow'+this.element.id+'"><\/div>'),f=0,l=this.columns.records.length,e=this.toThemeProperty("jqx-grid-cell"),o,s,h,c,i;for(this.rtl&&(e+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),f=-1),e+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),o=l+10,s=[],this.statusbar[0].cells=s,h=0;h<l;h++){var t=this.columns.records[h],a=this._calculateaggregate(t),r=t.width;r<t.minwidth&&(r=t.minwidth);r>t.maxwidth&&(r=t.maxwidth);c=e;t.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+t.cellsalign+"-align"));i=n('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"><\/div>');u.append(i);i.css("left",f);this.rtl?i.css("z-index",o++):i.css("z-index",o--);i.width(r);i[0].left=f;t.hidden&&t.hideable?i.css("display","none"):f+=r;s[s.length]=i[0];this._updatecolumnaggregates(t,a,i)}n.jqx.browser.msie&&n.jqx.browser.version<8&&u.css("z-index",o--);u.width(parseFloat(f)+2);u.height(this.statusbarheight);this.statusbar.children().remove();this.statusbar.append(u);this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header"));this.statusbar.addClass(e);this.statusbar.css("border-bottom-color","transparent");this.statusbar.css("border-top-width","1px");this.rtl&&this.hScrollBar.css("visibility")!="hidden"&&this._renderhorizontalscroll()}})}(jqxBaseFramework),function(n){n.extend(n.jqx._jqxGrid.prototype,{getcolumnindex:function(n){var t=this.getcolumn(n);return this.columns.records.indexOf(t)},setcolumnindex:function(t,i,r){var u=this.getcolumn(t),f,o,h,c,e,l,a,s;u.pinned||u.hidden||u.checkboxcolumn||u.grouped||(f=this.columns.records.indexOf(u),this.columns.records.splice(f,1),this.columns.records.splice(i,0,u),o=0,h=this.headerZIndex,this.columnsrow.children().detach(),c=this.toThemeProperty("jqx-grid-cell"),c+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(n(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]),e=this,l=null,e.filterrow!=undefined&&(l=n(e.filterrow.children()[0])),this.columnsrow[0].cells=[],a=!1,n.each(this.columns.records,function(){var i=this.uielement,r,t;e.columnsrow.append(i);e.rtl?i.css("z-index",h++):i.css("z-index",h--);r=this.width;i.css("left",o);e.columnsrow[0].cells[e.columnsrow[0].cells.length]=i[0];e.filterrow&&(t=n('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"><\/div>'),l.append(t),t.css("left",o),t.css("z-index",h+1),t.width(this.width),t[0].left=o,t.append(this._filterwidget),e.filterrow[0].cells[e.filterrow[0].cells.length]=t[0]);this.hidden&&(a=!0);this.hidden&&this.hideable||(o+=r)}),this.groupable&&(s=this.groups.length,s>0&&f-s>=0&&(f-=s,i-=s)),this.rowdetails&&f-1>=0&&(f--,i--),this.selectionmode=="checkbox"&&f-1>=0&&(f--,i--),u=this._columns[f],this._columns.splice(f,1),this._columns.splice(i,0,u),this._raiseEvent(24,{columntext:u.text,datafield:u.datafield,oldindex:f,newindex:i}),r!=!1)&&(a||u.columntype=="checkbox"?(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths()):(this._updatecolumnwidths(),this._updatecellwidths()),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))},_pinnedColumnsLength:function(){var t=0;return n.each(this.columns.records,function(){this.pinned&&t++;this.grouped&&t++}),this.selectionmode=="checkbox"&&t++,t},_handlecolumnsreorder:function(){var t=this,i=-1,r=!1;if(t.columnsreorder){var f="mousemove.reorder"+this.element.id,e="mousedown.reorder"+this.element.id,o="mouseup.reorder"+this.element.id,u=!1;this.isTouchDevice()&&this.touchmode!==!0&&(u=!0,f=n.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,e=n.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,o=n.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id);this.removeHandler(n(document),f);this.addHandler(n(document),f,function(n){var e,f,h,o,v,y,s,p;if(t.resizing)return!0;if(t.reordercolumn!=null){e=parseInt(n.pageX);f=parseInt(n.pageY);u&&(h=t.getTouches(n),o=h[0],o!=undefined&&(e=parseInt(o.pageX),f=parseInt(o.pageY)));var c=t.host.coord(),l=parseInt(c.left),a=parseInt(c.top);if((t.dragmousedownoffset==undefined||t.dragmousedownoffset==null)&&(t.dragmousedownoffset={left:0,top:0}),v=parseInt(e)-parseInt(t.dragmousedownoffset.left),y=parseInt(f)-parseInt(t.dragmousedownoffset.top),t.reordercolumn.css({left:v+"px",top:y+"px"}),r=!1,e>=l&&e<=l+t.host.width()&&f>=a&&f<=a+t.host.height()&&(r=!0),i=-1,r?(t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon")),s=t.columnsheader.coord(),p=s.top+t.columnsheader.height(),t.columnsdropline!=null&&(f>=s.top&&f<=p?i=t._handlereordercolumnsdroplines(e):t.columnsdropline.fadeOut("slow"))):(t.columnsdropline!=null&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"))),u)return n.preventDefault(),n.stopPropagation(),!1}});this.columnsbounds=[];this.removeHandler(n(document),e);this.addHandler(n(document),e,function(){var i,r,u;if(t.resizing)return!0;t.columnsbounds=[];i=t.host.coord().left;r=t.host.coord().top;t.showtoolbar&&(r+=t.toolbarheight);t.groupable&&t.showgroupsheader&&(r+=t.groupsheaderheight);u=0;n.each(t.columns.records,function(){var f=this,e;if(f.hidden)return t.columnsbounds[t.columnsbounds.length]={top:r,column:f,left:i,width:0,height:2+t.rowsheight},!0;u==0&&(i=t.rtl?t.hScrollBar.css("visibility")!="hidden"?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value);u++;e=2+t.columnsheight;t.columnshierarchy&&(r=n(f.uielement).coord().top,e=n(f.uielement).height());t.columnsbounds[t.columnsbounds.length]={top:r,column:f,left:i,width:f.width,height:e};i+=f.width})});this.removeHandler(n(document),o);this.addHandler(n(document),o,function(f){var y,p,w,c,o,h,l,a,s,e,v;if(t.resizing)return!0;t.__drag=!1;n(document.body).removeClass("jqx-disableselect");y=parseInt(f.pageX);p=parseInt(f.pageY);u&&(w=t.getTouches(f),c=w[0],y=parseInt(c.pageX),p=parseInt(c.pageY));var b=t.host.coord(),d=parseInt(b.left),k=parseInt(b.top),g=t.groupsheader.height();if(t.showtoolbar&&(k+=t.toolbarheight),t.columndragstarted=!1,t.dragmousedown=null,t.reordercolumn!=null&&(o=n.data(t.reordercolumn[0],"reorderrecord"),h=t.columns.records.indexOf(t.getcolumn(o)),t.reordercolumn.remove(),t.reordercolumn=null,l=0,l+=t._pinnedColumnsLength(),o!=null)){if(r&&i!=-1&&(a=i.index,a>=l&&(s=t.columns.records[a],s!=undefined))){if(e=t.columns.records.indexOf(t.getcolumn(s.datafield)),s.datafield==null&&(e=t.columns.records.indexOf(t.getcolumnbytext(s.text))),t.columngroups&&(v=s,h<e&&i.position=="before"&&(v=t.columns.records[e-1]),v.columngroup!=t.getcolumn(o).columngroup)){t.columnsdropline!=null&&(t.columnsdropline.remove(),t.columnsdropline=null);return}h<e?i.position=="before"?t.setcolumnindex(o,e-1):t.setcolumnindex(o,e):h>e&&t.setcolumnindex(o,e);t.autosavestate&&t.savestate&&t.savestate()}t.columnsdropline!=null&&(t.columnsdropline.remove(),t.columnsdropline=null)}})}},getcolumnbytext:function(t){var i=null;return this.columns.records&&n.each(this.columns.records,function(){if(this.text==t)return i=this,!1}),i},_handlereordercolumnsdroplines:function(t){var i=this,r=-1,e=i._pinnedColumnsLength(),o=parseInt(i.host.coord().left),f=o+i.host.width(),u=i.vScrollBar.css("visibility")!="hidden"?19:0;return i.rtl||(u=0),n.each(i.columnsbounds,function(n){if(n>=e){if(this.width==0)return!0;if(t<=this.left+this.width/2)return t>f?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",u+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),r={index:n,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>f)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",u+1+this.left+this.width);i.columnsdropline.css("top",this.top);i.columnsdropline.height(this.height);i.columnsdropline.fadeIn("slow");r={index:n,position:"after"}}}}),r},_createreordercolumn:function(t,i,r){var u=this,s=i,f,e,o,h;u.reordercolumn&&u.reordercolumn.remove();u.columnsdropline&&u.columnsdropline.remove();u.reordercolumn=n("<div><\/div>");f=t.clone();u.reordercolumn.css("z-index",999999);f.css("border-width","1px");f.css("opacity","0.4");e=n(f.find("."+u.toThemeProperty("jqx-grid-column-menubutton")));e.length>0&&e.css("display","none");o=n(f.find(".jqx-icon-close"));o.length>0&&o.css("display","none");u.reordercolumnicon=n('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"><\/div>');u.reordercolumnicon.addClass(u.toThemeProperty("jqx-grid-drag-icon"));u.reordercolumn.css("float","left");u.reordercolumn.css("position","absolute");h=u.host.coord();f.width(t.width()+16);u.reordercolumn.append(f);u.reordercolumn.height(t.height());u.reordercolumn.width(f.width());u.reordercolumn.append(u.reordercolumnicon);n(document.body).append(u.reordercolumn);f.css("margin-left",0);f.css("left",0);f.css("top",0);u.reordercolumn.css("left",s.left+u.dragmousedown.left);u.reordercolumn.css("top",s.top+u.dragmousedown.top);r!=undefined&&r&&(u.columnsdropline=n('<div style="z-index: 9999; display: none; position: absolute;"><\/div>'),u.columnsdropline.width(2),u.columnsdropline.addClass(u.toThemeProperty("jqx-grid-group-drag-line")),n(document.body).append(u.columnsdropline))},_handlecolumnsdragreorder:function(t,i){var r,f,e,u;this.reordercolumn&&this.reordercolumn.remove();this.columnsdropline&&this.columnsdropline.remove();this.dragmousedown=null;this.dragmousedownoffset=null;this.columndragstarted=!1;this.reordercolumn=null;r=this;f=!1;this.isTouchDevice()&&this.touchmode!==!0&&(f=!0);e="mousedown.drag";u="mousemove.drag";f?(e=n.jqx.mobile.getTouchEventName("touchstart")+".drag",u=n.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(){return!1});this.addHandler(i,e,function(i){var u,e,h,o,s;return!1==t.draggable?!0:r.resizing?!0:(r.__drag=!0,u=i.pageX,e=i.pageY,f&&(h=r.getTouches(i),o=h[0],u=o.pageX,e=o.pageY),r.dragmousedown={left:u,top:e},s=n(i.target).coord(),r.dragmousedownoffset={left:parseInt(u)-parseInt(s.left),top:parseInt(e-s.top)},!0)});this.addHandler(i,u,function(e){var s,h,c,o,l,a;if(!t.draggable||undefined==t.datafield||t.pinned||r.resizing)return!0;r.dragmousedown&&(s=e.pageX,h=e.pageY,f&&(c=r.getTouches(e),o=c[0],o!=undefined&&(s=o.pageX,h=o.pageY)),u={left:s,top:h},r.columndragstarted||r.reordercolumn!=null||(l=Math.abs(u.left-r.dragmousedown.left),a=Math.abs(u.top-r.dragmousedown.top),(l>3||a>3)&&(r._createreordercolumn(i,u,!0),n(document.body).addClass("jqx-disableselect"),n.data(r.reordercolumn[0],"reorderrecord",t.datafield))))})}})}(jqxBaseFramework),function(n){n.extend(n.jqx._jqxGrid.prototype,{autoresizecolumns:function(t,i){var b,c,k,g,l,w,tt,u,rt,it,d,o,y,p,e,ut,f,r;t!="cells"&&t!="all"&&t!="column"&&(t="all");b=this.that;c=this.getrows();this.pageable&&(c=this.dataview.rows,this.groupable&&(c=this.dataview.records));i=i==undefined?0:parseInt(i);k=c.length;k==undefined&&c!=undefined&&(g=[],n.each(c,function(){g.push(this)}),c=g,k=c.length);l=n("<span><\/span>");l.addClass(this.toThemeProperty("jqx-widget"));l.addClass(this.toThemeProperty("jqx-grid-cell"));n(document.body).append(l);var s=[],h=[],a=[],v=[],nt=b.host.width();for(b.vScrollBar[0].style.visibility!="hidden"&&(nt-=this.scrollbarsize+5),nt<0&&(nt=0),w=0;w<k;w++)for(tt=c[w],f=0;f<this.columns.records.length;f++)if(r=this.columns.records[f],!r.hidden){if(h[r.displayfield]==undefined&&(h[r.displayfield]=0),a[r.displayfield]==undefined&&(a[r.displayfield]=""),u=tt[r.displayfield],r.cellsformat!=""?n.jqx.dataFormat&&(n.jqx.dataFormat.isDate(u)?u=n.jqx.dataFormat.formatdate(u,r.cellsformat,this.gridlocalization):n.jqx.dataFormat.isNumber(u)&&(u=n.jqx.dataFormat.formatnumber(u,r.cellsformat,this.gridlocalization))):r.cellsrenderer&&(rt=b._defaultcellsrenderer(u,r),it=r.cellsrenderer(w,r.datafield,u,rt,r.getcolumnproperties(),tt),it!=undefined&&(u=n(it).text())),(t==undefined||t=="cells"||t=="all")&&u!=null){var s=u.toString().length,d=u.toString(),o=d.replace(/[^A-Z]/g,"").length;s>h[r.displayfield]&&(h[r.displayfield]=s,a[r.displayfield]=u,v[r.displayfield]=o);s>0&&s>=o&&(y=o*20+(s-o)*15,p=v[r.displayfield]*20+(h[r.displayfield]-v[r.displayfield])*15,y>p&&y>0&&p>0&&(h[r.displayfield]=s,a[r.displayfield]=u,v[r.displayfield]=o))}if(t=="column"||t=="all"){r.text.toString().length>h[r.displayfield]&&(a[r.displayfield]=r.text,h[r.displayfield]=r.text.length,d=r.text.toString(),o=d.replace(/[^A-Z]/g,"").length,v[r.displayfield]=o);var u=r.text,s=u.toString().length,d=u.toString(),o=d.replace(/[^A-Z]/g,"").length;s>0&&s>=o&&(y=o*20+(s-o)*15,p=v[r.displayfield]*20+(h[r.displayfield]-v[r.displayfield])*15,y>p&&y>0&&p>0&&(h[r.displayfield]=s,a[r.displayfield]=u,v[r.displayfield]=o))}}if(this.columns.records){for(f=0;f<this.columns.records.length;f++)r=this.columns.records[f],a[r.displayfield]==undefined&&(a[r.displayfield]=r.text),l[0].innerHTML=a[r.displayfield].toString(),e=l.outerWidth()+10,l.children().length>0&&(e=l.children().outerWidth()+10),n.jqx.browser.msie&&n.jqx.browser.version<8&&(e+=10),this.filterable&&this.showfilterrow&&(e+=5),e+=i,e>r.maxwidth&&(e=r.maxwidth),r._width!=undefined&&(r.__width=r._width),r._width=null,(r.maxwidth=="auto"||e<=r.maxwidth)&&(ut=r.width,e<r.minwidth&&(e=r.minwidth),r.width=e,r._percentagewidth!=undefined&&(r._percentagewidth=null),this._raiseEvent(14,{columntext:r.text,column:r.getcolumnproperties(),datafield:r.datafield,displayfield:r.displayfield,oldwidth:ut,newwidth:e}));for(l.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),f=0;f<this.columns.records.length;f++)r=this.columns.records[f],r.__width!=undefined&&(r._width=r.__width)}},autoresizecolumn:function(t,i,r){var p,u,d,h,w,f,k,v,y,e,tt;if((i!="cells"&&i!="all"&&i!="column"&&(i="all"),t==undefined)||(p=this.getrows(),this.pageable&&(p=this.dataview.rows,this.groupable&&(p=this.dataview.records)),u=this.getcolumn(t),u==undefined))return!1;r=r==undefined?0:parseInt(r);d=p.length;h=n("<span><\/span>");h.addClass(this.toThemeProperty("jqx-widget"));h.addClass(this.toThemeProperty("jqx-grid-cell"));n(document.body).append(h);var c=0,l="",a=0,g=this.that,b=g.host.width();if(g.vScrollBar[0].style.visibility!="hidden"&&(b-=this.scrollbarsize+5),b<0&&(b=0),i==undefined||i=="cells"||i=="all")for(w=0;w<d;w++)if(f=p[w][u.displayfield],u.cellsformat!=""?n.jqx.dataFormat&&(n.jqx.dataFormat.isDate(f)?f=n.jqx.dataFormat.formatdate(f,u.cellsformat,this.gridlocalization):n.jqx.dataFormat.isNumber(f)&&(f=n.jqx.dataFormat.formatnumber(f,u.cellsformat,this.gridlocalization))):u.cellsrenderer&&(k=u.cellsrenderer(w,u,f),k!=undefined&&(f=n(k).text())),f!=null){var o=f.toString().length,nt=f.toString(),s=nt.replace(/[^A-Z]/g,"").length;o>c&&(c=o,l=f,a=s);o>0&&o>=s&&(v=s*20+(o-s)*15,y=a*20+(c-a)*15,v>y&&v>0&&y>0&&(c=o,l=f,a=s))}if(i=="column"||i=="all"){u.text.toString().length>c&&(l=u.text);var f=u.text.toString(),o=f.toString().length,nt=f.toString(),s=nt.replace(/[^A-Z]/g,"").length;o>0&&o>=s&&(v=s*20+(o-s)*15,y=a*20+(c-a)*15,v>y&&v>0&&y>0&&(c=o,l=f,a=s))}l==undefined&&(l=u.text);h[0].innerHTML=l;e=h.outerWidth()+10;n.jqx.browser.msie&&n.jqx.browser.version<8&&(e+=5);this.filterable&&this.showfilterrow&&(e+=5);e+=r;h.remove();e>u.maxwidth&&(e=u.maxwidth);(u.maxwidth=="auto"||e<=u.maxwidth)&&(tt=u.width,e<u.minwidth&&(e=u.minwidth),u.width=e,u._width!=undefined&&(u.__width=u._width),u._width=null,u._percentagewidth!=undefined&&(u._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:u.text,column:u.getcolumnproperties(),datafield:t,displayfield:u.displayfield,oldwidth:tt,newwidth:e}),this._renderrows(this.virtualsizeinfo),u._width!=undefined&&(u._width=u.__width))},_handlecolumnsresize:function(){var t=this.that,i,u,r,f;if(this.columnsresize){i=!1;t.isTouchDevice()&&t.touchmode!==!0&&(i=!0);var e="mousemove.resize"+this.element.id,o="mousedown.resize"+this.element.id,s="mouseup.resize"+this.element.id;if(i)var e=n.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,o=n.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,s=n.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(n(document),e);this.addHandler(n(document),e,function(r){var y=n.data(document.body,"contextmenu"+t.element.id),f,u,a,v,o,c;if(y!=null&&t.autoshowcolumnsmenubutton)return!0;if(t.resizablecolumn!=null&&!t.disabled&&t.resizing&&t.resizeline!=null){var p=t.resizablecolumn.columnelement,s=t.host.coord(),h=parseInt(t.resizestartline.coord().left),l=h-t._startcolumnwidth,e=t.resizablecolumn.column.minwidth;if(e=e=="auto"?0:parseInt(e),f=t.resizablecolumn.column.maxwidth,f=f=="auto"?0:parseInt(f),u=r.pageX,i&&(a=t.getTouches(r),v=a[0],u=v.pageX),l+=e,o=f>0?h+f:0,c=f==0?!0:t._startcolumnwidth+u-h<f?!0:!1,t.rtl&&(c=!0),c)if(t.rtl){if(u>=s.left&&u<=s.left+t.host.width()&&(t.resizeline.css("left",u),i))return!1}else if(u>=s.left&&u>=l&&(o!=0&&r.pageX<o?t.resizeline.css("left",u):o==0&&t.resizeline.css("left",u),i))return!1}if(!i&&t.resizablecolumn!=null)return!1});this.removeHandler(n(document),o);this.addHandler(n(document),o,function(i){var e=n.data(document.body,"contextmenu"+t.element.id),r,u,f;if(e!=null&&t.autoshowcolumnsmenubutton)return!0;if(t.resizablecolumn!=null&&!t.disabled){if(r=t.resizablecolumn.columnelement,r.coord().top+r.height()+5<i.pageY){t.resizablecolumn=null;return}if(r.coord().top-5>i.pageY){t.resizablecolumn=null;return}t._startcolumnwidth=t.resizablecolumn.column.width;t.resizablecolumn.column._width=null;n(document.body).addClass("jqx-disableselect");n(document.body).addClass("jqx-position-reset");t.host.addClass("jqx-disableselect");t.content.addClass("jqx-disableselect");t._mouseDownResize=new Date;t.resizing=!0;t._resizecolumn=t.resizablecolumn.column;t.resizeline=t.resizeline||n('<div style="position: absolute;"><\/div>');t.resizestartline=t.resizestartline||n('<div style="position: absolute;"><\/div>');t.resizebackground=t.resizebackground||n('<div style="position: absolute; left: 0; top: 0; background: #000;"><\/div>');t.resizebackground.css("opacity",.01);t.resizebackground.css("cursor","col-resize");t.resizeline.css("cursor","col-resize");t.resizestartline.css("cursor","col-resize");t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline"));t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline"));n(document.body).append(t.resizeline);n(document.body).append(t.resizestartline);n(document.body).append(t.resizebackground);u=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left);t.resizebackground.css("top",t.host.coord().top);t.resizebackground.width(t.host.width());t.resizebackground.height(t.host.height());t.resizebackground.css("z-index",9999);f=function(n){var e,r,f;t.rtl?n.css("left",parseInt(u.left)):n.css("left",parseInt(u.left)+t._startcolumnwidth);var o=t._groupsheader(),i=o?t.groupsheader.height():0,s=t.showtoolbar?t.toolbarheight:0;i+=s;e=t.showstatusbar?t.statusbarheight:0;i+=e;r=0;t.pageable&&(r=t.pagerheight);f=t.hScrollBar.css("visibility")=="visible"?17:0;n.css("top",parseInt(u.top));n.css("z-index",99999);t.columngroups?n.height(t.host.height()+t.resizablecolumn.columnelement.height()-r-i-f-t.columngroupslevel*t.columnsheight):n.height(t.host.height()-r-i-f);t.enableanimations?n.show("fast"):n.show()};f(t.resizeline);f(t.resizestartline);t.dragmousedown=null}});u=function(){var f,u,r,s,i,h;if(n(document.body).removeClass("jqx-disableselect"),n(document.body).removeClass("jqx-position-reset"),(t.showfilterrow||t.showstatusbar||t.showtoolbar||t.enablebrowserselection)&&(t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect")),t.resizing){if(t._mouseUpResize=new Date,f=t._mouseUpResize-t._mouseDownResize,f<200){t.resizing=!1;t._resizecolumn!=null&&t.resizeline!=null&&t.resizeline.css("display")=="block"&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove());return}if(t.resizing=!1,!t.disabled)if(u=t.host.width(),t.vScrollBar[0].style.visibility!="hidden"&&(u-=20),u<0&&(u=0),t._resizecolumn!=null&&t.resizeline!=null&&t.resizeline.css("display")=="block"){var e=parseInt(t.resizeline.css("left")),o=parseInt(t.resizestartline.css("left")),r=t._startcolumnwidth+e-o;for(t.rtl&&(r=t._startcolumnwidth-e+o),s=t._resizecolumn.width,t._closemenu(),r<t._resizecolumn.minwidth&&(r=t._resizecolumn.minwidth),t._resizecolumn.width=r,t._resizecolumn._percentagewidth!=undefined&&(t._resizecolumn._percentagewidth=r/u*100),i=0;i<t._columns.length;i++)if(t._columns[i].datafield===t._resizecolumn.datafield){t._columns[i].width=t._resizecolumn.width;t._columns[i].width<t._resizecolumn.minwidth&&(t._columns[i].width=t._resizecolumn.minwidth);break}h=t.hScrollBar[0].style.visibility;t._updatecolumnwidths();t._updatecellwidths();t._raiseEvent(14,{columntext:t._resizecolumn.text,column:t._resizecolumn.getcolumnproperties(),datafield:t._resizecolumn.datafield,oldwidth:s,newwidth:r});t._renderrows(t.virtualsizeinfo);t.autosavestate&&t.savestate&&t.savestate();h!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0);t.rtl&&t._arrange();t._resizecolumn=null;t.resizeline.hide();t.resizestartline.hide();t.resizebackground.remove();t.resizablecolumn=null}else t.resizablecolumn=null}};try{(document.referrer!=""||window.frameElement)&&(r=null,window.top!=null&&window.top!=window.self&&window.parent&&document.referrer&&(r=document.referrer),r&&r.indexOf(document.location.host)!=-1&&(f=function(){u()},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f)))}catch(h){}this.removeHandler(n(document),s);this.addHandler(n(document),s,function(){var i=n.data(document.body,"contextmenu"+t.element.id);if(i!=null&&t.autoshowcolumnsmenubutton)return!0;u()})}}})}(jqxBaseFramework),function(n){n.extend(n.jqx._jqxGrid.prototype,{_handledblclick:function(t,i){var e,o,r,a,f,b,u;if(t.target!=null&&!i.disabled&&!n(t.target).ischildof(this.columnsheader)&&(t.which?e=t.which==3:t.button&&(e=t.button==2),!e)&&(t.which?o=t.which==2:t.button&&(o=t.button==1),!o)){var k=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0,d=this.showtoolbar?this.toolbarheight:0;s+=d;var v=this.host.offset(),h=t.pageX-v.left,g=t.pageY-k-v.top-s,c=this._hittestrow(h,g);if(c){var l=c.row,nt=c.index,y=t.target.className,p=this.table[0].rows[nt];if(p!=null){i.mousecaptured=!0;i.mousecaptureposition={left:t.pageX,top:t.pageY-s};var tt=this.hScrollInstance,it=tt.value,w=0,rt=this.groupable?this.groups.length:0;for(r=0;r<p.cells.length;r++)if((a=parseInt(n(this.columnsrow[0].cells[r]).css("left")),f=a-it,i.columns.records[r].pinned&&(f=a),u=this._getcolumnat(r),u==null||!u.hidden)&&(b=f+n(this.columnsrow[0].cells[r]).width(),b>=h&&h>=f)){w=r;break}l!=null&&(u=this._getcolumnat(w),y.indexOf("jqx-grid-group-expand")!=-1||y.indexOf("jqx-grid-group-collapse")!=-1||l.boundindex!=-1&&i.begincelledit(i.getboundindex(l),u.datafield,u.defaulteditorvalue))}}}},_getpreveditablecolumn:function(n){for(var i=this,t;n>0;){if(n--,t=i.getcolumnat(n),!t)return null;if(t.editable&&!t.hidden)return t}return null},_getnexteditablecolumn:function(n){for(var i=this,t;n<this.columns.records.length;){if(n++,t=i.getcolumnat(n),!t)return null;if(t.editable&&!t.hidden)return t}return null},_handleeditkeydown:function(t,i){var et,f,g,b,k,s,nt,ft,tt,l,o,it,v,a,y,d,rt,h,lt,r,u,e,p,c;if(i.handlekeyboardnavigation&&(et=i.handlekeyboardnavigation(t),et==!0)||(f=t.charCode?t.charCode:t.keyCode?t.keyCode:0,i.showfilterrow&&i.filterable&&this.filterrow&&n(t.target).ischildof(this.filterrow))||i.pageable&&n(t.target).ischildof(this.pager)||this.showtoolbar&&n(t.target).ischildof(this.toolbar)||this.showstatusbar&&n(t.target).ischildof(this.statusbar)||this.rowdetails&&n(t.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if(this.editmode==="selectedrow")return(f===13?this.endrowedit(this.editcell.row,!1):f===27&&this.endrowedit(this.editcell.row,!0),f===9)?!1:!0;if(this.editcell.columntype==null||this.editcell.columntype=="textbox"||this.editcell.columntype=="numberinput"||this.editcell.columntype=="combobox"||this.editcell.columntype=="datetimeinput"){if(f>=33&&f<=40&&i.selectionmode=="multiplecellsadvanced"){var ot=this.editcell.columntype=="textbox"||this.editcell.columntype==null?this.editcell.editor:this.editcell.editor.find("input"),w=i._selection(ot),st=ot.val().length;w.length>0&&this.editcell.columntype!="datetimeinput"&&(i._cancelkeydown=!0);w.start>0&&f==37&&(i._cancelkeydown=!0);w.start<st&&f==39&&this.editcell.columntype!="datetimeinput"&&(i._cancelkeydown=!0);this.editcell.columntype=="datetimeinput"&&f==39&&w.start+w.length<st&&(i._cancelkeydown=!0)}}else this.editcell.columntype=="dropdownlist"?(f==37||f==39&&i.selectionmode=="multiplecellsadvanced")&&(i._cancelkeydown=!1):this.selectionmode=="multiplecellsadvanced"&&this.editcell.columntype!="textbox"&&this.editcell.columntype!="numberinput"&&(i._cancelkeydown=!0);if(f==32&&i.editcell.columntype=="checkbox"&&(u=i.getcolumn(i.editcell.datafield),u.editable))return(e=!i.getcellvalue(i.editcell.row,i.editcell.column),u.cellbeginedit&&(p=u.cellbeginedit(i.editcell.row,u.datafield,u.columntype,!e),p==!1))?!1:(c=i.getrowdata(i.editcell.row),i.setcellvalue(i.editcell.row,i.editcell.column,e,!0),i._raiseEvent(18,{rowindex:i.editcell.row,row:c,datafield:i.editcell.column,oldvalue:!e,value:e,columntype:"checkbox"}),!1);if(f==9){var l=this.editcell.row,o=this.editcell.column,ht=o,ct=i._getcolumnindex(o),ut=!1,v=i.getrowvisibleindex(l);if(this.editchar="",this.editcell.validated!=!1)if(t.shiftKey?(u=i._getpreveditablecolumn(ct),u&&(o=u.datafield,ut=!0,i.selectionmode.indexOf("cell")!=-1&&(i.selectprevcell(l,ht),setTimeout(function(){i.ensurecellvisible(v,o)},10)))):(u=i._getnexteditablecolumn(ct),u&&(o=u.datafield,ut=!0,i.selectionmode.indexOf("cell")!=-1&&(i.selectnextcell(l,ht),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(v,o)},10)))),ut)i.begincelledit(l,o),this.editcell!=null&&this.editcell.columntype=="checkbox"&&this._renderrows(this.virtualsizeinfo);else return this.editcell!=null&&(i.endcelledit(l,o,!1),this._renderrows(this.virtualsizeinfo)),!0;return!1}if(f==13)return g=this.selectedcell,g&&(b=this.getrowvisibleindex(g.rowindex)),this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),this.selectionmode=="multiplecellsadvanced"&&(r=i.getselectedcell(),r!=null&&i.selectcell&&this.editcell==null&&r.rowindex+1<this.dataview.totalrecords&&(this.sortcolumn!=r.datafield?(v=this.getrowvisibleindex(r.rowindex),a=this.dataview.loadedrecords[v+1],a&&(!this.pageable||this.pageable&&v+1<(this.dataview.pagenum+1)*this.pagesize)&&(this.clearselection(!1),this.selectcell(this.getboundindex(a),r.datafield),r=this.getselectedcell(),this.ensurecellvisible(a.visibleindex,r.datafield))):g!=null&&(k=this.dataview.loadedrecords[b+1],k&&(!this.pageable||this.pageable&&b+1<this.pagesize?(this.clearselection(!1),this.selectcell(this.getboundindex(k),r.datafield)):this.pageable&&b+1>=this.pagesize&&(this.clearselection(!1),k=this.dataview.loadedrecords[b],this.selectcell(this.getboundindex(k),r.datafield)))))),!1;if(f==27)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{if(s=!1,f==113&&(s=!0),!t.ctrlKey&&!t.altKey&&(f>=48&&f<=57&&(this.editchar=String.fromCharCode(f),s=!0),f>=65&&f<=90?(this.editchar=String.fromCharCode(f),nt=!1,t.shiftKey?nt=t.shiftKey:t.modifiers&&(nt=!!(t.modifiers&4)),nt||(this.editchar=this.editchar.toLowerCase()),s=!0):f>=96&&f<=105&&(this.editchar=f-96,this.editchar=this.editchar.toString(),s=!0),ft=n(".jqx-grid").length,s=s&&(ft==1||ft>1&&i.focused),tt=n.data(document.body,"jqxgrid.edit"),tt!==undefined&&tt!==""&&(f===13||s)&&tt!=i.element.id))return!0;if((f==13||s)&&i.getselectedrowindex){l=i.getselectedrowindex();switch(i.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(l>=0){for(o="",it=0;it<i.columns.records.length;it++)if(u=i.getcolumnat(it),u.editable){o=u.datafield;break}i.begincelledit(l,o)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":r=i.getselectedcell();r!=null&&(u=i._getcolumnbydatafield(r.datafield),u.columntype!="checkbox"&&i.begincelledit(r.rowindex,r.datafield));break;case"multiplecellsadvanced":r=i.getselectedcell();r!=null&&(f==13?i.selectcell&&r.rowindex+1<i.dataview.totalrecords&&(v=this.getrowvisibleindex(r.rowindex),a=this.dataview.loadedrecords[v+1],a&&(this.clearselection(!1),this.selectcell(this.getboundindex(a),r.datafield),r=this.getselectedcell(),this.ensurecellvisible(a.visibleindex,r.datafield))):i.editmode!=="selectedrow"&&i.begincelledit(r.rowindex,r.datafield))}return!1}if(f==46&&(y=i.getselectedcells(),i.selectionmode.indexOf("cell")==-1&&i._getcellsforcopypaste&&(y=i._getcellsforcopypaste()),y!=null&&y.length>0)){for(d=0;d<y.length;d++)if((r=y[d],r.datafield)&&(u=i.getcolumn(r.datafield),rt=i.getcellvalue(r.rowindex,r.datafield),rt!==""&&u.editable&&i.enablekeyboarddelete)){if(h=null,u.columntype=="checkbox"&&(u.threestatecheckbox||(h=!1)),u.cellbeginedit&&(p=u.cellbeginedit(r.rowindex,u.datafield,u.columntype,h),p==!1))return!1;c=i.getrowdata(r.rowindex);i._raiseEvent(17,{rowindex:r.rowindex,row:c,datafield:r.datafield,value:rt});d==y.length-1?(i.setcellvalue(r.rowindex,r.datafield,h,!0),u.displayfield!=u.datafield&&i.setcellvalue(r.rowindex,u.displayfield,h,!0)):(i.setcellvalue(r.rowindex,r.datafield,h,!1),u.displayfield!=u.datafield&&i.setcellvalue(r.rowindex,u.displayfield,h,!0));u.cellendedit&&(lt=u.cellendedit(r.rowindex,u.datafield,u.columntype,h));i._raiseEvent(18,{rowindex:r.rowindex,row:c,datafield:r.datafield,oldvalue:rt,value:h})}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}if(f==32&&(r=i.getselectedcell(),r!=null&&(u=i.getcolumn(r.datafield),u.columntype=="checkbox"&&u.editable)))return(e=!i.getcellvalue(r.rowindex,r.datafield),u.cellbeginedit&&(p=u.cellbeginedit(r.rowindex,u.datafield,u.columntype,!e),p==!1))?!1:(c=i.getrowdata(r.rowindex),i._raiseEvent(17,{rowindex:r.rowindex,row:c,datafield:r.datafield,value:!e,columntype:"checkbox"}),i.setcellvalue(r.rowindex,r.datafield,e,!0),i._raiseEvent(18,{rowindex:r.rowindex,row:c,datafield:r.datafield,oldvalue:!e,value:e,columntype:"checkbox"}),!1)}return!0},begincelledit:function(t,i,r,u,f){var e=this.getcolumn(i),h,o,s,c,l,a,v;if((this._cellscache=[],i!=null)&&e.columntype!="number"&&e.columntype!="button"){if(this.groupable){if(this.groups.indexOf(i)>=0)return;if(this.groups.indexOf(e.displayfield)>=0)return}if(this.editrow==undefined){if(this.editcell){if(this.editcell.row==t&&this.editcell.column==i)return!0;if(this.editmode==="selectedrow"&&this.editcell.row==t)return;if(h=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1),!1==h)return}if(o=e.columntype=="checkbox"||e.columntype=="button",this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),e.editable){if(e.cellbeginedit&&(s=this.getcell(t,i),c=e.cellbeginedit(t,i,e.columntype,s!=null?s.value:null),c==!1))return;if(l=this.getrowvisibleindex(t),this.editcell=this.getcell(t,i),this.editcell&&(this.editcell.visiblerowindex=l,!this.editcell.editing&&(o||(this.editcell.editing=!0),this.editcell.columntype=e.columntype,this.editcell.defaultvalue=r,e.defaultvalue!=undefined&&(this.editcell.defaultvalue=e.defaultvalue),this.editcell.init=!0,e.columntype!="checkbox"&&this.editmode!="selectedrow"&&(a=this.getrowdata(t),this._raiseEvent(17,{rowindex:t,row:a,datafield:e.datafield,value:this.editcell.value,columntype:e.columntype})),n.data(document.body,"jqxgrid.edit",this.element.id),o||(v=this.getrowvisibleindex(t),u!==!1&&this.ensurecellvisible(v,e.datafield),f!==!1&&this._renderrows(this.virtualsizeinfo)),this.editcell)))return this.editcell.init=!1,!0}else{if(!this.editcell)return;this.editcell.editor=null;this.editcell.editing=!1;f!==!1&&this._renderrows(this.virtualsizeinfo);this.editcell=null}}}},getScrollTop:function(){if(this._py||(this._py=typeof pageYOffset!="undefined",this._py))return pageYOffset;var t=document.body,n=document.documentElement;return n=n.clientHeight?n:t,n.scrollTop},getScrollLeft:function(){if(typeof pageXOffset!="undefined")return pageXOffset;var t=document.body,n=document.documentElement;return n=n.clientHeight?n:t,n.scrollLeft},endcelledit:function(t,i,r,u,f){var e,o,c,s,l,a,p,h,v,w,b,k,y,d;if((t==undefined||i==undefined)&&(this.editcell&&(t=this.editcell.row,i=this.editcell.column),r==undefined&&(r=!0)),this.editcell){if(e=this.getcolumn(i),o=this,o.editmode==="selectedrow"){this.endrowedit(t,r);return}if(c=function(){if(f!=!1){if(o.isTouchDevice())return;if(!o.isNestedGrid){var n=o.getScrollTop(),t=o.getScrollLeft();try{o.element.focus();o.content.focus();n!=o.getScrollTop()&&window.scrollTo(t,n);setTimeout(function(){o.element.focus();o.content.focus();n!=o.getScrollTop()&&window.scrollTo(t,n)},10)}catch(i){}}}},e.columntype=="checkbox"||e.columntype=="button")return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;if(s=this._geteditorvalue(e),l=function(n){var r,f,o;n._hidecelleditor();e.cellendedit&&e.cellendedit(t,i,e.columntype,n.editcell.value,s);n.editchar=null;e.displayfield!=e.datafield?(r=n.getcellvalue(n.editcell.row,e.displayfield),f=n.editcell.value,oldvalue={value:f,label:r}):oldvalue=n.editcell.value;o=n.getrowdata(t);n._raiseEvent(18,{rowindex:t,row:o,datafield:i,displayfield:e.displayfield,oldvalue:s,value:s,columntype:e.columntype});n.editcell.editor=null;n.editcell.editing=!1;n.editcell=null;(u||u==undefined)&&n._renderrows(n.virtualsizeinfo);c();n.enablebrowserselection||(n.host.addClass("jqx-disableselect"),n.content.addClass("jqx-disableselect"))},r)return l(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),e.cellvaluechanging&&(a=e.cellvaluechanging(t,i,e.columntype,this.editcell.value,s),a!=undefined&&(s=a)),e.validation){p=this.getcell(t,i);try{if(h=e.validation(p,s),v=this.gridlocalization.validationstring,h.message!=undefined&&(v=h.message),w=typeof h=="boolean"?h:h.result,!w)return(h.showmessage==undefined||h.showmessage==!0)&&this._showvalidationpopup(t,i,v),this.editcell.validated=!1,!1}catch(g){return this._showvalidationpopup(t,i,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}return(e.displayfield!=e.datafield?(b=this.getcellvalue(this.editcell.row,e.displayfield),k=this.editcell.value,oldvalue={value:k,label:b}):oldvalue=this.editcell.value,y=this.getrowdata(t),e.cellendedit&&(d=e.cellendedit(t,i,e.columntype,this.editcell.value,s),d==!1))?(this._raiseEvent(18,{rowindex:t,row:y,datafield:i,displayfield:e.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:e.columntype}),l(this),!1):(this._raiseEvent(18,{rowindex:t,row:y,datafield:i,displayfield:e.displayfield,oldvalue:oldvalue,value:s,columntype:e.columntype}),this._hidecelleditor(!1),this.editcell!=undefined&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(t,i,s,u),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),n.jqx.browser.msie||c(),n.data(document.body,"jqxgrid.edit",""),!0)}},beginrowedit:function(t){var i=this,r,u;i._oldselectedrow=t;this._cellscache=[];r=!1;this.editmode!="selectedrow"&&(r=!0);r&&(u=this.editmode,this.editmode="selectedrow");n.each(this.columns.records,function(){var n,r;i.editable&&this.editable&&(n=i.getcell(t,this.datafield),i.begincelledit(t,this.datafield,null,!1,!1),r=i.getrowdata(t),i._raiseEvent(17,{rowindex:t,row:r,datafield:this.datafield,value:n.value,columntype:this.columntype}))});i.editcell&&(i.editcell.init=!0);this._renderrows(this.virtualsizeinfo);r&&(this.editmode=u)},endrowedit:function(t,i){var u=this,et,y,tt,l,a,b,k,it,c,d,g,rt,ut,nt,p,h,r,s,e,o,ft,v,f;if(!this.editcell||this.editcell.editor==undefined)return!1;for(et=function(){if(focus!=!1){if(u.isTouchDevice())return;if(!u.isNestedGrid){var n=u.getScrollTop(),t=u.getScrollLeft();try{u.element.focus();u.content.focus();n!=u.getScrollTop()&&window.scrollTo(t,n);setTimeout(function(){u.element.focus();u.content.focus();n!=u.getScrollTop()&&window.scrollTo(t,n)},10)}catch(i){}}}},y=!1,this.editmode!="selectedrow"&&(y=!0),y&&(tt=this.editmode,this.editmode="selectedrow"),l=!1,a={},this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),h=0;h<this.columns.records.length;h++)if((r=this.columns.records[h],r.editable)&&!r.hidden&&r.columntype!="checkbox"){if(e=this._geteditorvalue(r),b=function(n){var i,u,f,h;n._hidecelleditor();i=n.getcellvalue(n.editcell.row,r.displayfield);r.cellendedit&&r.cellendedit(t,s,r.columntype,i,e);n.editchar=null;r.displayfield!=r.datafield?(u=n.getcellvalue(n.editcell.row,r.displayfield),f=i,o={value:f,label:u}):o=i;h=n.getrowdata(t);n._raiseEvent(18,{rowindex:t,row:h,datafield:s,displayfield:r.displayfield,oldvalue:i,value:i,columntype:r.columntype});n.editcell.editing=!1},i){b(this);continue}if(r.cellvaluechanging&&(o=this.getcellvalue(this.editcell.row,r.displayfield),k=r.cellvaluechanging(t,s,r.columntype,o,e),k!=undefined&&(e=k)),s=r.datafield,r.validation){it=this.getcell(t,r.datafield);try{if(c=r.validation(it,e),d=this.gridlocalization.validationstring,c.message!=undefined&&(d=c.message),g=typeof c=="boolean"?c:c.result,!g){(c.showmessage==undefined||c.showmessage==!0)&&this._showvalidationpopup(t,s,d);l=!0;this.editcell[r.datafield].validated=!1;continue}}catch(ot){this._showvalidationpopup(t,s,this.gridlocalization.validationstring);this.editcell[r.datafield].validated=!1;l=!0;continue}}r.displayfield!=r.datafield?(rt=this.getcellvalue(this.editcell.row,r.displayfield),ut=this.editcell.value,o={value:ut,label:rt}):o=this.getcellvalue(this.editcell.row,r.displayfield);a[r.datafield]={newvalue:e,oldvalue:o}}if(nt={},p={},!l){for(this._hidecelleditor(!1),h=0;h<this.columns.records.length;h++)if((r=this.columns.records[h],s=r.datafield,!r.hidden)&&r.editable){if(f=this.getrowdata(t),r.columntype=="checkbox"){e=this.getcellvalue(t,r.displayfield);this._raiseEvent(18,{rowindex:t,row:f,datafield:r.datafield,displayfield:r.displayfield,oldvalue:e,value:e,columntype:r.columntype});continue}if(a[r.datafield]){if(e=a[r.datafield].newvalue,o=a[r.datafield].oldvalue,r.cellendedit&&(ft=r.cellendedit(t,s,r.columntype,o,e),ft==!1)){this._raiseEvent(18,{rowindex:t,row:f,datafield:s,displayfield:r.displayfield,oldvalue:o,value:o,columntype:r.columntype});b(this);continue}this.source.updaterow||this._raiseEvent(18,{rowindex:t,row:f,datafield:r.datafield,displayfield:r.displayfield,oldvalue:o,value:e,columntype:r.columntype});nt[r.datafield]=e;p[r.datafield]=o}}if(v=this.getrowid(t),f=this.getrowdata(t),n.each(nt,function(n,t){if(t&&t.label!=undefined){var i=u.getcolumn(n);f[i.displayfield]=t.label;f[i.datafield]=t.value}else f[n]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),n.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow){var w=!1,u=this,g=function(i){var o=u.source.updaterow,e,r,s;for(u.source.updaterow=null,!1==i?(n.each(p,function(n,t){if(t&&t.label!=undefined){var i=u.getcolumn(n);f[i.displayfield]=t.label;f[i.datafield]=t.value}else f[n]=t}),u.updaterow(v,f)):u.updaterow(v,f),e=0;e<u.columns.records.length;e++)r=u.columns.records[e],s=r.datafield,u._raiseEvent(18,{rowindex:t,datafield:r.datafield,row:f,displayfield:r.displayfield,oldvalue:p[r.datafield],value:f[r.displayfield],columntype:r.columntype});u.source.updaterow=o};try{w=this.source.updaterow(v,f,g);w==undefined&&(w=!0)}catch(ot){w=!1;return}}else this.updaterow(v,f),this._renderrows(this.virtualsizeinfo)}return y&&(this.editmode=tt),l},_selection:function(n){var t,i,u,f,r;return"selectionStart"in n[0]?(t=n[0],r=t.selectionEnd-t.selectionStart,{start:t.selectionStart,end:t.selectionEnd,length:r,text:t.value}):(i=document.selection.createRange(),i==null)?{start:0,end:t.value.length,length:0}:(u=n[0].createTextRange(),f=u.duplicate(),u.moveToBookmark(i.getBookmark()),f.setEndPoint("EndToStart",u),r=i.text.length,{start:f.text.length,end:f.text.length+i.text.length,length:r,text:i.text})},_setSelection:function(n,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(n,t);else{var r=i[0].createTextRange();r.collapse(!0);r.moveEnd("character",t);r.moveStart("character",n);r.select()}},findRecordIndex:function(n,t,i){var i=i,u,r,f,e;if(t)for(u=i.length,r=0;r<u;r++)if(f=i[r],e=f.label,n==e)return r;return-1},_destroyeditors:function(){var t=this;this.columns.records&&(n.each(this.columns.records,function(){var i=n.trim(this.datafield).split(" ").join(""),u,f,e,o,h,r,s;switch(this.columntype){case"dropdownlist":u=t.editors["dropdownlist_"+i];u&&(u.jqxDropDownList("destroy"),t.editors["dropdownlist_"+i]=null);break;case"combobox":f=t.editors["combobox_"+i];f&&(f.jqxComboBox("destroy"),t.editors["combobox_"+i]=null);break;case"datetimeinput":e=t.editors["datetimeinput_"+this.datafield];e&&(e.jqxDateTimeInput("destroy"),t.editors["datetimeinput_"+i]=null);break;case"numberinput":o=t.editors["numberinput_"+i];o&&(o.jqxNumberInput("destroy"),t.editors["numberinput_"+i]=null);break;case"custom":case"template":if(t.destroyeditor&&t.editors["templateeditor_"+i]&&(t.destroyeditor(t.editors["templateeditor_"+i]),t.editors["templateeditor_"+i]=null),t.destroyeditor)for(h=t.getrows.length(),r=0;r<h;r++)t.editors["customeditor_"+i+"_"+r]&&(t.destroyeditor(t.editors["customeditor_"+i+"_"+r],r),t.editors["customeditor_"+i+"_"+r]=null);break;case"textbox":default:s=t.editors["textboxeditor_"+i];s&&(t.removeHandler(s,"keydown"),t.editors["textbox_"+i]=null)}}),t.editors=[])},_showcelleditor:function(t,i,r,u,f){var at,k,g,c,ut,nt,y,tt,it,p,h,rt,ft,pt,et,ot,wt,yt,ht,o,ct,w,b;if(r!=undefined&&this.editcell!=null&&(i.columntype!="checkbox"||!i.editable)){f==undefined&&(f=!0);this.editmode=="selectedrow"&&(this.editchar="",f=!1);var v=i.datafield,l=n(r),s=this,e=this.editcell.editor,h=this.getcellvalue(t,v),lt=this.getcelltext(t,v),bt=this.hScrollInstance,kt=bt.value,a=parseInt(kt),dt=this.columns.records.indexOf(i);this.editcell.element=r;this.editcell.validated==!1&&(at="",this.validationpopup&&(at=this.validationpopup.text()),this._showvalidationpopup(t,v,at));k=function(n){s.hScrollInstance.isScrolling()||s.vScrollInstance.isScrolling()||f&&(s.isTouchDevice()||(n.focus(),s.gridcontent[0].scrollTop!=0&&(s.scrolltop(Math.abs(s.gridcontent[0].scrollTop)),s.gridcontent[0].scrollTop=0),s.gridcontent[0].scrollLeft!=0&&(s.gridcontent[0].scrollLeft=0)))};switch(i.columntype){case"dropdownlist":if(this.host.jqxDropDownList){if(r.innerHTML="",o=n.trim(i.datafield).split(" ").join(""),c=n.trim(i.displayfield).split(" ").join(""),o.indexOf(".")!=-1&&(o=o.replace(".","")),c.indexOf(".")!=-1&&(c=c.replace(".","")),g=this.editors["dropdownlist_"+o],e=g==undefined?n("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'><\/div>"):g,e.css("top",n(r).parent().position().top),this.oldhscroll?e.css("left",-a+parseInt(n(r).position().left)):e.css("left",parseInt(n(r).position().left)),i.pinned&&e.css("left",a+parseInt(n(r).position().left)),g==undefined&&(e.prependTo(this.table),e[0].id="dropdownlisteditor"+this.element.id+o,nt=this.source._source?!0:!1,y=null,nt?(tt={localdata:this.source.records,datatype:this.source.datatype,async:!1},y=new n.jqx.dataAdapter(tt,{autoBind:!1,async:!1,uniqueDataFields:[c],autoSort:!0,autoSortField:c})):y=new n.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[c],async:!1,autoSort:!0,autoSortField:c}),it=i.createeditor?!1:!0,e.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:it,theme:this.theme,width:l.width()-2,height:l.height()-2,displayMember:c,valueMember:v}),this.editors["dropdownlist_"+o]=e,i.createeditor&&i.createeditor(t,h,e)),i._requirewidthupdate&&e.jqxDropDownList({width:l.width()-2}),p=e.jqxDropDownList("listBox").visibleItems,i.createeditor||(p.length<8?e.jqxDropDownList("autoDropDownHeight",!0):e.jqxDropDownList("autoDropDownHeight",!1)),h=this.getcellvalue(t,c),rt=this.findRecordIndex(h,c,p),u&&(h!=""?e.jqxDropDownList("selectIndex",rt,!0):e.jqxDropDownList("selectIndex",-1)),!this.editcell)return;this.editcell.defaultvalue!=undefined&&e.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0);f&&e.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){if(r.innerHTML="",o=n.trim(i.datafield).split(" ").join(""),c=n.trim(i.displayfield).split(" ").join(""),o.indexOf(".")!=-1&&(o=o.replace(".","")),c.indexOf(".")!=-1&&(c=c.replace(".","")),ut=this.editors["combobox_"+o],e=ut==undefined?n("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'><\/div>"):ut,e.css("top",n(r).parent().position().top),this.oldhscroll?e.css("left",-a+parseInt(n(r).position().left)):e.css("left",parseInt(n(r).position().left)),i.pinned&&e.css("left",a+parseInt(n(r).position().left)),ut==undefined&&(e.prependTo(this.table),e[0].id="comboboxeditor"+this.element.id+o,nt=this.source._source?!0:!1,y=null,nt?(tt={localdata:this.source.records,datatype:this.source.datatype,async:!1},y=new n.jqx.dataAdapter(tt,{autoBind:!1,async:!1,uniqueDataFields:[c],autoSort:!0,autoSortField:c})):y=new n.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[c],async:!1,autoSort:!0,autoSortField:c}),it=i.createeditor?!1:!0,e.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:it,theme:this.theme,width:l.width()-2,height:l.height()-2,displayMember:c,valueMember:v}),e.removeAttr("tabindex"),e.find("div").removeAttr("tabindex"),this.editors["combobox_"+o]=e,i.createeditor&&i.createeditor(t,h,e)),i._requirewidthupdate&&e.jqxComboBox({width:l.width()-2}),p=e.jqxComboBox("listBox").visibleItems,i.createeditor||(p.length<8?e.jqxComboBox("autoDropDownHeight",!0):e.jqxComboBox("autoDropDownHeight",!1)),h=this.getcellvalue(t,c),rt=this.findRecordIndex(h,c,p),u&&(h!=""?(e.jqxComboBox("selectIndex",rt,!0),e.jqxComboBox("val",h)):(e.jqxComboBox("selectIndex",-1),e.jqxComboBox("val",h))),!this.editcell)return;this.editcell.defaultvalue!=undefined&&e.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0);this.editchar&&this.editchar.length>0&&e.jqxComboBox("input").val(this.editchar);f&&setTimeout(function(){if(k(e.jqxComboBox("input")),e.jqxComboBox("_setSelection",0,0),s.editchar)e.jqxComboBox("_setSelection",1,1),s.editchar=null;else{var n=e.jqxComboBox("input").val();e.jqxComboBox("_setSelection",0,n.length)}},10)}break;case"datetimeinput":this.host.jqxDateTimeInput&&(r.innerHTML="",o=n.trim(i.datafield).split(" ").join(""),o.indexOf(".")!=-1&&(o=o.replace(".","")),ft=this.editors["datetimeinput_"+o],e=ft==undefined?n("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'><\/div>"):ft,e.show(),e.css("top",n(r).parent().position().top),this.oldhscroll?e.css("left",-a+parseInt(n(r).position().left)):e.css("left",parseInt(n(r).position().left)),i.pinned&&e.css("left",a+parseInt(n(r).position().left)),ft==undefined&&(e.prependTo(this.table),e[0].id="datetimeeditor"+this.element.id+o,pt={calendar:this.gridlocalization},e.jqxDateTimeInput({enableBrowserBoundsDetection:!0,localization:pt,_editor:!0,theme:this.theme,rtl:this.rtl,width:l.width(),height:l.height(),formatString:i.cellsformat}),this.editors["datetimeinput_"+o]=e,i.createeditor&&i.createeditor(t,h,e)),i._requirewidthupdate&&e.jqxDateTimeInput({width:l.width()-2}),u&&(h!=""&&h!=null?(et=new Date(h),et=="Invalid Date"&&this.source.getvaluebytype&&(et=this.source.getvaluebytype(h,{name:i.datafield,type:"date"})),e.jqxDateTimeInput("setDate",et)):e.jqxDateTimeInput("setDate",null),this.editcell.defaultvalue!=undefined&&e.jqxDateTimeInput("setDate",this.editcell.defaultvalue)),f&&setTimeout(function(){k(e.jqxDateTimeInput("dateTimeInput"))},10));break;case"numberinput":if(this.host.jqxNumberInput){if(r.innerHTML="",o=n.trim(i.datafield).split(" ").join(""),o.indexOf(".")!=-1&&(o=o.replace(".","")),ot=this.editors["numberinput_"+o],e=ot==undefined?n("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='numbereditor'><\/div>"):ot,e.show(),e.css("top",n(r).parent().position().top),this.oldhscroll?e.css("left",-a+parseInt(n(r).position().left)):e.css("left",parseInt(n(r).position().left)),i.pinned&&e.css("left",a+parseInt(n(r).position().left)),ot==undefined){e.prependTo(this.table);e[0].id="numbereditor"+this.element.id+o;var vt="",d="left",st=2;i.cellsformat?i.cellsformat.indexOf("c")!=-1?(vt=this.gridlocalization.currencysymbol,d=this.gridlocalization.currencysymbolposition,d=d=="before"?"left":"right",i.cellsformat.length>1&&(st=parseInt(i.cellsformat.substring(1),10))):i.cellsformat.indexOf("p")!=-1&&(vt=this.gridlocalization.percentsymbol,d="right",i.cellsformat.length>1&&(st=parseInt(i.cellsformat.substring(1),10))):st=0;e.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:st,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:l.width()-1,height:l.height()-1,spinButtons:!0,symbol:vt,symbolPosition:d});this.editors["numberinput_"+o]=e;i.createeditor&&i.createeditor(t,h,e)}i._requirewidthupdate&&e.jqxNumberInput({width:l.width()-2});u&&(h!=""&&h!=null?(wt=h,e.jqxNumberInput("setDecimal",wt)):e.jqxNumberInput("setDecimal",0),this.editcell.defaultvalue!=undefined&&e.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0&&(yt=parseInt(this.editchar),isNaN(yt)||e.jqxNumberInput("setDecimal",yt)),f&&setTimeout(function(){var t,n;k(e.jqxNumberInput("numberInput"));e.jqxNumberInput("_setSelectionStart",0);s.editchar?(i.cellsformat.length>0?e.jqxNumberInput("_setSelectionStart",2):e.jqxNumberInput("_setSelectionStart",1),s.editchar=null):(t=e.jqxNumberInput("spinButtons"),t?(n=e.jqxNumberInput("numberInput").val(),s._setSelection(e.jqxNumberInput("numberInput")[0],n.length,n.length)):(n=e.jqxNumberInput("numberInput").val(),s._setSelection(e.jqxNumberInput("numberInput")[0],0,n.length)))},10))}break;case"custom":r.innerHTML="";o=n.trim(i.datafield).split(" ").join("");o.indexOf(".")!=-1&&(o=o.replace(".",""));ht=this.editors["customeditor_"+o+"_"+t];e=ht==undefined?n("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='customeditor'><\/div>"):ht;e.show();e.css("top",n(r).parent().position().top);this.oldhscroll?e.css("left",-a+parseInt(n(r).position().left)):e.css("left",parseInt(n(r).position().left));i.pinned&&e.css("left",a+parseInt(n(r).position().left));ht==undefined&&(e.prependTo(this.table),e[0].id="customeditor"+this.element.id+o+"_"+t,this.editors["customeditor_"+o+"_"+t]=e,w=l.width()-1,b=l.height()-1,e.width(w),e.height(b),i.createeditor&&i.createeditor(t,h,e,lt,w,b,this.editchar));i._requirewidthupdate&&e.width(l.width()-2);break;case"template":r.innerHTML="";o=n.trim(i.datafield).split(" ").join("");o.indexOf(".")!=-1&&(o=o.replace(".",""));ct=this.editors["templateeditor_"+o];e=ct==undefined?n("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='templateeditor'><\/div>"):ct;e.show();e.css("top",n(r).parent().position().top);this.oldhscroll?e.css("left",-a+parseInt(n(r).position().left)):e.css("left",parseInt(n(r).position().left));i.pinned&&e.css("left",a+parseInt(n(r).position().left));ct==undefined&&(e.prependTo(this.table),e[0].id="templateeditor"+this.element.id+o,this.editors["templateeditor_"+o]=e,w=l.width()-1,b=l.height()-1,e.width(w),e.height(b),i.createeditor&&i.createeditor(t,h,e,lt,w,b,this.editchar));i._requirewidthupdate&&e.width(l.width()-2);break;case"textbox":default:r.innerHTML="";e=this.editors["textboxeditor_"+i.datafield]||n("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>");e[0].id="textboxeditor"+this.element.id+i.datafield;e.appendTo(l);this.rtl&&e.css("direction","rtl");(u||e[0].className=="")&&(e.addClass(this.toThemeProperty("jqx-input")),e.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?e.val(this.editchar):(i.cellsformat!=""&&(h=this.getcelltext(t,v)),h==undefined&&(h=""),e.val(h)),this.editcell.defaultvalue!=undefined&&e.val(this.editcell.defaultvalue),e.width(l.width()+1),e.height(l.height()+1),i.createeditor&&i.createeditor(t,h,e),i.cellsformat!=""&&(i.cellsformat.indexOf("p")!=-1||i.cellsformat.indexOf("c")!=-1||i.cellsformat.indexOf("n")!=-1||i.cellsformat.indexOf("f")!=-1)&&(this.editors["textboxeditor_"+i.datafield]||e.keydown(function(n){var h=n.charCode?n.charCode:n.keyCode?n.keyCode:0,c=String.fromCharCode(h),l=parseInt(c),f,r,t,u,o;if(isNaN(l)||s._selection(e).length>0||(f="",r=e.val(),i.cellsformat.length>1?(t=parseInt(i.cellsformat.substring(1)),isNaN(t)&&(t=0)):t=0,t>0&&r.indexOf(s.gridlocalization.decimalseparator)!=-1&&s._selection(e).start>r.indexOf(s.gridlocalization.decimalseparator)))return!0;for(u=0;u<r.length-t;u++)o=r.substring(u,u+1),o.match(/^[0-9]+$/)!=null&&(f+=o);if(f.length>=11)return!1})));this.editors["textboxeditor_"+i.datafield]=e;u&&f&&setTimeout(function(){k(e);s.editchar?(s._setSelection(e[0],1,1),s.editchar=null):s._setSelection(e[0],0,e.val().length)},25)}(e&&(e[0].style.zIndex=1+r.style.zIndex,n.jqx.browser.msie&&n.jqx.browser.version<8&&(e[0].style.zIndex=1+this.columns.records.length+r.style.zIndex),e.css("display","block"),this.editcell.editor=e,this.editcell[v]?this.editcell[v].editor=e:(this.editcell[v]={},this.editcell[v].editor=e)),u&&i.initeditor&&i.initeditor(t,h,e,lt,this.editchar),s.isTouchDevice())||setTimeout(function(){s.content&&(s.content[0].scrollTop=0,s.content[0].scrollLeft=0);s.gridcontent&&(s.gridcontent[0].scrollLeft=0,s.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(n,t,i){var r,f;try{"selectionStart"in n?n.setSelectionRange(t,i):(r=n.createTextRange(),r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r.select())}catch(u){f=u}},_hideeditors:function(){var n,t;if(this.editcells!=null){n=this;for(t in this.editcells)n.editcell=n.editcells[t],n._hidecelleditor()}},_hidecelleditor:function(n){var u,i,t,r;if(this.editcell){if(this.editmode==="selectedrow"){for(u=0;u<this.columns.records.length;u++)if(i=this.columns.records[u],this.editcell[i.datafield]&&this.editcell[i.datafield].editor){this.editcell[i.datafield].editor.hide();t=this.editcell[i.datafield].editor;switch(i.columntype){case"dropdownlist":t.jqxDropDownList({closeDelay:0});t.jqxDropDownList("hideListBox");t.jqxDropDownList({closeDelay:300});break;case"combobox":t.jqxComboBox({closeDelay:0});t.jqxComboBox("hideListBox");t.jqxComboBox({closeDelay:300});break;case"datetimeinput":t.jqxDateTimeInput("isOpened")&&(t.jqxDateTimeInput({closeDelay:0}),t.jqxDateTimeInput("hideCalendar"),t.jqxDateTimeInput({closeDelay:300}))}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());return}if(this.editcell.columntype!="checkbox"){if(this.editcell.editor){this.editcell.editor.hide();switch(this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0});this.editcell.editor.jqxDropDownList("hideListBox");this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0});this.editcell.editor.jqxComboBox("hideListBox");this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":r=this.editcell.editor;r.jqxDateTimeInput("isOpened")&&(r.jqxDateTimeInput({closeDelay:0}),r.jqxDateTimeInput("hideCalendar"),r.jqxDateTimeInput({closeDelay:300}))}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());this.isNestedGrid||n!=!1&&this.element.focus()}}},_geteditorvalue:function(t){var i=new String,r,u,c,h,l,a,v,e,o,s,y,p,f,w;if(!this.editcell)return null;if(r=this.editcell.editor,this.editmode=="selectedrow"&&this.editcell[t.datafield]&&(r=this.editcell[t.datafield].editor),r){switch(t.columntype){case"textbox":default:if(i=r.val(),t.cellsformat!=""){if(u="string",c=this.source.datafields||(this.source._source?this.source._source.datafields:null),c&&(h="",n.each(c,function(){if(this.name==t.displayfield)return this.type&&(h=this.type),!1}),h&&(u=h)),l=u==="number"||u==="float"||u==="int"||u==="integer",a=u==="date"||u==="time",l||u==="string"&&(t.cellsformat.indexOf("p")!=-1||t.cellsformat.indexOf("c")!=-1||t.cellsformat.indexOf("n")!=-1||t.cellsformat.indexOf("f")!=-1)){if(i===""&&t.nullable)return"";for(i.indexOf(this.gridlocalization.currencysymbol)>-1&&(i=i.replace(this.gridlocalization.currencysymbol,"")),v=function(n,t,i){var r=n,u;if(t==i)return n;for(u=r.indexOf(t);u!=-1;)r=r.replace(t,i),u=r.indexOf(t);return r},i=v(i,this.gridlocalization.thousandsseparator,""),i=i.replace(this.gridlocalization.decimalseparator,"."),i.indexOf(this.gridlocalization.percentsymbol)>-1&&(i=i.replace(this.gridlocalization.percentsymbol,"")),e="",o=0;o<i.length;o++)s=i.substring(o,o+1),s==="-"&&(e+="-"),s==="."&&(e+="."),s.match(/^[0-9]+$/)!=null&&(e+=s);i=e;i=i.replace(/ /g,"");i=new Number(i);isNaN(i)&&(i="")}if(a||u==="string"&&(t.cellsformat.indexOf("H")!=-1||t.cellsformat.indexOf("m")!=-1||t.cellsformat.indexOf("M")!=-1||t.cellsformat.indexOf("y")!=-1||t.cellsformat.indexOf("h")!=-1||t.cellsformat.indexOf("d")!=-1)){if(i===""&&t.nullable)return"";y=i;i=new Date(i);(i=="Invalid Date"||i==null)&&(n.jqx.dataFormat&&(i=n.jqx.dataFormat.tryparsedate(y,this.gridlocalization)),(i=="Invalid Date"||i==null)&&(i=""))}}t.displayfield!=t.datafield&&(i={label:i,value:i});break;case"checkbox":r.jqxCheckBox&&(i=r.jqxCheckBox("checked"));break;case"datetimeinput":if(r.jqxDateTimeInput){if(r.jqxDateTimeInput({isEditing:!1}),r.jqxDateTimeInput("_validateValue"),i=r.jqxDateTimeInput("getDate"),i==null)return null;i=new Date(i.toString());t.displayfield!=t.datafield&&(i={label:i,value:i})}break;case"dropdownlist":r.jqxDropDownList&&(p=r.jqxDropDownList("selectedIndex"),f=r.jqxDropDownList("listBox").getVisibleItem(p),i=t.displayfield!=t.datafield?f?{label:f.label,value:f.value}:"":f?f.label:"",i==null&&(i=""));break;case"combobox":r.jqxComboBox&&(i=r.jqxComboBox("val"),t.displayfield!=t.datafield&&(f=r.jqxComboBox("getSelectedItem"),f!=null&&(i={label:f.label,value:f.value})),i==null&&(i=""));break;case"numberinput":r.jqxNumberInput&&(this.touchdevice&&r.jqxNumberInput("_doTouchHandling"),w=r.jqxNumberInput("getDecimal"),i=new Number(w),i=parseFloat(i),isNaN(i)&&(i=0),t.displayfield!=t.datafield&&(i={label:i,value:i}))}t.geteditorvalue&&(i=this.editmode=="selectedrow"?t.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,t.datafield),r):t.geteditorvalue(this.editcell.row,this.editcell.value,r))}return i},hidevalidationpopups:function(){this.popups&&(n.each(this.popups,function(){this.validation.remove();this.validationrow.remove()}),this.popups=[]);this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(t,i,r){var r,u,f,e,h,o,c,v;r==undefined&&(r=this.gridlocalization.validationstring);u=n("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'><\/div>");f=n("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'><\/div>");u.html(r);f.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));u.addClass(this.toThemeProperty("jqx-grid-validation"));u.addClass(this.toThemeProperty("jqx-rc-all"));u.prependTo(this.table);f.prependTo(this.table);var y=this.hScrollInstance,p=y.value,s=parseInt(p),l=this.getcolumn(i).uielement,a=n(this.hittestinfo[t].visualrow);u.css("top",parseInt(a.position().top)+30+"px");e=parseInt(u.css("top"));f.css("top",e-12);f.removeClass();f.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));h=!1;e>=this._gettableheight()&&(f.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),f.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),e=parseInt(a.position().top)-this.rowsheight-5,e<0&&(e=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),h=!0),u.css("top",e+"px"),f.css("top",e+u.outerHeight()-9));o=-s+parseInt(n(l).position().left);f.css("left",s+o+30);c=u.width();c+o>this.host.width()-20&&(v=c+o-this.host.width()+40,o-=v);h?u.css("left",s+parseInt(n(l).position().left)-u.outerWidth()):u.css("left",s+o);u.show();f.show();this.popups||(this.popups=[]);this.popups[this.popups.length]={validation:u,validationrow:f}},_showvalidationpopup:function(t,i,r){var u=this.editcell,c=this.editcell.editor,e,s,f,v,l,o,a,y;if((this.editmode=="selectedrow"&&(u=this.editcell[i],u&&u.editor&&(c=u.editor,u.element=c)),c)&&(!this.validationpopup||!n.jqx.isHidden(this.validationpopup)||(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,i!==undefined||r!==undefined||!this.editors||this.editors.length!==0))){this.validationpopup?this.validationpopup.html(r):(e=n("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'><\/div>"),s=n("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'><\/div>"),e.html(r),s.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),e.addClass(this.toThemeProperty("jqx-grid-validation")),e.addClass(this.toThemeProperty("jqx-rc-all")),e.prependTo(this.table),s.prependTo(this.table),this.validationpopup=e,this.validationpopuparrow=s);var p=this.hScrollInstance,w=p.value,h=parseInt(w);this.validationpopup.css("top",parseInt(n(u.element).parent().position().top)+(this.rowsheight+5)+"px");f=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",f-12);this.validationpopuparrow.removeClass();this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));v=this._gettableheight();l=!1;f>=v&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),f=parseInt(n(u.element).parent().position().top)-this.rowsheight-5,f<0&&(f=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),l=!0),this.validationpopup.css("top",f+"px"),this.validationpopuparrow.css("top",f+this.validationpopup.outerHeight()-9));o=-h+parseInt(n(u.element).position().left);this.validationpopuparrow.css("left",h+o+30);a=this.validationpopup.width();a+o>this.host.width()-20&&(y=a+o-this.host.width()+40,o-=y);l?this.validationpopup.css("left",h+parseInt(n(u.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",h+o);this.editcell.editor.css("display")=="none"?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework),function(n){n.extend(n.jqx._jqxGrid.prototype,{exportdata:function(t,i,r,u,f,e,o){var c,u,b,a,l,et,g,nt,tt,it,ht;if(!n.jqx.dataAdapter.ArrayExporter)throw"jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Missing reference to jqxdata.export.js!";if(r==undefined&&(r=!0),c=this,u==undefined&&(u=this.getrows(),u.length==0))throw"No data to export.";this.exporting=!0;this.pageable||(this.loadondemand=!0);this.altrows&&this._renderrows(this.virtualsizeinfo);var rt=f!=undefined?f:!1,h={},s={},p=this.host.find(".jqx-grid-cell:first"),w=this.host.find(".jqx-grid-cell-alt:first");p.removeClass(this.toThemeProperty("jqx-grid-cell-selected"));p.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));w.removeClass(this.toThemeProperty("jqx-grid-cell-selected"));w.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));p.removeClass(this.toThemeProperty("jqx-grid-cell-hover"));p.removeClass(this.toThemeProperty("jqx-fill-state-hover"));w.removeClass(this.toThemeProperty("jqx-grid-cell-hover"));w.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var y="cell",k=1,ut="column",ft=1,d=[];for(b=0;b<this.columns.records.length;b++)if(a=this.columns.records[b],a.cellclassname!="")if(a.customCellStyles=[],typeof a.cellclassname=="string")for(l=0;l<u.length;l++)a.customCellStyles[l]=a.cellclassname;else for(l=0;l<u.length;l++)et=this.getrowboundindex(l),g=a.cellclassname(et,a.displayfield,u[l][a.displayfield],u[l]),g&&(a.customCellStyles[l]=g);if(nt=[],n.each(this.columns.records,function(i){var o=n(c.table[0].rows[0].cells[i]),a,f,v,p,w,l,e;if(c.table[0].rows.length>1&&(a=n(c.table[0].rows[1].cells[i])),f=this,v=function(n){if(n.removeClass(c.toThemeProperty("jqx-grid-cell-selected")),n.removeClass(c.toThemeProperty("jqx-fill-state-pressed")),n.removeClass(c.toThemeProperty("jqx-grid-cell-hover")),n.removeClass(c.toThemeProperty("jqx-fill-state-hover")),f.customCellStyles)for(var t in f.customCellStyles)n.removeClass(f.customCellStyles[t])},v(o),a&&v(a),this.displayfield==null)return!0;if(c.showaggregates&&c.getcolumnaggregateddata&&d.push(c.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,u)),p=c._getexportcolumntype(this),this.exportable&&(!this.hidden||rt)&&(h[this.displayfield]={},h[this.displayfield].text=this.text,h[this.displayfield].width=parseInt(this.width),isNaN(h[this.displayfield].width)&&(h[this.displayfield].width=60),h[this.displayfield].formatString=this.cellsformat,h[this.displayfield].localization=c.gridlocalization,h[this.displayfield].type=p,h[this.displayfield].cellsAlign=this.cellsalign,h[this.displayfield].hidden=!r,h[this.displayfield].displayfield=this.displayfield,nt.push(h[this.displayfield])),y="cell"+k,w=n(this.element),this.element==undefined&&(w=n(this.uielement)),ut="column"+ft,t=="html"||t=="xls"||t=="pdf"){if(l=function(n,i,r,u,f,e,o,c,l){s[n]={};s[n]["font-size"]=i.css("font-size");s[n]["font-weight"]=i.css("font-weight");s[n]["font-style"]=i.css("font-style");s[n]["background-color"]=e._getexportcolor(i.css("background-color"));s[n].color=e._getexportcolor(i.css("color"));s[n]["border-color"]=e._getexportcolor(i.css("border-top-color"));r?s[n]["text-align"]=f.align:(s[n]["text-align"]=f.cellsalign,s[n].formatString=f.cellsformat,s[n].dataType=p);(t=="html"||t=="pdf")&&(s[n]["border-top-width"]=i.css("border-top-width"),s[n]["border-left-width"]=i.css("border-left-width"),s[n]["border-right-width"]=i.css("border-right-width"),s[n]["border-bottom-width"]=i.css("border-bottom-width"),s[n]["border-top-style"]=i.css("border-top-style"),s[n]["border-left-style"]=i.css("border-left-style"),s[n]["border-right-style"]=i.css("border-right-style"),s[n]["border-bottom-style"]=i.css("border-bottom-style"),r?(o==0&&(s[n]["border-left-width"]=i.css("border-right-width")),s[n]["border-top-width"]=i.css("border-right-width"),s[n]["border-bottom-width"]=i.css("border-bottom-width")):o==0&&(s[n]["border-left-width"]=i.css("border-right-width")),s[n].height=i.css("height"));f.exportable&&(!f.hidden||rt)&&(c==!0?(h[f.displayfield].customCellStyles||(h[f.displayfield].customCellStyles=[]),h[f.displayfield].customCellStyles[l]=n):r?h[f.displayfield].style=n:u?h[f.displayfield].cellAltStyle=n:h[f.displayfield].cellStyle=n)},l(ut,w,!0,!1,this,c,i),ft++,l(y,o,!1,!1,this,c,i),c.altrows&&(y="cellalt"+k,l(y,a,!1,!0,this,c,i)),this.customCellStyles){for(e in f.customCellStyles)o.removeClass(f.customCellStyles[e]);for(e in f.customCellStyles)o.addClass(f.customCellStyles[e]),l(y+f.customCellStyles[e],o,!1,!1,this,c,i,!0,e),o.removeClass(f.customCellStyles[e])}k++}}),n.each(this.columns.records,function(){h[this.displayfield]&&(h[this.displayfield].columnsDataFields=nt)}),this.showaggregates){var v=[],ot=t=="xls"?"AG":"",st=this.groupable?this.groups.length:0;this.rowdetails&&st++;d.length>0&&(n.each(this.columns.records,function(n){var t;if(this.aggregates)for(t=0;t<this.aggregates.length;t++)if(v[t]||(v[t]={}),v[t]){var r=c._getaggregatename(this.aggregates[t]),u=c._getaggregatetype(this.aggregates[t]),i=d[n-st];i&&(v[t][this.displayfield]=ot+r+": "+i[u])}}),n.each(this.columns.records,function(){for(var n=0;n<v.length;n++)v[n][this.displayfield]==undefined&&(v[n][this.displayfield]=ot)}));n.each(v,function(){u.push(this)})}if(tt=this,it=n.jqx.dataAdapter.ArrayExporter(u,h,s),i==undefined)return this._renderrows(this.virtualsizeinfo),ht=it.exportTo(t),this.showaggregates&&n.each(v,function(){u.pop(this)}),setTimeout(function(){tt.exporting=!1},50),ht;it.exportToFile(t,i,e,o);this.showaggregates&&n.each(v,function(){u.pop(this)});this._renderrows(this.virtualsizeinfo);setTimeout(function(){tt.exporting=!1},50)},_getexportcolor:function(n){var t=n,i,s;if(n=="transparent"&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),t.toString().indexOf("rgb")!=-1){if(i=t.split(","),t.toString().indexOf("rgba")!=-1){var r=parseInt(i[0].substring(5)),u=parseInt(i[1]),f=parseInt(i[2]),h=parseInt(i[3].substring(1,4)),e={r:r,g:u,b:f},o=this._rgbToHex(e);return r==0&&u==0&&f==0&&h==0?"#ffffff":"#"+o}var r=parseInt(i[0].substring(4)),u=parseInt(i[1]),f=parseInt(i[2].substring(1,4)),e={r:r,g:u,b:f},o=this._rgbToHex(e);return"#"+o}return t.toString().indexOf("#")!=-1&&t.toString().length==4&&(s=t.toString().substring(1,4),t+=s),t},_rgbToHex:function(n){return this._intToHex(n.r)+this._intToHex(n.g)+this._intToHex(n.b)},_intToHex:function(n){var t=parseInt(n).toString(16);return t.length==1&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var e=this,u="string",o=e.source.datafields||(e.source._source?e.source._source.datafields:null),f,i,r,s;if(o&&(f="",n.each(o,function(){if(this.name==t.displayfield)return this.type&&(f=this.type),!1}),f))return f;if(t!=null){if(this.dataview.cachedrecords==undefined)return u;if(i=null,this.virtualmode)n.each(this.dataview.cachedrecords,function(){return i=this[t.displayfield],!1});else{if(this.dataview.cachedrecords.length==0)return u;if(i=this.dataview.cachedrecords[0][t.displayfield],i!=null&&i.toString()=="")return"string"}if(i!=null){if(t.cellsformat.indexOf("c")!=-1||t.cellsformat.indexOf("n")!=-1||t.cellsformat.indexOf("p")!=-1)return"number";if(t.cellsformat.indexOf("d")!=-1||t.cellsformat.indexOf("y")!=-1||t.cellsformat.indexOf("M")!=-1||t.cellsformat.indexOf("m")!=-1||t.cellsformat.indexOf("t")!=-1)return"date";if(typeof i=="boolean")u="boolean";else if(n.jqx.dataFormat.isNumber(i))u="number";else if(r=new Date(i),r.toString()=="NaN"||r.toString()=="Invalid Date")if(n.jqx.dataFormat){if(r=n.jqx.dataFormat.tryparsedate(i),r!=null)return r&&r.getFullYear()&&r.getFullYear()==1970&&r.getMonth()==0&&r.getDate()==1?(s=new Number(i),!isNaN(s))?"number":"string":"date";u="string"}else u="string";else u="date"}}return u}})}(jqxBaseFramework),function(n){n.extend(n.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){for(var r,u,i,h,e,c,l=this.columns.records.length,o=0,f=this,s=0;s<l;s++)if(r=this.columns.records[s],u=r.width,u<r.minwidth&&(u=r.minwidth),u>r.maxwidth&&(u=r.maxwidth),i=n(this.filterrow[0].cells[s]),i.css("left",o),h=!0,i.width()==u&&(h=!1),t&&(h=!0),i.width(u),i[0].left=o,r.hidden&&r.hideable?i.css("display","none"):o+=u,h)if(r.createfilterwidget&&r.filtertype=="custom")r.createfilterwidget(r,i);else if(r.filterable){e=function(t,i){var r=n(i.children()[0]);r.width(u-10);r.attr("disabled",t.disabled)};switch(r.filtertype){case"number":case"input":n(i.children()[0]).width(u);i.find("input").width(u-30);i.find("input").attr("disabled",f.disabled);n(i.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({disabled:f.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?n(i.children()[0]).jqxDateTimeInput({disabled:f.disabled,width:u-10}):e(this,i);break;case"textbox":case"default":e(this,i);break;case"list":case"checkedlist":this.host.jqxDropDownList?n(i.children()[0]).jqxDropDownList({disabled:f.disabled,width:u-10}):e(this,i);break;case"bool":case"boolean":this.host.jqxCheckBox?n(i.children()[0]).jqxCheckBox({disabled:f.disabled}):e(this,i)}}c=n(this.filterrow.children()[0]);c.width(parseInt(o)+2);c.height(this.filterrowheight)},clearfilterrow:function(t){var e,o,u,f,i,r;if(this._disablefilterrow=!0,this.columns.records){for(e=this.columns.records.length,o=0,u=0;u<e;u++)if((f=this.columns.records[u],i=n(this.filterrow[0].cells[u]),typeof t!="string"||f.displayfield==t)&&f.filterable){r=function(t,i){var r=n(i.children()[0]);r.val("");r[0]&&(t["_oldWriteText"+r[0].id]="")};switch(f.filtertype){case"number":case"input":i.find("input").val("");break;case"date":case"range":this.host.jqxDateTimeInput?n(i.children()[0]).jqxDateTimeInput("setDate",null):r(this,i);break;case"textbox":case"default":r(this,i);break;case"list":this.host.jqxDropDownList?n(i.children()[0]).jqxDropDownList("clearSelection"):r(this,i);break;case"checkedlist":this.host.jqxDropDownList?n(i.children()[0]).jqxDropDownList("checkAll",!1):r(this,i);break;case"bool":case"boolean":this.host.jqxCheckBox?n(i.children()[0]).jqxCheckBox({checked:null}):r(this,i)}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){var it,f,k,i,r,l,rt,ut,h,a,w,p,o,nt,tt,c,b,y,t,s,v;if(this._disablefilterrow!=!0&&!this.disabled){for(it=this.columns.records.length,f=this.that,k=0;k<it;k++)if((i=new n.jqx.filter,r=this.columns.records[k],r.filterable)&&r.datafield!==null){var ft=f._getcolumntypebydatafield(r),u=f._getfiltertype(ft),d=1,e=!0,ot=r.filtertype,g=function(n,t,i){var o=!0,r,u,e,s;if(n._filterwidget)if(r=n._filterwidget.val(),r!=""){if(u="equal",t=="stringfilter"&&(u="contains"),t=="numericfilter"&&f.gridlocalization.decimalseparator==","&&r.indexOf(f.gridlocalization.decimalseparator)>=0&&(r=r.replace(f.gridlocalization.decimalseparator,".")),t!="stringfilter"&&(e=0,r.indexOf(">")!=-1&&(u="greater_than",e=1),r.indexOf("<")!=-1&&(u="less_than",e=1),r.indexOf("=")!=-1&&(u=="greater_than"?(u="greater_than_or_equal",e=2):u=="less_than"?(u="less_than_or_equal",e=2):(u="equal",e=1)),e!=0&&(r=r.substring(e),r.length<1)))return!1;n.filtercondition!=undefined&&(u=n.filtercondition);s=t=="datefilter"?i.createfilter(t,r,u,null,n.cellsformat,f.gridlocalization):i.createfilter(t,r,u);i.addfilter(d,s)}else o=!1;return o};switch(r.filtertype){case"range":case"date":r._filterwidget.jqxDateTimeInput?r.filtertype=="range"?(t=r._filterwidget.jqxDateTimeInput("getRange"),t!=null&&t.from!=null&&t.to!=null?(s="GREATER_THAN_OR_EQUAL",h=new Date(0),h.setHours(0),h.setMinutes(0),h.setFullYear(t.from.getFullYear(),t.from.getMonth(),t.from.getDate()),l=new Date(0),l.setHours(0),l.setMinutes(0),l.setFullYear(t.to.getFullYear(),t.to.getMonth(),t.to.getDate()),l.setHours(t.to.getHours()),l.setMinutes(t.to.getMinutes()),l.setSeconds(t.to.getSeconds()),a=i.createfilter(u,h,s),i.addfilter(0,a),rt="LESS_THAN_OR_EQUAL",ut=i.createfilter(u,l,rt),i.addfilter(0,ut)):e=!1):(t=r._filterwidget.jqxDateTimeInput("getDate"),t!=null?(h=new Date(0),h.setHours(0),h.setMinutes(0),h.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),a=i.createfilter(u,h,"EQUAL"),i.addfilter(0,a)):e=!1):e=g(r,u,i);break;case"input":if(r._filterwidget){var t=r._filterwidget.find("input").val(),w=r._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),o=i.getoperatorsbyfiltertype(u)[w];f.updatefilterconditions&&(p=f.updatefilterconditions(u,i.getoperatorsbyfiltertype(u)),p!=undefined&&i.setoperatorsbyfiltertype(u,p),o=i.getoperatorsbyfiltertype(u)[w]);nt=o=="NULL"||o=="NOT_NULL";tt=o=="EMPTY"||o=="NOT_EMPTY";t!=undefined&&t.length>0||nt||tt?(a=i.createfilter(u,t,o,null,r.cellsformat,f.gridlocalization),i.addfilter(0,a)):e=!1}else e=!1;break;case"number":r._filterwidget?(t=r._filterwidget.find("input").val(),f.gridlocalization.decimalseparator==","&&t.indexOf(f.gridlocalization.decimalseparator)>=0&&(t=t.replace(f.gridlocalization.decimalseparator,".")),w=r._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),o=i.getoperatorsbyfiltertype(u)[w],f.updatefilterconditions&&(p=f.updatefilterconditions(u,i.getoperatorsbyfiltertype(u)),p!=undefined&&i.setoperatorsbyfiltertype(u,p),o=i.getoperatorsbyfiltertype(u)[w]),nt=o=="NULL"||o=="NOT_NULL",tt=o=="EMPTY"||o=="NOT_EMPTY",t!=undefined&&t.length>0||nt||tt?(a=i.createfilter(u,new Number(t),o,null,r.cellsformat,f.gridlocalization),i.addfilter(0,a)):e=!1):e=!1;break;case"textbox":case"default":e=g(r,u,i);break;case"bool":case"boolean":r._filterwidget.jqxCheckBox?(t=r._filterwidget.jqxCheckBox("checked"),t!=null?(s="equal",v=i.createfilter(u,t,s),i.addfilter(d,v)):e=!1):e=g(r,u,i);break;case"list":if(c=r._filterwidget.jqxDropDownList("listBox"),c.selectedIndex>0){var et=c.getItem(c.selectedIndex),t=et.label,s="equal";t===""&&(s="NULL");v=i.createfilter(u,t,s);i.addfilter(d,v)}else e=!1;break;case"checkedlist":if(r._filterwidget.jqxDropDownList)if(c=r._filterwidget.jqxDropDownList("listBox"),b=c.getCheckedItems(),b.length==0){for(y=1;y<c.items.length;y++)t=c.items[y].label,s="not_equal",t===""&&(s="NULL"),v=i.createfilter(u,t,s),i.addfilter(0,v);e=!0}else if(b.length!=c.items.length)for(y=0;y<b.length;y++)t=b[y].label,s="equal",t===""&&(s="NULL"),v=i.createfilter(u,t,s),i.addfilter(d,v);else e=!1;else e=g(r,u,i)}this._loading||(e?this.addfilter(r.displayfield,i,!1):this.removefilter(r.displayfield,!1))}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var e=n('<div style="position: relative;" id="row00'+this.element.id+'"><\/div>'),o=0,s=this.columns.records.length,h=this.toThemeProperty("jqx-grid-cell"),v,y,u,t,r,i,f,c,p;h+=" "+this.toThemeProperty("jqx-grid-cell-pinned");h+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var l=s+10,a=[],w=this.that;for(this.filterrow[0].cells=a,e.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(e),this._filterrowcache||(this._filterrowcache=[]),this._initcolumntypes(),v=!1,y=[],u=0;u<s;u++)t=this.columns.records[u],r=t.width,r<t.minwidth&&(r=t.minwidth),r>t.maxwidth&&(r=t.maxwidth),i=n('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+h+'"><\/div>'),e.append(i),i.css("left",o),this.rtl?(i.css("z-index",l++),i.css("border-left-width","1px")):i.css("z-index",l--),r=="auto"&&(r=0),i[0].style.width=parseFloat(r)+"px",i[0].left=o,t.hidden&&t.hideable?i.css("display","none"):o+=r,a[a.length]=i[0],f=!0,this.rtl?(this.groupable&&(c=this.showrowdetailscolumn&&this.rowdetails?1:0,this.groups.length+c+u>s-1&&(f=!1)),this.showrowdetailscolumn&&this.rowdetails&&u==s-1&&(f=!1)):(this.groupable&&(c=this.showrowdetailscolumn&&this.rowdetails?1:0,this.groups.length+c>u&&(f=!1)),this.showrowdetailscolumn&&this.rowdetails&&u==0&&(f=!1)),f&&(t.filtertype=="custom"&&t.createfilterwidget?(p=function(){w._applyfilterfromfilterrow()},t.createfilterwidget(t,i,p)):t.filterable&&(this._filterrowcache[t.datafield]?(v=!0,i.append(this._filterrowcache[t.datafield]),t._filterwidget=this._filterrowcache[t.datafield]):(this._addfilterwidget(t,i,r),y[t.datafield]=t._filterwidget)));this._filterrowcache=y;n.jqx.browser.msie&&n.jqx.browser.version<8&&e.css("z-index",l--);e.width(parseFloat(o)+2);this.filterrow.addClass(h);this.filterrow.css("border-top-width","1px");this.filterrow.css("border-right-width","0px");v&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,r){for(var w,a,o,r,it,d,f,v,b,y,k,c,rt,et,nt,e,tt,l,ht,ct,s,u=this.that,h="",p=0;p<u.dataview.filters.length;p++)if(w=u.dataview.filters[p],w.datafield&&w.datafield==t.datafield){h=w.filter.getfilters()[0].value;break}a=function(i,u){var f=n('<input autocomplete="off" type="textarea"/>');f[0].id=n.jqx.utilities.createId();f.addClass(i.toThemeProperty("jqx-widget"));f.addClass(i.toThemeProperty("jqx-input"));f.addClass(i.toThemeProperty("jqx-rc-all"));f.addClass(i.toThemeProperty("jqx-widget-content"));i.rtl&&f.css("direction","rtl");i.disabled&&f.attr("disabled",!0);f.attr("disabled",!1);f.appendTo(u);f.width(r-10);f.height(i.filterrowheight-10);f.css("margin","4px");t.createfilterwidget&&t.createfilterwidget(t,u,f);t._filterwidget=f;f.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=f,f.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1});f.blur(function(){f.removeClass(i.toThemeProperty("jqx-fill-state-focus"))});f.keydown(function(n){n.keyCode=="13"&&i._applyfilterfromfilterrow();f[0]._writeTimer&&clearTimeout(f[0]._writeTimer);f[0]._writeTimer=setTimeout(function(){i._loading||i["_oldWriteText"+f[0].id]!=f.val()&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+f[0].id]=f.val())},t.filterdelay);i.focusedfilter=f});i.host.removeClass("jqx-disableselect");i.content.removeClass("jqx-disableselect");f.val(h)};t.datatype!=null&&(t.filtertype=="number"&&(t.datatype=="string"||t.datatype=="date"||t.datatype=="bool")&&(t.filtertype="textbox"),t.filtertype=="date"&&(t.datatype=="string"||t.datatype=="number"||t.datatype=="bool")&&(t.filtertype="textbox"),t.filtertype=="bool"&&(t.datatype=="string"||t.datatype=="number"||t.datatype=="date")&&(t.filtertype="textbox"));switch(t.filtertype){case"number":case"input":if(o=n("<div><\/div>"),o.width(i.width()),o.height(this.filterrowheight),i.append(o),r=i.width()-20,it=function(i,r){var f=n('<input style="float: left;" autocomplete="off" type="textarea"/>');return u.rtl&&(f.css("float","right"),f.css("direction","rtl")),f[0].id=n.jqx.utilities.createId(),f.addClass(u.toThemeProperty("jqx-widget")),f.addClass(u.toThemeProperty("jqx-input")),f.addClass(u.toThemeProperty("jqx-rc-all")),f.addClass(u.toThemeProperty("jqx-widget-content")),f.appendTo(i),f.width(r-10),u.disabled&&f.attr("disabled",!0),f.attr("disabled",!1),f.height(u.filterrowheight-10),f.css("margin","4px"),f.css("margin-right","2px"),f.focus(function(){u.focusedfilter=f;f.addClass(u.toThemeProperty("jqx-fill-state-focus"))}),f.blur(function(){f.removeClass(u.toThemeProperty("jqx-fill-state-focus"))}),f.keydown(function(n){n.keyCode=="13"&&u._applyfilterfromfilterrow();f[0]._writeTimer&&clearTimeout(f[0]._writeTimer);f[0]._writeTimer=setTimeout(function(){u._loading||u["_oldWriteText"+f[0].id]!=f.val()&&(u._applyfilterfromfilterrow(),u["_oldWriteText"+f[0].id]=f.val())},t.filterdelay);u.focusedfilter=f}),f.val(h),f},it(o,r),d=u._getfiltersbytype(t.filtertype=="number"?"number":"string"),f=n("<div class='filter' style='float: left;'><\/div>"),f.css("margin-top","4px"),f.appendTo(o),u.rtl&&f.css("float","right"),v=0,t.filtercondition!=null){var p=new n.jqx.filter,ot=p.getoperatorsbyfiltertype(t.filtertype=="number"?"numericfilter":"stringfilter"),y=ot.indexOf(t.filtercondition.toUpperCase());y!=-1&&(v=y)}b=170;t.filtertype=="input"&&(b=240,v==0&&(y=d.indexOf("contains"),y!=-1&&t.filtercondition==null&&(v=y)));f.jqxDropDownList({disabled:u.disabled,touchMode:u.touchmode,rtl:u.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:v,width:18,height:21,dropDownHeight:150,dropDownWidth:b,source:d,theme:u.theme});f.jqxDropDownList({selectionRenderer:function(){return""}});f.jqxDropDownList("setContent","");f.find(".jqx-dropdownlist-content").hide();t.createfilterwidget&&t.createfilterwidget(t,i,o);t._filterwidget=o;k=null;this.addHandler(f,"select",function(){var n=f.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!u.refreshingfilter&&u._applyfilterfromfilterrow();t.filtertype!="input"||u.refreshingfilter?t._filterwidget.find("input").val().length!=0||u.refreshingfilter||(k=="null"||k=="not null"||n=="null"||n=="not null")&&u._applyfilterfromfilterrow():u._applyfilterfromfilterrow();k=n});break;case"textbox":case"default":default:a(this,i);break;case"none":break;case"date":case"range":this.host.jqxDateTimeInput?(c=n("<div><\/div>"),c.css("margin","4px"),c.appendTo(i),rt={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring},c.jqxDateTimeInput({readonly:!0,disabled:u.disabled,localization:rt,rtl:u.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:r-10,height:this.filterrowheight-10}),t.createfilterwidget&&t.createfilterwidget(t,i,c),t._filterwidget=c,this.addHandler(c,"valueChanged",function(){u.refreshingfilter||(u._applyfilterfromfilterrow(),u.focusedfilter=null)})):a(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var g=this._getfilterdataadapter(t),ut=!1,f=n("<div><\/div>");f.css("margin","4px");var st=t.datafield,ft=t.filtertype=="checkedlist"?!0:!1,b=r<150?220:"auto";g.dataBind();et=g.records;nt=et.length<8?!0:!1;ut=nt;f.appendTo(i);f.jqxDropDownList({disabled:u.disabled,touchMode:u.touchmode,rtl:u.rtl,checkboxes:ft,dropDownWidth:b,source:g.records,autoDropDownHeight:nt,theme:this.theme,width:r-10,height:this.filterrowheight-10,displayMember:t.displayfield,valueMember:st});e=f.jqxDropDownList("listBox");ft?(f.jqxDropDownList({selectionRenderer:function(){return'<span class="'+u.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+u.gridlocalization.filterselectstring+"<\/span>"}}),tt=n('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+u.gridlocalization.filterselectstring+"<\/span>"),tt.addClass(this.toThemeProperty("jqx-item")),e!=undefined&&(ut||e.host.height(200),e.insertAt(u.gridlocalization.filterselectallstring,0),f.jqxDropDownList("setContent",tt),l=!0,ht=[],e.checkAll(!1),u.addHandler(e.host,"checkChange",function(n){if(f[0]._selectionChanged=!0,l)if(n.args.label!=u.gridlocalization.filterselectallstring){l=!1;e.host.jqxListBox("checkIndex",0,!0,!1);var t=e.host.jqxListBox("getCheckedItems"),i=e.host.jqxListBox("getItems");t.length==1?e.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&e.host.jqxListBox("indeterminateIndex",0,!0,!1);l=!0}else l=!1,n.args.checked?e.host.jqxListBox("checkAll",!1):e.host.jqxListBox("uncheckAll",!1),l=!0}))):(e.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),f.jqxDropDownList({selectedIndex:0}));t.createfilterwidget&&t.createfilterwidget(t,i,f);t._filterwidget=f;ct=f.jqxDropDownList("dropdownlistWrapper");t.filtertype=="list"?this.addHandler(f,"select",function(n){u.refreshingfilter||n.args&&n.args.type!="none"&&(u._applyfilterfromfilterrow(),u.focusedfilter=null)}):this.addHandler(f,"close",function(){f[0]._selectionChanged&&(u._applyfilterfromfilterrow(),u.focusedfilter=null,f[0]._selectionChanged=!1)})}else a(this,i);break;case"bool":case"boolean":this.host.jqxCheckBox?(s=n('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"><\/div>'),s.appendTo(i),s.jqxCheckBox({disabled:u.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),t.createfilterwidget&&t.createfilterwidget(t,i,s),h===!0||h=="true"?s.jqxCheckBox({checked:!0}):(h===!1||h=="false")&&s.jqxCheckBox({checked:!1}),t._filterwidget=s,this.addHandler(s,"change",function(n){u.refreshingfilter||n.args&&(u.focusedfilter=null,u._applyfilterfromfilterrow())})):a(this,i)}},_getfilterdataadapter:function(t){var u=this.source._source?!0:!1,r,i;if(u?(i={localdata:this.source.records,datatype:this.source.datatype,async:!1},r=this,dataadapter=new n.jqx.dataAdapter(i,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(n){var e=[],u,i,f;if(t.cellsformat){for(u=r._getcolumntypebydatafield(t),i=0;i<n.length;i++)e.push(n[i]),f=n[i][t.displayfield],n[i][t.displayfield+"JQValue"]=f,u==="date"?n[i][t.displayfield]=dataadapter.formatDate(f,t.cellsformat,r.gridlocalization):(u==="number"||u==="float"||u==="int")&&(n[i][t.displayfield]=dataadapter.formatNumber(f,t.cellsformat,r.gridlocalization));return e}return n}})):dataadapter=new n.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1}),t.filteritems&&t.filteritems.length>0)i={localdata:t.filteritems,datatype:this.source.datatype,async:!1},dataadapter=new n.jqx.dataAdapter(i,{autoBind:!1,async:!1});else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(n.isFunction(t.filteritems))return t.filteritems()}return dataadapter},refreshfilterrow:function(){var s,h,e,t,u,o,i,c;if(this.showfilterrow){for(this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0),s=this.that,h=this.columns.records.length,e=0;e<h;e++)if(t=this.columns.records[e],t.filterable&&t.filter&&(u=t.filter.getfilters(),u.length>0)){var i=u[0].value,r=t._filterwidget,f=t._filterwidget.parent();if(r!=null)switch(t.filtertype){case"number":f.find("input").val(i);this.host.jqxDropDownList&&(o=t.filter.getoperatorsbyfiltertype("numericfilter"),r.find(".filter").jqxDropDownList("selectIndex",o.indexOf(u[0].condition)));break;case"input":f.find("input").val(i);this.host.jqxDropDownList&&(o=t.filter.getoperatorsbyfiltertype("stringfilter"),r.find(".filter").jqxDropDownList("selectIndex",o.indexOf(u[0].condition)));break;case"date":case"range":this.host.jqxDateTimeInput?(i=t.filter.getfilterat(0).filtervalue,i!=undefined&&(c=t.filter.getfilterat(1)?t.filter.getfilterat(1).filtervalue:i,t.filtertype=="range"?n(f.children()[0]).jqxDateTimeInput("setRange",new Date(i),new Date(c)):n(f.children()[0]).jqxDateTimeInput("setDate",new Date(i)))):r.val(i);break;case"textbox":case"default":r.val(i);s["_oldWriteText"+r[0].id]=i;break;case"bool":case"boolean":this.host.jqxCheckBox?n(f.children()[0]).jqxCheckBox({checked:i}):r.val(i)}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var i,t,u,f,o=this.that,e=this.columns.records.length,r=0;r<e;r++)i=this.columns.records[r],i.filterable&&(t=i._filterwidget,i.filtertype=="list"||i.filtertype=="checkedlist"?(this.removeHandler(t,"select"),this.removeHandler(t,"close"),t.jqxDropDownList("destroy")):i.filtertype=="date"?(this.removeHandler(t,"valueChanged"),t.jqxDateTimeInput("destroy")):i.filtertype=="bool"?(this.removeHandler(t,"change"),t.jqxCheckBox("destroy")):i.filtertype=="number"?(u=t.find(".jqx-input"),this.removeHandler(u,"keydown"),f=n(t.children()[1]),f.jqxDropDownList("destroy")):this.removeHandler(t,"keydown"),t.remove())},_updatelistfilters:function(t,i){for(var f,e,l,s,h,o,p,a,v,r,c,w=this.that,b=this.columns.records.length,y=0;y<b;y++)if(f=this.columns.records[y],f.filterable&&(f.filtertype=="list"||f.filtertype=="checkedlist")){if(e=f._filterwidget,t){if(l=this._getfilterdataadapter(f),e.jqxDropDownList({source:l}),s=e.jqxDropDownList("getItems"),h=!0,s.length!=l.records.length+1&&(h=!1),h)for(r=1;r<s.length;r++)if(s[r].label!=l.records[r-1][f.displayfield]){h=!1;break}if(h&&!i)continue}else if(f.filter==undefined){e.jqxDropDownList("renderSelection");continue}var k=f.filtertype=="checkedlist"?!0:!1,s=e.jqxDropDownList("getItems"),u=e.jqxDropDownList("listBox");if(e.jqxDropDownList("dataBind"),k){if(e.jqxDropDownList({selectionRenderer:function(){return w.gridlocalization.filterselectstring}}),u.insertAt(this.gridlocalization.filterselectallstring,0),e.jqxDropDownList("setContent",this.gridlocalization.filterselectstring),u.checkAll(!1),f.filter){for(a=f.filter.getfilters(),r=0;r<u.items.length;r++)c=u.items[r].label,o=undefined,n.each(a,function(){var n;this.condition=="NOT_EQUAL"?n=c==this.value?!1:!0:this.condition=="EQUAL"&&(n=c==this.value?!0:!1);o=o==undefined&&n!==undefined?n:this.condition=="EQUAL"?o||n:o&&n}),o?u.checkIndex(r,!1,!1):u.uncheckIndex(r,!1,!1);u._updateCheckedItems();p=u.getCheckedItems().length;u.items.length!=p&&p>0&&u.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(u.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),e.jqxDropDownList({selectedIndex:0}),f.filter){for(a=f.filter.getfilters(),v=-1,r=0;r<u.items.length;r++)c=u.items[r].label,n.each(a,function(){return this.condition=="NOT_EQUAL"?!0:c==this.value?(v=r,!1):void 0});v!=-1&&u.selectIndex(v)}s.length<8?e.jqxDropDownList("autoDropDownHeight",!0):e.jqxDropDownList("autoDropDownHeight",!1)}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;n.each(this.columns.records,function(){var i=!1;t.autoshowfiltericon?this.filter?(n(this.filtericon).show(),i=!0):n(this.filtericon).hide():this.filterable&&(n(this.filtericon).show(),i=!0);this.align!="right"||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=i?"18px":"2px")})}},_initcolumntypes:function(){var u,t,i,r;if(this.columns&&this.columns.records&&(u=this.source._source.datafields,u))for(t=0;t<this.columns.records.length;t++)(i=this.columns.records[t],i.datatype)||(r="",n.each(u,function(){if(this.name==i.displayfield)return this.type&&(r=this.type),!1}),i.datatype=r!=""?r:"")},_getcolumntypebydatafield:function(t){var e=this.that,u="string",o=e.source.datafields||(e.source._source?e.source._source.datafields:null),f,i,r,s;if(o&&(f="",n.each(o,function(){if(this.name==t.displayfield)return this.type&&(f=this.type),!1}),f))return f;if(t!=null){if(this.dataview.cachedrecords==undefined)return u;if(i=null,this.virtualmode)n.each(this.dataview.cachedrecords,function(){return i=this[t.displayfield],!1});else{if(this.dataview.cachedrecords.length==0)return u;if(i=this.dataview.cachedrecords[0][t.displayfield],i!=null&&i.toString()=="")return"string"}if(i!=null)if(typeof i=="boolean")u="boolean";else if(n.jqx.dataFormat.isNumber(i))u="number";else if(r=new Date(i),r.toString()=="NaN"||r.toString()=="Invalid Date")if(n.jqx.dataFormat){if(r=n.jqx.dataFormat.tryparsedate(i),r!=null)return r&&r.getFullYear()&&r.getFullYear()==1970&&r.getMonth()==0&&r.getDate()==1?(s=new Number(i),!isNaN(s))?"number":"string":"date";u="string"}else u="string";else u="date"}return u},_getfiltersbytype:function(n){var i=this.that,t="";switch(n){case"number":case"float":case"int":t=i.gridlocalization.filternumericcomparisonoperators;break;case"date":t=i.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":t=i.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:t=i.gridlocalization.filterstringcomparisonoperators}return t},_getfiltertype:function(n){var t="stringfilter";switch(n){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,r){var k=n(i).find("#filter1"+t.element.id),et=n(i).find("#filter2"+t.element.id),s=n(i).find("#filter3"+t.element.id),ot=n(i).find(".filtertext1"+t.element.id),st=n(i).find(".filtertext2"+t.element.id),d=ot.val(),g=st.val(),nt=t._getcolumntypebydatafield(r),vt=t._getfiltersbytype(nt),f=new n.jqx.filter,e=t._getfiltertype(nt),p,ut,ft,u,y,b,o,c;if(t.filtermode==="default"){var ht=k.jqxDropDownList("selectedIndex"),tt=et.jqxDropDownList("selectedIndex"),ct=s.jqxDropDownList("selectedIndex"),it=null,rt=null;t.updatefilterconditions&&(p=t.updatefilterconditions(e,f.getoperatorsbyfiltertype(e)),p!=undefined&&f.setoperatorsbyfiltertype(e,p));var w=!1,h=f.getoperatorsbyfiltertype(e)[ht],s=f.getoperatorsbyfiltertype(e)[ct],lt=h=="NULL"||h=="NOT_NULL",at=h=="EMPTY"||h=="NOT_EMPTY";h==undefined&&(h=f.getoperatorsbyfiltertype(e)[0]);s==undefined&&(s=f.getoperatorsbyfiltertype(e)[0]);(d.length>0||lt||at)&&(it=f.createfilter(e,d,h,null,r.cellsformat,t.gridlocalization),f.addfilter(tt,it),w=!0);ut=s=="NULL"||s=="NOT_NULL";ft=s=="EMPTY"||s=="NOT_EMPTY";(g.length>0||ut||ft)&&(rt=f.createfilter(e,g,s,null,r.cellsformat,t.gridlocalization),f.addfilter(tt,rt),w=!0);w?(c=r.displayfield,this.addfilter(c,f,!0)):this._clearfilter(t,i,r)}else{var yt=this,a=!1,v=k.data().jqxListBox.instance,l=v.getCheckedItems();if(l.length==0){for(o=1;o<v.items.length;o++)u=v.items[o].value,y="not_equal",(u.indexOf("|")>=0||u.indexOf(" AND ")>=0||u.indexOf(" OR ")>=0||u.indexOf(" and ")>=0||u.indexOf(" or ")>=0)&&(u=u.replace("|",""),u=u.replace("AND",""),u=u.replace("OR",""),u=u.replace("and",""),u=u.replace("or",""),y="equal"),b=f.createfilter(e,u,y,null),f.addfilter(0,b);a=!0}else if(l.length!=v.items.length){for(a=!0,o=0;o<l.length;o++)if(t.gridlocalization.filterselectallstring!==l[o].value){var u=l[o].value,y="equal",b=f.createfilter(e,u,y,null);f.addfilter(1,b)}}else a=!1;a?(c=r.displayfield,this.addfilter(c,f,!0)):(c=r.displayfield,this.removefilter(c,!0))}},_clearfilter:function(n,t,i){var r=i.displayfield;this.removefilter(r,!0)},addfilter:function(n,t,i){if(this._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+this.loadingerrormessage);var r=this.getcolumn(n),u=this._getcolumn(n);r!=undefined&&r!=null&&(r.filter=t,u.filter=t,this.dataview.addfilter(n,t),i==!0&&i!=undefined&&this.applyfilters("add"))},removefilter:function(n,t){if(this._loading)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(n),r=this._getcolumn(n);i!=undefined&&i!=null&&i.filter!=null&&(this.dataview.removefilter(n,i.filter),i.filter=null,r.filter=null,this.showfilterrow&&this.clearfilterrow(n),(t==!0||t!==!1)&&this.applyfilters("remove"))},applyfilters:function(t){var i,u,f,r;if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&this.source!=null&&this.source.filter&&(i=-1,this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)),this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode){this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0));this.rendergridcontent(!1,!1);this.showfilterrow&&typeof t!="string"&&n.isEmptyObject(t)&&this.refreshfilterrow();this._raiseEvent(13,{filters:this.dataview.filters});return}u=this.selectedrowindexes;f=this.that;this.dataview.refresh();this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection&&(r=this.sortdirection.ascending?"asc":"desc",this._loading?this.sortby(this.sortcolumn,r,null,!1,!1):this.sortby(this.sortcolumn,r,null,!1));this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails()));this._updaterowsproperties();!this.groupable||this.groupable&&this.groups.length==0?(this._rowdetailscache=[],this.virtualsizeinfo=null,this._pagescache=[],this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates()):(this._rowdetailscache=[],this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo));this.showfilterrow&&typeof t!="string"&&n.isEmptyObject(t)&&this.refreshfilterrow();this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var t,i=[],n=0;n<this.dataview.filters.length;n++)t=this.getcolumn(this.dataview.filters[n].datafield),i[n]={filter:this.dataview.filters[n].filter,filtercolumn:t.datafield,filtercolumntext:t.text};return i},clearfilters:function(t){var r=this.that,i;(this.showfilterrow&&this.clearfilterrow(),this.columns.records&&(i=t==!0||t!==!1,n.each(this.columns.records,function(){r.removefilter(this.displayfield,!i)})),t!==!1)&&(t==!0||t!==!1)&&this.applyfilters("clear")},_destroyfilterpanel:function(){var t=n(n.find("#filterclearbutton"+this.element.id)),u=n(n.find("#filterbutton"+this.element.id)),f=n(n.find("#filter1"+this.element.id)),e=n(n.find("#filter2"+this.element.id)),o=n(n.find("#filter3"+this.element.id)),i=n(n.find(".filtertext1"+this.element.id)),r=n(n.find(".filtertext2"+this.element.id));i.length>0&&r.length>0&&(i.removeClass(),r.removeClass(),i.remove(),r.remove());t.length>0&&(t.jqxButton("destroy"),u.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(u,"click"));f.length>0&&f.jqxDropDownList("destroy");e.length>0&&e.jqxDropDownList("destroy");o.length>0&&o.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,r){var w,l,v,y,b,f,a,nt,it,o,p,tt,ut,ct,lt,at,vt,st,c,u,pt,yt,k,ht,ft;if((t==null||t==undefined)&&(t=this),w=t._getcolumntypebydatafield(r),l=t._getfiltersbytype(w),!t.host.jqxDropDownList)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Missing reference to jqxdropdownlist.js.");var s=n(i),et=s.find("#filterclearbutton"+t.element.id),ot=s.find("#filterbutton"+t.element.id),e=s.find("#filter1"+t.element.id),d=s.find("#filter2"+t.element.id),g=s.find("#filter3"+t.element.id),a=s.find(".filtertext1"+t.element.id),nt=s.find(".filtertext2"+t.element.id);if(this._hasdatefilter&&(v=a.parent(),y=nt.parent(),v.children().remove(),y.children().remove(),r.filtertype=="date"?(t._showwhere.text(t.gridlocalization.filtershowrowdatestring),f=n("<div class='filtertext1"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'><\/div>"),v.append(f),b=function(n){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring};n.jqxDateTimeInput({disabled:t.disabled,localization:i,rtl:t.rtl,width:t._filterpanelwidth-15,height:20,value:null,formatString:r.cellsformat,theme:t.theme})},b(f),f=n("<div class='filtertext2"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'><\/div>"),y.append(f),b(f)):(t._showwhere.text(t.gridlocalization.filtershowrowstring),f=n("<input class='filtertext1"+t.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'><\/input>"),v.append(f),b=function(n){n.addClass(t.toThemeProperty("jqx-input"));n.addClass(t.toThemeProperty("jqx-widget-content"));n.addClass(t.toThemeProperty("jqx-rc-all"));n.width(t._filterpanelwidth-15)},b(f),f=n("<input class='filtertext2"+t.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'><\/input>"),y.append(f),b(f)),a=s.find(".filtertext1"+t.element.id),nt=s.find(".filtertext2"+t.element.id)),a.val(""),nt.val(""),this.removeHandler(ot,"click"),this.addHandler(ot,"click",function(){t._buildfilter(t,i,r);t._closemenu()}),this.removeHandler(et,"click"),this.addHandler(et,"click",function(){t._clearfilter(t,i,r);t._closemenu()}),this.filtermode==="default"){e.jqxDropDownList("source")!=l&&(e.jqxDropDownList({enableBrowserBoundsDetection:!1,source:l}),g.jqxDropDownList({enableBrowserBoundsDetection:!1,source:l}));w=="boolean"||w=="bool"?(e.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),g.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0})):(it=!1,l&&l.length&&l.length<5&&(it=!0),e.jqxDropDownList({autoDropDownHeight:it,selectedIndex:2}),g.jqxDropDownList({autoDropDownHeight:it,selectedIndex:2}));d.jqxDropDownList({selectedIndex:0});var h=r.filter,rt=new n.jqx.filter,c="";switch(w){case"number":case"int":case"float":case"decimal":c="numericfilter";o=rt.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":c="booleanfilter";o=rt.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":c="datefilter";o=rt.getoperatorsbyfiltertype("datefilter");break;case"string":c="stringfilter";o=rt.getoperatorsbyfiltertype("stringfilter")}if(h!=null){var v=h.getfilterat(0),y=h.getfilterat(1),wt=h.getoperatorat(0);if(t.updatefilterconditions&&(o=[],p=t.updatefilterconditions(c,o),p!=undefined)){for(tt=0;tt<p.length;tt++)p[tt]=p[tt].toUpperCase();h.setoperatorsbyfiltertype(c,p);o=p}ut="default";v!=null&&(ct=o.indexOf(v.comparisonoperator),lt=v.filtervalue,a.val(lt),e.jqxDropDownList({selectedIndex:ct,animationType:ut}));y!=null&&(at=o.indexOf(y.comparisonoperator),vt=y.filtervalue,nt.val(vt),g.jqxDropDownList({selectedIndex:at,animationType:ut}));h.getoperatorat(0)==undefined?d.jqxDropDownList({selectedIndex:0,animationType:ut}):h.getoperatorat(0)=="and"||h.getoperatorat(0)==0?d.jqxDropDownList({selectedIndex:0}):d.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(e,g,d,a,nt,ot,et,h,c,o);(!this._hasdatefilter||this._hasdatefilter&&r.filtertype!="date")&&(a.focus(),setTimeout(function(){a.focus()},10))}else if(st=t._getfilterdataadapter(r),c=t._getfiltertype(w),r.cellsformat?e.jqxListBox({displayMember:r.displayfield,valueMember:r.displayfield+"JQValue",source:st}):e.jqxListBox({displayMember:r.displayfield,valueMember:r.displayfield,source:st}),e.jqxListBox("insertAt",t.gridlocalization.filterselectallstring,0),u=e.data().jqxListBox.instance,u.checkAll(!1),pt=this,r.filter){for(u.uncheckAll(!1),yt=r.filter.getfilters(),k=0;k<u.items.length;k++)ht=u.items[k].value,n.each(yt,function(){if(this.condition=="NOT_EQUAL"){if(ht!=this.value)return u.uncheckIndex(k,!1,!1),!1}else if(this.condition=="EQUAL"&&ht==this.value)return u.checkIndex(k,!1,!1),!1});u._updateCheckedItems();ft=u.getCheckedItems().length;u.items.length!=ft&&ft>0&&u.host.jqxListBox("indeterminateIndex",0,!0,!1);ft===u.items.length-1&&u.host.jqxListBox("checkIndex",0,!0,!1)}},_initfilterpanel:function(t,i,r,u){var e,c,l,a,v,o,y,s,p,w,b,k,d,h;(t==null||t==undefined)&&(t=this);i[0].innerHTML="";e=n("<div class='filter' style='margin-left: 7px;'><\/div>");i.append(e);c=n("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'><\/div>");c.text(t.gridlocalization.filtershowrowstring);this._showwhere=c;var f=n("<div class='filter' id='filter1"+t.element.id+"'><\/div>"),g=n("<div class='filter' id='filter2"+t.element.id+"' style='margin-bottom: 3px;'><\/div>"),nt=n("<div class='filter' id='filter3"+t.element.id+"'><\/div>"),tt=t._getcolumntypebydatafield(r);if(!f.jqxDropDownList)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: jqxdropdownlist.js is not loaded.");if(l=t._getfiltersbytype(tt),this._hasdatefilter=!1,this._filterpanelwidth=u,this.columns&&this.columns.records)for(a=0;a<this.columns.records.length;a++)if(this.columns.records[a].filtertype=="date"){this._hasdatefilter=!0;break}v=n("<div class='filter'><input class='filtertext1"+t.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'><\/input><\/div>");o=v.find("input");o.addClass(this.toThemeProperty("jqx-input"));o.addClass(this.toThemeProperty("jqx-widget-content"));o.addClass(this.toThemeProperty("jqx-rc-all"));o.width(u-15);y=n("<div class='filter'><input class='filtertext2"+t.element.id+"' style='height: 20px; margin-top: 3px;' type='text'><\/input><\/div>");s=y.find("input");s.addClass(this.toThemeProperty("jqx-input"));s.addClass(this.toThemeProperty("jqx-widget-content"));s.addClass(this.toThemeProperty("jqx-rc-all"));s.width(u-15);t.rtl&&(o.css("direction","rtl"),s.css("direction","rtl"));p=n("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'><\/div>");w=n('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+t.gridlocalization.filterstring+"<\/span>");p.append(w);b=n('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+t.gridlocalization.filterclearstring+"<\/span>");p.append(b);w.jqxButton({height:20,theme:t.theme});b.jqxButton({height:20,theme:t.theme});k=function(n){if(n){if(n.text().indexOf("case sensitive")!=-1){var i=n.text();i=i.replace("case sensitive","match case");n.text(i)}return n.css("font-family",t.host.css("font-family")),n.css("font-size",t.host.css("font-size")),n.css("top","1px"),n.css("position","relative"),n}return""};this.filtermode==="default"?(e.append(c),e.append(f),f.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:u-15,height:20,dropDownHeight:150,dropDownWidth:u-15,selectionRenderer:k,source:l,theme:t.theme}),e.append(v),d=[],d[0]=t.gridlocalization.filterandconditionstring,d[1]=t.gridlocalization.filterorconditionstring,g.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:20,source:d,selectionRenderer:k,theme:t.theme}),e.append(g),nt.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:u-15,height:20,dropDownHeight:150,dropDownWidth:u-15,selectionRenderer:k,source:l,theme:t.theme}),e.append(nt),e.append(y)):(e.append(c),e.append(f),f.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:u-15,height:120,theme:t.theme}),h=!0,t.addHandler(f,"checkChange",function(n){if(h)if(n.args.label!=t.gridlocalization.filterselectallstring){h=!1;f.jqxListBox("checkIndex",0,!0,!1);var i=f.jqxListBox("getCheckedItems"),r=f.jqxListBox("getItems");i.length==1?f.jqxListBox("uncheckIndex",0,!0,!1):r.length!=i.length&&f.jqxListBox("indeterminateIndex",0,!0,!1);h=!0}else h=!1,n.args.checked?f.jqxListBox("checkAll",!1):f.jqxListBox("uncheckAll",!1),h=!0}));e.append(p);t.updatefilterpanel&&t.updatefilterpanel(f,nt,g,v,y,w,b,null,null,l)}})}(jqxBaseFramework),function(n){n.jqx.dataview.grouping=function(){this.loadgrouprecords=function(t,i,r,u,f,e,o,s,h){for(var d,v,at,g,vt,nt,ot,p,c,tt,yt,st,ut,rt,pt,ft,a,w,b=t,y=this,ht=[],k=0;k<y.groups.length;k++)ht[k]=y.generatekey();var ct=[],kt=0,ht=ht,et=[],a=i,dt=i,lt=y.groups.length;if(this.loadedrecords=[],this.bounditems=[],this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.sortedgroups=[],d=this.sortdata!=null,v=d?this.sortdata:this.records,this.pageable&&(at=Object.prototype.toString,g=this.groups[0],Object.prototype.toString=typeof g=="function"?g:function(){return this[g]},d&&(vt=this.sortfield,Object.prototype.toString=typeof g=="function"?g:function(){return this[g]+" "+this[vt]}),nt=[],ot=0,n.each(v,function(){nt[i+ot++]=this}),v=nt,d?v.sort(function(t,i){var t=t.value,i=i.value,u;if(t===undefined&&(t=null),i===undefined&&(i=null),t===null&&i===null)return 0;if(t===null&&i!==null)return 1;if(t!==null&&i===null)return-1;if(n.jqx.dataFormat.isNumber(t)&&n.jqx.dataFormat.isNumber(i)||n.jqx.dataFormat.isDate(t)&&n.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;n.jqx.dataFormat.isNumber(t)||n.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(r){u=r}return 0}):v.sort(function(t,i){if(t===undefined&&(t=null),i===undefined&&(i=null),t===null&&i===null)return 0;if(t===null&&i!==null)return 1;if(t!==null&&i===null)return-1;if((t=t.toString(),i=i.toString(),n.jqx.dataFormat.isNumber(t)&&n.jqx.dataFormat.isNumber(i))||n.jqx.dataFormat.isDate(t)&&n.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;n.jqx.dataFormat.isNumber(t)||n.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(r){var u=r}return 0}),Object.prototype.toString=at),this.virtualmode){for(nt=[],ot=0,a=0;a<r-i;a++)nt[i+ot++]=v[a];a=0;v=nt}for(p=i;p<r;p++){for(c={},c=d?n.extend({},v[p].value):n.extend({},v[p]),id=c[y.uniqueId],(f>=s||id!=o[f][y.uniqueId]||e&&e[id])&&(h[h.length]=f),tt=[],yt=0,k=0;k<lt;k++)w=y.groups[k],st=c[w],st==null&&(st=""),tt[yt++]={value:st,hash:ht[k]};if(tt.length!=lt)break;var l=null,it="",gt=-1;for(ut=0;ut<tt.length;ut++){if(gt++,rt=tt[ut].value,pt=tt[ut].hash,it=it+"_"+pt+"_"+rt,et[it]!=undefined&&et[it]!=null){l=et[it];continue}l==null?(l={group:rt,subItems:[],subGroups:[],level:0},ct[kt++]=l,l.uniqueid=y.generatekey(),y.loadedgroupsByKey[rt]=l):(ft={group:rt,subItems:[],subGroups:[],parentItem:l,level:l.level+1},y.loadedgroupsByKey[l.uniqueid+"_"+rt]=ft,ft.uniqueid=y.generatekey(),l.subGroups[l.subGroups.length++]=ft,l=ft);et[it]=l}l!=null?(undefined==c.uid&&(c.uid=this.getid(this.source.id,c,a)),d?(c.boundindex=v[p].index,this.recordsbyid["id"+c.uid]=v[p].value):(c.boundindex=a,this.recordsbyid["id"+c.uid]=v[p]),this.bounditems[c.boundindex]=c,this.sortedgroups[a]=c,c.uniqueid=y.generatekey(),c.parentItem=l,c.level=l.level+1,l.subItems[l.subItems.length++]=c):(undefined==c.uid&&(c.uid=this.getid(this.source.id,c,a)),d?(c.boundindex=v[p].index,this.recordsbyid["id"+c.uid]=v[p].value):(c.boundindex=a,this.recordsbyid["id"+c.uid]=v[p]),this.sortedgroups[a]=c,this.bounditems[c.boundindex]=c,c.uniqueid=y.generatekey());f++;a++;dt++}var wt=function(n,i,r){for(var u=0;u<i.subItems.length;u++)i.subItems[u].visibleindex=t+r,n.rows[r]=i.subItems[u],n.loadedrecords[r]=i.subItems[u],r++;return r},bt=function(n,i,r){var f=function(i){if(n.aggregates==!0){var f=i,u={};f!=null&&(u.level=f.level,u.visibleindex=t+r,u.uniqueid=n.generatekey(),n.rows[r]=u,n.loadedrecords[r++]=u,u.totalsrow=!0,i.subItems.length>0?(f=i.subItems[i.subItems.length-1],u.parentItem=f.parentItem,u.parentItem.subItems&&(u.parentItem.subItems[u.parentItem.subItems.length]=u)):i.subGroups.length>0&&(f=i.subGroups[i.subGroups.length-1],u.level=f.level,u.parentItem=i,i.subGroups[i.subGroups.length]=u))}},u;for(subGroup in i.subGroups)u=i.subGroups[subGroup],u.subGroups&&(n.loadedgroups[n.loadedgroups.length]=u,u.visibleindex=t+r,n.rows[r]=u,n.loadedrecords[r]=u,r++,u.subGroups.length>0?r=bt(n,u,r):u.subItems.length>0&&(r=wt(n,u,r)),f(u));return i.subItems.length>0&&(r=wt(n,i,r)),f(i),r},ni=ct.length;for(this.loadedgroups=[],this.rows=[],b=0,a=0;a<ni;a++)w=ct[a],this.loadedrootgroups[a]=w,this.loadedgroups[this.loadedgroups.length]=w,w.visibleindex=t+b,this.rows[b]=w,this.loadedrecords[b]=w,b++,b=bt(this,w,b);return b};this._updategroupsinpage=function(t,i,r,u,f,e,o){var w=[],ft=[],tt,l,a,ot,h,it,k,p,st,d,c,b,v;if(this.groupable&&this.groups.length>0){var g=0,nt=[],et=[];for(h=0;h<t.groups.length;h++)et[h]=t.generatekey();var b=0,rt=[],lt=0;for(o>this.totalrecords&&(o=this.totalrecords),tt=e;tt<o;tt++){if(l=n.extend({},t.sortedgroups[tt]),id=l[t.uniqueId],!t.pagesize||r>=t.pagesize*t.pagenum&&r<t.pagesize*(t.pagenum+1)){for((u>=f||id!=w[u][t.uniqueId]||updated&&updated[id])&&(ft[ft.length]=u),a=[],ot=0,h=0;h<t.groups.length;h++)v=t.groups[h],it=l[v],null==it&&(it=""),a[ot++]={value:it,hash:et[h]};if(a.length!=t.groups.length)break;var s=null,y="",at=-1;for(k=0;k<a.length;k++){if(at++,p=a[k].value,st=a[k].hash,y=y+"_"+st+"_"+p,nt[y]!=undefined&&nt[y]!=null){s=nt[y];continue}s==null?(s={group:p,subItems:[],subGroups:[],level:0},rt[lt++]=s,c=t.loadedgroupsByKey[p],c!=undefined&&(s.visibleindex=c.visibleindex,s.uniqueid=c.uniqueid)):(d={group:p,subItems:[],subGroups:[],parentItem:s,level:s.level+1},c=t.loadedgroupsByKey[s.uniqueid+"_"+p],d.visibleindex=c.visibleindex,d.uniqueid=c.uniqueid,s.subGroups[s.subGroups.length++]=d,s=d);nt[y]=s}s!=null&&(l.parentItem=s,l.level=s.level+1,s.subItems[s.subItems.length++]=l);u++}b++;r++}var ht=function(t,i,r){for(var u=0;u<i.subItems.length;u++)w[r]=n.extend({},i.subItems[u]),r++;return r},ut=function(n){var i=!1,t,r;for(subGroup in n.subGroups)if(t=n.subGroups[subGroup],t.subGroups&&(t.subGroups.length>0&&(r=ut(t),r)||t.subItems.length>0))return i=!0,!0;return n.subItems.length>0?(i=!0,!0):i},ct=function(n,t,i){for(subGroup in t.subGroups){var r=t.subGroups[subGroup];r.subGroups&&ut(r)&&(w[i]=r,i++,r.subGroups.length>0?i=ct(n,r,i):r.subItems.length>0&&(i=ht(n,r,i)))}return t.subItems.length>0&&(i=ht(n,t,i)),i};for(b=0;b<rt.length;b++)v=rt[b],ut(v)&&(w[g]=v,g++,g=ct(this,v,g))}return w}};n.extend(n.jqx._jqxGrid.prototype,{_initgroupsheader:function(){var t,f,r,i,u;this.groupsheader.css("visibility","hidden");this._groupsheader()&&(this.groupsheader.css("visibility","inherit"),t=this,f=this.gridlocalization.groupsheaderstring,this.groupsheaderdiv=this.groupsheaderdiv||n('<div style="width: 100%; position: relative;"><\/div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=[],r=this.groups.length,this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="",i=[],r>0?n.each(this.groups,function(u){var s=this,c=t._getColumnText(this),l=c.label,f=t._rendergroupcolumn(l,s),o,h,e;f.addClass(t.toThemeProperty("jqx-grid-group-column"));t.groupsheaderdiv.append(f);t.closeablegroups&&(o=n(f.find(".jqx-icon-close")),t.isTouchDevice()&&t.touchmode!==!0?t.addHandler(o,"touchstart",function(){return t.removegroupat(u),!1}):t.addHandler(o,"click",function(){return t.removegroupat(u),!1}));t.sortable&&t.addHandler(f,"click",function(){var n=t.getcolumn(s);return n!=null&&t._togglesort(n),!1});i[i.length]=f;t._handlegroupstocolumnsdragdrop(this,f);u<r-1&&(h=f.height(),e=n('<div style="float: left; position: relative;"><\/div>'),t.rtl&&e.css("float","right"),e.width(t.groupindentwidth/3),e.height(1),e.css("top",h/2),e.addClass(t.toThemeProperty("jqx-grid-group-column-line")),t.groupsheaderdiv.append(e))}):(u=n('<div style="position: relative;">'+f+"<\/div>"),this.groupsheaderdiv.append(u),this.rtl&&u.addClass(this.toThemeProperty("jqx-rtl"))),this._groupheaders=i,this._updategroupheadersbounds())},_updategroupheadersbounds:function(){var i=this,r=this.groupsheaderdiv.children().outerHeight(),t=(this.groupsheader.height()-r)/2;this.groupsheaderdiv.css("top",t);this.rtl?this.groupsheaderdiv.css("right",t):this.groupsheaderdiv.css("left",t);this.rtl&&this._groupheaders.reverse();n.each(this._groupheaders,function(n){var t=this.coord();i.groupheadersbounds[n]={left:t.left,top:t.top,width:this.outerWidth(),height:this.outerHeight(),index:n}})},addgroup:function(n){if(n){var t=this;t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups);t.groups[t.groups.length]=n;t.refreshgroups();this._raiseEvent(12,{type:"Add",index:t.groups[t.groups.length],groups:t.groups})}},insertgroup:function(n,t){if(n!=undefined&&n!=null&&n>=0&&n<=this.groups.length&&t){var i=this;i.groups!==i.dataview.groups&&(i.dataview.groups=i.groups);i.groups.splice(n,0,t.toString());i.refreshgroups();this._raiseEvent(12,{type:"Insert",index:n,groups:i.groups})}},refreshgroups:function(){this._refreshdataview();this._render(!0,!0,!0,!1)},_insertaftergroup:function(n,t){var i=this._getGroupIndexByDataField(n);this.insertgroup(i+1,t)},_insertbeforegroup:function(n,t){var i=this._getGroupIndexByDataField(n);this.insertgroup(i,t)},removegroupat:function(n){if(n>=0&&n!=null&&n!=undefined){var t=this;return t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups.splice(n,1),t.refreshgroups(),t.virtualmode&&t.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:n,groups:t.groups}),!0}return!1},cleargroups:function(){var n=this;return n.groups=[],n.dataview.groups=n.groups,n.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:n.groups}),!0},removegroup:function(n){if(n==null)return!1;var t=this.groups.indexOf(n.toString());return this.removegroupat(t)},getrootgroupscount:function(){return this.dataview.loadedrootgroups.length},collapsegroup:function(n){return this._setrootgroupstate(n,!1)},expandgroup:function(n){return this._setrootgroupstate(n,!0)},collapseallgroups:function(n){this._setbatchgroupstate(!1,n)},expandallgroups:function(n){this._setbatchgroupstate(!0,n)},getgroup:function(t){var i=this.dataview.loadedrootgroups[t],e,u,r;if(i==null)return null;var o=this.expandedgroups[i.uniqueid].expanded,s=i.group,h=i.level,f=[];return this._getsubgroups(f,i),e=this,u={group:s,level:h,expanded:o,subgroups:f},i.subItems&&(r=[],n.each(i.subItems,function(){var n=this.boundindex;r[r.length]=e.getrowdata(n)}),r.length>0&&(u.subrows=r)),u},getrootgroups:function(){for(var i=this.dataview.loadedrootgroups.length,t=[],n=0;n<i;n++)t[n]=this.getgroup(n);return t},_getsubgroups:function(t,i){var f=this,u,e;for(obj in i.subGroups){var r=i.subGroups[obj],o=f.expandedgroups[r.uniqueid].expanded,s=r.group,h=r.level;t[t.length]={group:s,level:h,expanded:o};r.subItems&&(u=[],n.each(r.subItems,function(){var n=this.boundindex;u[u.length]=f.getrowdata(n)}),t[t.length-1].subrows=u);r.subGroups&&(e=[],f._getsubgroups(e,r))}return t},_setbatchgroupstate:function(n,t){var i=this,r;for(obj in this.dataview.loadedrootgroups)i._setrootgroupstate(obj,n,!1,!0);return t==!1?(i._requiresupdate=!0,i._renderrows(i.virtualsizeinfo),!0):(r=this.vScrollBar[0].style.visibility,this.rendergridcontent(!0,!1),(r!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0)},_setrootgroupstate:function(n,t,i,r){var o,f,e,u;if(n==undefined||n==null||n<0||!this.groupable||this.groups.length==0)return!1;if(o=i!=undefined?i:!0,n>=0&&n<this.dataview.loadedrootgroups.length){if(f=this.dataview.loadedrootgroups[n],this.pageable){for(e=[],u=0;u<this.dataview.rows.length;u++)this.dataview.rows[u].group!=null&&this.dataview.rows[u].level===0&&e.push(this.dataview.rows[u]);if(f=e[n],!f)return}return this._setgroupstate(f,t,o,r)}return!1},_togglegroupstate:function(n,t){var r,i,u;return n==null||n==undefined?!1:(r=this.vScrollInstance.value,i=this.expandedgroups[n.uniqueid],i=i==undefined?!1:i.expanded,i=!i,u=this._setgroupstate(n,i,t),r!==0&&this.vScrollBar.css("visibility")!=="hidden"&&(r<=this.vScrollInstance.max?this.vScrollInstance.setPosition(r):this.vScrollInstance.setPosition(this.vScrollInstance.max)),u)},_setgroupstate:function(n,t,i,r){var u,f,e;return n==null||n==undefined?!1:(u=!1,this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),f=this.expandedgroups[n.uniqueid],f==undefined&&(f={expanded:!1},u=!0),f.expanded!=t&&(u=!0),u)?(this.expandedgroups[n.uniqueid]={expanded:t,group:n},this._setsubgroupsvisibility(this,n,!t,r),i&&(e=this.vScrollBar[0].style.visibility,this.rendergridcontent(!0,!1),(e!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))),(undefined==this.suspendgroupevents||this.suspendgroupevents==!1)&&(t?this._raiseEvent(4,{group:n.group,parentgroup:n.parentItem?n.parentItem.group:null,level:n.level,visibleindex:n.visibleindex}):this._raiseEvent(5,{group:n.group,parentgroup:n.parentItem?n.parentItem.group:null,level:n.level,visibleindex:n.visibleindex})),!0):!1},_setgroupitemsvisibility:function(n,t,i){for(var r=0;r<t.subItems.length;r++)n._setrowvisibility(t.subItems[r].visibleindex,i,!1)},_setsubgroupsvisibility:function(n,t,i,r){var u,f;if(t.parentItem!=null){if(this.hiddens[t.parentItem.visibleindex])return}else if(t.parentItem==null&&this.hiddens[t.visibleindex])return;for(subGroup in t.subGroups)u=t.subGroups[subGroup],i||n._setrowvisibility(u.visibleindex,i,!1),f=!i,r?this.expandedgroups[u.uniqueid]={expanded:f,group:u}:f=n.expandedgroups[u.uniqueid]==undefined?!1:n.expandedgroups[u.uniqueid].expanded,u.subGroups&&(u.subGroups.length>0?n._setsubgroupsvisibility(n,u,!f||i,r):u.subItems.length>0&&n._setgroupitemsvisibility(n,u,!f||i)),i&&n._setrowvisibility(u.visibleindex,i,!1);t.subItems&&t.subItems.length>0&&n._setgroupitemsvisibility(n,t,i)},_handlecolumnsdragdrop:function(){var t=this,i=-1,r=!1;if(t.groupable){var f="mousemove.grouping"+this.element.id,o="mousedown.grouping"+this.element.id,e="mouseup.grouping"+this.element.id,u=!1;this.isTouchDevice()&&this.touchmode!==!0&&(u=!0,f=n.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,o=n.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,e=n.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id);this.removeHandler(n(document),f);this.addHandler(n(document),f,function(f){var o,e,c,s,y,p,h,k;if(!t.showgroupsheader)return!0;if(t.dragcolumn!=null){o=parseInt(f.pageX);e=parseInt(f.pageY);u&&(c=t.getTouches(f),s=c[0],o=parseInt(s.pageX),e=parseInt(s.pageY));var l=t.host.coord(),a=parseInt(l.left),v=parseInt(l.top);if((t.dragmousedownoffset==undefined||t.dragmousedownoffset==null)&&(t.dragmousedownoffset={left:0,top:0}),y=parseInt(o)-parseInt(t.dragmousedownoffset.left),p=parseInt(e)-parseInt(t.dragmousedownoffset.top),t.dragcolumn.css({left:y+"px",top:p+"px"}),r=!1,o>=a&&o<=a+t.host.width()&&e>=v&&e<=v+t.host.height()&&(r=!0),i=-1,r){t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var w=t.groupsheader.coord(),d=w.top+t.groupsheader.height(),b=n.data(t.dragcolumn[0],"datarecord");h=b?t.groups.indexOf(b.toString()):-1;k=h==-1||t.groups.length>1&&h>-1;t.dropline!=null&&(e>=w.top&&e<=d?k&&(i=t._handlegroupdroplines(o)):t.dropline.fadeOut("slow"))}else t.dropline!=null&&t.dropline.fadeOut("slow"),t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(u)return f.preventDefault(),f.stopPropagation(),!1}});this.removeHandler(n(document),e);this.addHandler(n(document),e,function(f){var a,s,v,l,e,o;if(!t.showgroupsheader)return!0;t.__drag=!1;n(document.body).removeClass("jqx-disableselect");a=parseInt(f.pageX);s=parseInt(f.pageY);u&&(v=t.getTouches(f),l=v[0],a=parseInt(l.pageX),s=parseInt(l.pageY));var y=t.host.coord(),b=parseInt(y.left),h=parseInt(y.top),p=t.groupsheader.height();if(t.showtoolbar&&(h+=t.toolbarheight),t.dragstarted=!1,t.dragmousedown=null,t.dragcolumn!=null&&(e=n.data(t.dragcolumn[0],"datarecord"),t.dragcolumn.remove(),t.dragcolumn=null,e!=null)){if(!t.getcolumn(e).groupable){t.dropline!=null&&(t.dropline.remove(),t.dropline=null);return}if(r)if(i!=-1){var w=i.index,c=t.groups[w],o=t._getGroupIndexByDataField(e);o!=w&&(o!=undefined&&o>=0&&t.groups.splice(o,1),i.position=="before"?t.rtl?t._insertaftergroup(c,e):t._insertbeforegroup(c,e):t.rtl?t._insertbeforegroup(c,e):t._insertaftergroup(c,e))}else t.groups.length==0?s>h&&s<=h+p&&t.addgroup(e):s>h+p&&(o=t._getGroupIndexByDataField(e),t.removegroupat(o));t.dropline!=null&&(t.dropline.remove(),t.dropline=null)}})}},_getGroupIndexByDataField:function(n){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==n)return t;return-1},_isColumnInGroups:function(n){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==n)return!0;return!1},_handlegroupdroplines:function(t){var i=this,r=-1;return n.each(i.groupheadersbounds,function(n){if(t<=this.left+this.width/2){var u=this.left-3;return n>0&&(u=this.left-1-i.groupindentwidth/6),i.dropline.css("left",u),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),r={index:n,position:"before"},i.rtl&&(r={index:i.groupheadersbounds.length-1-n,position:"before"}),!1}t>=this.left+this.width/2&&(i.dropline.css("left",1+this.left+this.width),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),r={index:n,position:"after"},i.rtl&&(r={index:i.groupheadersbounds.length-1-n,position:"after"}))}),r},_handlegroupstocolumnsdragdrop:function(t,i){this.dragmousedown=null;this.dragmousedownoffset=null;this.dragstarted=!1;this.dragcolumn=null;var r=this,u,e="mousedown",o="mousemove",f=!1;this.isTouchDevice()&&this.touchmode!==!0&&(f=!0,e=n.jqx.mobile.getTouchEventName("touchstart"),o=n.jqx.mobile.getTouchEventName("touchmove"));this.addHandler(i,"dragstart",function(){return!1});this.addHandler(i,e,function(t){var i,u,s,e,o;if(!r.showgroupsheader)return!0;i=t.pageX;u=t.pageY;r.__drag=!0;r.dragmousedown={left:i,top:u};f&&(s=r.getTouches(t),e=s[0],i=e.pageX,u=e.pageY,r.dragmousedown={left:i,top:u},t.preventDefault&&t.preventDefault());o=n(t.target).coord();r.dragmousedownoffset={left:parseInt(i)-parseInt(o.left),top:parseInt(u-o.top)}});this.addHandler(i,o,function(e){var s,o,h,c;if(!r.showgroupsheader)return!0;r.dragmousedown&&(u={left:e.pageX,top:e.pageY},f&&(s=r.getTouches(e),o=s[0],u={left:o.pageX,top:o.pageY}),r.dragstarted||r.dragcolumn!=null||(h=Math.abs(u.left-r.dragmousedown.left),c=Math.abs(u.top-r.dragmousedown.top),(h>3||c>3)&&(r._createdragcolumn(i,u,!0),n(document.body).addClass("jqx-disableselect"),n.data(r.dragcolumn[0],"datarecord",t),e.preventDefault&&e.preventDefault())))})},_createdragcolumn:function(t,i,r){var u=this,s=i,f,e,o,h;u.dragcolumn=n("<div><\/div>");f=t.clone();u.dragcolumn.css("z-index",999999);f.css("border-width","1px");f.css("opacity","0.4");e=n(f.find("."+u.toThemeProperty("jqx-grid-column-menubutton")));e.length>0&&e.css("display","none");o=n(f.find(".jqx-icon-close"));o.length>0&&o.css("display","none");u.dragcolumnicon=n('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"><\/div>');u.dragcolumnicon.addClass(u.toThemeProperty("jqx-grid-drag-icon"));u.dragcolumn.css("float","left");u.dragcolumn.css("position","absolute");h=u.host.coord();f.width(t.width()+16);u.dragcolumn.append(f);u.dragcolumn.height(t.height());u.dragcolumn.width(f.width());u.dragcolumn.append(u.dragcolumnicon);n(document.body).append(u.dragcolumn);f.css("margin-left",0);f.css("left",0);f.css("top",0);u.dragcolumn.css("left",s.left+u.dragmousedown.left);u.dragcolumn.css("top",s.top+u.dragmousedown.top);r!=undefined&&r&&(u.dropline=n('<div style="display: none; position: absolute;"><\/div>'),u.dropline.width(2),u.dropline.addClass(u.toThemeProperty("jqx-grid-group-drag-line")),n(document.body).append(u.dropline))},iscolumngroupable:function(n){return this._getcolumnproperty(n,"groupable")},_handlecolumnstogroupsdragdrop:function(t,i){var r,f,e,u;this.dragmousedown=null;this.dragmousedownoffset=null;this.dragstarted=!1;this.dragcolumn=null;r=this;f=!1;this.isTouchDevice()&&this.touchmode!==!0&&(f=!0);e="mousedown.drag";u="mousemove.drag";f?(e=n.jqx.mobile.getTouchEventName("touchstart")+".drag",u=n.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(){return!1});this.addHandler(i,e,function(u){var e,o,c,s,h;if(!r.showgroupsheader)return!0;if(r.__drag=!0,r._isColumnInGroups(t.displayfield))return i.css("cursor")!="col-resize"?!0:!0;if(!1==t.groupable)return!0;e=u.pageX;o=u.pageY;f&&(c=r.getTouches(u),s=c[0],e=s.pageX,o=s.pageY);r.dragmousedown={left:e,top:o};f&&u.preventDefault&&u.preventDefault();h=n(u.target).coord();r.dragmousedownoffset={left:parseInt(e)-parseInt(h.left),top:parseInt(o-h.top)}});this.addHandler(i,u,function(e){var o,s,c,h,l,a;if(!r.showgroupsheader)return!0;if(r._isColumnInGroups(t.displayfield))return i.css("cursor")!="col-resize"?!0:!0;r.dragmousedown&&(o=e.pageX,s=e.pageY,f&&(c=r.getTouches(e),h=c[0],o=h.pageX,s=h.pageY),u={left:o,top:s},r.dragstarted||r.dragcolumn!=null||(l=Math.abs(u.left-r.dragmousedown.left),a=Math.abs(u.top-r.dragmousedown.top),(l>3||a>3)&&(r._createdragcolumn(i,u,!0),n.data(r.dragcolumn[0],"datarecord",t.displayfield),e.preventDefault&&e.preventDefault())))})},_rendergroupcolumn:function(t,i){var r=n('<div style="float: left; position: relative;"><\/div>'),o,e,u,f;return this.rtl&&r.css("float","right"),this.groupcolumnrenderer!=null&&(r[0].innerHTML=this.groupcolumnrenderer(t),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups?(r[0].innerHTML==""&&(r[0].innerHTML='<a style="float: left;" href="#">'+t+"<\/a>"),this.rtl&&(r[0].innerHTML='<a style="float: right;" href="#">'+t+"<\/a>"),o=this.rtl?"left":"right",e='<div style="float: '+o+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"><\/div><\/div>',n.jqx.browser.msie&&n.jqx.browser.version<8&&(e='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"><\/div><\/div>'),this.rtl&&(e='<div style="float: '+o+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"><\/div><\/div>',n.jqx.browser.msie&&n.jqx.browser.version<8&&(e='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"><\/div><\/div>')),r[0].innerHTML+=e):r[0].innerHTML==""&&(r[0].innerHTML='<a href="#">'+t+"<\/a>"),this.sortable&&(u=n('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"><\/div><\/div>'),f=n('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"><\/div><\/div>'),this.closeablegroups&&(u=n('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"><\/div><\/div>'),f=n('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"><\/div><\/div>')),this.rtl&&(u=n('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"><\/div><\/div>'),f=n('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"><\/div><\/div>'),this.closeablegroups&&(u=n('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"><\/div><\/div>'),f=n('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"><\/div><\/div>'))),u.css("display","none"),f.css("display","none"),n.jqx.browser.msie&&n.jqx.browser.version<8&&(u.css("float","left"),f.css("float","left")),r.append(u),r.append(f),n.data(document.body,"groupsortelements"+i,{sortasc:u,sortdesc:f})),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r},_rendergroup:function(t,i,r,u,f,e,o){var g=i,et=i.cells[r.level],nt,y,tt,s,b,l,ot,ut,h,c,k,st,a,ht,d,v;this.rtl&&(et=i.cells[i.cells.length-1-r.level]);nt=this._findgroupstate(r.uniqueid);(r.bounddata.subGroups.length>0||r.bounddata.subItems.length>0)&&(y=this.rtl?"-rtl":"",tt=this.toThemeProperty("jqx-icon-arrow-right"),y&&(tt=this.toThemeProperty("jqx-icon-arrow-left")),et.className+=nt?" "+this.toThemeProperty("jqx-grid-group-expand"+y)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+y)+" "+tt);var it=this._getColumnText(this.groups[r.level]).label,p=this.groupindentwidth,w=this.rowdetails&&this.showrowdetailscolumn?(1+t)*p:t*p,v=o-w,rt=r.level+1;for(this.rtl&&(rt=0),s=g.cells[rt],b=2;s!=undefined&&s.style.display=="none"&&b<g.cells.length-1;)s=g.cells[rt+b-1],b++;if(l=n(s),s){if(s.style.width=parseInt(v)+"px",s.className.indexOf("jqx-grid-cell-filter")!=-1&&l.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),s.className.indexOf("jqx-grid-cell-sort")!=-1&&l.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),s.className.indexOf("jqx-grid-cell-pinned")!=-1&&l.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),this.groupsrenderer!=null)ot={group:r.group,level:r.level,parent:r.bounddata.parentItem,subGroups:r.bounddata.subGroups,subItems:r.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[r.level]).column},ut=this.groupsrenderer(it+": "+r.group,r.group,nt,ot),ut?s.innerHTML=ut:(k=r.bounddata.subItems.length>0?r.bounddata.subItems.length:r.bounddata.subGroups.length,s.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+it+': <\/span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+r.group+" ("+k+")<\/span><\/div>");else if(h=this._getcolumnbydatafield(this.groups[r.level]),c=r.group,h!=null)h.cellsformat&&n.jqx.dataFormat&&(n.jqx.dataFormat.isDate(c)?c=n.jqx.dataFormat.formatdate(c,h.cellsformat,this.gridlocalization):n.jqx.dataFormat.isNumber(c)&&(c=n.jqx.dataFormat.formatnumber(c,h.cellsformat,this.gridlocalization))),k=r.bounddata.subItems.length>0?r.bounddata.subItems.length:r.bounddata.subGroups.length,s.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+it+': <\/span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+c+" ("+k+")<\/span><\/div>";else throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: Unable to find '"+this.groups[r.level]+"' group in the Grid's columns collection.");if(this.rtl){h||(h=this._getcolumnbydatafield(this.groups[r.level]));var d=this.hScrollBar.css("visibility")=="hidden"?0:this.hScrollInstance.max-this.hScrollInstance.value,ft=this.vScrollBar.css("visibility")=="hidden"?0:this.scrollbarsize+6,w=this.rowdetails&&this.showrowdetailscolumn?(2+r.level)*p:(1+r.level)*p;s.style.width=o+parseInt(d)-w-ft+"px";l.addClass(this.toThemeProperty("jqx-rtl"));st=n(i.cells[i.cells.length-1]).css("z-index");l.css("z-index",st);a=l.find("div");v=a.width();a.css("left","100%");ht=this.columns.records[i.cells.length-2-r.level]!=null?this.columns.records[i.cells.length-2-r.level].pinned:!1;this.table.width()<o&&(o=this.table.width(),this.vScrollBar.css("visibility")!="hidden"&&(o+=this.vScrollBar.outerWidth()));h.pinned||ht?(this.rowdetails&&this.showrowdetailscolumn&&(o+=30),a.css("margin-left",-v),s.style.width=o+d-w-ft+"px"):(d=this.hScrollBar.css("visibility")=="hidden"?0:this.hScrollInstance.max,s.style.width=o+d-w-ft+"px",v=a.width(),a.css("margin-left",-v))}}}})}(jqxBaseFramework),function(n){n.extend(n.jqx._jqxGrid.prototype,{_initpager:function(){var t=this.that,p=this.gridlocalization.pagergotopagestring,k=this.gridlocalization.pagerrangestring,w=this.gridlocalization.pagershowrowsstring,b=(this.pagerheight-17)/2,o,r,c,u,f,l,v,a,e,i,s,h,y;if(this.pagerdiv=this.pagerdiv||n('<div style="width: 100%; height: 100%; position: relative;"><\/div>'),!this.pageable){this.pagerdiv.remove();this.vScrollBar.jqxScrollBar({thumbSize:0});return}if(this.pagerrenderer)this.pagerdiv.children().remove(),y=this.pagerrenderer(),y!=null&&this.pagerdiv.append(n(y)),this.pager.append(this.pagerdiv);else{if(this.pagerdiv.css("top",b),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||n('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/><\/div>'),this.pagergoto=this.pagergoto||n('<div style="float: right; margin-right: 7px;"><\/div>'),this.pagerrightbutton=this.pagerrightbutton||n('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"><\/div>'),this.pagerleftbutton=this.pagerleftbutton||n('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"><\/div>'),this.pagerdetails=this.pagerdetails||n('<div style="margin-right: 7px; float: right;"><\/div>'),this.pagershowrows=this.pagershowrows||n('<div style="margin-right: 7px; float: right;"><\/div>'),this.pagerbuttons=n('<div style="margin-right: 3px; float: right;"><\/div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=n('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"><\/div>'),this.pagerlastbutton=n('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"><\/div>'),this.pagershowrowscombo=this.pagershowrowscombo||n('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"><\/div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),this.pagermode=="simple"?(n.jqx.browser.msie&&n.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring),o=n("<div style='margin-left: 6px; width: 15px; height: 15px;'><\/div>"),o.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(o),r=n("<div style='margin-left: 6px; width: 15px; height: 15px;'><\/div>"),r.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(r),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),c=this.rtl?"right":"left",this.pagerbuttons.css("float",c),this.pagerlastbutton.css("float",c),this.pagerfirstbutton.css("float",c),this.pagerrightbutton.css("float",c),this.pagerleftbutton.css("float",c),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()):(this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton))),this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove(),u=n("<div style='margin-left: 6px; width: 15px; height: 15px;'><\/div>"),u.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(u),f=n("<div style='margin-left: 6px; width: 15px; height: 15px;'><\/div>"),f.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(f),this.rtl||this.pagerdiv.append(this.pagerdetails),this.pagermode!="simple"&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto))),l=this.pagesizeoptions,!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: jqxdropdownlist.js is not loaded.");for(this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:l,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:16,theme:this.theme}),v=0,a=0;a<l.length;a++)this.pagesize>=l[a]&&(v=a);this.pagershowrows[0].innerHTML=w;this.pagergoto[0].innerHTML=p;this.updatepagerdetails();this.pagershowrowscombo.jqxDropDownList({selectedIndex:v});this.pagerpageinput=this.pagergotoinput.find("input");this.pagerpageinput.addClass(this.toThemeProperty("jqx-input"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content"));this.rtl&&this.pagerpageinput.css("direction","rtl");t=this.that;this.removeHandler(this.pagershowrowscombo,"select");this.addHandler(this.pagershowrowscombo,"select",function(n){var i;if(n.args){t.vScrollInstance&&t.vScrollInstance.setPosition(0);t.editcell!=null&&t.endcelledit&&t.endcelledit(t.editcell.row,t.editcell.column,!0,!1);var u=n.args.index,f=t.dataview.pagenum*t.dataview.pagesize,r=l[u],e=t.pagesize;t.pagesize=parseInt(r);isNaN(t.pagesize)&&(t.pagesize=10);r>=100?t.pagershowrowscombo.jqxDropDownList({width:"auto"}):t.pagershowrowscombo.jqxDropDownList({width:44});t.dataview.pagesize=t.pagesize;i=Math.floor(f/t.dataview.pagesize);t.prerenderrequired=!0;t._requiresupdate=!0;t._raiseEvent(10,{pagenum:i,oldpagesize:e,pagesize:t.dataview.pagesize});t.gotopage(i);t.autoheight&&t._updatesizeonwindowresize&&(t._updatesize(!0),setTimeout(function(){t._updatesize(!0)},500))}});e=this.pagergotoinput.find("input");e.addClass(this.toThemeProperty("jqx-grid-pager-input"));e.addClass(this.toThemeProperty("jqx-rc-all"));this.removeHandler(e,"keydown");this.removeHandler(e,"change");this.addHandler(e,"keydown",function(n){if(n.keyCode>=65&&n.keyCode<=90)return!1;if(n.keyCode=="13"){var i=e.val();return i=parseInt(i),isNaN(i)||t.gotopage(i-1),!1}});this.addHandler(e,"change",function(){var n=e.val();n=parseInt(n);isNaN(n)||t.gotopage(n-1)});this.addHandler(this.pagerrightbutton,"mouseenter",function(){f.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseenter",function(){u.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mouseleave",function(){f.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseleave",function(){u.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mousedown",function(){f.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))});this.addHandler(this.pagerrightbutton,"mouseup",function(){f.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))});this.addHandler(this.pagerleftbutton,"mousedown",function(){u.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(this.pagerleftbutton,"mouseup",function(){u.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(n(document),"mouseup.pagerbuttons"+this.element.id,function(){f.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"));u.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(this.pagerrightbutton,"click",function(){t.pagerrightbutton.jqxButton("disabled")||(t.rtl?t.gotoprevpage():t.gotonextpage())});this.addHandler(this.pagerleftbutton,"click",function(){t.pagerleftbutton.jqxButton("disabled")||(t.rtl?t.gotonextpage():t.gotoprevpage())});i=this;this.pagermode==="simple"&&(s=this.pagerfirstbutton,h=this.pagerlastbutton,this.addHandler(h,"mouseenter",function(){r.addClass(i.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(s,"mouseenter",function(){o.addClass(i.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(h,"mouseleave",function(){r.removeClass(i.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(s,"mouseleave",function(){o.removeClass(i.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(h,"mousedown",function(){r.addClass(i.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(s,"mousedown",function(){o.addClass(i.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(h,"mouseup",function(){r.removeClass(i.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(s,"mouseup",function(){o.removeClass(i.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(n(document),"mouseup.pagerbuttons"+name+this.element.id,function(){f.removeClass(i.toThemeProperty("jqx-icon-arrow-right-selected"));u.removeClass(i.toThemeProperty("jqx-icon-arrow-left-selected"));r&&(r.removeClass(i.toThemeProperty("jqx-icon-arrow-last-selected")),o.removeClass(i.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(s,"click",function(){if(!s.jqxButton("disabled"))if(i.rtl){var n=i.dataview.totalrecords,t=Math.ceil(n/i.pagesize);i.gotopage(t-1)}else i.gotopage(0)}),this.addHandler(h,"click",function(){if(!h.jqxButton("disabled"))if(i.rtl)i.gotopage(0);else{var n=i.dataview.totalrecords,t=Math.ceil(n/i.pagesize);i.gotopage(t-1)}}))}this.vScrollBar.jqxScrollBar("refresh");this._arrange()},_updatepagertheme:function(){var u,i,r,f,e,o,t;this.pagershowrowscombo!=null&&(this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass(),u=this.pagergotoinput.find("input"),u.removeClass(),u.addClass(this.toThemeProperty("jqx-grid-pager-input")),u.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove(),i=n("<div style='margin-left: 6px; width: 15px; height: 15px;'><\/div>"),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i),r=n("<div style='margin-left: 6px; width: 15px; height: 15px;'><\/div>"),r.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(r),this.pagermode=="simple"?(n.jqx.browser.msie&&n.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring),f=n("<div style='margin-left: 6px; width: 15px; height: 15px;'><\/div>"),f.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(f),e=n("<div style='margin-left: 6px; width: 15px; height: 15px;'><\/div>"),e.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(e),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()):(this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show()),o=function(n,t){n.removeHandler(t,"mouseenter");n.removeHandler(t,"mouseleave");n.removeHandler(t,"mousedown");n.removeHandler(t,"mouseup")},o(this,this.pagerrightbutton),o(this,this.pagerleftbutton),t=this.that,this.addHandler(this.pagerrightbutton,"mouseenter",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}))},gotopage:function(n){var t,i,r,u,f,e;if(((n==null||n==undefined)&&(n=0),n==-1&&(n=0),!(n<0))&&(t=this.dataview.totalrecords,this.summaryrows&&(t+=this.summaryrows.length),i=this.pagenum,this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:n,pagesize:this.dataview.pagesize}),r=Math.ceil(t/this.pagesize),n>=r&&(this.dataview.totalrecords==0&&(this.dataview.pagenum=0,this.updatepagerdetails()),n>0&&(n=r-1),n<0&&(n=0)),(this.dataview.pagenum!=n||this._requiresupdate)&&this.pageable)){if(this.source.pager&&this.source.pager(n,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=n,this.virtualmode){if(this.hiddens=[],this.expandedgroups=[],this.rendergridrows&&(u=n*this.dataview.pagesize,f=u+this.dataview.pagesize,u!=null&&f!=null)){this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0}));this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0}));this.updatebounddata("pagechanged");this._raiseEvent(9,{pagenum:n,oldpagenum:i,pagesize:this.dataview.pagesize});this.updatepagerdetails();this.autosavestate&&this.savestate&&this.savestate();return}}else this.dataview.updateview();this._loadrows();this._updatepageviews();this.tableheight=null;this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);this.updatepagerdetails();(this.autoheight||this.autorowheight)&&(e=this.host.height()-this._gettableheight(),height=e+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo)));this.editcell!=null&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1);this._raiseEvent(9,{pagenum:n,oldpagenum:i,pagesize:this.dataview.pagesize});this.autosavestate&&this.savestate&&this.savestate()}},gotoprevpage:function(){var n,t;this.dataview.pagenum>0?this.gotopage(this.dataview.pagenum-1):this.pagermode!="simple"&&(n=this.dataview.totalrecords,this.summaryrows&&(n+=this.summaryrows.length),t=Math.ceil(n/this.pagesize),this.gotopage(t-1))},gotonextpage:function(){var n=this.dataview.totalrecords,t;this.summaryrows&&(n+=this.summaryrows.length);t=Math.ceil(n/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):this.pagermode!="simple"&&this.gotopage(0)},updatepagerdetails:function(){var h,f,c,e,a,o,r,u,i,s;if(this.pagerdetails!=null&&this.pagerdetails.length>0){if(h=this.dataview.pagenum*this.pagesize,f=(this.dataview.pagenum+1)*this.pagesize,f>=this.dataview.totalrecords&&(f=this.dataview.totalrecords),c=this.dataview.totalrecords,this.summaryrows&&(c+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(f=c)),h++,e=Math.ceil(c/this.dataview.pagesize),e>=1&&e--,e++,this.pagermode!=="simple")a=this.pagergotoinput.find("input"),a.val(this.dataview.pagenum+1);else{for(o="",r=this.pagerbuttonscount,r!=0&&r||(r=5),u=0,this.rtl&&(u=r-1);this.rtl&&u>=0||!this.rtl&&u<r;){var t=1+u,v=this.dataview.pagenum/r,y=Math.floor(v);if(t+=y*r,i=this.toTP("jqx-grid-pager-number"),i+=" "+this.toTP("jqx-rc-all"),t>e)break;this.rtl||u==0&&t>r&&(o+="<a class='"+i+"' tabindex=-1 href='javascript:;' data-page='"+(-1+t)+"'>...<\/a>");this.dataview.pagenum===t-1&&(i+=" "+this.toTP("jqx-fill-state-pressed"));this.rtl?(u===r-1&&(i=this.toTP("jqx-grid-pager-number"),i+=" "+this.toTP("jqx-rc-all"),e>=1+t&&(o+="<a class='"+i+"' tabindex=-1 href='javascript:;' data-page='"+(1+t)+"'>...<\/a>")),this.dataview.pagenum===t-1&&(i+=" "+this.toTP("jqx-fill-state-pressed")),o+="<a class='"+i+"' tabindex=-1 href='javascript:;' data-page='"+t+"'>"+t+"<\/a>"):(o+="<a class='"+i+"' tabindex=-1 href='javascript:;' data-page='"+t+"'>"+t+"<\/a>",u===r-1&&(i=this.toTP("jqx-grid-pager-number"),i+=" "+this.toTP("jqx-rc-all"),e>=1+t&&(o+="<a class='"+i+"' tabindex=-1 href='javascript:;' data-page='"+(1+t)+"'>...<\/a>")));this.rtl&&(i=this.toTP("jqx-grid-pager-number"),i+=" "+this.toTP("jqx-rc-all"),u==0&&t>r&&(o+="<a class='"+i+"' tabindex=-1 href='javascript:;' data-page='"+(-1+t)+"'>...<\/a>"));this.rtl?u--:u++}s=this.pagerbuttons.find("a");this.removeHandler(s,"click");this.removeHandler(s,"mouseenter");this.removeHandler(s,"mouseleave");this.pagerbuttons[0].innerHTML=o;var l=this,p=function(){l.addHandler(s,"click",function(t){var i=n(t.target).attr("data-page");return l.gotopage(parseInt(i)-1),!1});l.addHandler(s,"mouseenter",function(t){n(t.target).addClass(l.toTP("jqx-fill-state-hover"))});l.addHandler(s,"mouseleave",function(t){n(t.target).removeClass(l.toTP("jqx-fill-state-hover"))})},s=this.pagerbuttons.find("a");p(s)}this.pagergotoinput.attr("title","1 - "+e);f==0&&f<h&&(h=0);this.pagerdetails[0].innerHTML=this.rtl?c+this.gridlocalization.pagerrangestring+f+"-"+h:h+"-"+f+this.gridlocalization.pagerrangestring+c;h>f&&this.gotoprevpage()}},_updatepagedview:function(n,t,i){var o=this.that,s,f,u,r,e;for(this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview(),s=this.dataview.rows.length,f=0;f<s;f++)u=this.dataview.rows[f].visibleindex,r={index:u,height:this.heights[u],hidden:this.hiddens[u],details:this.details[u]},this.heights[u]==undefined&&(this.heights[u]=this.rowsheight,r.height=this.rowsheight),this.hiddens[u]==undefined&&(this.hiddens[u]=!1,r.hidden=!1),this.details[u]==undefined&&(this.details[u]=null),r.height!=o.rowsheight&&(t-=o.rowsheight,t+=r.height),r.hidden?t-=r.height:(i+=r.height,e=0,this.rowdetails&&r.details&&r.details.rowdetails&&!r.details.rowdetailshidden&&(e=r.details.rowdetailsheight,i+=e,t+=e));return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework),function(n){n.extend(n.jqx._jqxGrid.prototype,{selectallrows:function(){var r,u,n,t,i;for(this._trigger=!1,r=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length,this.selectedrowindexes=[],u=this.dataview.loadedrecords,n=0;n<r;n++){if(t=u[n],!t){this.selectedrowindexes[n]=n;continue}i=this.getboundindex(t);i!=undefined&&(this.selectedrowindexes[n]=i)}this.selectionmode!="checkbox"||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0});this._renderrows(this.virtualsizeinfo);this._trigger=!0;this.selectionmode=="checkbox"&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){var t,i,n,r;for(this._trigger=!1,t=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length,this.selectedrowindexes=[],i=this.dataview.loadedrecords,n=0;n<t;n++){if(r=i[n],!r){this.selectedrowindexes[n]=n;continue}delete this.selectedrowindexes[n]}this.selectionmode!="checkbox"||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});this._renderrows(this.virtualsizeinfo);this._trigger=!0;this.selectionmode=="checkbox"&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(n,t){this._applyrowselection(n,!0,t);t!==!1&&this._updatecheckboxselection()},_updatecheckboxselection:function(){var n,t,i;if(this.selectionmode=="checkbox"&&(n=this.getrows(),n&&this._checkboxcolumn)){if(n.length===0){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});return}t=n.length;this.groupable&&(t=this.dataview.loadedrecords.length);this.virtualmode&&(t=this.source._source.totalrecords);i=this.selectedrowindexes.length;i===t?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):i===0?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}},unselectrow:function(n,t){this._applyrowselection(n,!1,t);t!==!1&&this._updatecheckboxselection()},selectcell:function(n,t){this._applycellselection(n,t,!0)},unselectcell:function(n,t){this._applycellselection(n,t,!1)},clearselection:function(n,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,t!==!1)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});if(this.selectedrowindexes=[],this.selectedcells=[],this.selectionmode!="checkbox"||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1===n){this._trigger=!0;return}this._renderrows(this.virtualsizeinfo);this._trigger=!0;this.selectionmode=="checkbox"&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})},getselectedrowindex:function(){if(this.selectedrowindex==-1)for(var n=0;n<this.selectedrowindexes.length;n++)return this.selectedrowindexes[n];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var n=this.selectedcell;return n.row=this.selectedcell.rowindex,n.column=this.selectedcell.datafield,n.value=this.getcellvalue(n.row,n.column),n},getselectedcells:function(){var n=[];for(obj in this.selectedcells)n[n.length]=this.selectedcells[obj];return n},_getcellsforcopypaste:function(){var u=[],i,t,r,n,e,f;if(this.selectionmode.indexOf("cell")==-1)for(i=this.selectedrowindexes,t=0;t<i.length;t++)for(r=i[t],n=0;n<this.columns.records.length;n++)e=r+"_"+this.columns.records[n].datafield,f={rowindex:r,datafield:this.columns.records[n].datafield},u.push(f);return u},deleteselection:function(){var t=this,u=t.getselectedcells(),f,r;if(this.selectionmode.indexOf("cell")==-1&&(u=this._getcellsforcopypaste()),u!=null&&u.length>0){for(f=0;f<u.length;f++){var n=u[f],i=t.getcolumn(n.datafield),e=t.getcellvalue(n.rowindex,n.datafield);i&&e!==""&&(r=null,i.columntype=="checkbox"&&(i.threestatecheckbox||(r=!1)),t._raiseEvent(17,{rowindex:n.rowindex,datafield:n.datafield,value:e}),f==u.length-1?(t.setcellvalue(n.rowindex,n.datafield,r,!0),i.displayfield!=i.datafield&&t.setcellvalue(n.rowindex,i.displayfield,r,!0)):(t.setcellvalue(n.rowindex,n.datafield,r,!1),i.displayfield!=i.datafield&&t.setcellvalue(n.rowindex,i.displayfield,r,!0)),t._raiseEvent(18,{rowindex:n.rowindex,datafield:n.datafield,oldvalue:e,value:r}))}this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var u="",f=this,i,o,e,s,t,c,l,r,h;if(this.clipboardselection={},this._clipboardselection=[],i=f.getselectedcells(),this.selectionmode.indexOf("cell")==-1&&(i=this._getcellsforcopypaste()),i!=null&&i.length>0){for(o=999999999999999,e=-1,s=0;s<i.length;s++)t=i[s],c=f.getcolumn(t.datafield),c!=null&&(l=f.getcelltext(t.rowindex,t.datafield),this.clipboardselection[t.rowindex]||(this.clipboardselection[t.rowindex]={}),this.clipboardselection[t.rowindex][t.datafield]=l,o=Math.min(o,t.rowindex),e=Math.max(e,t.rowindex));for(r=o;r<=e;r++)h=0,this._clipboardselection[this._clipboardselection.length]=[],this.clipboardselection[r]!=undefined&&n.each(this.clipboardselection[r],function(n,t){h>0&&(u+="\t");var i=t;t==null&&(i="");f._clipboardselection[f._clipboardselection.length-1][h]=i;h++;u+=i}),r<e&&(u+="\r\n")}return this.clipboardselectedtext=u,u},pasteselection:function(){var u=this.getselectedcells(),t,f,i,r,n,c,e,o,s;if(this.selectionmode.indexOf("cell")==-1&&(u=this._getcellsforcopypaste()),u!=null&&u.length>0){var h=u[0].rowindex,l=u[0].datafield,a=this._getcolumnindex(l);if(this.selectedrowindexes=[],this.selectedcells=[],!this._clipboardselection)return;for(t=0;t<this._clipboardselection.length;t++)for(f=0;f<this._clipboardselection[t].length;f++)if((i=this.getcolumnat(a+f),i)&&(r=this.getcell(h+t,i.datafield),n=null,n=this._clipboardselection[t][f],n!=null)){if(i.cellsformat&&(i.cellsformat.indexOf("p")!=-1||i.cellsformat.indexOf("c")!=-1||i.cellsformat.indexOf("n")!=-1||i.cellsformat.indexOf("f")!=-1)){for(n.indexOf(this.gridlocalization.currencysymbol)>-1&&(n=n.replace(this.gridlocalization.currencysymbol,"")),c=function(n,t,i){var r=n,u;if(t==i)return n;for(u=r.indexOf(t);u!=-1;)r=r.replace(t,i),u=r.indexOf(t);return r},n=c(n,this.gridlocalization.thousandsseparator,""),n=n.replace(this.gridlocalization.decimalseparator,"."),n.indexOf(this.gridlocalization.percentsymbol)>-1&&(n=n.replace(this.gridlocalization.percentsymbol,"")),e="",o=0;o<n.length;o++)s=n.substring(o,o+1),s==="-"&&(e+="-"),s==="."&&(e+="."),s.match(/^[0-9]+$/)!=null&&(e+=s);n=e;n=n.replace(/ /g,"");n=new Number(n);isNaN(n)&&(n="")}this._raiseEvent(17,{rowindex:h+t,datafield:r.datafield,value:n});this.setcellvalue(r.row,r.column,n,!1);this._raiseEvent(18,{rowindex:h+t,datafield:r.datafield,oldvalue:this.getcellvalue(r.rowindex,r.datafield),value:n});this._applycellselection(h+t,r.datafield,!0,!1)}this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}},_applyrowselection:function(n,t,i,r){var e,u,f,o;return n==null?!1:(e=this.selectedrowindex,this.selectionmode=="singlerow"&&(t?this._raiseEvent(2,{rowindex:n,row:this.getrowdata(n)}):this._raiseEvent(3,{rowindex:n,row:this.getrowdata(n)}),this._raiseEvent(3,{rowindex:e}),this.selectedrowindexes=[],this.selectedcells=[]),r==!0&&(this.selectedrowindexes=[]),this.dataview.filters.length>0&&(u=this.getrowdata(n),u&&u.dataindex!==undefined?n=u.dataindex:u&&u.dataindex===undefined&&u.uid!=undefined&&(n=this.getrowboundindexbyid(u.uid))),f=this.selectedrowindexes.indexOf(n),t?(this.selectedrowindex=n,f==-1?(this.selectedrowindexes.push(n),this.selectionmode!="singlerow"&&this._raiseEvent(2,{rowindex:n,row:this.getrowdata(n)})):this.selectionmode=="multiplerows"&&(this.selectedrowindexes.splice(f,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(n)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1)):(f>=0||this.selectionmode=="singlerow"||this.selectionmode=="multiplerowsextended"||this.selectionmode=="multiplerowsadvanced")&&(o=this.selectedrowindexes[f],this.selectedrowindexes.splice(f,1),this._raiseEvent(3,{rowindex:o,row:this.getrowdata(n)}),this.selectedrowindex=-1),(i==undefined||i)&&this._rendervisualrows(),!0)},_applycellselection:function(n,t,i,r){var s,u,f,e,o;return n==null?!1:t==null?!1:(s=this.selectedrowindex,this.selectionmode=="singlecell"&&(u=this.selectedcell,u!=null&&this._raiseEvent(16,{rowindex:u.rowindex,datafield:u.datafield}),this.selectedcells=[]),(this.selectionmode=="multiplecellsextended"||this.selectionmode=="multiplecellsadvanced")&&(u=this.selectedcell,u!=null&&this._raiseEvent(16,{rowindex:u.rowindex,datafield:u.datafield})),e=n+"_"+t,this.dataview.filters.length>0&&(f=this.getrowdata(n),f&&f.dataindex!==undefined?(n=f.dataindex,e=n+"_"+t):f&&f.dataindex===undefined&&f.uid&&(n=this.getrowboundindexbyid(f.uid),e=n+"_"+t)),o={rowindex:n,datafield:t},i?(this.selectedcell=o,this.selectedcells[e]?(this.selectionmode=="multiplecells"||this.selectionmode=="multiplecellsextended"||this.selectionmode=="multiplecellsadvanced")&&(delete this.selectedcells[e],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,o)):(this.selectedcells[e]=o,this.selectedcells.length++,this._raiseEvent(15,o))):(delete this.selectedcells[e],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,o)),(r==undefined||r)&&this._rendervisualrows(),!0)},_getcellindex:function(t){var i=-1;return n.each(this.selectedcells,function(){return i++,this[t]?!1:void 0}),i},_clearhoverstyle:function(){if(undefined!=this.hoveredrow&&this.hoveredrow!=-1&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var n=this.table.find(".jqx-grid-cell-hover");n.length>0&&(n.removeClass(this.toTP("jqx-grid-cell-hover")),n.removeClass(this.toTP("jqx-fill-state-hover")));this.hoveredrow=-1}},_clearselectstyle:function(){for(var i,r,t,e=this.table[0].rows.length,o=this.table[0].rows,s=this.toTP("jqx-grid-cell-selected"),h=this.toTP("jqx-fill-state-pressed"),c=this.toTP("jqx-grid-cell-hover"),l=this.toTP("jqx-fill-state-hover"),u=0;u<e;u++){var f=o[u],a=f.cells.length,v=f.cells;for(i=0;i<a;i++)r=v[i],t=n(r),r.className.indexOf("jqx-grid-cell-selected")!=-1&&(t.removeClass(s),t.removeClass(h)),r.className.indexOf("jqx-grid-cell-hover")!=-1&&(t.removeClass(c),t.removeClass(l))}},_selectpath:function(n,t){var u=this,f=this._lastClickedCell?Math.min(this._lastClickedCell.row,n):0,e=this._lastClickedCell?Math.max(this._lastClickedCell.row,n):0,h,i,r,n;if(f<=e){var o=this._getcolumnindex(this._lastClickedCell.column),s=this._getcolumnindex(t),c=Math.min(o,s),l=Math.max(o,s);for(this.selectedcells=[],h=this.dataview.loadedrecords,i=f;i<=e;i++)for(r=c;r<=l;r++)n=h[i],this._applycellselection(u.getboundindex(n),u._getcolumnat(r).datafield,!0,!1);this._rendervisualrows()}},_selectrowpath:function(n){var t,n,u;if(this.selectionmode=="multiplerowsextended"){var e=this,i=this._lastClickedCell?Math.min(this._lastClickedCell.row,n):0,r=this._lastClickedCell?Math.max(this._lastClickedCell.row,n):0,f=this.dataview.loadedrecords;if(i<=r){for(this.selectedrowindexes=[],t=i;t<=r;t++)n=f[t],u=this.getrowboundindex(t),this._applyrowselection(u,!0,!1);this._rendervisualrows()}}},_selectrowwithmouse:function(n,t,i,r,u,f){var e=t.row,s,o,b,v,h,p,y,w,c,l,a;if(e!=undefined&&(s=t.index,this.hittestinfo[s]!=undefined)&&(o=this.hittestinfo[s].visualrow,!this.hittestinfo[s].details)&&(b=o.cells[0].className,!e.group)){if(this.selectionmode=="multiplerows"||this.selectionmode=="multiplecells"||this.selectionmode=="checkbox"||this.selectionmode.indexOf("multiple")!=-1&&(f==!0||u==!0)){if(h=this.getboundindex(e),this.dataview.filters.length>0&&(v=this.getrowdata(h),v&&(h=v.dataindex,h==undefined&&(h=this.getboundindex(e)))),p=i.indexOf(h)!=-1,y=this.getboundindex(e)+"_"+r,this.selectionmode.indexOf("cell")!=-1)w=this.selectedcells[y]!=undefined,this.selectedcells[y]!=undefined&&w?this._selectcellwithstyle(n,!1,s,r,o):this._selectcellwithstyle(n,!0,s,r,o),f&&this._lastClickedCell==undefined&&(c=this.getselectedcells(),c&&c.length>0&&(this._lastClickedCell={row:c[0].rowindex,column:c[0].datafield})),f&&this._lastClickedCell&&(this._selectpath(e.visibleindex,r),this.mousecaptured=!1,this.selectionarea.css("visibility")=="visible"&&this.selectionarea.css("visibility","hidden"));else if(p?u?this._applyrowselection(this.getboundindex(e),!1):this._selectrowwithstyle(n,o,!1,r):this._selectrowwithstyle(n,o,!0,r),f&&this._lastClickedCell==undefined&&(l=this.getselectedrowindexes(),l&&l.length>0&&(this._lastClickedCell={row:l[0],column:r})),f&&this._lastClickedCell){this.selectedrowindexes=[];var k=this._lastClickedCell?Math.min(this._lastClickedCell.row,e.visibleindex):0,d=this._lastClickedCell?Math.max(this._lastClickedCell.row,e.visibleindex):0,g=this.dataview.loadedrecords;for(a=k;a<=d;a++)e=g[a],e&&this._applyrowselection(this.getboundindex(e),!0,!1,!1);this._rendervisualrows()}}else this._clearselectstyle(),this._selectrowwithstyle(n,o,!0,r),this.selectionmode.indexOf("cell")!=-1&&this._selectcellwithstyle(n,!0,s,r,o);f||(this._lastClickedCell={row:e.visibleindex,column:r})}},_selectcellwithstyle:function(t,i,r,u,f){var e=n(f.cells[t._getcolumnindex(u)]);e.removeClass(this.toTP("jqx-grid-cell-hover"));e.removeClass(this.toTP("jqx-fill-state-hover"));i?(e.addClass(this.toTP("jqx-grid-cell-selected")),e.addClass(this.toTP("jqx-fill-state-pressed"))):(e.removeClass(this.toTP("jqx-grid-cell-selected")),e.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(t,i,r){var f=i.cells.length,o=0,e,u;for(t.rowdetails&&t.showrowdetailscolumn?this.rtl?(f-=1,f-=this.groups.length):o=1+this.groups.length:this.groupable&&(this.rtl?f-=this.groups.length:o=this.groups.length),e=o;e<f;e++)u=i.cells[e],r?(n(u).removeClass(this.toTP("jqx-grid-cell-hover")),n(u).removeClass(this.toTP("jqx-fill-state-hover")),t.selectionmode.indexOf("cell")==-1&&(n(u).addClass(this.toTP("jqx-grid-cell-selected")),n(u).addClass(this.toTP("jqx-fill-state-pressed")))):(n(u).removeClass(this.toTP("jqx-grid-cell-hover")),n(u).removeClass(this.toTP("jqx-grid-cell-selected")),n(u).removeClass(this.toTP("jqx-fill-state-hover")),n(u).removeClass(this.toTP("jqx-fill-state-pressed")))},_handlemousemoveselection:function(t,i){var pt,u,g,f,l,wt,nt,ot,w,st,ht,gt,r,s,b,at,y,h,p,ft,d,ti,vt,ii,yt;if((i.selectionmode=="multiplerowsextended"||i.selectionmode=="multiplecellsextended"||i.selectionmode=="multiplecellsadvanced")&&i.mousecaptured){if(i.multipleselectionbegins&&(pt=i.multipleselectionbegins(t),pt===!1))return!0;var ri=this.showheader?this.columnsheader.height()+2:0,k=this._groupsheader()?this.groupsheader.height():0,ui=this.showtoolbar?this.toolbarheight:0;if(k+=ui,u=this.host.coord(),this.hasTransform&&(u=n.jqx.utilities.getOffset(this.host),g=this._getBodyOffset(),u.left-=g.left,u.top-=g.top),f=t.pageX,l=t.pageY-k,Math.abs(this.mousecaptureposition.left-f)>3||Math.abs(this.mousecaptureposition.top-l)>3){wt=parseInt(this.columnsheader.coord().top);this.hasTransform&&(wt=n.jqx.utilities.getOffset(this.columnsheader).top);f<u.left&&(f=u.left);f>u.left+this.host.width()&&(f=u.left+this.host.width());nt=u.top+ri;l<nt&&(l=nt+5);var a=parseInt(Math.min(i.mousecaptureposition.left,f)),e=-5+parseInt(Math.min(i.mousecaptureposition.top,l)),tt=parseInt(Math.abs(i.mousecaptureposition.left-f)),it=parseInt(Math.abs(i.mousecaptureposition.top-l));if(a-=u.left,e-=u.top,this.selectionarea.css("visibility","visible"),i.selectionmode=="multiplecellsadvanced"){var f=a,bt=f+tt,ei=f,rt=i.hScrollInstance,ut=rt.value;this.rtl&&(this.hScrollBar.css("visibility")!="hidden"&&(ut=rt.max-rt.value),this.vScrollBar[0].style.visibility!="hidden");var kt=i.table[0].rows[0],ft=0,c=i.mousecaptureposition.clickedcell,o=c,et=!1,dt=0,fi=kt.cells.length;for(i.mousecaptureposition.left<=t.pageX&&(dt=c),r=dt;r<fi;r++){if(ot=parseInt(n(this.columnsrow[0].cells[r]).css("left")),w=ot-ut,i.columns.records[r].pinned){w=ot;continue}if((st=this._getcolumnat(r),st==null||!st.hidden)&&(!i.groupable||!(i.groups.length>0)||!(r<i.groups.length)))if(ht=w+n(this.columnsrow[0].cells[r]).width(),i.mousecaptureposition.left>t.pageX){if(ht>=f&&f>=w){o=r;et=!0;break}}else if(ht>=bt&&bt>=w){o=r;et=!0;break}}et||(i.mousecaptureposition.left>t.pageX?n.each(this.columns.records,function(n){return i.groupable&&i.groups.length>0&&n<i.groups.length?!0:!this.pinned&&!this.hidden?(o=n,!1):void 0}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(o=kt.cells.length-1));gt=c;c=Math.min(c,o);o=Math.max(gt,o);e+=5;e+=k;var oi=i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow),ct=0,v=-1,ni=-1,lt=0;for(r=0;r<i.table[0].rows.length;r++){if(s=n(i.table[0].rows[r]),r==0&&(lt=s.coord().top),b=s.height(),at=lt-u.top,v==-1&&at+b>=e){for(y=!1,h=0;h<i.groups.length;h++)if(p=s[0].cells[h].className,p.indexOf("jqx-grid-group-collapse")!=-1||p.indexOf("jqx-grid-group-expand")!=-1){y=!0;break}if(y)continue;v=r}if(lt+=b,i.groupable&&i.groups.length>0){for(y=!1,h=0;h<i.groups.length;h++)if(p=s[0].cells[h].className,p.indexOf("jqx-grid-group-collapse")!=-1||p.indexOf("jqx-grid-group-expand")!=-1){y=!0;break}if(y)continue;for(ft=0,d=i.groups.length;d<s[0].cells.length;d++)ti=s[0].cells[d],n(ti).html()==""&&ft++;if(ft==s[0].cells.length-i.groups.length)continue}if(v!=-1&&(ct+=b),at+b>e+it){ni=r;break}}if(v!=-1&&(e=n(i.table[0].rows[v]).coord().top-u.top-k-2,vt=0,this.filterable&&this.showfilterrow&&(vt=this.filterrowheight),parseInt(i.table[0].style.top)<0&&e<this.rowsheight+vt&&(e-=parseInt(i.table[0].style.top),ct+=parseInt(i.table[0].style.top)),it=ct,ii=n(this.columnsrow[0].cells[c]),yt=n(this.columnsrow[0].cells[o]),a=parseInt(ii.css("left")),tt=parseInt(yt.css("left"))-parseInt(a)+yt.width()-2,a-=ut,i.editcell&&i.editable&&i.endcelledit&&(c!=o||v!=ni))){if(i.editcell.validated==!1)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}this.selectionarea.width(tt);this.selectionarea.height(it);this.selectionarea.css("left",a);this.selectionarea.css("top",e)}}},_handlemouseupselection:function(t,i){var h,c,s,v,y,tt,k,it,u,nt,f,e,o,d;if(this.selectionarea){if(this.selectionarea.css("visibility")!="visible")return i.mousecaptured=!1,!0;if(i.mousecaptured&&(i.selectionmode=="multiplerowsextended"||i.selectionmode=="multiplerowsadvanced"||i.selectionmode=="multiplecellsextended"||i.selectionmode=="multiplecellsadvanced")&&(i.mousecaptured=!1,this.selectionarea.css("visibility")=="visible")){this.selectionarea.css("visibility","hidden");var rt=this.showheader?this.columnsheader.height()+2:0,g=this._groupsheader()?this.groupsheader.height():0,ut=this.showtoolbar?this.toolbarheight:0;g+=ut;h=this.selectionarea.coord();c=this.host.coord();this.hasTransform&&(c=n.jqx.utilities.getOffset(this.host),h=n.jqx.utilities.getOffset(this.selectionarea));var l=h.left-c.left,r=h.top-rt-c.top-g,s=r,p=l+this.selectionarea.width(),w=l,b=[],a=[];if(i.selectionmode=="multiplerowsextended"){while(r<s+this.selectionarea.height()){var u=this._hittestrow(l,r),nt=u.row,f=u.index;f!=-1&&(a[f]||(a[f]=!0,b[b.length]=u));r+=20}s=0;n.each(b,function(){var r=this,n=this.row;i.selectionmode!="none"&&i._selectrowwithmouse&&(t.ctrlKey?i._applyrowselection(i.getboundindex(n),!0,!1,!1):s==0?i._applyrowselection(i.getboundindex(n),!0,!1,!0):i._applyrowselection(i.getboundindex(n),!0,!1,!1),s++)})}else for(i.selectionmode=="multiplecellsadvanced"&&(r+=2),v=i.hScrollInstance,y=v.value,this.rtl&&(this.hScrollBar.css("visibility")!="hidden"&&(y=v.max-v.value),this.vScrollBar[0].style.visibility!="hidden"&&(y-=this.scrollbarsize+4)),tt=i.table[0].rows[0],k=i.selectionarea.height(),!t.ctrlKey&&k>0&&(i.selectedcells=[]),it=k;r<s+it;){if(u=i._hittestrow(l,r),!u){r+=5;continue}if(nt=u.row,f=u.index,f!=-1&&!a[f])for(a[f]=!0,e=0;e<tt.cells.length;e++)o=parseInt(n(i.columnsrow[0].cells[e]).css("left"))-y,d=o+n(i.columnsrow[0].cells[e]).width(),(w>=o&&w<=d||p>=o&&p<=d||o>=w&&o<=p)&&i._applycellselection(i.getboundindex(nt),i._getcolumnat(e).datafield,!0,!1);r+=5}i.autosavestate&&i.savestate&&i.savestate();i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(n,t){var r=this._getcolumnindex(t),u=this.columns.records.length,i=this._getprevvisiblecolumn(r);i!=null&&(this.clearselection(),this.selectcell(n,i.datafield))},selectnextcell:function(n,t){var r=this._getcolumnindex(t),u=this.columns.records.length,i=this._getnextvisiblecolumn(r);i!=null&&(this.clearselection(),this.selectcell(n,i.datafield))},_getfirstvisiblecolumn:function(){for(var n,r=this,i=this.columns.records.length,t=0;t<i;t++)if(n=this.columns.records[t],!n.hidden&&n.datafield!=null)return n;return null},_getlastvisiblecolumn:function(){for(var n,r=this,i=this.columns.records.length,t=i-1;t>=0;t--)if(n=this.columns.records[t],!n.hidden&&n.datafield!=null)return n;return null},_handlekeydown:function(t,i){var r,e,w,it,a,b,k,nt,l,ft,et,y,u,h;if(i.groupable&&i.groups.length>0)return!0;if(i.disabled)return!1;if(r=t.charCode?t.charCode:t.keyCode?t.keyCode:0,i.editcell&&i.selectionmode!="multiplecellsadvanced")return!0;if(i.editcell&&i.selectionmode=="multiplecellsadvanced")if(r>=33&&r<=40){if(t.altKey)return i._cancelkeydown=!1,!0;if(i._cancelkeydown==undefined||i._cancelkeydown==!1)if(i.editmode!=="selectedrow"){if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}else return!0;else return i._cancelkeydown=!1,!0}else return!0;if(i.selectionmode=="none"||i.showfilterrow&&i.filterable&&this.filterrow&&n(t.target).ischildof(this.filterrow)||i.pageable&&n(t.target).ischildof(this.pager)||this.showtoolbar&&n(t.target).ischildof(this.toolbar)||this.showstatusbar&&n(t.target).ischildof(this.statusbar)||(e=!1,t.altKey))return!0;t.ctrlKey&&this.clipboard&&(w=String.fromCharCode(r).toLowerCase(),w=="c"||w=="x"?(it=this.copyselection(),window.clipboardData?window.clipboardData.setData("Text",it):(a=n('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>'),a.val(it),n("body").append(a),a.select(),setTimeout(function(){document.designMode="off";a.select();a.remove();i.focus()},100))):w=="v"&&(b=n('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>'),n("body").append(b),b.select(),k=this,setTimeout(function(){var r,t,n,i;for(k._clipboardselection=[],r=b.val(),t=r.split("\n"),n=0;n<t.length;n++)if(t[n].split("\t").length>0){if(i=t[n].split("\t"),i.length==1&&n==t.length-1&&i[0]=="")continue;i.length>0&&k._clipboardselection.push(i)}k.pasteselection();b.remove();k.focus()},100)),w=="x"&&(this.deleteselection(),this.host.focus()));var ot=Math.round(i._gettableheight()),s=Math.round(ot/i.rowsheight),v=i.getdatainformation();switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":if(nt=i.getselectedcell(),nt!=null){var st=this.getrowvisibleindex(nt.rowindex),u=st,c=nt.datafield,tt=i._getcolumnindex(c),ht=i.columns.records.length,o=function(n,u,f){var o=function(n,t){var r=i.dataview.loadedrecords[n],u;return r!=undefined&&t!=null?((f||f==undefined)&&i.clearselection(),u=i.getboundindex(r),i.selectcell(u,t),i._oldselectedcell=i.selectedcell,e=!0,i.ensurecellvisible(n,t),!0):!1},s,h;if(o(n,u)||(i.ensurecellvisible(n,u),o(n,u),i.virtualmode&&i.host.focus()),t.shiftKey&&r!=9){if((i.selectionmode=="multiplecellsextended"||i.selectionmode=="multiplecellsadvanced")&&i._lastClickedCell){i._selectpath(n,u);s=i.dataview.loadedrecords[n];h=i.getboundindex(s);i.selectedcell={rowindex:h,datafield:u};return}}else t.shiftKey||(i._lastClickedCell={row:n,column:u})},f=t.shiftKey&&i.selectionmode!="singlecell"&&i.selectionmode!="multiplecells",d=function(){o(0,c,!f)},g=function(){var n=v.rowscount-1;o(n,c,!f)},rt=r==9&&!t.shiftKey,ut=r==9&&t.shiftKey;(rt||ut)&&(f=!1);l=t.ctrlKey;l&&r==37?(y=i._getfirstvisiblecolumn(tt),y!=null&&o(u,y.datafield)):l&&r==39?(ft=i._getlastvisiblecolumn(tt),ft!=null&&o(u,ft.datafield)):r==39||rt?(et=i._getnextvisiblecolumn(tt),et!=null?o(u,et.datafield,!f):rt||(e=!0)):r==37||ut?(y=i._getprevvisiblecolumn(tt),y!=null?o(u,y.datafield,!f):ut||(e=!0)):r==36?d():r==35?g():r==33?u-s>=0?(h=u-s,o(h,c,!f)):d():r==34?v.rowscount>u+s?(h=u+s,o(h,c,!f)):g():r==38?l?d():u>0?o(u-1,c,!f):e=!0:r==40&&(l?g():v.rowscount>u+1?o(u+1,c,!f):e=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":if(u=i.getselectedrowindex(),u==null||u==-1)return!0;u=this.getrowvisibleindex(u);var p=function(n,u){var f=function(n){var t=i.dataview.loadedrecords[n],r,f,o;return t!=undefined?(r=i.getboundindex(t),f=i.selectedrowindex,(u||u==undefined)&&i.clearselection(),i.selectedrowindex=f,i.selectrow(r,!1),o=i.ensurerowvisible(n),(!o||i.autoheight||i.groupable)&&i._rendervisualrows(),e=!0,!0):!1};if(f(n)||(i.ensurerowvisible(n),f(n,u),i.virtualmode&&setTimeout(function(){f(n,u)},25),i.virtualmode&&i.host.focus()),t.shiftKey&&r!=9){if(i.selectionmode=="multiplerowsextended"&&i._lastClickedCell){i._selectrowpath(n);i.selectedrowindex=i.getrowboundindex(n);return}}else t.shiftKey||(i._lastClickedCell={row:n},i.selectedrowindex=i.getrowboundindex(n))},f=t.shiftKey&&i.selectionmode!="singlerow"&&i.selectionmode!="multiplerows",d=function(){p(0,!f)},g=function(){var n=v.rowscount-1;p(n,!f)},l=t.ctrlKey;r==36||l&&r==38?d():r==35||l&&r==40?g():r==33?u-s>=0?(h=u-s,p(h,!f)):d():r==34?v.rowscount>u+s?(h=u+s,p(h,!f)):g():r==38?u>0?p(u-1,!f):e=!0:r==40&&(v.rowscount>u+1?p(u+1,!f):e=!0)}return e?(i.autosavestate&&i.savestate&&i.savestate(),!1):!0},_handlemousemove:function(t,i){var d,v,o,c,g,nt,y,l,p,e,u,s,h,tt,b,rt,k,r,f;if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()&&((i.enablehover||i.selectionmode=="multiplerows")&&(d=this.showheader?this.columnsheader.height()+2:0,v=this._groupsheader()?this.groupsheader.height():0,nt=this.showtoolbar?this.toolbarheight:0,v+=nt,o=this.host.coord(),this.hasTransform&&(o=n.jqx.utilities.getOffset(this.host),y=this._getBodyOffset(),o.left-=y.left,o.top-=y.top),c=t.pageX-o.left,g=t.pageY-d-o.top-v),i.selectionmode!="multiplerowsextended"&&i.selectionmode!="multiplecellsextended"&&i.selectionmode!="multiplecellsadvanced"||i.mousecaptured!=!0))if(i.enablehover){if(i.disabled)return;if(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())return;if(l=this._hittestrow(c,g),!l)return;if(p=l.row,e=l.index,this.hoveredrow!=-1&&e!=-1&&this.hoveredrow==e&&this.selectionmode.indexOf("cell")==-1&&this.selectionmode!="checkbox")return;if(this._clearhoverstyle(),e==-1||p==undefined)return;if(u=this.hittestinfo[e].visualrow,u==null)return;if(this.hittestinfo[e].details)return;if(t.clientX>n(u).width()+n(u).coord().left)return;if(s=0,h=u.cells.length,i.rowdetails&&i.showrowdetailscolumn?this.rtl?(h-=1,h-=this.groups.length):s=1+this.groups.length:this.groupable&&(this.rtl?h-=this.groups.length:s=this.groups.length),u.cells.length==0)return;if(tt=u.cells[s].className,p.group||this.selectionmode.indexOf("row")>=0&&tt.indexOf("jqx-grid-cell-selected")!=-1)return;if(this.hoveredrow=e,this.selectionmode.indexOf("cell")!=-1||this.selectionmode=="checkbox"){var a=-1,w=this.hScrollInstance,it=w.value;for(this.rtl&&this.hScrollBar.css("visibility")!="hidden"&&(it=w.max-w.value),r=s;r<h;r++)if(b=parseInt(n(this.columnsrow[0].cells[r]).css("left"))-it,rt=b+n(this.columnsrow[0].cells[r]).width(),rt>=c&&c>=b){a=r;break}if(a!=-1&&(f=u.cells[a],f.className.indexOf("jqx-grid-cell-selected")==-1)){if(this.editcell&&(k=this._getcolumnat(a),k&&this.editcell.row==e&&this.editcell.column==k.datafield))return;n(f).addClass(this.toTP("jqx-grid-cell-hover"));n(f).addClass(this.toTP("jqx-fill-state-hover"));this.cellhover&&this.cellhover(f,t.pageX,t.pageY)}return}for(r=s;r<h;r++)f=u.cells[r],n(f).addClass(this.toTP("jqx-grid-cell-hover")),n(f).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(f,t.pageX,t.pageY)}else return!0}})}(jqxBaseFramework),function(n){n.jqx.dataview.sort=function(){this.sortby=function(t,i,r){var b=Object.prototype.toString,f,u,c,l,y,h,p,v,o,s,w;if(i==null){this.sortdata=null;this.refresh();return}i==undefined&&(i=!0);i=i=="a"||i=="asc"||i=="ascending"||i==!0?!0:!1;f=t;this.sortfield=t;this.sortfielddirection=i?"asc":"desc";this.sortcache==undefined&&(this.sortcache={});this.sortdata=[];u=[];c=!1;f=="constructor"&&(f="");this.virtualmode||this.sortcache[f]==null||(l=this.sortcache[f],u=l._sortdata,l.direction==i?u.reverse():(!l.direction&&i&&u.reverse(),c=!0),u.length<this.totalrecords&&(this.sortcache={},c=!1,u=[]));Object.prototype.toString=typeof t=="function"?t:function(){return this[t]};var e=this.records,k=this.that,a="";if(this.source.datafields&&n.each(this.source.datafields,function(){if(this.name==t)return this.type&&(a=this.type),!1}),u.length==0)if(e.length)for(y=e.length,h=0;h<y;h++)o=e[h],o!=null&&(s=o,p=s.toString(),u.push({sortkey:p,value:s,index:h}));else{v=!1;for(obj in e){if(o=e[obj],o==undefined){v=!0;break}s=o;u.push({sortkey:s.toString(),value:s,index:obj})}v&&n.each(e,function(n,t){u.push({sortkey:t.toString(),value:t,index:n})})}c||(r==null?(this._sortcolumntype=a,w=this,u.sort(function(n,t){return w._compare(n,t,a)})):u.sort(r));i||u.reverse();Object.prototype.toString=b;this.sortdata=u;this.sortcache[f]={_sortdata:u,direction:i};this.reload(this.records,this.rows,this.filters,this.updated,!0)};this.clearsortdata=function(){this.sortcache={};this.sortdata=null};this._compare=function(t,i,r){var t=t.sortkey,i=i.sortkey,f;if(t===undefined&&(t=null),i===undefined&&(i=null),t===null&&i===null)return 0;if(t===null&&i!==null)return-1;if(t!==null&&i===null)return 1;if(n.jqx.dataFormat)if(r&&r!="")switch(r){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase();i=String(i).toLowerCase()}else{if(n.jqx.dataFormat.isNumber(t)&&n.jqx.dataFormat.isNumber(i)||n.jqx.dataFormat.isDate(t)&&n.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;n.jqx.dataFormat.isNumber(t)||n.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(u){f=u}return 0};this._equals=function(n,t){return this._compare(n,t)===0}};n.extend(n.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var r=this.that,t=this.getsortcolumn(),i;this.sortdirection&&(i=function(t,i){var u=r.getcolumn(t);u&&(i.ascending?n.jqx.aria(u.element,"aria-sort","ascending"):i.descending?n.jqx.aria(u.element,"aria-sort","descending"):n.jqx.aria(u.element,"aria-sort","none"))},this._oldsortinfo&&this._oldsortinfo.column&&i(this._oldsortinfo.column,{ascending:!1,descending:!1}),i(t,this.sortdirection));this._oldsortinfo={column:t,direction:this.sortdirection};this.sortdirection&&n.each(this.columns.records,function(){var i=n.data(document.body,"groupsortelements"+this.displayfield);t==null||this.displayfield!=t?(n(this.sortasc).hide(),n(this.sortdesc).hide(),i!=null&&(i.sortasc.hide(),i.sortdesc.hide())):r.sortdirection.ascending?(n(this.sortasc).show(),n(this.sortdesc).hide(),i!=null&&(i.sortasc.show(),i.sortdesc.hide())):(n(this.sortasc).hide(),n(this.sortdesc).show(),i!=null&&(i.sortasc.hide(),i.sortdesc.show()))})},getsortcolumn:function(){return this.sortcolumn!=undefined?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(n,t,i,r,u){if(this._loading&&u!==!1)throw new Error("jqxGridDataSource: dataSource, jqxGridColumns: columns,  jqxGrid: "+this.loadingerrormessage);if(n==null&&(t=null,n=this.sortcolumn),n!=undefined){var f=this.that;if(i==undefined&&f.source.sortcomparer!=null&&(i=f.source.sortcomparer),ascending=t=="a"||t=="asc"||t=="ascending"||t==!0?!0:!1,f.sortdirection=t!=null?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},f.sortcolumn=t!=null?n:null,f.source.sort||f.virtualmode){if(f.dataview.sortfield=n,f.dataview.sortfielddirection=t==null?"":ascending?"asc":"desc",f.source.sort&&!this._loading){f.source.sort(n,t);f._raiseEvent(6,{sortinformation:f.getsortinformation()});return}}else f.dataview.sortby(n,t,i);if(r===!1)return;f.groupable&&f.groups.length>0?(f._render(!0,!1,!1),f._updategroupheadersbounds&&f.showgroupsheader&&f._updategroupheadersbounds()):(f.pageable&&f.dataview.updateview(),f._updaterowsproperties(),f.rendergridcontent(!0));f._raiseEvent(6,{sortinformation:f.getsortinformation()})}},_togglesort:function(n){var i=this.that,r,t;this.disabled||n.sortable&&i.sortable&&(r=i.getsortinformation(),t=null,r.sortcolumn!=null&&r.sortcolumn==n.displayfield?(t=r.sortdirection.ascending,t=i.sorttogglestates>1?t==!0?!1:null:!t):t=!0,i.sortby(n.displayfield,t,null))}})}(jqxBaseFramework),function(n){n.extend(n.jqx._jqxGrid.prototype,{savestate:function(t){var i=this.getstate();delete i.width;for(column in i.columns)delete i.columns[column].width,delete i.columns[column].align,delete i.columns[column].cellsalign,delete i.columns[column].draggable,delete i.columns[column].groupable,delete i.columns[column].hidden,delete i.columns[column].pinned,delete i.columns[column].resizable,delete i.columns[column].text;return t===undefined||n.isEmptyObject(t)||(t.indexOf("sort")==-1&&(delete i.sortcolumn,delete i.sortdirection),t.indexOf("pager")==-1&&(delete i.pagenum,delete i.pagesizeoptions,delete i.pagesize),t.indexOf("selection")==-1&&(delete i.selectedcells,delete i.selectedrowindexes,delete i.selectedrowindex),t.indexOf("grouping")==-1&&delete i.groups,t.indexOf("filter")==-1&&delete i.filters,n.each(this.columns.records,function(){var n=i.columns[this.datafield];t.indexOf("hidden_columns")==-1&&delete n.hidden;t.indexOf("reorder")==-1&&delete n.index;t.indexOf("columns_width")==-1&&delete n.width;t.indexOf("columns_text")==-1&&delete n.text;t.indexOf("alignment")==-1&&(delete n.align,delete n.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(i)),this._savedstate=i,i},loadstate:function(t,i){var u="",s,r,o,f,e;if(t!=undefined&&t.width!=undefined?u=t:window.localStorage?(s=window.localStorage["jqxGrid"+this.element.id],s&&(u=n.parseJSON(window.localStorage["jqxGrid"+this.element.id]))):this._savedstate&&(u=this._savedstate),u!=null&&u!==""){if((this.virtualmode||this.source._source.url&&this.source._source.url!="")&&this.source.beginUpdate(),r=u,r.width!==undefined&&(this.width=r.width),r.height!==undefined&&(this.height=r.height),this.pageable&&(r.pagesize!=undefined&&(this.pagesize=r.pagesize,this.dataview.pagesize=r.pagesize),r.pagenum!=undefined&&(this.dataview.pagenum=r.pagenum),r.pagesizeoptions!=undefined&&(this.pagesizeoptions=r.pagesizeoptions),this.pagesizeoptions)){for(o=0,f=0;f<this.pagesizeoptions.length;f++)this.pagesize>=this.pagesizeoptions[f]&&(o=f);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:o})}this.sortable&&(this._loading&&(this._loading=!1),r.sortdirection?(r.sortdirection.ascending||r.sortdirection.descending)&&(this.dataview.sortfield=r.sortcolumn,e=r.sortdirection.ascending?"asc":"desc",this.dataview.sortfielddirection=e,this.source.sortcolumn=r.sortcolumn,this.source.sortdirection=e,this.sortby(r.sortcolumn,e)):this.dataview.sortfield!=null&&(this.dataview.sortfielddirection=="asc"||this.dataview.sortfielddirection=="desc")&&this.sortby(this.dataview.sortfield,null));this.groupable&&r.groups&&(this.dataview.groups=r.groups,this.groups=r.groups);this.loadingstate=!0;this.virtualsizeinfo&&this._loadselectionandcolumnwidths(r);this.loadingstate=!1;(this.virtualmode||this.source._source.url&&this.source._source.url!="")&&(i==!0?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(t){var h,a,ct,ut,p,w,y,f,ft,tt,o,r,rt,s,l,ot,d,g,ht,c;if(this.loadingstate=!0,h="",t!=undefined&&t.width!=undefined?h=t:window.localStorage?window.localStorage["jqxGrid"+this.element.id]&&(h=n.parseJSON(window.localStorage["jqxGrid"+this.element.id])):this._savedstate&&(h=this._savedstate),h!=null&&h!=""){a=this._loading;this._loading=!1;var i=h,e=this,nt=!1,v=[];if(v.length=0,ct=[],n.each(this.columns.records,function(){var n=i.columns[this.datafield],t;if(n!=undefined){if(this.text!=n.text&&(nt=!0),this.hidden!=n.hidden&&(nt=!0),n.width!==undefined&&(this.width=n.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),n.hidden!==undefined&&(this.hidden=n.hidden),n.pinned!==undefined&&(this.pinned=n.pinned),n.groupable!==undefined&&(this.groupable=n.groupable),n.resizable!==undefined&&(this.resizable=n.resizable),this.draggable=n.draggable,n.text!==undefined&&(this.text=n.text),n.align!==undefined&&(this.align=n.align),n.cellsalign!==undefined&&(this.cellsalign=n.cellsalign),e._columns)for(t=0;t<e._columns.length;t++)e._columns[t].datafield==this.datafield&&(n.hidden!==undefined&&(e._columns[t].hidden=n.hidden),n.width!==undefined&&(e._columns[t].width=n.width));n.index!==undefined&&(v[this.datafield]=n.index,v.length++)}}),v.length>0){if(this.setcolumnindex){for(ut=this.rowdetails?1:0,ut+=this.groupable?this.groups.length:0,p=[],r=0;r<this.columns.records.length;r++)p.push(this.columns.records[r]);for(w=0,y=[],r=0;r<p.length;r++){if(f=p[r],c=v[f.datafield],this.groupable&&f.grouped){w++;continue}if(r==0&&this.rowdetails){w++;continue}(r!==c||this.groupable||this.rowdetails)&&(ft=w+c,y.push({column:f,key:ft}))}y.sort(function(n,t){return n.key<t.key?-1:n.key>t.key?1:0});y.reverse();n.each(y,function(){var n=this.key;e.setcolumnindex(this.column.datafield,n,!1)})}this.prerenderrequired=!0;this.groupable&&this._refreshdataview();this.rendergridcontent(!0);this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui();this._renderrows(this.virtualsizeinfo)}if(this.filterable&&i.filters!==undefined){for(this.clearfilters&&(this._loading=!1,this.clearfilters(!1)),tt="",o=new n.jqx.filter,r=0;r<i.filters.filterscount;r++){var it=i.filters["filtercondition"+r],b=i.filters["filterdatafield"+r],f=this.getcolumn(b);if(b!=tt&&(o=new n.jqx.filter),tt=b,f&&f.filterable){var u=i.filters["filtervalue"+r],et=i.filters["filteroperator"+r],k=i.filters["filtertype"+r];if(rt=k=="datefilter"?o.createfilter(k,u,it,null,f.cellsformat,this.gridlocalization):o.createfilter(k,u,it),o.addfilter(et,rt),this.showfilterrow&&(s=f._filterwidget,l=f._filterwidget.parent(),s!=null))switch(f.filtertype){case"number":l.find("input").val(u);this.host.jqxDropDownList&&(ot=o.getoperatorsbyfiltertype("numericfilter"),s.find(".filter").jqxDropDownList("selectIndex",ot.indexOf(it)));break;case"date":if(this.host.jqxDateTimeInput){var st=i.filters["filtervalue"+(r+1)],k=i.filters["filtertype"+r],rt=o.createfilter(k,st,"LESS_THAN_OR_EQUAL");o.addfilter(et,rt);d=new Date(u);g=new Date(st);isNaN(d)&&(d=n.jqx.dataFormat.tryparsedate(u));isNaN(g)&&(g=n.jqx.dataFormat.tryparsedate(u));n(l.children()[0]).jqxDateTimeInput("setRange",d,g);r++}else s.val(u);break;case"textbox":case"default":s.val(u);e["_oldWriteText"+s[0].id]=u;break;case"list":this.host.jqxDropDownList?(ht=n(l.children()[0]).jqxDropDownList("getItems"),c=-1,n.each(ht,function(n){if(this.value==u)return c=n,!1}),n(l.children()[0]).jqxDropDownList("selectIndex",c)):s.val(u);break;case"checkedlist":this.host.jqxDropDownList||s.val(u);break;case"bool":case"boolean":this.host.jqxCheckBox?n(l.children()[0]).jqxCheckBox({checked:u}):s.val(u)}this.addfilter(b,o)}}i.filters&&i.filters.filterscount>0&&(this.applyfilters(),this.showfilterrow&&n.each(this.columns.records,function(){var o,i,s,u;if(this.filtertype=="checkedlist"&&this.filterable&&e.host.jqxDropDownList){var r=this,f=r._filterwidget,h=f.jqxDropDownList("getItems"),t=f.jqxDropDownList("listBox");if(t.checkAll(!1),r.filter){for(t.uncheckAll(!1),o=r.filter.getfilters(),i=0;i<t.items.length;i++)s=t.items[i].label,n.each(o,function(){if(this.condition=="NOT_EQUAL")return!0;s==this.value&&t.checkIndex(i,!1,!1)});t._updateCheckedItems();u=t.getCheckedItems().length;t.items.length!=u&&u>0&&t.host.jqxListBox("indeterminateIndex",0,!0,!1)}}}));this.pageable&&i.pagenum!==undefined&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(i.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(i.pagenum))}if(i.selectedrowindexes&&i.selectedrowindexes&&i.selectedrowindexes.length>0&&(this.selectedrowindexes=i.selectedrowindexes,this.selectedrowindex=i.selectedrowindex,this.selectionmode==="checkbox"&&this._updatecheckboxselection()),i.selectedcells&&this._applycellselection&&n.each(i.selectedcells,function(){e._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&i.groups!==undefined){this._refreshdataview();this.render();this._loading=a;this.loadingstate=!1;return}if(nt){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=a,this.loadingstate=!1,this.updating())return!1}else this._loading=a,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1;this._loading=a;this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var o=this.getdatainformation(),i={},a,s,v,u,f,e,t,c,l,p;if(i.width=this.width,i.height=this.height,i.pagenum=o.paginginformation.pagenum,i.pagesize=o.paginginformation.pagesize,i.pagesizeoptions=this.pagesizeoptions,i.sortcolumn=o.sortinformation.sortcolumn,i.sortdirection=o.sortinformation.sortdirection,this.selectionmode!=null&&this.getselectedcells&&(this.selectionmode.toString().indexOf("cell")!=-1?(a=this.getselectedcells(),s=[],n.each(a,function(){s.push({datafield:this.datafield,rowindex:this.rowindex})}),i.selectedcells=s):(v=this.getselectedrowindexes(),i.selectedrowindexes=v,i.selectedrowindex=this.selectedrowindex)),u={},f=0,this.dataview.filters)for(e=0;e<this.dataview.filters.length;e++){var h=this.dataview.filters[e].datafield,y=this.dataview.filters[e].filter,r=y.getfilters();for(u[h+"operator"]=y.operator,t=0;t<r.length;t++)r[t].datafield=h,r[t].type=="datefilter"?r[t].value&&r[t].value.toLocaleString?(c=this.getcolumn(r[t].datafield),c.cellsformat?(l=this.source.formatDate(r[t].value,c.cellsformat,this.gridlocalization),u["filtervalue"+f]=l?l:r[t].value.toLocaleString()):u["filtervalue"+f]=r[t].value.toLocaleString()):u["filtervalue"+f]=r[t].value:u["filtervalue"+f]=r[t].value,u["filtercondition"+f]=r[t].condition,u["filteroperator"+f]=r[t].operator,u["filterdatafield"+f]=h,u["filtertype"+f]=r[t].type,f++}return u.filterscount=f,i.filters=u,i.groups=this.groups,i.columns={},p=0,this.columns.records&&n.each(this.columns.records,function(){if(!this.datafield)return!0;var n={};n.width=this.width;n.hidden=this.hidden;n.pinned=this.pinned;n.groupable=this.groupable;n.resizable=this.resizable;n.draggable=this.draggable;n.text=this.text;n.align=this.align;n.cellsalign=this.cellsalign;n.index=p++;i.columns[this.datafield]=n}),i},_stringify:function(n){var i,t;if(window.JSON&&typeof window.JSON.stringify=="function"){i=this;t="";try{t=window.JSON.stringify(n)}catch(r){return i._str("",{"":n})}return t}return this._str("",{"":n})},_quote:function(n){var t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+n.replace(/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(n){var i=t[n];return typeof i=="string"?i:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(n){for(var r=n.length,i=[],t=0;t<r;t++)i.push(this._str(t,n)||"null");return"["+i.join(",")+"]"},_stringifyObject:function(n){var r=[],t,i,u=this;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i=u._str(t,n),i&&r.push(u._quote(t)+":"+i));return"{"+r.join(",")+"}"},_stringifyReference:function(n){switch(Object.prototype.toString.call(n)){case"[object Array]":return this._stringifyArray(n)}return this._stringifyObject(n)},_stringifyPrimitive:function(n,t){switch(t){case"string":return this._quote(n);case"number":return isFinite(n)?n:"null";case"boolean":return n}return"null"},_str:function(n,t){var i=t[n],r=typeof i;return i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(n),r=typeof i),/(number|string|boolean)/.test(r)||!i&&r==="object"?this._stringifyPrimitive(i,r):this._stringifyReference(i)}})}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxScrollBar","",{});n.extend(n.jqx._jqxScrollBar.prototype,{defineInstance:function(){n.extend(!0,this,{height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1})},createInstance:function(){this.render()},render:function(){var i,r,u,t;if(this._mouseup=new Date,i=this,r="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><\/div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><\/div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><\/div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><\/div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><\/div><\/div><\/div>",n.jqx.utilities&&n.jqx.utilities.scrollBarButtonsVisibility=="hidden"&&(this.showButtons=!1),i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.host.html(r)}):this.element.innerHTML=r,this.width!=undefined&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),this.height!=undefined&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,this.width!=null&&this.width.toString().indexOf("%")!=-1&&(this.host.width(this.width),this.isPercentage=!0),this.height!=null&&this.height.toString().indexOf("%")!=-1&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage&&(u=this,n.jqx.utilities.resize(this.host,function(){u._arrange()},!1)),this.thumbCapture=!1,this.scrollOuterWrap=n(this.element.firstChild),this.scrollWrap=n(this.scrollOuterWrap[0].firstChild),this.btnUp=n(this.scrollWrap[0].firstChild),this.areaUp=n(this.btnUp[0].nextSibling),this.btnThumb=n(this.areaUp[0].nextSibling),this.arrowUp=n("<div><\/div>"),this.arrowUp.appendTo(this.btnUp),this.areaDown=n(this.btnThumb[0].nextSibling),this.btnDown=n(this.areaDown[0].nextSibling),this.arrowDown=n("<div><\/div>"),this.arrowDown.appendTo(this.btnDown),t=this.element.id,this.btnUp[0].id="jqxScrollBtnUp"+t,this.btnDown[0].id="jqxScrollBtnDown"+t,this.btnThumb[0].id="jqxScrollThumb"+t,this.areaUp[0].id="jqxScrollAreaUp"+t,this.areaDown[0].id="jqxScrollAreaDown"+t,this.scrollWrap[0].id="jqxScrollWrap"+t,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+t,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled});this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled});this.btnDownInstance=n.data(this.btnDown[0],"jqxRepeatButton").instance;this.btnUpInstance=n.data(this.btnUp[0],"jqxRepeatButton").instance;this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0});this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0});this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled});this.propertyChangeMap.value=function(n,t,i,r){isNaN(r)||i!=r&&n.setPosition(parseFloat(r),!0)};this.propertyChangeMap.width=function(n){n.width!=undefined&&parseInt(n.width)>0&&(n.host.width(parseInt(n.width)),n._arrange())};this.propertyChangeMap.height=function(n){n.height!=undefined&&parseInt(n.height)>0&&(n.host.height(parseInt(n.height)),n._arrange())};this.propertyChangeMap.theme=function(n){n.setTheme()};this.propertyChangeMap.max=function(n,t,i,r){isNaN(r)||i!=r&&(n.max=parseInt(r),n.min>n.max&&(n.max=n.min+1),n._arrange(),n.setPosition(n.value))};this.propertyChangeMap.min=function(n,t,i,r){isNaN(r)||i!=r&&(n.min=parseInt(r),n.min>n.max&&(n.max=n.min+1),n._arrange(),n.setPosition(n.value))};this.propertyChangeMap.disabled=function(n,t,i,r){i!=r&&(r?n.host.addClass(n.toThemeProperty("jqx-fill-state-disabled")):n.host.removeClass(n.toThemeProperty("jqx-fill-state-disabled")),n.btnUp.jqxRepeatButton("disabled",n.disabled),n.btnDown.jqxRepeatButton("disabled",n.disabled),n.btnThumb.jqxButton("disabled",n.disabled))};this.propertyChangeMap.touchMode=function(n,t,i,r){i!=r&&(n._updateTouchBehavior(),r===!0?(n.showButtons=!1,n.refresh()):r===!1&&(n.showButtons=!0,n.refresh()))};this.buttonUpCapture=!1;this.buttonDownCapture=!1;this._updateTouchBehavior();this.setPosition(this.value);this._addHandlers();this.setTheme()},resize:function(n,t){this.width=n;this.height=t;this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=n.jqx.mobile.isTouchDevice(),this.touchMode==!0){if(n.jqx.browser.msie&&n.jqx.browser.version<9){this.setTheme();return}this.isTouchDevice=!0;n.jqx.mobile.setMobileSimulator(this.btnThumb[0]);this._removeHandlers();this._addHandlers();this.setTheme()}else this.touchMode==!1&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,e=!1,i,f,r,u;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(e=!0,this._touchSupport=!0)}catch(o){}if((t.isTouchDevice||e)&&(this.addHandler(this.btnThumb,n.jqx.mobile.getTouchEventName("touchend"),function(n){var i=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),r=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(r),t.disabled||t.handlemouseup(t,n),!1}),this.addHandler(this.btnThumb,n.jqx.mobile.getTouchEventName("touchstart"),function(n){if(!t.disabled){if(t.touchMode==!0)n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY;else{var i=n;i.originalEvent.touches&&i.originalEvent.touches.length?(n.clientX=i.originalEvent.touches[0].clientX,n.clientY=i.originalEvent.touches[0].clientY):(n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY)}t.handlemousedown(n);n.preventDefault&&n.preventDefault()}}),n.jqx.mobile.touchScroll(this.element,t.max,function(n,i,r,u,f){var e,o;t.host.css("visibility")=="visible"&&(t.touchMode==!0?(f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY):(e=f,e.originalEvent.touches&&e.originalEvent.touches.length?(f.clientX=e.originalEvent.touches[0].clientX,f.clientY=e.originalEvent.touches[0].clientY):(f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY)),o=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),t.btnThumb.addClass(o),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(f))},t.element.id)),this.addHandler(this.btnUp,"click",function(){var n=t.step;t.rtl&&!t.vertical&&(n=-t.step);t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-n):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-n)}),this.addHandler(this.btnDown,"click",function(){var n=t.step;t.rtl&&!t.vertical&&(n=-t.step);t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+n):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+n)}),!this.isTouchDevice){try{(document.referrer!=""||window.frameElement)&&window.top!=null&&window.top!=window.self&&(i=null,window.parent&&document.referrer&&(i=document.referrer),i&&i.indexOf(document.location.host)!=-1&&(f=function(n){t.disabled||t.handlemouseup(t,n)},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f)))}catch(s){}this.addHandler(this.btnDown,"mouseup",function(n){if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture){t.buttonDownCapture=!1;t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed"));t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed"));t._removeArrowClasses("pressed","down");t.handlemouseup(t,n);var i=t.step;return t.rtl&&!t.vertical&&(i=-t.step),t.setPosition(t.value+i),!1}});this.addHandler(this.btnUp,"mouseup",function(n){if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture){t.buttonUpCapture=!1;t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed"));t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed"));t._removeArrowClasses("pressed","up");t.handlemouseup(t,n);var i=t.step;return t.rtl&&!t.vertical&&(i=-t.step),t.setPosition(t.value-i),!1}});this.addHandler(this.btnDown,"mousedown",function(){if(!t.btnDownInstance.base.disabled)return t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1});this.addHandler(this.btnUp,"mousedown",function(){if(!t.btnUpInstance.base.disabled)return t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1})}r="click";this.isTouchDevice&&(r=n.jqx.mobile.getTouchEventName("touchend"));this.addHandler(this.areaUp,r,function(){if(!t.disabled){var n=t.largestep;return t.rtl&&!t.vertical&&(n=-t.largestep),t.setPosition(t.value-n),!1}});this.addHandler(this.areaDown,r,function(){if(!t.disabled){var n=t.largestep;return t.rtl&&!t.vertical&&(n=-t.largestep),t.setPosition(t.value+n),!1}});this.addHandler(this.areaUp,"mousedown",function(){if(!t.disabled)return t.areaUpCapture=!0,!1});this.addHandler(this.areaDown,"mousedown",function(){if(!t.disabled)return t.areaDownCapture=!0,!1});this.addHandler(this.btnThumb,"mousedown",function(n){return t.disabled||t.handlemousedown(n),!1});this.addHandler(this.btnThumb,"dragstart",function(){return!1});this.addHandler(n(document),"mouseup."+this.element.id,function(n){t.disabled||t.handlemouseup(t,n)});this.isTouchDevice||(this.mousemoveFunc=function(n){t.disabled||t.handlemousemove(n)},this.addHandler(n(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(n(document),"mouseleave."+this.element.id,function(n){t.disabled||t.handlemouseleave(n)}),this.addHandler(n(document),"mouseenter."+this.element.id,function(n){t.disabled||t.handlemouseenter(n)}),t.disabled||(this.addHandler(this.btnUp,"mouseenter",function(){t.disabled||t.btnUpInstance.base.disabled||t.touchMode==!0||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up"))}),this.addHandler(this.btnUp,"mouseleave",function(){t.disabled||t.btnUpInstance.base.disabled||t.touchMode==!0||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))}),u=t.toThemeProperty("jqx-scrollbar-thumb-state-hover"),t.vertical||(u=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter",function(){t.disabled||t.touchMode==!0||(t.btnThumb.addClass(u),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnThumb,"mouseleave",function(){t.disabled||t.touchMode==!0||(t.btnThumb.removeClass(u),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter",function(){t.disabled||t.btnDownInstance.base.disabled||t.touchMode==!0||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down"))}),this.addHandler(this.btnDown,"mouseleave",function(){t.disabled||t.btnDownInstance.base.disabled||t.touchMode==!0||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})))},destroy:function(){var i=this.btnUp,r=this.btnDown,u=this.btnThumb,o=this.scrollWrap,f=this.areaUp,e=this.areaDown,t;this.arrowUp.remove();delete this.arrowUp;this.arrowDown.remove();delete this.arrowDown;e.removeClass();f.removeClass();r.removeClass();i.removeClass();u.removeClass();i.jqxRepeatButton("destroy");r.jqxRepeatButton("destroy");f.jqxRepeatButton("destroy");e.jqxRepeatButton("destroy");u.jqxButton("destroy");t=n.data(this.element,"jqxScrollBar");this._removeHandlers();this.btnUp=null;this.btnDown=null;this.scrollWrap=null;this.areaUp=null;this.areaDown=null;this.scrollOuterWrap=null;delete this.mousemoveFunc;delete this.btnDownInstance;delete this.btnUpInstance;delete this.scrollOuterWrap;delete this.scrollWrap;delete this.btnDown;delete this.areaDown;delete this.areaUp;delete this.btnDown;delete this.btnUp;delete this.btnThumb;delete this.propertyChangeMap.value;delete this.propertyChangeMap.min;delete this.propertyChangeMap.max;delete this.propertyChangeMap.touchMode;delete this.propertyChangeMap.disabled;delete this.propertyChangeMap.theme;delete this.propertyChangeMap;t&&delete t.instance;this.host.removeData();this.host.remove();delete this.host;delete this.set;delete this.get;delete this.call;delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter");this.removeHandler(this.btnDown,"mouseenter");this.removeHandler(this.btnThumb,"mouseenter");this.removeHandler(this.btnUp,"mouseleave");this.removeHandler(this.btnDown,"mouseleave");this.removeHandler(this.btnThumb,"mouseleave");this.removeHandler(this.btnUp,"click");this.removeHandler(this.btnDown,"click");this.removeHandler(this.btnDown,"mouseup");this.removeHandler(this.btnUp,"mouseup");this.removeHandler(this.btnDown,"mousedown");this.removeHandler(this.btnUp,"mousedown");this.removeHandler(this.areaUp,"mousedown");this.removeHandler(this.areaDown,"mousedown");this.removeHandler(this.areaUp,"click");this.removeHandler(this.areaDown,"click");this.removeHandler(this.btnThumb,"mousedown");this.removeHandler(this.btnThumb,"dragstart");this.removeHandler(n(document),"mouseup."+this.element.id);this.mousemoveFunc?this.removeHandler(n(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(n(document),"mousemove."+this.element.id);this.removeHandler(n(document),"mouseleave."+this.element.id);this.removeHandler(n(document),"mouseenter."+this.element.id);var t=this},_addArrowClasses:function(n,t){n=="pressed"&&(n="selected");n!=""&&(n="-"+n);this.vertical?((t=="up"||t==undefined)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+n)),(t=="down"||t==undefined)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+n))):((t=="up"||t==undefined)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+n)),(t=="down"||t==undefined)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+n)))},_removeArrowClasses:function(n,t){n=="pressed"&&(n="selected");n!=""&&(n="-"+n);this.vertical?((t=="up"||t==undefined)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+n)),(t=="down"||t==undefined)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+n))):((t=="up"||t==undefined)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+n)),(t=="down"||t==undefined)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+n)))},setTheme:function(){var c=this.btnUp,l=this.btnDown,u=this.btnThumb,f=this.scrollWrap,p=this.areaUp,w=this.areaDown,a=this.arrowUp,v=this.arrowDown,i,y,r,e,o,s,h,t;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset");this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");i=this.toThemeProperty("jqx-reset");this.areaDown[0].className=i;this.areaUp[0].className=i;y=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(y);l[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");c[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");r="";this.vertical?(a[0].className=i+" "+this.toThemeProperty("jqx-icon-arrow-up"),v[0].className=i+" "+this.toThemeProperty("jqx-icon-arrow-down"),r=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(a[0].className=i+" "+this.toThemeProperty("jqx-icon-arrow-left"),v[0].className=i+" "+this.toThemeProperty("jqx-icon-arrow-right"),r=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal"));r+=" "+this.toThemeProperty("jqx-fill-state-normal");u[0].className=r;this.disabled?(f.addClass(this.toThemeProperty("jqx-fill-state-disabled")),f.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(f.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),f.removeClass(this.toThemeProperty("jqx-fill-state-disabled")));this.roundedCorners=="all"?(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical?(e=n.jqx.cssroundedcorners("top"),e=this.toThemeProperty(e),c.addClass(e),o=n.jqx.cssroundedcorners("bottom"),o=this.toThemeProperty(o),l.addClass(o)):(s=n.jqx.cssroundedcorners("left"),s=this.toThemeProperty(s),c.addClass(s),h=n.jqx.cssroundedcorners("right"),h=this.toThemeProperty(h),l.addClass(h))):(t=n.jqx.cssroundedcorners(this.roundedCorners),t=this.toThemeProperty(t),elBtnUp.addClass(t),elBtnDown.addClass(t));t=n.jqx.cssroundedcorners(this.roundedCorners);t=this.toThemeProperty(t);u.hasClass(t)||u.addClass(t);this.isTouchDevice&&this.touchModeStyle!=!1&&(this.showButtons=!1,u.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return this.thumbCapture==undefined||this.buttonDownCapture==undefined||this.buttonUpCapture==undefined||this.areaDownCapture==undefined||this.areaUpCapture==undefined?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(n){if(this.thumbCapture==undefined||this.thumbCapture==!1){this.thumbCapture=!0;var t=this.btnThumb;t!=null&&(t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?t.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):t.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}this.dragStartX=n.clientX;this.dragStartY=n.clientY;this.dragStartValue=this.value},toggleHover:function(){},refresh:function(){this._arrange()},_setElementPosition:function(n,t,i){isNaN(t)||parseInt(n[0].style.left)!=parseInt(t)&&(n[0].style.left=t+"px");isNaN(i)||parseInt(n[0].style.top)!=parseInt(i)&&(n[0].style.top=i+"px")},_setElementTopPosition:function(n,t){isNaN(t)||(n[0].style.top=t+"px")},_setElementLeftPosition:function(n,t){isNaN(t)||(n[0].style.left=t+"px")},handlemouseleave:function(){var i=this.btnUp,r=this.btnDown,n,t;((this.buttonDownCapture||this.buttonUpCapture)&&(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),r.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),this.thumbCapture==!0)&&(n=this.btnThumb,t=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),n.removeClass(t),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")))},handlemouseenter:function(){var t=this.btnUp,i=this.btnDown,n;(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),this.thumbCapture==!0)&&(n=this.btnThumb,this.vertical?n.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):n.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),n.addClass(this.toThemeProperty("jqx-fill-state-pressed")))},handlemousemove:function(n){var i=this.btnUp,r=this.btnDown,e=0,f,h,t,o,s,u;if(r!=null&&i!=null){if(i!=null&&r!=null&&this.buttonDownCapture!=undefined&&this.buttonUpCapture!=undefined&&(this.buttonDownCapture&&n.which==e?(r.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&n.which==e&&(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),this.thumbCapture!=!0)return!1;if(f=this.btnThumb,n.which==e&&!this.isTouchDevice&&!this._touchSupport)return this.thumbCapture=!1,this._arrange(),h=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),f.removeClass(h),f.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0;n.preventDefault!=undefined&&n.preventDefault();n.originalEvent!=null&&(n.originalEvent.mouseHandled=!0);n.stopPropagation!=undefined&&n.stopPropagation();t=0;try{if(t=this.vertical?n.clientY-this.dragStartY:n.clientX-this.dragStartX,o=this._btnAndThumbSize,this._btnAndThumbSize||(o=this.vertical?i.height()+r.height()+f.height():i.width()+r.width()+f.width()),s=(this.max-this.min)/(this.scrollBarSize-o),this.thumbStep=="auto")t*=s;else return t*=s,Math.abs(this.dragStartValue+t-this.value)>=parseInt(this.thumbStep)?(u=Math.round(parseInt(t)/this.thumbStep)*this.thumbStep,this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-u):this.setPosition(this.dragStartValue+u),!1):!1;u=t;this.rtl&&!this.vertical&&(u=-t);this.setPosition(this.dragStartValue+u)}catch(c){alert(c)}return!1}},handlemouseup:function(n,t){var i=!1,r,e,u,f;this.thumbCapture&&(this.thumbCapture=!1,r=this.btnThumb,e=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),r.removeClass(e),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i=!0,this._mouseup=new Date);this.areaDownCapture=this.areaUpCapture=!1;(this.buttonUpCapture||this.buttonDownCapture)&&(u=this.btnUp,f=this.btnDown,this.buttonUpCapture=!1,this.buttonDownCapture=!1,u.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),f.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),u.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),f.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),i=!0,this._mouseup=new Date);i&&(t.preventDefault!=undefined&&t.preventDefault(),t.originalEvent!=null&&(t.originalEvent.mouseHandled=!0),t.stopPropagation!=undefined&&t.stopPropagation())},setPosition:function(t,i){var e=this.element,u,f,r;return(t==undefined||t==NaN)&&(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),(this.value!==t||i==!0)&&(t==this.max&&(u=new n.Event("complete"),this.host.trigger(u)),f=this.value,this._triggervaluechanged&&(r=new n.Event("valueChanged"),r.previousValue=this.value,r.currentValue=t),this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(r),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:f})),t},val:function(n){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return typeof n=="number"?!1:typeof n=="date"?!1:typeof n=="boolean"?!1:typeof n=="string"?!1:!0};return t(n)||arguments.length==0?this.value:(this.setPosition(n),n)},_getThumbSize:function(n){var i=this.max-this.min,t=0;return i>1?t=n/(i+n)*n:i==1&&(t=n),this.thumbSize>0&&(t=this.thumbSize),t<this.thumbMinSize&&(t=this.thumbMinSize),Math.min(t,n)},_positionelements:function(){var l=this.element,o=this.areaUp,s=this.areaDown,a=this.btnUp,v=this.btnDown,h=this.btnThumb,y=this.scrollWrap,f=this._height?this._height:this.host.height(),e=this._width?this._width:this.host.width(),t=this.vertical?e:f,r,u,i,n,c;this.showButtons||(t=0);r=this.vertical?f:e;this.scrollBarSize=r;u=this._getThumbSize(r-2*t);u=Math.round(u);u<this.thumbMinSize&&(u=this.thumbMinSize);(f==NaN||f<10)&&(f=10);(e==NaN||e<10)&&(e=10);t+=2;this.btnSize=t;i=this._btnAndThumbSize;this._btnAndThumbSize||(i=this.vertical?2*this.btnSize+h.outerHeight():2*this.btnSize+h.outerWidth(),i=Math.round(i));n=(r-i)/(this.max-this.min)*(this.value-this.min);this.rtl&&!this.vertical&&(n=(r-i)/(this.max-this.min)*(this.max-this.value-this.min));n=Math.round(n);n<0&&(n=0);this.vertical?(c=r-n-i,c<0&&(c=0),s[0].style.height=c+"px",o[0].style.height=n+"px",this._setElementTopPosition(o,t),this._setElementTopPosition(h,t+n),this._setElementTopPosition(s,t+n+u)):(o[0].style.width=n+"px",s[0].style.width=r-n-i>=0?r-n-i+"px":"0px",this._setElementLeftPosition(o,t),this._setElementLeftPosition(h,t+n),this._setElementLeftPosition(s,2+t+n+u))},_arrange:function(){var r,u,i,b,o,e,l,f,t,a,v,y,p;if(this._initialLayout){this._initialLayout=!1;return}var d=this.element,s=this.areaUp,h=this.areaDown,w=this.btnUp,c=this.btnDown,n=this.btnThumb,k=this.scrollWrap,r=parseInt(this.element.style.height),u=parseInt(this.element.style.width);this.isPercentage&&(r=this.host.height(),u=this.host.width());isNaN(r)&&(r=0);isNaN(u)&&(u=0);this._width=u;this._height=r;i=this.vertical?u:r;this.showButtons||(i=0);w[0].style.width=i+"px";w[0].style.height=i+"px";c[0].style.width=i+"px";c[0].style.height=i+"px";this.vertical?k[0].style.width=u+2+"px":k[0].style.height=r+2+"px";this._setElementPosition(w,0,0);b=i+2;this.vertical?this._setElementPosition(c,0,r-b):this._setElementPosition(c,u-b,0);o=this.vertical?r:u;this.scrollBarSize=o;e=this._getThumbSize(o-2*i);e=Math.round(e);e<this.thumbMinSize&&(e=this.thumbMinSize);l=!1;this.isTouchDevice&&this.touchModeStyle!=!1&&(l=!0);this.vertical?(n[0].style.width=u+"px",n[0].style.height=e+"px",l&&this.thumbTouchSize!==0&&(n.css({width:this.thumbTouchSize+"px"}),n.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(n[0].style.width=e+"px",n[0].style.height=r+"px",l&&this.thumbTouchSize!==0&&(n.css({height:this.thumbTouchSize+"px"}),n.css("margin-top",(this.host.height()-this.thumbTouchSize)/2)));(r==NaN||r<10)&&(r=10);(u==NaN||u<10)&&(u=10);i+=2;this.btnSize=i;f=this.vertical?2*this.btnSize+(2+parseInt(n[0].style.height)):2*this.btnSize+(2+parseInt(n[0].style.width));f=Math.round(f);this._btnAndThumbSize=f;t=(o-f)/(this.max-this.min)*(this.value-this.min);this.rtl&&!this.vertical&&(t=(o-f)/(this.max-this.min)*(this.max-this.value-this.min));t=Math.round(t);(t===-Infinity||t==Infinity)&&(t=0);isNaN(t)&&(t=0);t<0&&(t=0);this.vertical?(a=o-t-f,a<0&&(a=0),h[0].style.height=a+"px",h[0].style.width=u+"px",s[0].style.height=t+"px",s[0].style.width=u+"px",v=parseInt(this.element.style.height),this.isPercentage&&(v=this.host.height()),n[0].style.visibility="inherit",v-3*parseInt(i)<0?n[0].style.visibility="hidden":v<f?n[0].style.visibility="hidden":this.element.style.visibility=="visible"&&(n[0].style.visibility="inherit"),this._setElementPosition(s,0,i),this._setElementPosition(n,0,i+t),this._setElementPosition(h,0,i+t+e)):(t>0&&(s[0].style.width=t+"px"),r>0&&(s[0].style.height=r+"px"),y=o-t-f,y<0&&(y=0),h[0].style.width=y+"px",h[0].style.height=r+"px",p=parseInt(this.element.style.width),this.isPercentage&&(p=this.host.width()),n[0].style.visibility="inherit",p-3*parseInt(i)<0?n[0].style.visibility="hidden":p<f?n[0].style.visibility="hidden":this.element.style.visibility=="visible"&&(n[0].style.visibility="inherit"),this._setElementPosition(s,i,0),this._setElementPosition(n,i+t,0),this._setElementPosition(h,2+i+t+e,0))}})}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxMenu","",{});n.extend(n.jqx._jqxMenu.prototype,{defineInstance:function(){n.extend(!0,this,{items:[],mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:[],autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,title:"",events:["shown","closed","itemclick","initialized"]})},createInstance:function(){var r=this,i,t;this.host.attr("role","menubar");n.jqx.utilities.resize(this.host,function(){r.refresh()},!1,this.mode!="popup");this.host.css("outline","none");this.source&&this.source!=null&&(i=this.loadItems(this.source),this.element.innerHTML=i);this._tmpHTML=this.element.innerHTML;this.element.innerHTML.indexOf("UL")&&(t=this.host.find("ul:first"),t.length>0&&this._createMenu(t[0]));this.host.data("autoclose",{});this._render();this.setSize();n.jqx.browser.msie&&n.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{this.host.focus()}catch(n){}},loadItems:function(t,i){var u,r;if(t!=null)return t.length==0?"":(u=this,this.items=[],r="<ul>",i&&(r='<ul style="width:'+i+';">'),n.map(t,function(n){if(n==undefined)return null;r+=u._parseItem(n)}),r+="<\/ul>")},_parseItem:function(n){var t="",i,u,r;return n==undefined?null:(i=n.label,!n.label&&n.html&&(i=n.html),i||(i="Item"),typeof n=="string"&&(i=n),u=!1,n.selected!=undefined&&n.selected&&(u=!0),r=!1,n.disabled!=undefined&&n.disabled&&(r=!0),t+="<li",r&&(t+=' item-disabled="true" '),n.label&&!n.html&&(t+=' item-label="'+i+'" '),n.value!=null&&(t+=' item-value="'+n.value+'" '),n.id!=undefined&&(t+=' id="'+n.id+'" '),t+=">"+i,n.items&&(t+=n.subMenuWidth?this.loadItems(n.items,n.subMenuWidth):this.loadItems(n.items)),t+"<\/li>")},setSize:function(){var e,t,i,f,r,u;if(this.width!=null&&this.width.toString().indexOf("%")!=-1?this.host.width(this.width):this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width),this.height!=null&&this.height.toString().indexOf("%")!=-1?this.host.height(this.height):this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height),this.height===null&&this.host.height("auto"),e=this,this.minimizeWidth!=null&&this.mode!="popup"){if(t=n(window).width(),!n.jqx.response&&(i=!1,navigator.userAgent.match(/Windows|Linux|MacOS/)&&(f=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0,f||(i=!0)),r=this.minimizeWidth,i&&this.minimizeWidth=="auto"))return;this.minimizeWidth=="auto"&&n.jqx.response?(u=new n.jqx.response,(u.device.type=="Phone"||u.device.type=="Tablet")&&(this.minimized||this.minimize())):t<r&&!this.minimized?this.minimize():this.minimized&&t>=r&&this.restore()}},minimize:function(){var i,f,u,r,t,e,o;this.minimized||(i=this,this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",t=this.host.closest("div.jqx-menu-wrapper"),t.remove(),n("#menuWrapper"+this.element.id).remove(),n.each(this.items,function(){var t=this,u=n(t.element),i=n(t.subMenuElement),r=i.closest("div.jqx-menu-popup");r.remove()}),this.source&&(f=this.loadItems(this.source),this.element.innerHTML=f,this._tmpHTML=this.element.innerHTML),this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")&&(u=this.host.find("ul:first"),u.length>0&&this._createMenu(u[0])),this._render(),r=this.host.find("ul:first"),r.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"><\/div>'),t=r.closest("div.jqx-menu-wrapper"),t[0].id="menuWrapper"+this.element.id,t.detach(),t.appendTo(n(document.body)),t.addClass(this.toThemeProperty("jqx-widget")),t.addClass(this.toThemeProperty("jqx-menu")),t.addClass(this.toThemeProperty("jqx-menu-minimized")),t.addClass(this.toThemeProperty("jqx-widget-header")),r.children().hide(),t.hide(),t.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=n("<div><\/div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=n("<div>"+this.title+"<\/div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),n("<div style='clear:both;'><\/div>").insertAfter(this.minimizedItem),i.minimizedHidden=!0,e=function(){i.minimizedHidden=!0;i.minimizedItem.show();var n=!1;i.minimizedItem.css("float")=="right"&&(n=!0);t.animate({left:n?i.host.coord().left+i.host.width()+t.width():-t.outerWidth(),opacity:0},i.animationHideDuration,function(){t.find("ul:first").children().hide();t.hide()})},o=function(n){if(i.minimizedHidden){t.find("ul:first").children().show();i.minimizedHidden=!1;t.show();t.css("opacity",0);t.css("left",-t.outerWidth());var r=!1,u=t.width();i.minimizedItem.css("float")=="right"&&(t.css("left",i.host.coord().left+i.host.width()+u),r=!0);t.css("top",i.host.coord().top+i.host.height());t.animate({left:r?i.host.coord().left+i.host.width()-u:i.host.coord().left,opacity:.95},i.animationShowDuration,function(){})}else e(n);i._raiseEvent("2",{item:i.minimizedItem[0],event:n});i.setSize()},this.addHandler(n(window),"orientationchange.jqxmenu"+this.element.id,function(){setTimeout(function(){if(!i.minimizedHidden){var r=t.width(),n=!1,r=t.width();i.minimizedItem.css("float")=="right"&&(n=!0);t.css("top",i.host.coord().top+i.host.height());t.css({left:n?i.host.coord().left+i.host.width()-r:i.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(n){o(n)}))},restore:function(){var r,t,i;this.minimized&&(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),r=n("#menuWrapper"+this.element.id),r.remove(),this.source&&(t=this.loadItems(this.source),this.element.innerHTML=t,this._tmpHTML=t),this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")&&(i=this.host.find("ul:first"),i.length>0&&this._createMenu(i[0])),this.setSize(),this._render())},isTouchDevice:function(){if(this._isTouchDevice!=undefined)return this._isTouchDevice;var t=n.jqx.mobile.isTouchDevice();return this.touchMode==!0?t=!0:this.touchMode==!1&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),n(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(n){n||this.setSize()},resize:function(n,t){this.width=n;this.height=t;this.refresh()},_closeAll:function(t){var i=t!=null?t.data:this,u=i.items,r;n.each(u,function(){var n=this;n.hasItems==!0&&n.isOpen&&i._closeItem(i,n)});i.mode=="popup"&&t!=null&&(r=i._isRightClick(t),r||i.close())},closeItem:function(t){if(t==null)return!1;var r=t,u=document.getElementById(r),i=this;return n.each(i.items,function(){var n=this;n.isOpen==!0&&n.element==u&&(i._closeItem(i,n),n.parentId&&i.closeItem(n.parentId))}),!0},openItem:function(t){if(t==null)return!1;var r=t,u=document.getElementById(r),i=this;return n.each(i.items,function(){var n=this;n.isOpen==!1&&n.element==u&&(i._openItem(i,n),n.parentId&&i.openItem(n.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=n(t.subMenuElement),u=-i.outerHeight(),r=-i.outerWidth(),f=t.level==0&&this.mode=="horizontal";f?r=0:u=0;switch(t.openVerticalDirection){case"up":case"center":u=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):r=f?0:i.outerWidth();break;case"center":r=f?0:i.outerWidth()}return{left:r,top:u}},_closeItem:function(t,i,r,u){var o,s,a;if(t==null||i==null)return!1;var f=n(i.subMenuElement),v=i.level==0&&this.mode=="horizontal",h=this._getClosedSubMenuOffset(i),c=h.top,l=h.left,y=n(i.element),e=f.closest("div.jqx-menu-popup");e!=null&&(o=t.animationHideDelay,u==!0&&(o=0),f.data("timer").show!=null&&(clearTimeout(f.data("timer").show),f.data("timer").show=null),s=function(){i.isOpen=!1;v?f.stop().animate({top:c},t.animationHideDuration,function(){n(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed"));n(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));n(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded"));e.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var r=n(i.arrow);r.length>0&&t.showTopLevelArrows&&(r.removeClass(),i.openVerticalDirection=="down"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),r.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),r.addClass(t.toThemeProperty("jqx-icon-arrow-up"))));n.jqx.aria(n(i.element),"aria-expanded",!1);e.css({display:"none"});t.animationHideDuration==0&&f.css({top:c});t._raiseEvent("1",i)}):(!n.jqx.browser.msie,f.stop().animate({left:l},t.animationHideDuration,function(){var r;t.animationHideDuration==0&&f.css({left:l});i.level>0?(n(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),n(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),r=n(i.arrow),r.length>0&&(r.removeClass(),i.openHorizontalDirection!="left"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(n(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),n(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),r=n(i.arrow),r.length>0&&(r.removeClass(),i.openHorizontalDirection!="left"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left"))))));n.jqx.aria(n(i.element),"aria-expanded",!1);e.css({display:"none"});t._raiseEvent("1",i)}))},o>0?f.data("timer").hide=setTimeout(function(){s()},o):s(),r!=undefined&&r&&(a=f.children(),n.each(a,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){var i=n(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],!0,!0)}})))},getSubItems:function(t,i){var u,r;if(t==null)return!1;u=this;r=[];i!=null&&n.extend(r,i);var f=t,e=this.menuElements[f],o=n(e.subMenuElement),s=o.find(".jqx-menu-item");return n.each(s,function(){r[this.id]=u.menuElements[this.id];var t=u.getSubItems(this.id,r);n.extend(r,t)}),r},disable:function(t,i){var e,u,f,r;t!=null&&(e=t,u=this,this.menuElements[e]&&(f=this.menuElements[e],f.disabled=i,r=n(f.element),f.element.disabled=i,n.each(r.children(),function(){this.disabled=i}),i?(r.addClass(u.toThemeProperty("jqx-menu-item-disabled")),r.addClass(u.toThemeProperty("jqx-fill-state-disabled"))):(r.removeClass(u.toThemeProperty("jqx-menu-item-disabled")),r.removeClass(u.toThemeProperty("jqx-fill-state-disabled")))))},_setItemProperty:function(n,t,i){var r,f,u;n!=null&&(r=n,f=this,this.menuElements[r]&&(u=this.menuElements[r],u[t]&&(u[t]=i)))},setItemOpenDirection:function(t,i,r){var f,u,o;if(t!=null){var h=t,e=this,s=n.jqx.browser.msie&&n.jqx.browser.version<8;if(this.menuElements[h]&&(f=this.menuElements[h],i!=null&&(f.openHorizontalDirection=i,f.hasItems&&f.level>0&&(o=n(f.element),o!=undefined&&(u=n(f.arrow),f.arrow==null&&(u=n('<span id="arrow'+o[0].id+'"><\/span>'),s?u.appendTo(o):u.prependTo(o),f.arrow=u[0]),u.removeClass(),f.openHorizontalDirection=="left"?(u.addClass(e.toThemeProperty("jqx-menu-item-arrow-"+e._getDir("left"))),u.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("left")))):(u.addClass(e.toThemeProperty("jqx-menu-item-arrow-"+e._getDir("right"))),u.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("right")))),u.css("visibility","visible"),s?(u.css("display","inline-block"),u.css("float","none")):(u.css("display","block"),u.css("float","right"))))),r!=null)){if(f.openVerticalDirection=r,u=n(f.arrow),o=n(f.element),!e.showTopLevelArrows)return;o!=undefined&&(f.arrow==null&&(u=n('<span id="arrow'+o[0].id+'"><\/span>'),s?u.appendTo(o):u.prependTo(o),f.arrow=u[0]),u.removeClass(),f.openVerticalDirection=="down"?(u.addClass(e.toThemeProperty("jqx-menu-item-arrow-down")),u.addClass(e.toThemeProperty("jqx-icon-arrow-down"))):(u.addClass(e.toThemeProperty("jqx-menu-item-arrow-up")),u.addClass(e.toThemeProperty("jqx-icon-arrow-up"))),u.css("visibility","visible"),s?(u.css("display","inline-block"),u.css("float","none")):(u.css("display","block"),u.css("float","right")))}}},_getSiblings:function(n){var t=[],r=0;for(i=0;i<this.items.length;i++)this.items[i]!=n&&this.items[i].parentId==n.parentId&&this.items[i].hasItems&&(t[r++]=this.items[i]);return t},_openItem:function(t,i,r){var c,p,s,u,w,h,b,k,y,l,a,v,d;if(t==null||i==null||i.isOpen||i.disabled||t.disabled)return!1;c=t.popupZIndex;r!=undefined&&(c=r);p=t.animationHideDuration;t.animationHideDuration=0;t._closeItem(t,i,!0,!0);t.animationHideDuration=p;this.host.focus();s=[5,5];u=n(i.subMenuElement);u!=null&&u.stop();u.data("timer").hide!=null&&clearTimeout(u.data("timer").hide);var f=u.closest("div.jqx-menu-popup"),e=n(i.element),o=i.level==0?this._getOffset(i.element):e.position();i.level>0&&this.hasTransform&&(w=parseInt(e.coord().top)-parseInt(this._getOffset(i.element).top),o.top+=w);i.level==0&&this.mode=="popup"&&(o=e.coord());h=i.level==0&&this.mode=="horizontal";b=h?o.left:this.menuElements[i.parentId]!=null&&this.menuElements[i.parentId].subMenuElement!=null?parseInt(n(n(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-s[0]:parseInt(u.outerWidth());f.css({visibility:"visible",display:"block",left:b,top:h?o.top+e.outerHeight():o.top,zIndex:c});u.css("display","block");this.mode!="horizontal"&&i.level==0?(k=this._getOffset(this.element),f.css("left",-1+k.left+this.host.outerWidth()),u.css("left",-u.outerWidth())):(y=this._getClosedSubMenuOffset(i),u.css("left",y.left),u.css("top",y.top));f.css({height:parseInt(u.outerHeight())+parseInt(s[1])+"px"});l=0;a=0;switch(i.openVerticalDirection){case"up":h?(u.css("top",u.outerHeight()),l=s[1],v=parseInt(u.parent().css("padding-bottom")),isNaN(v)&&(v=0),v>0&&f.addClass(this.toThemeProperty("jqx-menu-popup-clear")),u.css("top",u.outerHeight()-v),f.css({display:"block",top:o.top-f.outerHeight(),zIndex:c})):(l=s[1],u.css("top",u.outerHeight()),f.css({display:"block",top:o.top-f.outerHeight()+s[1]+e.outerHeight(),zIndex:c}));break;case"center":h?(u.css("top",0),f.css({display:"block",top:o.top-f.outerHeight()/2+s[1],zIndex:c})):(u.css("top",0),f.css({display:"block",top:o.top+e.outerHeight()/2-f.outerHeight()/2+s[1],zIndex:c}))}switch(i.openHorizontalDirection){case this._getDir("left"):h?f.css({left:o.left-(f.outerWidth()-e.outerWidth()-s[0])}):(a=0,u.css("left",f.outerWidth()),f.css({left:o.left-f.outerWidth()+2*i.level}));break;case"center":h?f.css({left:o.left-(f.outerWidth()/2-e.outerWidth()/2-s[0]/2)}):(f.css({left:o.left-(f.outerWidth()/2-e.outerWidth()/2-s[0]/2)}),u.css("left",f.outerWidth()))}if(h){if(parseInt(u.css("top"))==l){i.isOpen=!0;return}}else if(parseInt(u.css("left"))==a){i.isOpen==!0;return}n.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});d=n.data(t.element,"animationHideDelay");t.animationHideDelay=d;this.autoCloseInterval>0&&(this.host.data("autoclose")!=null&&this.host.data("autoclose").close!=null&&clearTimeout(this.host.data("autoclose").close),this.host.data("autoclose")!=null&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval)));u.data("timer").show=setTimeout(function(){var r;f!=null&&(h?(u.stop(),u.css("left",a),!n.jqx.browser.msie,e.addClass(t.toThemeProperty("jqx-fill-state-pressed")),e.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),i.openVerticalDirection=="down"?(n(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),f.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(n(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),f.addClass(t.toThemeProperty("jqx-rc-b-expanded"))),r=n(i.arrow),r.length>0&&t.showTopLevelArrows&&(r.removeClass(),i.openVerticalDirection=="down"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),t.animationShowDuration==0?(u.css({top:l}),i.isOpen=!0,t._raiseEvent("0",i),n.jqx.aria(n(i.element),"aria-expanded",!0)):u.animate({top:l},t.animationShowDuration,t.easing,function(){i.isOpen=!0;n.jqx.aria(n(i.element),"aria-expanded",!0);t._raiseEvent("0",i)})):(u.stop(),u.css("top",l),!n.jqx.browser.msie,i.level>0?(e.addClass(t.toThemeProperty("jqx-fill-state-pressed")),e.addClass(t.toThemeProperty("jqx-menu-item-selected")),r=n(i.arrow),r.length>0&&(r.removeClass(),i.openHorizontalDirection!="left"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(e.addClass(t.toThemeProperty("jqx-fill-state-pressed")),e.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),r=n(i.arrow),r.length>0&&(r.removeClass(),i.openHorizontalDirection!="left"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))),!n.jqx.browser.msie,t.animationShowDuration==0?(u.css({left:a}),t._raiseEvent("0",i),i.isOpen=!0,n.jqx.aria(n(i.element),"aria-expanded",!0)):u.animate({left:a},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i);i.isOpen=!0;n.jqx.aria(n(i.element),"aria-expanded",!0)})))},this.animationShowDelay)},_getDir:function(n){switch(n){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var r=this,e=0,f,u,o,s;this.host.removeClass(r.toThemeProperty("jqx-menu-horizontal"));this.host.removeClass(r.toThemeProperty("jqx-menu-vertical"));this.host.removeClass(r.toThemeProperty("jqx-menu"));this.host.removeClass(r.toThemeProperty("jqx-widget"));this.host.addClass(r.toThemeProperty("jqx-widget"));this.host.addClass(r.toThemeProperty("jqx-menu"));t!=undefined&&i!=undefined&&i=="popup"?this.host.parent().length>0&&this.host.parent().parent().length>0&&this.host.parent().parent()[0]==document.body&&(f=n.data(document.body,"jqxMenuOldHost"+this.element.id),f!=null&&(u=this.host.closest("div.jqx-menu-wrapper"),u.remove(),u.appendTo(f),this.host.css("display","block"),this.host.css("visibility","visible"),u.css("display","block"),u.css("visibility","visible"))):t==undefined&&i==undefined&&n.data(document.body,"jqxMenuOldHost"+this.element.id,this.host.parent()[0]);this.autoOpenPopup?this.mode=="popup"?(this.addHandler(n(document),"contextmenu."+this.element.id,function(){return!1}),this.addHandler(n(document),"mousedown.menu"+this.element.id,function(n){r._openContextMenu(n)})):(this.removeHandler(n(document),"contextmenu."+this.element.id),this.removeHandler(n(document),"mousedown.menu"+this.element.id)):(this.removeHandler(n(document),"contextmenu."+this.element.id),this.removeHandler(n(document),"mousedown.menu"+this.element.id));this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl"));switch(this.mode){case"horizontal":this.host.addClass(r.toThemeProperty("jqx-widget-header"));this.host.addClass(r.toThemeProperty("jqx-menu-horizontal"));n.each(this.items,function(){var i=this,u,t;$element=n(i.element);t=n(i.arrow);t.removeClass();i.hasItems&&i.level>0&&(t=n('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"><\/span>'),t.prependTo($element),t.css("float",r._getDir("right")),t.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))),i.arrow=t[0]);i.level==0&&(n(i.element).css("float",r._getDir("left")),!i.ignoretheme&&i.hasItems&&r.showTopLevelArrows?(t=n('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"><\/span>'),u=n.jqx.browser.msie&&n.jqx.browser.version<8,i.arrow==null?u?t.appendTo($element):t.prependTo($element):t=n(i.arrow),i.openVerticalDirection=="down"?(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-down")),t.addClass(r.toThemeProperty("jqx-icon-arrow-down"))):(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-up")),t.addClass(r.toThemeProperty("jqx-icon-arrow-up"))),t.css("visibility","visible"),u?t.css("display","inline-block"):(t.css("display","block"),t.css("float","right")),i.arrow=t[0]):i.ignoretheme||!i.hasItems||r.showTopLevelArrows||i.arrow!=null&&(t=n(i.arrow),t.remove(),i.arrow=null),e=Math.max(e,$element.height()))});break;case"vertical":case"popup":case"simple":this.host.addClass(r.toThemeProperty("jqx-menu-vertical"));n.each(this.items,function(){var i=this,t;if($element=n(i.element),i.hasItems&&!i.ignoretheme){if(i.arrow&&n(i.arrow).remove(),r.mode=="simple")return!0;t=n('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"><\/span>');t.prependTo($element);t.css("float","right");i.level==0?(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-top-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))):(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))));i.arrow=t[0]}$element.css("float","none")});this.mode=="popup"?(this.host.addClass(r.toThemeProperty("jqx-widget-content")),this.host.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"><\/div>'),u=this.host.closest("div.jqx-menu-wrapper"),this.host.addClass(r.toThemeProperty("jqx-popup")),u[0].id="menuWrapper"+this.element.id,u.appendTo(n(document.body))):this.host.addClass(r.toThemeProperty("jqx-widget-header"));this.mode=="popup"&&(o=this.host.height(),this.host.css("position","absolute"),this.host.css("top","0"),this.host.css("left","0"),this.mode!="simple"&&(this.host.height(o),this.host.css("display","none")))}s=this.isTouchDevice();this.autoCloseOnClick&&(this.removeHandler(n(document),"mousedown.menu"+this.element.id,r._closeAfterClick),this.addHandler(n(document),"mousedown.menu"+this.element.id,r._closeAfterClick,r),s&&(this.removeHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,r._closeAfterClick,r),this.addHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,r._closeAfterClick,r)))},_getBodyOffset:function(){var t=0,i=0;return n("body").css("border-top-width")!="0px"&&(t=parseInt(n("body").css("border-top-width")),isNaN(t)&&(t=0)),n("body").css("border-left-width")!="0px"&&(i=parseInt(n("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var u=n.jqx.mobile.isSafariMobileBrowser(),f=n(t).coord(!0),i=f.top,r=f.left,e;return n("body").css("border-top-width")!="0px"&&(i=parseInt(i)+this._getBodyOffset().top),n("body").css("border-left-width")!="0px"&&(r=parseInt(r)+this._getBodyOffset().left),e=n.jqx.mobile.isWindowsPhone(),this.hasTransform||u!=null&&u||e?{left:n.jqx.mobile.getLeftPos(t),top:n.jqx.mobile.getTopPos(t)}:{left:r,top:i}},_isRightClick:function(n){var t,n;return n||(n=window.event),n.which?t=n.which==3:n.button&&(t=n.button==2),t},_openContextMenu:function(n){var t=this,i=t._isRightClick(n);i&&t.open(parseInt(n.clientX)+5,parseInt(n.clientY)+5)},close:function(){var t=this,i=n.data(this.element,"contextMenuOpened"+this.element.id),r;i&&(r=this.host,n.each(t.items,function(){var n=this;n.hasItems&&t._closeItem(t,n)}),n.each(t.items,function(){var t=this,i;t.isOpen==!0&&($submenu=n(t.subMenuElement),i=$submenu.closest("div.jqx-menu-popup"),i.hide(this.animationHideDuration))}),this.host.hide(this.animationHideDuration),n.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t))},open:function(t,i){var u,r;this.mode=="popup"&&(u=0,this.host.css("display")=="block"&&(this.close(),u=this.animationHideDuration),r=this,(t==undefined||t==null)&&(t=0),(i==undefined||i==null)&&(i=0),setTimeout(function(){r.host.show(r.animationShowDuration);r.host.css("visibility","visible");n.data(r.element,"contextMenuOpened"+r.element.id,!0);r._raiseEvent("0",r);r.host.css("z-index",9999);t!=undefined&&i!=undefined&&r.host.css({left:t,top:i})},u))},_renderHover:function(n,t){var i=this;t.ignoretheme||(this.addHandler(n,"mouseenter",function(){t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(n.addClass(i.toThemeProperty("jqx-fill-state-hover")),n.addClass(i.toThemeProperty("jqx-menu-item-hover"))):(n.addClass(i.toThemeProperty("jqx-fill-state-hover")),n.addClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(n,"mouseleave",function(){t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(n.removeClass(i.toThemeProperty("jqx-fill-state-hover")),n.removeClass(i.toThemeProperty("jqx-menu-item-hover"))):(n.removeClass(i.toThemeProperty("jqx-fill-state-hover")),n.removeClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=t!=null?t.data:this,r=!1;i.autoCloseOnClick&&(n.each(n(t.target).parents(),function(){if(this.className.indexOf&&this.className.indexOf("jqx-menu")!=-1)return r=!0,!1}),r||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var i=this,t;i.autoSizeMainItems&&this.mode=="horizontal"&&(t=this.maxHeight,parseInt(t)>parseInt(this.host.height())&&(t=parseInt(this.host.height())),t=parseInt(this.host.height()),n.each(this.items,function(){var f=this,u;if($element=n(f.element),f.level==0&&t>0){var h=$element.children().length>0?parseInt($element.children().height()):$element.height(),e=i.host.find("ul:first"),c=parseInt(e.css("padding-top")),l=parseInt(e.css("margin-top")),o=t-2*(l+c),s=parseInt(o)/2-h/2,r=parseInt(s),a=parseInt(s);$element.css("padding-top",r);$element.css("padding-bottom",a);parseInt($element.outerHeight())>o&&(u=1,$element.css("padding-top",r-u),r=r-u)}}));n.each(this.items,function(){var t=this,r,i;$element=n(t.element);t.hasItems&&t.level>0&&t.arrow&&(r=n(t.arrow),i=n(t.element).height(),i>15&&r.css("margin-top",(i-15)/2))})},_render:function(t,i){var s;this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled")));var e=this.popupZIndex,o=[5,5],r=this;n.data(r.element,"animationHideDelay",r.animationHideDelay);var u=this.isTouchDevice(),f=u&&(n.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),h=!1;navigator.platform.toLowerCase().indexOf("win")!=-1&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?this.touchDevice=!0:navigator.userAgent.indexOf("Touch")>=0&&(s="MSPointerDown"in window,(s||n.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(h=!0,f=!0,r.clickToOpen=!0,r.autoCloseOnClick=!1,r.enableHover=!1)));n.data(document.body,"menuel",this);this.hasTransform=n.jqx.utilities.hasTransform(this.host);this._applyOrientation(t,i);r.enableRoundedCorners&&this.host.addClass(r.toThemeProperty("jqx-rc-all"));n.each(this.items,function(){var i=this,s=n(i.element),t,h,c;if(s.attr("role","menuitem"),r.enableRoundedCorners&&s.addClass(r.toThemeProperty("jqx-rc-all")),r.removeHandler(s,"click"),r.addHandler(s,"click",function(t){var f,e,o;i.disabled||r.disabled||(r._raiseEvent("2",{item:i.element,event:t}),r.autoOpen?!r.autoCloseOnClick||u||r.clickToOpen||i.closeOnClick&&(t.data=r,r._closeAll(t)):i.level>0&&(!r.autoCloseOnClick||u||r.clickToOpen||(t.data=r,r._closeAll(t))),u&&r.autoCloseOnClick&&(t.data=r,i.hasItems||r._closeAll(t)),t.target.tagName!="A"&&t.target.tagName!="a"&&(f=i.anchor!=null?n(i.anchor):null,f!=null&&f.length>0&&(e=f.attr("href"),o=f.attr("target"),e!=null&&(o!=null?window.open(e,o):window.location=e))))}),r.removeHandler(s,"mouseenter"),r.removeHandler(s,"mouseleave"),f||r.mode=="simple"||r._renderHover(s,i,u),i.subMenuElement!=null){if(t=n(i.subMenuElement),r.mode=="simple")return t.show(),!0;if(t.wrap('<div class="jqx-menu-popup '+r.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+e+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"><\/div><\/div>'),t.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-t.outerHeight()}),t.data("timer",{}),i.level>0?t.css("left",-t.outerWidth()):r.mode=="horizontal"&&t.css("left",0),e++,h=n(i.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(n(i.subMenuElement).outerWidth())+parseInt(o[0])+"px",height:parseInt(n(i.subMenuElement).outerHeight())+parseInt(o[1])+"px"}),c=s.closest("div.jqx-menu-popup"),c.length>0){var l=t.css("margin-left"),a=t.css("margin-right"),v=t.css("padding-left"),y=t.css("padding-right");h.appendTo(c);t.css("margin-left",l);t.css("margin-right",a);t.css("padding-left",v);t.css("padding-right",y)}else{var l=t.css("margin-left"),a=t.css("margin-right"),v=t.css("padding-left"),y=t.css("padding-right");h.appendTo(n(document.body));t.css("margin-left",l);t.css("margin-right",a);t.css("padding-left",v);t.css("padding-right",y)}r.clickToOpen?(r.removeHandler(s,"mousedown"),r.addHandler(s,"mousedown",function(n){clearTimeout(t.data("timer").hide);t!=null&&t.stop();i.level!=0||i.isOpen||(n.data=r,r._closeAll(n));i.isOpen?r._closeItem(r,i,!0):r._openItem(r,i)})):((u||f)&&(r.removeHandler(s,n.jqx.mobile.getTouchEventName("touchstart")),r.addHandler(s,n.jqx.mobile.getTouchEventName("touchstart"),function(n){return clearTimeout(t.data("timer").hide),t!=null&&t.stop(),i.level!=0||i.isOpen||r.mode=="popup"||(n.data=r,r._closeAll(n)),i.isOpen?r._closeItem(r,i,!0):r._openItem(r,i),!1})),f||(r.addHandler(s,"mouseenter",function(){if((r.autoOpen||i.level>0&&!r.autoOpen)&&clearTimeout(t.data("timer").hide),i.parentId&&i.parentId!=0&&r.menuElements[i.parentId]){var n=r.menuElements[i.parentId].isOpen;if(!n)return}return(r.autoOpen||i.level>0&&!r.autoOpen)&&r._openItem(r,i),!1}),r.addHandler(s,"mousedown",function(){r.autoOpen||i.level!=0||(clearTimeout(t.data("timer").hide),t!=null&&t.stop(),i.isOpen?r._closeItem(r,i,!0):r._openItem(r,i))}),r.addHandler(s,"mouseleave",function(u){if(r.autoCloseOnMouseLeave){clearTimeout(t.data("timer").hide);var e=n(i.subMenuElement),o={left:parseInt(u.pageX),top:parseInt(u.pageY)},f={left:parseInt(e.coord().left),top:parseInt(e.coord().top),width:parseInt(e.outerWidth()),height:parseInt(e.outerHeight())},s=!0;f.left-5<=o.left&&o.left<=f.left+f.width+5&&f.top<=o.top&&o.top<=f.top+f.height&&(s=!1);s&&r._closeItem(r,i,!0)}}),r.removeHandler(h,"mouseenter"),r.addHandler(h,"mouseenter",function(){clearTimeout(t.data("timer").hide)}),r.removeHandler(h,"mouseleave"),r.addHandler(h,"mouseleave",function(){r.autoCloseOnMouseLeave&&(clearTimeout(t.data("timer").hide),clearTimeout(t.data("timer").show),t!=null&&t.stop(),r._closeItem(r,i,!0))})))}});this.mode=="simple"&&this._renderSimpleMode();this._autoSizeHorizontalMenuItems();this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var n=Math.random()+"";for(n=n.replace(".",""),n="99"+n,n=n/1;this.items[n];)n=Math.random()+"",n=n.replace(".",""),n=n/1;return"menuItem"+n},_createMenu:function(t,i){var l,o,f,h,b,p,u,w,v;if(t!=null){i==undefined&&(i=!0);i==null&&(i=!0);var d=this,y=n(t).find("li"),e=0;for(l=0;l<y.length;l++)if(o=y[l],f=n(o),o.className.indexOf("jqx-menu")!=-1||this.autoGenerate!=!1){h=o.id;h||(h=this.createID());i&&(o.id=h,this.items[e]=new n.jqx._jqxMenu.jqxMenuItem,this.menuElements[h]=this.items[e]);e+=1;var a=0,r=this,k=f.children();k.each(function(){return(i||(this.className="",r.autoGenerate&&(n(r.items[e-1].subMenuElement)[0].className="",r.minimized||n(r.items[e-1].subMenuElement).addClass(r.toThemeProperty("jqx-widget-content")),n(r.items[e-1].subMenuElement).addClass(r.toThemeProperty("jqx-menu-dropdown")),n(r.items[e-1].subMenuElement).addClass(r.toThemeProperty("jqx-popup")))),this.className.indexOf("jqx-menu-dropdown")!=-1)?(i&&(r.items[e-1].subMenuElement=this),!1):r.autoGenerate&&(this.tagName=="ul"||this.tagName=="UL")?(i&&(r.items[e-1].subMenuElement=this),this.className="",r.minimized||n(this).addClass(r.toThemeProperty("jqx-widget-content")),n(this).addClass(r.toThemeProperty("jqx-menu-dropdown")),n(this).addClass(r.toThemeProperty("jqx-popup")),n(this).attr("role","menu"),r.rtl?n(this).addClass(r.toThemeProperty("jqx-rc-l")):n(this).addClass(r.toThemeProperty("jqx-rc-r")),n(this).addClass(r.toThemeProperty("jqx-rc-b")),!1):void 0});b=f.parents();b.each(function(){return this.className.indexOf("jqx-menu-item")!=-1?(a=this.id,!1):r.autoGenerate&&(this.tagName=="li"||this.tagName=="LI")?(a=this.id,!1):void 0});var p=!1,c=o.getAttribute("type"),s=o.getAttribute("ignoretheme")||o.getAttribute("data-ignoretheme");s?(s=="true"||s==!0)&&(s=!0):s=!1;c?c=="separator"&&(p=!0):c=o.type;p||(c=a?"sub":"top");u=this.items[e-1];i&&(u.id=h,u.parentId=a,u.type=c,u.separator=p,u.element=y[l],w=f.children("a"),u.disabled=o.getAttribute("item-disabled")=="true"?!0:!1,u.level=f.parents("li").length,u.anchor=w.length>0?w:null);u.ignoretheme=s;v=this.menuElements[a];v!=null&&v.ignoretheme&&(u.ignoretheme=v.ignoretheme,s=v.ignoretheme);this.autoGenerate&&(c=="separator"?(f.removeClass(),f.addClass(this.toThemeProperty("jqx-menu-item-separator")),f.attr("role","separator")):s||(f[0].className="",this.rtl&&f.addClass(this.toThemeProperty("jqx-rtl")),u.level>0&&!r.minimized?(f.addClass(this.toThemeProperty("jqx-item")),f.addClass(this.toThemeProperty("jqx-menu-item"))):(f.addClass(this.toThemeProperty("jqx-item")),f.addClass(this.toThemeProperty("jqx-menu-item-top")))));u.disabled&&(f.addClass(r.toThemeProperty("jqx-menu-item-disabled")),f.addClass(r.toThemeProperty("jqx-fill-state-disabled")));i&&!s&&(u.hasItems=f.find("li").length>0,u.hasItems&&u.element&&(n.jqx.aria(n(u.element),"aria-haspopup",!0),u.subMenuElement.id||(u.subMenuElement.id=n.jqx.utilities.createId()),n.jqx.aria(n(u.element),"aria-owns",u.subMenuElement.id)))}}},destroy:function(){var r,t,i;n.jqx.utilities.resize(this.host,null,!0);r=this.host.closest("div.jqx-menu-wrapper");r.remove();n("#menuWrapper"+this.element.id).remove();t=this;this.removeHandler(n(document),"mousedown.menu"+this.element.id,t._closeAfterClick);this.removeHandler(n(document),"mouseup.menu"+this.element.id,t._closeAfterClick);n.data(document.body,"jqxMenuOldHost"+this.element.id,null);this.isTouchDevice()&&this.removeHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,this._closeAfterClick,this);n(window).off&&n(window).off("resize.menu"+t.element.id);n.each(this.items,function(){var r=this,i=n(r.element),u,f;t.removeHandler(i,"click");t.removeHandler(i,"selectstart");t.removeHandler(i,"mouseenter");t.removeHandler(i,"mouseleave");t.removeHandler(i,"mousedown");t.removeHandler(i,"mouseleave");u=n(r.subMenuElement);f=u.closest("div.jqx-menu-popup");f.remove();delete this.subMenuElement;delete this.element});n.data(document.body,"menuel",null);delete this.menuElements;this.items=[];delete this.items;i=n.data(this.element,"jqxMenu");i&&delete i.instance;this.host.removeClass();this.host.remove();delete this.host;delete this.element},_raiseEvent:function(t,i){var u,r;return i==undefined&&(i={owner:null}),u=this.events[t],args=i,args.owner=this,r=new n.Event(u),t=="2"&&(args=i.item,args.owner=this,n.extend(r,i.event),r.type="itemclick"),r.owner=this,r.args=args,this.host.trigger(r)},propertyChangedHandler:function(t,i,r,u){var e,f;this.isInitialized!=undefined&&this.isInitialized!=!1&&(i=="disabled"&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),u!=r)&&(i=="touchMode"&&(this._isTouchDevice=null,t._render(u,r)),i=="source"&&t.source!=null&&(e=t.loadItems(t.source),t.element.innerHTML=e,f=t.host.find("ul:first"),f.length>0&&(t.refresh(),t._createMenu(f[0]),t._render())),i=="autoCloseOnClick"?u==!1?t.removeHandler(n(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(n(document),"mousedown.menu"+this.element.id,t,t._closeAll):i=="mode"||i=="width"||i=="height"||i=="showTopLevelArrows"?(t.refresh(),i=="mode"?t._render(u,r):t._applyOrientation()):i=="theme"&&n.jqx.utilities.setTheme(r,u,t.host))}})}(jqxBaseFramework),function(n){n.jqx._jqxMenu.jqxMenuItem=function(n,t,i){return{id:n,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}}}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxListBox","",{});n.extend(n.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:[],multiple:!1,selectedIndex:-1,selectedIndexes:[],source:null,scrollBarSize:n.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:[],groups:[],equalItemsWidth:!0,itemHeight:-1,visibleItems:[],emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",valueMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:[],emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]};n.extend(!0,this,t)},createInstance:function(){var t=this,i;n.jqx.utilities.scrollBarSize!=15&&(t.scrollBarSize=n.jqx.utilities.scrollBarSize);t.width==null&&(t.width=200);t.height==null&&(t.height=200);t.render();i=t;n.jqx.utilities.resize(t.host,function(){i._updateSize()},!1,t._checkForHiddenParent)},resize:function(n,t){this.width=n;this.height=t;this._updateSize()},render:function(){var t=this,f=t.element.nodeName.toLowerCase(),e,r,h,i,o,c,s,u,l,a;if((f=="select"||f=="ul"||f=="ol")&&(t.field=t.element,t.field.className&&(t._className=t.field.className),e={title:t.field.title},e.id=t.field.id.length?t.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":n.jqx.utilities.createId()+"_jqxListBox",r=n("<div><\/div>",e),t.width||(t.width=n(t.field).width()),t.height||(t.height=n(t.field).outerHeight()),n(t.field).hide().after(r),t.host=r,t.element=r[0],t.field.tabIndex&&(h=t.field.tabIndex,t.field.tabIndex=-1,t.element.tabIndex=h)),t.element.innerHTML="",t=t,i=t.element.className,i+=" "+t.toThemeProperty("jqx-listbox"),i+=" "+t.toThemeProperty("jqx-reset"),i+=" "+t.toThemeProperty("jqx-rc-all"),i+=" "+t.toThemeProperty("jqx-widget"),i+=" "+t.toThemeProperty("jqx-widget-content"),t.element.className=i,o=!1,t.width!=null&&t.width.toString().indexOf("%")!=-1&&(t.host.width(t.width),o=!0),t.height!=null&&t.height.toString().indexOf("%")!=-1&&(t.host.height(t.height),t.host.height()==0&&t.host.height(200),o=!0),t.width!=null&&t.width.toString().indexOf("px")!=-1?t.host.width(t.width):t.width==undefined||isNaN(t.width)||(t.element.style.width=parseInt(t.width)+"px"),t.height!=null&&t.height.toString().indexOf("px")!=-1?t.host.height(t.height):t.height==undefined||isNaN(t.height)||(t.element.style.height=parseInt(t.height)+"px"),t.multiple||t.multipleextended||t.checkboxes?n.jqx.aria(t,"aria-multiselectable",!0):n.jqx.aria(t,"aria-multiselectable",!1),c=n("<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+t.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/><\/div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/><\/div><\/div>"),t._checkForHiddenParent&&(t._addInput(),t.host.attr("tabIndex")||t.host.attr("tabIndex",1)),t.host.attr("role","listbox"),t.host.append(c),t.filter=t.host.find("#filter"+t.element.id),t.filterInput=t.filter.find("input"),t.filterInput.attr("placeholder",t.filterPlaceHolder),t.filterInput.addClass(t.toThemeProperty("jqx-widget jqx-input jqx-rc-all")),t.addHandler(t.filterInput,"keyup.textchange",function(n){n.keyCode==13?t._search(n):t.filterDelay>0&&(t._filterTimer&&clearTimeout(t._filterTimer),t._filterTimer=setTimeout(function(){t._search(n)},t.filterDelay));n.stopPropagation()}),s=t.host.find("#verticalScrollBar"+t.element.id),!t.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!s.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");u=parseInt(t.host.height())/2;u==0&&(u=10);t.vScrollBar=s.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:t.rtl,theme:t.theme,touchMode:t.touchMode,largestep:u});l=t.host.find("#horizontalScrollBar"+t.element.id);t.hScrollBar=l.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:t.rtl,touchMode:t.touchMode,theme:t.theme});t.content=t.host.find("#listBoxContent");t.content[0].id="listBoxContent"+t.element.id;t.bottomRight=t.host.find("#bottomRight").addClass(t.toThemeProperty("jqx-listbox-bottomright")).addClass(t.toThemeProperty("jqx-scrollbar-state-normal"));t.bottomRight[0].id="bottomRight"+t.element.id;t.vScrollInstance=n.data(t.vScrollBar[0],"jqxScrollBar").instance;t.hScrollInstance=n.data(t.hScrollBar[0],"jqxScrollBar").instance;t.isTouchDevice()&&(n.jqx.browser.msie&&n.jqx.browser.version<9||(a=n("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><\/div>"),t.content.parent().append(a),t.overlayContent=t.host.find(".overlay")));t._updateTouchScrolling();t.host.addClass("jqx-disableselect");t.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(n,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return n.replace(new RegExp("("+i+")","ig"),function(n,t){return"<b>"+t+"<\/b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name","");this.input=n("<input type='hidden'/>");this.host.append(this.input);this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this,i;this.isTouchDevice()&&(t.enableHover=!1,i=this.overlayContent?this.overlayContent:this.content,this.removeHandler(n(i),n.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(n(i),n.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(n(i),n.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(n(i),"touchcancel.touchScroll"),n.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(n,i){var r;t.vScrollBar.css("visibility")!="hidden"&&(r=t.vScrollInstance.value,t.vScrollInstance.setPosition(r+i),t._lastScroll=new Date);t.hScrollBar.css("visibility")!="hidden"&&(r=t.hScrollInstance.value,t.hScrollInstance.setPosition(r+n),t._lastScroll=new Date)},this.element.id,this.hScrollBar,this.vScrollBar),t.vScrollBar.css("visibility")!="visible"&&t.hScrollBar.css("visibility")!="visible"?n.jqx.mobile.setTouchScroll(!1,this.element.id):n.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange())},isTouchDevice:function(){var t=n.jqx.mobile.isTouchDevice();if(this.touchMode==!0){if(this.touchDevice)return!0;if(n.jqx.browser.msie&&n.jqx.browser.version<9)return!1;this.touchDevice=!0;t=!0;n.jqx.mobile.setMobileSimulator(this.element)}else this.touchMode==!1&&(t=!1);return t&&this.touchModeStyle!=!1&&(this.scrollBarSize=n.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1;this._addItems();this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1;this.vScrollInstance.value=0;this._render(!1)},propertyChangedHandler:function(t,i,r,u){var e,f;this.isInitialized!=undefined&&this.isInitialized!=!1&&(i=="filterable"&&t.refresh(),i=="filterHeight"&&t._arrange(),i=="filterPlaceHolder"&&t.filterInput.attr("placeholder",u),i=="renderer"&&(t._cachedItemHtml=[],t.refresh()),i=="itemHeight"&&t.refresh(),(i=="source"||i=="checkboxes")&&(u==null&&r&&r.unbindBindingUpdate&&(r.unbindBindingUpdate(t.element.id),r.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),(i=="scrollBarSize"||i=="equalItemsWidth")&&u!=r&&t._updatescrollbars(),i=="disabled"&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:u}),t.hScrollBar.jqxScrollBar({disabled:u})),(i=="touchMode"||i=="rtl")&&(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:u}),t.hScrollBar.jqxScrollBar({touchMode:u}),i=="touchMode"&&(n.jqx.browser.msie&&n.jqx.browser.version<9||(e=n("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><\/div>"),t.content.parent().append(e),t.overlayContent=t.host.find(".overlay"))),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)),this.updating||(i=="width"||i=="height")&&t._updateSize(),i=="theme"&&r!=u&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),i=="selectedIndex"&&(t.clearSelection(),t.selectIndex(u,!0)),(i=="displayMember"||i=="valueMember")&&(r!=u&&(f=t.selectedIndex,t.refresh(),t.selectedIndex=f,t.selectedIndexes[f]=f),t._renderItems()),i=="autoHeight"&&(r!=u?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&n.jqx.isHidden(t.host)&&n.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent))},loadFromSelect:function(t){var r,i;if(t!=null&&(r="#"+t,i=n(r),i.length>0)){var u=n.jqx.parseSourceTag(i[0]),f=u.items,e=u.index;this.source=f;this.fromSelect=!0;this.clearSelection();this.selectedIndex=e;this.selectedIndexes[this.selectedIndex]=this.selectedIndex;this.refresh()}},invalidate:function(){this._cachedItemHtml=[];this._renderItems();this.virtualSize=null;this._updateSize()},refresh:function(t){var i=this,r;if(this.vScrollBar!=undefined){if(this._cachedItemHtml=[],this.visibleItems=[],r=function(n){if(n==!0&&i.selectedIndex!=-1){var t=i.selectedIndex;i.selectedIndex=-1;i._stopEvents=!0;i.selectIndex(t,!1,!0);i.selectedIndex==-1&&(i.selectedIndex=t);i._stopEvents=!1}},this.itemswrapper!=null&&(this.itemswrapper.remove(),this.itemswrapper=null),n.jqx.dataAdapter&&this.source!=null&&this.source._source){this.databind(this.source,t);r(t);return}!this.autoBind&&(this.autoBind||t)||(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source));this._raiseEvent("6");this._render(!1,t==!0);r(t)}},loadSelectTag:function(){var t=n.jqx.parseSourceTag(this.field);this.source=t.items;this.selectedIndex==-1&&(this.selectedIndex=t.index)},_render:function(n){if(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=[],(n==undefined||n)&&this.items!=undefined&&this.items!=null&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())){this._removeHandlers();this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null);this._updateTouchScrolling();this._addHandlers();return}this._updateTouchScrolling();this.rendered&&this.rendered();this.ready&&this.ready()},_hitTest:function(n,t){var r,i,u;return(this.filterable&&(t-=this.filterHeight,t<0&&(t=0)),r=parseInt(this.vScrollInstance.value),i=this._searchFirstVisibleIndex(t+r,this.renderedVisibleItems),this.renderedVisibleItems[i]!=undefined&&this.renderedVisibleItems[i].isGroup)?null:this.renderedVisibleItems.length>0&&(u=this.renderedVisibleItems[this.renderedVisibleItems.length-1],u.height+u.top<t+r)?null:(i=this._searchFirstVisibleIndex(t+r),this.visibleItems[i])},_searchFirstVisibleIndex:function(n,t){var r,u,i;for(n==undefined&&(n=parseInt(this.vScrollInstance.value)),r=0,(t==undefined||t==null)&&(t=this.visibleItems),u=t.length;r<=u;){if(mid=parseInt((r+u)/2),i=t[mid],i==undefined)break;if(i.initialTop>n&&i.initialTop+i.height>n)u=mid-1;else if(i.initialTop<n&&i.initialTop+i.height<=n)r=mid+1;else return mid}return 0},_renderItems:function(){var b,k,s,it,w,f,r,rt,t,i,h,st,ht,d,ct,l,a,lt,u;if(this.items==undefined||this.items.length==0){this.visibleItems=[];return}if(this.updatingListBox!=!0){var at=this.isTouchDevice(),ut=this.vScrollInstance,g=this.hScrollInstance,v=parseInt(ut.value),y=parseInt(g.value);this.rtl&&this.hScrollBar[0].style.visibility!="hidden"&&(y=g.max-y);var kt=this.items.length,dt=this.host.width(),nt=parseInt(this.content[0].style.width),ft=nt+parseInt(g.max),vt=parseInt(this.vScrollBar[0].style.width)+2;this.vScrollBar[0].style.visibility=="hidden"&&(vt=0);this.hScrollBar[0].style.visibility!="visible"&&(ft=nt);var gt=this._getVirtualItemsCount(),p=[],tt=0,e=parseInt(this.element.style.height)+2;this.element.style.height.indexOf("%")!=-1&&(e=this.host.outerHeight());isNaN(e)&&(e=0);var o=0,et=0,yt=0;if(ut.value==0||this.visibleItems.length==0)for(f=0;f<this.items.length;f++)t=this.items[f],t.visible&&(t.top=-v,t.initialTop=-v,!t.isGroup&&t.visible&&(this.visibleItems[et++]=t,t.visibleIndex=et-1),this.renderedVisibleItems[yt++]=t,t.left=-y,w=t.top+t.height,w>=0&&t.top-t.height<=e&&(p[tt++]={index:f,item:t}),v-=t.height);for(b=v>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,k=0,tt=0,s=this.vScrollInstance.value,it=0;k<100+e;){if(t=this.renderedVisibleItems[b],t==undefined)break;if(t.visible&&(t.left=-y,w=t.top+t.height-s,w>=0&&t.initialTop-s-t.height<=2*e&&(p[tt++]={index:b,item:t})),b++,t.visible&&(k+=t.initialTop-s+t.height-k),it++,it>this.items.length-1)break}var pt=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),wt=this.toThemeProperty("jqx-listitem-state-group"),bt=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),c=0,ot=this;for(f=0;f<this.visualItems.length;f++)if(r=this.visualItems[f],rt=function(){var n=r[0].firstChild,t;ot.checkboxes&&(n=r[0].lastChild);n!=null&&(n.style.visibility="hidden",n.className="");ot.checkboxes&&(t=r.find(".chkbox"),t.css({visibility:"hidden"}))},f<p.length){if(t=p[f].item,t.initialTop-s>=e){rt();continue}if(i=n(r[0].firstChild),this.checkboxes&&(i=n(r[0].lastChild)),i.length==0)continue;if(i[0]==null)continue;i[0].className="";i[0].style.display="block";i[0].style.visibility="inherit";h="";h=!t.isGroup&&!this.selectedIndexes[t.index]>=0?pt:wt;(t.disabled||this.disabled)&&(h+=" "+bt);this.roundedcorners&&(h+=" "+this.toThemeProperty("jqx-rc-all"));at&&(h+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch"));i[0].className=h;this.renderer?(t.key||(t.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=[]),this._cachedItemHtml[t.key]?i[0].innerHTML!=this._cachedItemHtml[t.key]&&(i[0].innerHTML=this._cachedItemHtml[t.key]):(st=this.renderer(t.index,t.label,t.value),i[0].innerHTML=st,this._cachedItemHtml[t.key]=i[0].innerHTML)):(this.itemHeight!==-1&&(ht=2+2*parseInt(i.css("padding-top")),i[0].style.lineHeight=t.height-ht+"px",i.css("vertical-align","middle")),t.html!=null&&t.html.toString().length>0?i[0].innerHTML=t.html:t.label!=null||t.value!=null?t.label!=null?(i[0].innerHTML!==t.label&&(i[0].innerHTML=t.label),n.trim(t.label)==""&&(i[0].innerHTML=this.emptyString,this.emptyString==""&&(i[0].style.height=t.height-8+"px")),this.incrementalSearch||t.disabled||this.searchString!=undefined&&this.searchString!=""&&(i[0].innerHTML=this._highlight(t.label.toString(),this.searchString))):t.label===null?(i[0].innerHTML=this.emptyString,this.emptyString==""&&(i[0].style.height=t.height-8+"px")):i[0].innerHTML!==t.value?i[0].innerHTML=t.value:t.label==""&&(i[0].innerHTML=" "):(t.label==""||t.label==null)&&(i[0].innerHTML="",i[0].style.height=t.height-8+"px"));r[0].style.left=t.left+"px";r[0].style.top=t.initialTop-s+"px";t.element=i[0];t.title&&(i[0].title=t.title);this.equalItemsWidth&&!t.isGroup?(o==0&&(d=parseInt(ft),ct=parseInt(i.outerWidth())-parseInt(i.width()),d-=ct,l=1,l=l!=null?parseInt(l):0,d-=2*l,o=d,this.checkboxes&&this.hScrollBar[0].style.visibility=="hidden"&&(o-=18)),nt>this.virtualSize.width?(i[0].style.width=o+"px",t.width=o):(i[0].style.width=-4+this.virtualSize.width+"px",t.width=this.virtualSize.width-4)):i.width()<this.host.width()&&i.width(this.host.width()-2);this.rtl&&(i[0].style.textAlign="right");this.autoItemsHeight&&(i[0].style.whiteSpace="normal",i.width(o),t.width=o);c=0;this.checkboxes&&!t.isGroup?(c==0&&(c=(t.height-16)/2,c++),u=n(r.children()[0]),u[0].item=t,this.rtl?i[0].style.left!="0px"&&(i[0].style.left="0px"):i[0].style.left!="18px"&&(i[0].style.left="18px"),this.rtl&&u.css("left",8+t.width+"px"),u[0].style.top=c+"px",u[0].style.display="block",u[0].style.visibility="inherit",a=t.checked,lt=t.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"",u[0].firstChild&&u[0].firstChild.firstChild&&u[0].firstChild.firstChild.firstChild&&u[0].firstChild.firstChild&&(a?u[0].firstChild.firstChild.firstChild.className=lt:a===!1?u[0].firstChild.firstChild.firstChild.className="":a===null&&(u[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),n.jqx.ariaEnabled&&(a?r[0].setAttribute("aria-selected",!0):r[0].removeAttribute("aria-selected"))):this.checkboxes&&(u=n(r.children()[0]),u.css({display:"none",visibility:"inherit"}));!t.disabled&&(!this.filterable&&this.selectedIndexes[t.visibleIndex]>=0||t.selected&&this.filterable)?(i.addClass(this.toThemeProperty("jqx-listitem-state-selected")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),n.jqx.ariaEnabled&&(r[0].setAttribute("aria-selected",!0),this._activeElement=r[0])):this.checkboxes||n.jqx.ariaEnabled&&r[0].removeAttribute("aria-selected")}else rt()}},generatekey:function(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},_calculateVirtualSize:function(){var c=0,e=2,f=0,i=n("<span><\/span>"),s,p,l,h,k,w,t,r,a,o;if(this.equalItemsWidth&&i.css("float","left"),s=0,p=this.host.outerHeight(),n(document.body).append(i),l=this.items.length,h=this.host.width(),this.autoItemsHeight&&(h-=10,this.vScrollBar.css("visibility")!="hidden"&&(h-=20)),this.autoItemsHeight||this.renderer||this.groups.length>1||l>0&&this.items[0].html!=null&&this.items[0].html!="")for(f=0;f<l;f++)(t=this.items[f],t.isGroup&&t.label==""&&t.html=="")||t.visible&&(r="",r+=t.isGroup?this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),r+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(r+=" "+this.toThemeProperty("jqx-touch")),i[0].className=r,this.autoItemsHeight&&(i[0].style.whiteSpace="normal",a=this.checkboxes?-20:0,i[0].style.width=a+h+"px"),this.renderer?(k=this.renderer(t.index,t.label,t.value),i[0].innerHTML=k):t.html!=null&&t.html.toString().length>0?i[0].innerHTML=t.html:(t.label!=null||t.value!=null)&&(t.label!=null?(i[0].innerHTML=t.label,t.label==""&&(i[0].innerHTML="Empty")):i[0].innerHTML=t.value),o=i.outerHeight(),w=i.outerWidth(),this.itemHeight>-1&&(o=this.itemHeight),t.height=o,t.width=w,e+=o,c=Math.max(c,w),e<=p&&s++);else{var e=0,b=0,v="",u=0,y=0,d=-1;for(f=0;f<l;f++)(t=this.items[f],t.isGroup&&t.label==""&&t.html=="")||t.visible&&(d++,r="",d==0&&(r+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),r+=" "+this.toThemeProperty("jqx-fill-state-normal"),r+=" "+this.toThemeProperty("jqx-widget"),r+=" "+this.toThemeProperty("jqx-listbox"),r+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(r+=" "+this.toThemeProperty("jqx-touch"),r+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),i[0].className=r,this.autoItemsHeight&&(i[0].style.whiteSpace="normal",a=this.checkboxes?-20:0,i[0].style.width=a+h+"px"),t.html==null||t.label==""||t.label==null?i[0].innerHTML="Item":t.html!=null&&t.html.toString().length>0?i[0].innerHTML=t.html:(t.label!=null||t.value!=null)&&(i[0].innerHTML=t.label!=null?t.label.toString().match(new RegExp("\\w"))!=null||t.label.toString().match(new RegExp("\\d"))!=null?t.label:"Item":t.value),o=1+i.outerHeight(),this.itemHeight>-1&&(o=this.itemHeight),b=o),u!=undefined&&(y=u),t.html!=null&&t.html.toString().length>0?(u=Math.max(u,t.html.toString().length),y!=u&&(v=t.html)):t.label!=null?(u=Math.max(u,t.label.length),y!=u&&(v=t.label)):t.value!=null&&(u=Math.max(u,t.value.length),y!=u&&(v=t.value)),t.height=b,e+=b,e<=p&&s++);i[0].innerHTML=v;c=i.outerWidth()}return e+=2,s<10&&(s=10),this.filterable&&(e+=this.filterHeight),i.remove(),{width:c,height:e,itemsPerPage:s}},_getVirtualItemsCount:function(){if(this.virtualItemsCount==0){var n=parseInt(this.host.height())/5;return n>this.items.length&&(n=this.items.length),n}return this.virtualItemsCount},_addItems:function(t){var i=this,a,l,p,h,w,b,u,s,e,g,k,r,f,c;if(i.updatingListBox!=!0){if(i.items==undefined||i.items.length==0){i.virtualSize={width:0,height:0,itemsPerPage:0};i._updatescrollbars();i.renderedVisibleItems=[];i.itemswrapper&&i.itemswrapper.children().remove();return}if(t==!1){r=i._calculateVirtualSize();f=r.itemsPerPage*2;i.autoHeight&&(f=i.items.length);i.virtualItemsCount=Math.min(f,i.items.length);c=r.width;i.virtualSize=r;i._updatescrollbars();return}a=this;l=0;i.visibleItems=[];i.renderedVisibleItems=[];i._removeHandlers();i.allowDrag&&i._enableDragDrop&&(i.itemswrapper=null);i.itemswrapper==null&&(i.content[0].innerHTML="",i.itemswrapper=n('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"><\/div>'),i.itemswrapper.height(2*i.host.height()),i.content.append(i.itemswrapper));r=i._calculateVirtualSize();f=r.itemsPerPage*2;i.autoHeight&&(f=i.items.length);i.virtualItemsCount=Math.min(f,i.items.length);i=this;c=r.width;i.virtualSize=r;i.itemswrapper.width(Math.max(i.host.width(),17+r.width));var v=0,o="",d=n.jqx.browser.msie&&n.jqx.browser.version<9,y=d?' unselectable="on"':"";for(u=v;u<i.virtualItemsCount;u++)s=i.items[u],p="listitem"+u+i.element.id,o+="<div"+y+" role='option' id='"+p+"' class='jqx-listitem-element'>",i.checkboxes&&(o+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">',h='<div class="'+i.toThemeProperty("jqx-checkbox-default")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',w=s.checked?" "+i.toThemeProperty("jqx-checkbox-check-checked"):"",h+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+w+'"><\/span>',h+="<\/div><\/div>",o+=h,o+="<\/div>"),o+="<span"+y+" style='-ms-touch-action: none;'><\/span><\/div>";for(a.WinJS?i.itemswrapper.html(o):i.itemswrapper[0].innerHTML=o,b=i.itemswrapper.children(),u=v;u<i.virtualItemsCount;u++)s=i.items[u],e=n(b[u]),i.allowDrag&&i._enableDragDrop&&e.addClass("draggable"),i.checkboxes&&(g=n(e.children()[0]),e.css("float","left"),k=n(e[0].firstChild),k.css("float","left")),e[0].style.height=s.height+"px",e[0].style.top=l+"px",l+=s.height,i.visualItems[u]=e;i._addHandlers();i._updatescrollbars();i.autoItemsHeight&&(r=i._calculateVirtualSize(),f=r.itemsPerPage*2,i.autoHeight&&(f=i.items.length),i.virtualItemsCount=Math.min(f,i.items.length),i=this,c=r.width,i.virtualSize=r,i._updatescrollbars());n.jqx.browser.msie&&n.jqx.browser.version<8&&(i.host.attr("hideFocus",!0),i.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var t=this,a,e,o,v,y;if(t.virtualSize){var s=t.virtualSize.height,r=t.virtualSize.width,i=t.vScrollInstance,u=t.hScrollInstance;t._arrange(!1);var f=!1,h=t.host.outerWidth(),c=t.host.outerHeight(),l=0;r>h&&(l=t.hScrollBar.outerHeight()+2);s+l>c?(a=i.max,i.max=2+parseInt(s)+l-parseInt(c-2),t.vScrollBar[0].style.visibility!="inherit"&&(t.vScrollBar[0].style.visibility="inherit",f=!0),a!=i.max&&i._arrange()):t.vScrollBar[0].style.visibility!="hidden"&&(t.vScrollBar[0].style.visibility="hidden",f=!0,i.setPosition(0));e=0;t.vScrollBar[0].style.visibility!="hidden"&&(e=t.scrollBarSize+6);o=t.checkboxes?20:0;t.autoItemsHeight?t.hScrollBar[0].style.visibility="hidden":r>=h-e-o?(v=u.max,u.max=t.vScrollBar[0].style.visibility=="inherit"?o+e+parseInt(r)-t.host.width()+4:o+parseInt(r)-t.host.width()+6,t.hScrollBar[0].style.visibility!="inherit"&&(t.hScrollBar[0].style.visibility="inherit",f=!0),v!=u.max&&u._arrange(),t.vScrollBar[0].style.visibility=="inherit"&&(i.max=2+parseInt(s)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))):t.hScrollBar[0].style.visibility!="hidden"&&(t.hScrollBar[0].style.visibility="hidden",f=!0);u.setPosition(0);f&&t._arrange();t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(h-2,17+r))+"px",t.itemswrapper[0].style.height=Math.max(0,2*c)+"px");y=t.isTouchDevice();y&&(t.vScrollBar.css("visibility")!="visible"&&t.hScrollBar.css("visibility")!="visible"?n.jqx.mobile.setTouchScroll(!1,t.element.id):n.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null;this.clearSelection();this.refresh()},clearSelection:function(n){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&this.selectedIndexes[t]!=-1&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1;this.selectedValue=null;this.selectedValues=[];n!=!1&&this._renderItems()},unselectIndex:function(n,t){var r,i,n;if(!isNaN(n)){for(this.selectedIndexes[n]=-1,r=!1,i=0;i<this.selectedIndexes.length;i++)n=this.selectedIndexes[i],n!=-1&&n!=undefined&&(r=!0);r||(this.selectedValue=null,this.selectedIndex=-1,this.selectedValues[this.getVisibleItem(n).value]&&(this.selectedValues[this.getVisibleItem(n).value]=null));(t==undefined||t==!0)&&(this._renderItems(),this._raiseEvent("1",{index:n,type:"api",item:this.getVisibleItem(n),originalEvent:null}));this._updateInputSelection();this._raiseEvent("2",{index:n,type:"api",item:this.getItem(n)})}},getItem:function(t){if(t==-1||isNaN(t)||typeof t=="string")return t===-1?null:this.getItemByValue(t);var i=null,r=n.each(this.items,function(){if(this.index==t)return i=this,!1});return i},getVisibleItem:function(n){return n==-1||isNaN(n)||typeof n=="string"?n===-1?null:this.getItemByValue(n):this.visibleItems[n]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,r){var u,f;this.checkboxes&&(isNaN(t)||t<0||t>=this.visibleItems.length||this.visibleItems[t]!=null&&this.visibleItems[t].disabled||this.disabled||(u=this.getItem(t),this.groups.length>0&&(u=this.getVisibleItem(t)),u!=null&&(f=n(u.checkBoxElement),u.checked=!0,(i==undefined||i==!0)&&this._updateCheckedItems()),(r==undefined||r==!0)&&this._raiseEvent(3,{label:u.label,value:u.value,checked:!0,item:u})))},getCheckedItems:function(){if(!this.checkboxes)return null;var t=[];if(this.items!=undefined)return n.each(this.items,function(){this.checked&&(t[t.length]=this)}),t},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;n.each(this.items,function(){var n=this;t!==!1&&n.checked!==!0&&i._raiseEvent(3,{label:n.label,value:n.value,checked:!0,item:n});this.checked=!0});this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;n.each(this.items,function(){var n=this;t!==!1&&n.checked!==!1&&(this.checked=!1,i._raiseEvent(3,{label:n.label,value:n.value,checked:!1,item:n}));this.checked=!1});this._updateCheckedItems()}},uncheckIndex:function(t,i,r){var u,f;this.checkboxes&&(isNaN(t)||t<0||t>=this.visibleItems.length||this.visibleItems[t]!=null&&this.visibleItems[t].disabled||this.disabled||(u=this.getItem(t),this.groups.length>0&&(u=this.getVisibleItem(t)),u!=null&&(f=n(u.checkBoxElement),u.checked=!1,(i==undefined||i==!0)&&this._updateCheckedItems()),(r==undefined||r==!0)&&this._raiseEvent(3,{label:u.label,value:u.value,checked:!1,item:u})))},indeterminateIndex:function(t,i,r){var u,f;this.checkboxes&&(isNaN(t)||t<0||t>=this.visibleItems.length||this.visibleItems[t]!=null&&this.visibleItems[t].disabled||this.disabled||(u=this.getItem(t),this.groups.length>0&&(u=this.getVisibleItem(t)),u!=null&&(f=n(u.checkBoxElement),u.checked=null,(i==undefined||i==!0)&&this._updateCheckedItems()),(r==undefined||r==!0)&&this._raiseEvent(3,{checked:null})))},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var r=this.getVisibleItems(),t=this.selectedIndexes,n=[];for(var i in t)t[i]!=-1&&(n[n.length]=r[i]);return n},getSelectedItem:function(){return this.getItem(this.selectedIndex)},_updateCheckedItems:function(){var i=this.selectedIndex,r,t;this.clearSelection(!1);r=this.getCheckedItems();this.selectedIndex=i;this._renderItems();t=n.data(this.element,"hoveredItem");t!=null&&(n(t).addClass(this.toThemeProperty("jqx-listitem-state-hover")),n(t).addClass(this.toThemeProperty("jqx-fill-state-hover")));this._updateInputSelection()},getItemByValue:function(t){var r,i;if(this.visibleItems!=null){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[n.trim(t).split(" ").join("")];for(r=this.visibleItems,i=0;i<r.length;i++)if(r[i].value==t)return r[i]}},checkItem:function(n){if(n!=null){var t=this._getItemByParam(n);return this.checkIndex(t.index,!0)}return!1},uncheckItem:function(n){if(n!=null){var t=this._getItemByParam(n);return this.uncheckIndex(t.index,!0)}return!1},indeterminateItem:function(n){if(n!=null){var t=this._getItemByParam(n);return this.indeterminateIndex(t.index,!0)}return!1},val:function(n){var i,t;if(this.input)return(i=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return typeof n=="number"?!1:typeof n=="date"?!1:typeof n=="boolean"?!1:typeof n=="string"?!1:!0},i(n)||arguments.length==0)?this.input.val():(t=this.getItemByValue(n),t!=null&&this.selectItem(t),this.input?this.input.val():void 0)},selectItem:function(n){if(n!=null){if(n.index==undefined){var t=this.getItemByValue(n);t&&(n=t)}return this.selectIndex(n.visibleIndex,!0)}return!1},unselectItem:function(n){if(n!=null){if(n.index==undefined){var t=this.getItemByValue(n);t&&(n=t)}return this.unselectIndex(n.visibleIndex,!0)}return!1},selectIndex:function(n,t,i,r,u,f){var l,s,o,h,y,p,c;if(!isNaN(n)&&(this.filterable&&(this.selectedIndex=-1),!(n<-1)&&!(n>=this.visibleItems.length))&&(this.visibleItems[n]==null||!this.visibleItems[n].disabled)&&!this.disabled){if(!this.multiple&&!this.multipleextended&&this.selectedIndex==n&&!r){this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(o=this.getVisibleItem(n),o&&(this.selectedValue=o.value,this.selectedValues[o.value]=o.value));return}if(this.checkboxes){this._updateCheckedItems();return}if(this.focused=!0,l=!1,this.selectedIndex!=n&&(l=!0),s=this.selectedIndex,this.selectedIndex!=n||this.multiple||(s=-1),u==undefined&&(u="none"),o=this.getItem(n),h=this.getItem(s),this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(o=this.getVisibleItem(n),h=this.getVisibleItem(s)),r!=undefined&&r)this._raiseEvent("1",{index:s,type:u,item:h,originalEvent:f}),this.selectedIndex=n,this.selectedIndexes[s]=-1,this.selectedIndexes[n]=n,o&&(this.selectedValue=o.value,this.selectedValues[o.value]=o.value),this._raiseEvent("0",{index:n,type:u,item:o,originalEvent:f});else{var e=this,v=function(n,t,i,r,u,f){e._raiseEvent("1",{index:t,type:i,item:r,originalEvent:f});e.selectedIndex=n;e.selectedIndexes=[];t=n;e.selectedIndexes[n]=n;e.selectedValues=[];u&&(e.selectedValues[u.value]=u.value);e._raiseEvent("0",{index:n,type:i,item:u,originalEvent:f})},a=function(n,t,i,r,u,f){e.selectedIndexes[n]==undefined||e.selectedIndexes[n]==-1?(e.selectedIndexes[n]=n,e.selectedIndex=n,u&&(e.selectedValues[u.value]=u.value,e._raiseEvent("0",{index:n,type:i,item:u,originalEvent:f}))):(t=e.selectedIndexes[n],r=e.getVisibleItem(t),r&&(e.selectedValues[r.value]=null),e.selectedIndexes[n]=-1,e.selectedIndex=-1,e._raiseEvent("1",{index:t,type:i,item:r,originalEvent:f}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)u=="keyboard"&&(this.clearSelection(!1),e._clickedIndex=n),a(n,s,u,h,o,f);else if(this._shiftKey){for(e._clickedIndex==undefined&&(e._clickedIndex=s),y=Math.min(e._clickedIndex,n),p=Math.max(e._clickedIndex,n),this.clearSelection(!1),c=y;c<=p;c++)e.selectedIndexes[c]=c,e.selectedValues[e.getVisibleItem(c).value]=e.getVisibleItem(c).value,e._raiseEvent("0",{index:c,type:u,item:this.getVisibleItem(c),originalEvent:f});e.selectedIndex=u!="keyboard"?e._clickedIndex:n}}else u!="keyboard"&&u!="mouse"?(a(n,s,u,h,o,f),e._clickedIndex=n):(this.clearSelection(!1),e._clickedIndex=n,v(n,s,u,h,o,f));else this.multiple?a(n,s,u,h,o,f):(o&&(this.selectedValue=o.value),v(n,s,u,h,o,f))}return(i==undefined||i==!0)&&this._renderItems(),t!=undefined&&t!=null&&t==!0&&this.ensureVisible(n),this._raiseEvent("2",{index:n,item:o,oldItem:h,type:u,originalEvent:f}),this._updateInputSelection(),l}},_updateInputSelection:function(){var r,t,u,i;if(this._syncSelection(),r=[],this.input&&(this.selectedIndex==-1?this.input.val(""):this.items&&this.items[this.selectedIndex]!=undefined&&(this.input.val(this.items[this.selectedIndex].value),r.push(this.items[this.selectedIndex].value)),(this.multiple||this.multipleextended||this.checkboxes)&&(t=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),u="",t))){for(i=0;i<t.length;i++)undefined!=t[i]&&(u+=i==t.length-1?t[i].value:t[i].value+",",r.push(t[i].value));this.input.val(u)}this.field&&this.input&&(this.field.nodeName.toLowerCase()=="select"?n.each(this.field,function(){n(this).removeAttr("selected");this.selected=r.indexOf(this.value)>=0;this.selected&&n(this).attr("selected",!0)}):n.each(this.items,function(){n(this.originalItem.originalItem).removeAttr("data-selected");this.selected=r.indexOf(this.value)>=0;this.selected&&n(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(n){var t,i,r,u;return isNaN(n)?!1:this.items?n<0||n>=this.items.length?!1:(t=this.vScrollInstance.value,this.filterable&&(t-=this.filterHeight),i=this.visibleItems[n],i==undefined)?!0:(r=i.initialTop,u=i.height,r-t<0||r-t+u>=this.host.outerHeight())?!1:!0:!1},_itemsInPage:function(){var t=0,i=this;return this.items&&n.each(this.items,function(){if(this.initialTop+this.height>=i.content.height())return!1;t++}),t},_firstItemIndex:function(){return this.visibleItems!=null?this.visibleItems[0]?this.visibleItems[0].isGroup?this._nextItemIndex(0):0:0:-1},_lastItemIndex:function(){return this.visibleItems!=null?this.visibleItems[this.visibleItems.length-1]?this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:this.visibleItems.length-1:-1},_nextItemIndex:function(n){for(indx=n+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(n){for(indx=n-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_search:function(n){var t=this,i=t.filterInput.val();if(n.keyCode!=9&&t.searchMode!="none"&&t.searchMode!=null&&t.searchMode!="undefined"&&n.keyCode!=16&&n.keyCode!=17&&n.keyCode!=20){if(n.keyCode==37||n.keyCode==39)return!1;n.altKey||n.keyCode==18||n.keyCode>=33&&n.keyCode<=40||(n.ctrlKey||t.ctrlKey)&&n.keyCode!=88&&n.keyCode!=86||i!==t.searchString&&t._updateItemsVisibility(i)}},_updateItemsVisibility:function(t){var f=this.getItems(),u,e,t,r;if(f==undefined)return{index:-1,matchItem:[]};var i=this,o=-1,s=[],h=0;for(n.each(f,function(){var u="",r;if(!this.isGroup){u=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";u=u.toString();r=!1;switch(i.searchMode){case"containsignorecase":r=n.jqx.string.containsIgnoreCase(u,t);break;case"contains":r=n.jqx.string.contains(u,t);break;case"equals":r=n.jqx.string.equals(u,t);break;case"equalsignorecase":r=n.jqx.string.equalsIgnoreCase(u,t);break;case"startswith":r=n.jqx.string.startsWith(u,t);break;case"startswithignorecase":r=n.jqx.string.startsWithIgnoreCase(u,t);break;case"endswith":r=n.jqx.string.endsWith(u,t);break;case"endswithignorecase":r=n.jqx.string.endsWithIgnoreCase(u,t)}r||(this.visible=!1);r&&(s[h++]=this,this.visible=!0,o=this.visibleIndex);t==""&&(this.visible=!0,r=!1)}}),i.renderedVisibleItems=[],i.visibleItems=[],i.vScrollInstance.setPosition(0,!0),i._addItems(!1),i._renderItems(),u=0;u<i.items.length;u++)i.selectedIndexes[u]=-1;i.selectedIndex=-1;for(e in i.selectedValues)t=i.selectedValues[e],r=i.getItemByValue(t),r&&r.visible&&(i.selectedIndex=r.visibleIndex,i.selectedIndexes[r.visibleIndex]=r.visibleIndex);i._syncSelection()},_getMatches:function(t,i){if(t==undefined||t.length==0)return-1;i==undefined&&(i=0);var u=this.getItems(),f=this,r=-1;return n.each(u,function(){var e="",u;if(!this.isGroup){e=this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";u=!1;switch(f.searchMode){case"containsignorecase":u=n.jqx.string.containsIgnoreCase(e,t);break;case"contains":u=n.jqx.string.contains(e,t);break;case"equals":u=n.jqx.string.equals(e,t);break;case"equalsignorecase":u=n.jqx.string.equalsIgnoreCase(e,t);break;case"startswith":u=n.jqx.string.startsWith(e,t);break;case"startswithignorecase":u=n.jqx.string.startsWithIgnoreCase(e,t);break;case"endswith":u=n.jqx.string.endsWith(e,t);break;case"endswithignorecase":u=n.jqx.string.endsWithIgnoreCase(e,t)}if(u&&this.visibleIndex>=i)return r=this.visibleIndex,!1}}),r},findItems:function(t){var r=this.getItems(),u=this,f=0,i=[];return n.each(r,function(){var e="",r;if(!this.isGroup){e=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";r=!1;switch(u.searchMode){case"containsignorecase":r=n.jqx.string.containsIgnoreCase(e,t);break;case"contains":r=n.jqx.string.contains(e,t);break;case"equals":r=n.jqx.string.equals(e,t);break;case"equalsignorecase":r=n.jqx.string.equalsIgnoreCase(e,t);break;case"startswith":r=n.jqx.string.startsWith(e,t);break;case"startswithignorecase":r=n.jqx.string.startsWithIgnoreCase(e,t);break;case"endswith":r=n.jqx.string.endsWith(e,t);break;case"endswithignorecase":r=n.jqx.string.endsWithIgnoreCase(e,t)}r&&(i[f++]=this)}}),i},_syncSelection:function(){var n=this,t,i;if(n.filterable){for(t=0;t<n.items.length;t++)i=n.items[t],i.selected=!1;for(t=0;t<n.visibleItems.length;t++)i=n.visibleItems[t],n.selectedIndexes&&n.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0);n.itemswrapper&&n._renderItems()}},_handleKeyDown:function(n){var i=n.keyCode,t=this,l=t.selectedIndex,a=t.selectedIndex,u,r,h,s,y,c,e,f,p;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||n.target!=this.filterInput[0])){if(u=function(){t.multiple&&t.clearSelection(!1)},n.altKey&&(i=-1),t.incrementalSearch){r=-1;t._searchString||(t._searchString="");(i==8||i==46)&&t._searchString.length>=1&&(t._searchString=t._searchString.substr(0,t._searchString.length-1));var o=String.fromCharCode(i),w=!isNaN(parseInt(o)),v=!1;if((i>=65&&i<=97||w||i==8||i==32||i==46)&&(n.shiftKey||(o=o.toLocaleLowerCase()),h=1+t.selectedIndex,i!=8&&i!=32&&i!=46&&(t._searchString.length>0&&t._searchString.substr(0,1)==o?h=1+t.selectedIndex:t._searchString+=o),i==32&&(t._searchString+=" "),s=this._getMatches(t._searchString,h),r=s,(r==t._lastMatchIndex||r==-1)&&(s=this._getMatches(t._searchString,0),r=s),t._lastMatchIndex=r,r>=0&&(y=function(){u();t.selectIndex(r,!1,!1,!1,"keyboard",n);var i=t.isIndexInView(r);i?t._renderItems():t.ensureVisible(r)},t._toSelectTimer&&clearTimeout(t._toSelectTimer),t._toSelectTimer=setTimeout(function(){y()},t.incrementalSearchKeyDownDelay)),v=!0),t._searchTimer!=undefined&&clearTimeout(t._searchTimer),(i==27||i==13)&&(t._searchString=""),t._searchTimer=setTimeout(function(){t._searchString="";t._renderItems()},t.incrementalSearchDelay),r>=0)return;if(v)return!1}if(this.checkboxes)return!0;if(i==33&&(e=t._itemsInPage(),t.selectedIndex-e>=0?(u(),t.selectIndex(a-e,!1,!1,!1,"keyboard",n)):(u(),t.selectIndex(t._firstItemIndex(),!1,!1,!1,"keyboard",n)),t._searchString=""),i==32&&this.checkboxes&&(c=this.getItem(l),c!=null&&(t._updateItemCheck(c,l),n.preventDefault()),t._searchString=""),i==36&&(u(),t.selectIndex(t._firstItemIndex(),!1,!1,!1,"keyboard",n),t._searchString=""),i==35&&(u(),t.selectIndex(t._lastItemIndex(),!1,!1,!1,"keyboard",n),t._searchString=""),i==34&&(e=t._itemsInPage(),t.selectedIndex+e<t.visibleItems.length?(u(),t.selectIndex(a+e,!1,!1,!1,"keyboard",n)):(u(),t.selectIndex(t._lastItemIndex(),!1,!1,!1,"keyboard",n)),t._searchString=""),i==38)if(t._searchString="",t.selectedIndex>0)if(f=t._prevItemIndex(t.selectedIndex),f!=t.selectedIndex&&f!=-1)u(),t.selectIndex(f,!1,!1,!1,"keyboard",n);else return!0;else return!1;else if(i==40)if(t._searchString="",t.selectedIndex+1<t.visibleItems.length)if(f=t._nextItemIndex(t.selectedIndex),f!=t.selectedIndex&&f!=-1)u(),t.selectIndex(f,!1,!1,!1,"keyboard",n);else return!0;else return!1;return i==35||i==36||i==38||i==40||i==34||i==33?(p=t.isIndexInView(t.selectedIndex),p?t._renderItems():t.ensureVisible(t.selectedIndex),!1):!0}},_updateItemCheck:function(n,t){if(!this.disabled){n.checked=n.checked==!0?n.hasThreeStates&&this.hasThreeStates?null:!1:n.checked!=null;switch(n.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}}},wheel:function(n,t){var r,i;if(t.autoHeight||!t.enableMouseWheel)return n.returnValue=!0,!0;if(t.disabled)return!0;if(r=0,n||(n=window.event),n.originalEvent&&n.originalEvent.wheelDelta&&(n.wheelDelta=n.originalEvent.wheelDelta),n.wheelDelta?r=n.wheelDelta/120:n.detail&&(r=-n.detail/3),r)return i=t._handleDelta(r),i&&(n.preventDefault&&n.preventDefault(),n.originalEvent!=null&&(n.originalEvent.mouseHandled=!0),n.stopPropagation!=undefined&&n.stopPropagation()),i?(i=!1,n.returnValue=i,i):!1;n.preventDefault&&n.preventDefault();n.returnValue=!1},_handleDelta:function(n){var i=this.vScrollInstance.value,t;return(n<0?this.scrollDown():this.scrollUp(),t=this.vScrollInstance.value,i!=t)?!0:!1},focus:function(){try{this.focused=!0;this.host.focus();var n=this;setTimeout(function(){n.host.focus()},10)}catch(t){}},_removeHandlers:function(){var t=this;this.removeHandler(n(document),"keydown.listbox"+this.element.id);this.removeHandler(n(document),"keyup.listbox"+this.element.id);this.removeHandler(this.vScrollBar,"valueChanged");this.removeHandler(this.hScrollBar,"valueChanged");this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel");this.removeHandler(this.host,"keydown");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"focus");this.removeHandler(this.content,"blur");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.content,"mouseenter");this.removeHandler(this.content,"mouseup");this.removeHandler(this.content,"mousedown");this.removeHandler(this.content,"touchend");this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove");this.removeHandler(this.content,"selectstart");this.overlayContent&&this.removeHandler(this.overlayContent,n.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){var n,i,t;this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());n=this;n._arrange();(n.host.height()!=n._oldheight||n.host.width()!=n._oldwidth)&&(i=n.host.width()!=n._oldwidth,n.autoItemsHeight?n._render(!1):n.items&&(n.items.length>0&&n.virtualItemsCount*n.items[0].height<n._oldheight-2?n._render(!1):(t=n.vScrollInstance.value,n._updatescrollbars(),n._renderItems(),t<n.vScrollInstance.max?n.vScrollInstance.setPosition(t):n.vScrollInstance.setPosition(n.vScrollInstance.max))),n._oldwidth=n.host.width(),n._oldheight=n.host.height())},_addHandlers:function(){var t=this,f,i,u;this.focused=!1;var o=0,o=0,s=new Date,u=this.isTouchDevice();if(this.addHandler(this.vScrollBar,"valueChanged",function(){n.jqx.browser.msie&&n.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(n){t.wheel(n,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(n(document),"keydown.listbox"+this.element.id,function(n){t._ctrlKey=n.ctrlKey;t._shiftKey=n.shiftKey}),this.addHandler(n(document),"keyup.listbox"+this.element.id,function(n){t._ctrlKey=n.ctrlKey;t._shiftKey=n.shiftKey}),this.addHandler(this.host,"keydown",function(n){return t._handleKeyDown(n)}),this.addHandler(this.content,"mouseleave",function(){t.focused=!1;var i=n.data(t.element,"hoveredItem");i!=null&&(n(i).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),n(i).removeClass(t.toThemeProperty("jqx-fill-state-hover")),n.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(){t.focused=!1;t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(){n.jqx.browser.msie&&n.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(){t.focused=!0}),f=n.jqx.utilities.hasTransform(this.host),this.enableSelection){var r=t.isTouchDevice()&&this.touchMode!==!0,e=r?"touchend":"mousedown",h=r?"touchend":"mouseup";this.overlayContent?this.addHandler(this.overlayContent,n.jqx.mobile.getTouchEventName("touchend"),function(i){var s,f,u;if(!t.enableSelection||r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;if(s=n.jqx.mobile.getTouches(i),f=s[0],f!=undefined){var h=t.host.offset(),e=parseInt(f.pageX),o=parseInt(f.pageY);if(t.touchMode==!0&&f._pageX!=undefined&&(e=parseInt(f._pageX),o=parseInt(f._pageY)),e=e-h.left,o=o-h.top,u=t._hitTest(e,o),u!=null&&!u.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes){t._updateItemCheck(u,u.visibleIndex);return}if(u.html.indexOf("href")!=-1)setTimeout(function(){return t.selectIndex(u.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100);else return t.selectIndex(u.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1}}}):(i=!1,this.addHandler(this.content,e,function(u){var c,l,p,v;if(!t.enableSelection)return!0;if(i=!0,r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),u.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=u.target){var y=u.target,s=n(y).offset(),h=t.host.offset();f&&(c=n.jqx.mobile.getLeftPos(y),l=n.jqx.mobile.getTopPos(y),s.left=c,s.top=l,c=n.jqx.mobile.getLeftPos(t.element),l=n.jqx.mobile.getTopPos(t.element),h.left=c,h.top=l);var w=parseInt(s.top)-parseInt(h.top),a=parseInt(s.left)-parseInt(h.left),o=t._hitTest(a,w);if(o==null||o.isGroup||(p=function(n,r){if(t._shiftKey||(t._clickedIndex=n.visibleIndex),t.checkboxes)if(t.selectedIndex=n.visibleIndex,a=20+r.pageX-s.left,t.rtl){var u=t.hScrollBar.css("visibility")!="hidden"?t.hScrollInstance.max:t.host.width();a<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||i||t._updateItemCheck(n,n.visibleIndex)},200):t._updateItemCheck(n,n.visibleIndex))}else a+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||i||t._updateItemCheck(n,n.visibleIndex)},200):t._updateItemCheck(n,n.visibleIndex));else t.selectIndex(n.visibleIndex,!1,!0,!1,"mouse",r)},o.disabled||(o.html.indexOf("href")!=-1?setTimeout(function(){p(o,u)},100):p(o,u))),e=="mousedown")return(v=!1,u.which?v=u.which==3:u.button&&(v=u.button==2),v)?!0:!1}return!0}));this.addHandler(this.content,"mouseup",function(n){t.vScrollInstance.handlemouseup(t,n);i=!1});n.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(){return!1})}u=this.isTouchDevice();this.enableHover&&!u&&(this._mousemovefunc=function(i){var y,v,s,h,c,a;if(u||!t.enableHover||(y=n.jqx.browser.msie==!0&&n.jqx.browser.version<9?0:1,i.target==null)||t.disabled)return!0;if(t.focused=!0,v=t.vScrollInstance.isScrolling(),!v&&i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var l=i.target,e=n(l).offset(),o=t.host.offset();f&&(s=n.jqx.mobile.getLeftPos(l),h=n.jqx.mobile.getTopPos(l),e.left=s,e.top=h,s=n.jqx.mobile.getLeftPos(t.element),h=n.jqx.mobile.getTopPos(t.element),o.left=s,o.top=h);var p=parseInt(e.top)-parseInt(o.top),w=parseInt(e.left)-parseInt(o.left),r=t._hitTest(w,p);r==null||r.isGroup||r.disabled||(c=n.data(t.element,"hoveredItem"),c!=null&&(n(c).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),n(c).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),n.data(t.element,"hoveredItem",r.element),a=n(r.element),a.addClass(t.toThemeProperty("jqx-listitem-state-hover")),a.addClass(t.toThemeProperty("jqx-fill-state-hover")))}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(n){var i,s,c,p,l,a,w,b,v,y;n==undefined&&(n=!0);var t=this,u=null,r=null,h=t.filterable?t.filterHeight:0,k=function(n){return n=t.host.height(),n==0&&(n=200,t.host.height(n)),n};t.width!=null&&t.width.toString().indexOf("px")!=-1?u=t.width:t.width==undefined||isNaN(t.width)||(u=t.width);t.height!=null&&t.height.toString().indexOf("px")!=-1?r=t.height:t.height==undefined||isNaN(t.height)||(r=t.height);t.width!=null&&t.width.toString().indexOf("%")!=-1&&(t.host.css("width",t.width),u=t.host.width());t.height!=null&&t.height.toString().indexOf("%")!=-1&&(t.host.css("height",t.height),r=k(r));u!=null&&(u=parseInt(u),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width));t.autoHeight?t.virtualSize&&(t.hScrollBar.css("visibility")!="hidden"?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,r=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,r=t.virtualSize.height)):r!=null&&(r=parseInt(r),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),k(r)));i=t.scrollBarSize;isNaN(i)&&(i=parseInt(i),i=isNaN(i)?"17px":i+"px");i=parseInt(i);var e=4,f=2,o=0;if(t.vScrollBar)t.vScrollBar[0].style.visibility!="hidden"?o=i+e:t.vScrollInstance.setPosition(0);else return;if(t.hScrollBar)t.hScrollBar[0].style.visibility!="hidden"?f=i+e:t.hScrollInstance.setPosition(0);else return;t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",f=0);r==null&&(r=0);s=parseInt(r)-e-i;s<0&&(s=0);parseInt(t.hScrollBar[0].style.height)!=i&&(parseInt(i)<0&&(i=0),t.hScrollBar[0].style.height=parseInt(i)+"px");t.hScrollBar[0].style.top!=s+"px"&&(t.hScrollBar[0].style.top=s+"px",t.hScrollBar[0].style.left="0px");c=u-i-e;c<0&&(c=0);p=c+"px";t.hScrollBar[0].style.width!=p&&(t.hScrollBar[0].style.width=p);o==0&&u>=2&&(t.hScrollBar[0].style.width=parseInt(u-2)+"px");i!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(i)+"px");parseInt(r)-f!=parseInt(t.vScrollBar[0].style.height)&&(l=parseInt(r)-f,l<0&&(l=0),t.vScrollBar[0].style.height=l+"px");u==null&&(u=0);a=parseInt(u)-parseInt(i)-e+"px";a!=t.vScrollBar[0].style.left&&(parseInt(a)>=0&&(t.vScrollBar[0].style.left=a),t.vScrollBar[0].style.top="0px");w=t.vScrollInstance;w.disabled=t.disabled;n&&w._arrange();b=t.hScrollInstance;b.disabled=t.disabled;n&&b._arrange();t.vScrollBar[0].style.visibility!="hidden"&&t.hScrollBar[0].style.visibility!="hidden"?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(i)+3+"px",t.bottomRight[0].style.height=parseInt(i)+3+"px"):t.bottomRight[0].style.visibility="hidden";parseInt(t.content[0].style.width)!=parseInt(u)-o&&(v=parseInt(u)-o,v<0&&(v=0),t.content[0].style.width=v+"px");t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),t.vScrollBar[0].style.visibility!="hidden"?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})));parseInt(t.content[0].style.height)!=parseInt(r)-f&&(y=parseInt(r)-f,y<0&&(y=0),t.content[0].style.height=y+"px",t.content[0].style.top="0px");h>0&&(t.content[0].style.top=h+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-h+"px");t.filterable?(t.filterInput[0].style.height=h-6+"px",t.filterInput[0].style.top="3px",t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px",t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none";t.overlayContent&&(t.overlayContent.width(parseInt(u)-o),t.overlayContent.height(parseInt(r)-f))},ensureVisible:function(t){var e,i,r,u,o,f;if(isNaN(t)&&(i=this.getItemByValue(t),i&&(t=i.index)),e=this.isIndexInView(t),!e){if(t<0)return;if(this.autoHeight)r=n.data(this.vScrollBar[0],"jqxScrollBar").instance,r.setPosition(0);else for(indx=0;indx<this.visibleItems.length;indx++)if(i=this.visibleItems[indx],i.visibleIndex==t&&!i.isGroup){r=n.data(this.vScrollBar[0],"jqxScrollBar").instance;u=r.value;this.filterable&&(u-=this.filterHeight+2);o=this.hScrollBar.css("visibility")==="hidden";f=o?0:this.scrollBarSize+4;i.initialTop<u?r.setPosition(i.initialTop):i.initialTop+i.height>u+this.host.height()&&(this.filterable?r.setPosition(this.filterHeight+2+i.initialTop+i.height+2-this.host.height()+f):r.setPosition(i.initialTop+i.height+2-this.host.height()+f));break}}this._renderItems()},scrollTo:function(n,t){this.vScrollBar.css("visibility")!="hidden"&&this.vScrollInstance.setPosition(t);this.hScrollBar.css("visibility")!="hidden"&&this.hScrollInstance.setPosition(n)},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden")return!1;var n=this.vScrollInstance;return n.value+n.largestep<=n.max?(n.setPosition(n.value+n.largestep),!0):(n.setPosition(n.max),!0)},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden")return!1;var n=this.vScrollInstance;return n.value-n.largestep>=n.min?(n.setPosition(n.value-n.largestep),!0):n.value!=n.min?(n.setPosition(n.min),!0):!1},databind:function(t,i){var o,r,s,u,f,e,h;this.records=[];o=t._source?!0:!1;r=new n.jqx.dataAdapter(t,{autoBind:!1});o&&(r=t,t=t._source);s=function(){t.type!=undefined&&(r._options.type=t.type);t.formatdata!=undefined&&(r._options.formatData=t.formatdata);t.contenttype!=undefined&&(r._options.contentType=t.contenttype);t.async!=undefined&&(r._options.async=t.async)};u=function(t,i){var o=function(i){var u,f,r;return typeof i=="string"?(u=i,f=i):t.displayMember!=undefined&&t.displayMember!=""&&(f=i[t.valueMember],u=i[t.displayMember]),t.valueMember||t.displayMember||(u=f=i),i&&i.label!=undefined&&(u=i.label,f=i.value),r=new n.jqx._jqxListBox.item,r.label=u,r.value=f,r.html="",r.visible=!0,r.originalItem=i,r.group="",r.groupHtml="",r.disabled=!1,r.hasThreeStates=!0,r},s,h,u,c,f,e;if(i!=undefined&&(s=r._changedrecords[0],s)){n.each(r._changedrecords,function(){var n=this.index,u=this.record,r;i!="remove"&&(r=o(u));switch(i){case"update":t.updateAt(r,n);break;case"add":t.insertAt(r,n);break;case"remove":t.removeAt(n)}});return}for(t.records=r.records,h=t.records.length,t.items=[],t.itemsByValue=[],u=0;u<h;u++)c=t.records[u],f=o(c),f.index=u,t.items[u]=f,e=f.value,(f.value==""||f.value==null)&&(e=u),t.itemsByValue[n.trim(e).split(" ").join("")]=f;t._render();t._raiseEvent("6")};s(this);f=this;switch(t.datatype){case"local":case"array":default:t.localdata!=null&&(r.unbindBindingUpdate(this.element.id),!this.autoBind&&(this.autoBind||i)||r.dataBind(),u(this),r.bindBindingUpdate(this.element.id,function(n){u(f,n)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(t.localdata!=null){r.unbindBindingUpdate(this.element.id);!this.autoBind&&(this.autoBind||i)||r.dataBind();u(this);r.bindBindingUpdate(this.element.id,function(){u(f)});return}e={};r._options.data?n.extend(r._options.data,e):(t.data&&n.extend(e,t.data),r._options.data=e);h=function(){u(f)};r.unbindDownloadComplete(f.element.id);r.bindDownloadComplete(f.element.id,h);!this.autoBind&&(this.autoBind||i)||r.dataBind()}},loadItems:function(t){var y,o,c,f,h,e,s,u,p;if(t==null){this.groups=[];this.items=[];this.visualItems=[];return}var r=this,a=0,l=0,v=0;if(this.groups=[],this.items=[],this.visualItems=[],y=[],this.itemsByValue=[],n.map(t,function(t){var s,o;if(t==undefined)return null;var i=new n.jqx._jqxListBox.item,u=t.group,e=t.groupHtml,f=t.title;return(f==null||f==undefined)&&(f=""),(u==null||u==undefined)&&(u=""),(e==null||e==undefined)&&(e=""),r.groups[u]||(r.groups[u]={items:[],index:-1,caption:u,captionHtml:e},a++,s=a+"jqxGroup",r.groups[s]=r.groups[u],l++,r.groups.length=l),o=r.groups[u],o.index++,o.items[o.index]=i,typeof t=="string"?(i.label=t,i.value=t):t.label==null&&t.value==null&&t.html==null&&t.group==null&&t.groupHtml==null?(i.label=t.toString(),i.value=t.toString()):(i.label=t.label||t.value,i.value=t.value||t.label),typeof t!="string"&&(r.displayMember!=""&&(i.label=t[r.displayMember]!=undefined?t[r.displayMember]:""),r.valueMember!=""&&(i.value=t[r.valueMember])),i.hasThreeStates=t.hasThreeStates!=undefined?t.hasThreeStates:!0,i.originalItem=t,i.title=f,i.html=t.html||"",t.html&&t.html!=""&&f&&f!="",i.group=u,i.checked=t.checked||!1,i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible!=undefined?t.visible:!0,i.index=v,y[v]=i,v++,i}),o=[],u=0,this.fromSelect==undefined||this.fromSelect==!1)for(c=0;c<l;c++){var a=c+1,w=a+"jqxGroup",i=this.groups[w];if(i==undefined||i==null)break;if(c==0&&i.caption==""&&i.captionHtml==""&&l<=1){for(f=0;f<i.items.length;f++)s=i.items[f].value,(i.items[f].value==undefined||i.items[f].value==null)&&(s=f),this.itemsByValue[n.trim(s).split(" ").join("")]=i.items[f];return i.items}for(h=new n.jqx._jqxListBox.item,h.isGroup=!0,h.label=i.caption,i.caption==""&&i.captionHtml==""&&(i.caption=this.emptyGroupText,h.label=i.caption),h.html=i.captionHtml,o[u]=h,u++,e=0;e<i.items.length;e++)o[u]=i.items[e],s=i.items[e].value,(i.items[e].value==""||i.items[e].value==null)&&(s=u),r.itemsByValue[n.trim(s).split(" ").join("")]=i.items[e],u++}else u=0,p=[],n.each(y,function(){var t,i;p[this.group]||this.group!=""&&(t=new n.jqx._jqxListBox.item,t.isGroup=!0,t.label=this.group,o[u]=t,u++,p[this.group]=!0);o[u]=this;i=this.value;(this.value==""||this.value==null)&&(i=u-1);r.itemsByValue[n.trim(i).split(" ").join("")]=this;u++});return o},_mapItem:function(t){var i=new n.jqx._jqxListBox.item;return this.displayMember&&(t.label==undefined&&(t.label=t[this.displayMember]),t.value==undefined&&(t.value=t[this.valueMember])),typeof t=="string"?(i.label=t,i.value=t):typeof t=="number"?(i.label=t.toString(),i.value=t.toString()):(i.label=t.label||t.value,i.value=t.value||t.label),i.label==undefined&&i.value==undefined&&i.html==undefined&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(n){return this.insertAt(n,this.items?this.items.length:0)},_getItemByParam:function(n){if(n!=null&&n.index==undefined){var t=this.getItemByValue(n);t&&(n=t)}return n},insertItem:function(n,t){var i=this._getItemByParam(n);return this.insertAt(i,t)},updateItem:function(n,t){var i=this._getItemByParam(t);return i&&i.index!=undefined?this.updateAt(n,i.index):!1},updateAt:function(t,i){if(t!=null){var r=this._mapItem(t);this.itemsByValue[n.trim(r.value).split(" ").join("")]=this.items[i];this.items[i].value=r.value;this.items[i].label=r.label;this.items[i].html=r.html;this.items[i].disabled=r.disabled}this._cachedItemHtml=[];this._renderItems();this.rendered&&this.rendered()},insertAt:function(t,i){var r,f,u,h,l;if(t==null)return!1;if(this._cachedItemHtml=[],this.items==undefined||this.items.length==0)return this.source=[],this.refresh(),r=this._mapItem(t),r.index=0,this.items[this.items.length]=r,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),u=r.value,(r.value==""||r.value==null)&&(u=i),this.itemsByValue[n.trim(u).split(" ").join("")]=r,!1;if(r=this._mapItem(t),i==-1||i==undefined||i==null||i>=this.items.length)r.index=this.items.length,this.items[this.items.length]=r;else{var e=[],o=0,c=!1,s=0;for(f=0;f<this.items.length;f++)this.items[f].isGroup==!1&&s>=i&&!c&&(e[o++]=r,r.index=i,s++,c=!0),e[o]=this.items[f],this.items[f].isGroup||(e[o].index=s,s++),o++;this.items=e}return u=r.value,(r.value==""||r.value==null)&&(u=i),this.itemsByValue[n.trim(u).split(" ").join("")]=r,this.visibleItems=[],this.renderedVisibleItems=[],h=n.data(this.vScrollBar[0],"jqxScrollBar").instance,l=h.value,h.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),h.setPosition(l),this.rendered&&this.rendered(),!0},removeAt:function(t){var h,u,s,r,i;if(t<0||t>this.items.length-1||t==undefined)return!1;h=this.items[t].height;i=this.items[t].value;(i==""||i==null)&&(i=t);this.itemsByValue[n.trim(i).split(" ").join("")]=null;this.items.splice(t,1);var e=[],o=0,c=0;for(u=0;u<this.items.length;u++)e[o]=this.items[u],this.items[u].isGroup||(e[o].index=c,c++),o++;this.items=e;var f=n.data(this.vScrollBar[0],"jqxScrollBar").instance,f=n.data(this.vScrollBar[0],"jqxScrollBar").instance,l=f.value;for(f.setPosition(0),this.visibleItems=[],this.renderedVisibleItems=[],this.items.length>0?(this.virtualSize&&(this.virtualSize.height-=h,s=this.virtualSize.itemsPerPage*2,this.autoHeight&&(s=this.items.length),this.virtualItemsCount=Math.min(s,this.items.length)),this._updatescrollbars()):this._addItems(),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),this.vScrollBar.css("visibility")!="hidden"?f.setPosition(l):f.setPosition(0),this.itemsByValue=[],r=0;r<this.items.length;r++)i=this.items[r].value,(this.items[r].value==""||this.items[r].value==null)&&(i=r),this.itemsByValue[n.trim(i).split(" ").join("")]=this.items[r];return this.rendered&&this.rendered(),!0},removeItem:function(n,t){var r=this._getItemByParam(n),u=-1,i;if(r&&r.index!=undefined&&t!==!0){for(i=0;i<this.items.length;i++)if(this.items[i].label==r.label&&this.items[i].value==r.value){u=i;break}if(u!=-1)return this.removeAt(u)}if(u==-1)return this.removeAt(r.index)},getItems:function(){return this.items},disableItem:function(n){var t=this._getItemByParam(n);this.disableAt(t.index)},enableItem:function(n){var t=this._getItemByParam(n);this.enableAt(t.index)},disableAt:function(n){return this.items?n<0||n>this.items.length-1?!1:(this.items[n].disabled=!0,this._renderItems(),!0):!1},enableAt:function(n){return this.items?n<0||n>this.items.length-1?!1:(this.items[n].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id);this._removeHandlers();this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.vScrollBar.remove();this.hScrollBar.remove();this.content.remove();n.jqx.utilities.resize(this.host,null,!0);var t=n.data(this.element,"jqxListBox");delete this.hScrollInstance;delete this.vScrollInstance;delete this.vScrollBar;delete this.hScrollBar;delete this.content;delete this.bottomRight;delete this.itemswrapper;delete this.visualItems;delete this.visibleItems;delete this.items;delete this.groups;delete this.renderedVisibleItems;delete this._mousewheelfunc;delete this._mousemovefunc;delete this._cachedItemHtml;delete this.itemsByValue;delete this._activeElement;delete this.source;delete this.events;this.input&&(this.input.remove(),delete this.input);t&&delete t.instance;this.host.removeData();this.host.removeClass();this.host.remove();this.element=null;delete this.element;this.host=null;delete this.set;delete this.get;delete this.call;delete this.host},_raiseEvent:function(t,i){var u,r,f;return this._stopEvents==!0?!0:(i==undefined&&(i={owner:null}),u=this.events[t],args=i,args.owner=this,this._updateInputSelection(),r=new n.Event(u),r.owner=this,r.args=args,this.host!=null&&(f=this.host.trigger(r)),f)}})}(jqxBaseFramework),function(n){n.jqx.parseSourceTag=function(t){var c=[],e=n(t).find("option"),r=n(t).find("optgroup"),s=!1,f,o,l,u;e.length===0&&(e=n(t).find("li"),e.length>0&&(s=!0));var h=null,h=-1,a=this,i=[];if(n.each(e,function(t){var o=r.find(this).length>0,f=null,u,e;this.text!=null&&(this.label==null||this.label=="")&&(this.label=this.text);s===!0&&(this.label=n(this).text(),this.selected=n(this).attr("data-selected"),this.checked=this.selected,this.value=n(this).attr("data-value")||t,this.disabled=n(this).attr("disabled"));u={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};e=n.jqx.browser.msie&&n.jqx.browser.version<8;e&&!s&&u.value==""&&this.text!=null&&this.text.length>0&&(u.value=this.text);o&&(f=r.find(this).parent()[0].label,u.group=f,i[f]||(i[f]=[],i.length++),i[f].push(u));this.selected&&(h=t);u.checked=this.selected;u.label!==undefined&&c.push(u)}),i.length>0){f=[];for(o in i)if(o!=="indexOf"){for(l=null,u=0;u<r.length;u++)if(o===r[u].label||r[u].text){l=r[u];break}n.each(i[o],function(){this.label!==undefined&&f.push(this)})}}return f&&f.length>0?{items:f,index:h}:{items:c,index:h}};n.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxDateTimeInput","",{});n.extend(n.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var t={value:n.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:n.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:n.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,columnHeaderHeight:20,titleHeight:25,firstDayOfWeek:0,showWeekNumbers:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",enableAbsoluteSelection:!1,disabled:!1,buttonSize:18,animationType:"slide",dropDownWidth:"200px",dropDownHeight:"205px",selectionMode:"default",rtl:!1,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:9999999999999,allowNullDate:!0,enableHover:!0,allowKeyboardDelete:!0,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};n.extend(!0,this,t);this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0);this.minDate._setYear(1900);this.minDate._setMonth(1);this.minDate._setDay(1);this.minDate._setHours(1);this.minDate._setMinutes(1);this.minDate._setSeconds(1);this.minDate._setMilliseconds(1);this.maxDate._setYear(2100);this.maxDate._setMonth(1);this.maxDate._setDay(1);this.maxDate._setHours(1);this.maxDate._setMinutes(1);this.maxDate._setSeconds(1);this.maxDate._setMilliseconds(1);this.defaultMinDate=this.minDate;this.defaultMaxDate=this.maxDate},createInstance:function(){var e="",t=this,r,i;if(!t.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if(t.host.attr("value")&&(e=!0,r=t.host.attr("value"),t.selectionMode!="range"&&(i=new Date(r),i==undefined||isNaN(i)||(t.value=n.jqx._jqxDateTimeInput.getDateTime(i)))),t.value!=null&&t.value instanceof Date?t.value=n.jqx._jqxDateTimeInput.getDateTime(t.value):t.value!=null&&typeof t.value=="string"&&(i=new Date(t.value),i==undefined||isNaN(i)?t.value.indexOf(",")>=0&&(t.value=t.value.replace(/\,/g,"/"),i=new Date(t.value),i==undefined||isNaN(i)||(t.value=n.jqx._jqxDateTimeInput.getDateTime(i))):t.value=n.jqx._jqxDateTimeInput.getDateTime(i)),t.host.attr("data-role","input"),t.render(),n.jqx.aria(this),t.getDate()!=null?n.jqx.aria(this,"aria-label","Current focused date is "+t.getDate().toLocaleString()):n.jqx.aria(this,"aria-label","Current focused date is Null"),t.minDate!==t.defaultMinDate&&(t.min=t.minDate),t.maxDate!==t.defaultMaxDate&&(t.max=t.maxDate),t.setMaxDate(t.max,!1),t.setMinDate(t.min,!1),t.selectionMode=="range")if(e){var r=t.host.attr("value"),o=r.substring(0,r.indexOf("-")),s=r.substring(r.indexOf("-")+1),u=new Date(o),f=new Date(s);u==undefined||isNaN(u)||f==undefined||isNaN(f)||t.setRange(u,f)}else t.getDate()!=null&&t.setRange(t.getDate(),t.getDate())},_format:function(t,i){var r=!1,i;try{Globalize!=undefined&&(r=!0)}catch(u){}if(n.global)return n.global.format(t,i,this.culture);if(r)try{return i=Globalize.format(t,i,this.culture)}catch(u){return Globalize.format(t,i)}else{if(n.jqx.dataFormat)return t instanceof Date?n.jqx.dataFormat.formatdate(t,i,this.localization.calendar):typeof t=="number"?n.jqx.dataFormat.formatnumber(t,i,this.localization.calendar):n.jqx.dataFormat.formatdate(t,i,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.");}},render:function(){var t=this,c,l,u,f,e,o,r,i,s,h;if(t._removeHandlers(),t.element.innerHTML="",t.host.attr({role:"textbox"}),t.id=n.jqx.utilities.createId(),c=n.jqx.utilities.createId(),l=n.jqx.utilities.createId(),t._setSize(),t.width==null&&(t.width=t.host.width(),t.host.width(t.width)),t.touch=n.jqx.mobile.isTouchDevice(),u=n("<div class='jqx-max-size jqx-position-relative'><\/div>").appendTo(t.host),t.dateTimeInput=n("<input class='jqx-position-absolute' id='input"+t.element.id+"' autocomplete='off' type='textarea'/>").appendTo(u),t.dateTimeInput.addClass(t.toThemeProperty("jqx-reset")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-clear")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-widget-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-rc-all")),f=t.host.attr("name"),f&&t.dateTimeInput.attr("name",f),t.host.attr("tabindex")&&(t.dateTimeInput.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t.rtl&&(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")),t.calendarButton=n("<div style='height: 100%;' class='jqx-position-absolute'><div><\/div><\/div>").appendTo(u),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.calendarButton.addClass(t.toThemeProperty("jqx-action-button")),t.calendarButtonIcon=n(t.calendarButton.children()[0]),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-rc-l")):t.calendarButton.addClass(t.toThemeProperty("jqx-rc-r")),i=this,t._arrange(),n.jqx._jqxCalendar!=null&&n.jqx._jqxCalendar!=undefined)try{e="calendar"+t.id;o=n(n.find("#"+e));o.length>0&&o.remove();n.jqx.aria(this,"aria-owns",e);n.jqx.aria(this,"aria-haspopup",!0);n.jqx.aria(this,"aria-readonly",t.selectionMode=="range"?!0:!1);r=n("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+t.id+"'><div id='innerCalendar"+t.id+"'><\/div><\/div>");n.jqx.utilities.getBrowser().browser=="opera"&&r.hide();r.appendTo(document.body);t.container=r;t.calendarContainer=n(n.find("#innerCalendar"+t.id)).jqxCalendar({changing:t.changing,change:t.change,enableViews:t.enableViews,selectableDays:t.selectableDays,views:t.views,rowHeaderWidth:t.rowHeaderWidth,titleHeight:t.titleHeight,columnHeaderHeight:t.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:t.localization,todayString:t.todayString,clearString:t.clearString,dayNameFormat:t.dayNameFormat,rtl:t.rtl,culture:t.culture,showFooter:t.showFooter,selectionMode:t.selectionMode,firstDayOfWeek:t.firstDayOfWeek,showWeekNumbers:t.showWeekNumbers,width:t.dropDownWidth,height:t.dropDownHeight,theme:t.theme});t.calendarContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0});t.calendarContainer.addClass(t.toThemeProperty("jqx-popup"));n.jqx.browser.msie&&t.calendarContainer.addClass(t.toThemeProperty("jqx-noshadow"));t._calendar=n.data(t.calendarContainer[0],"jqxCalendar").instance;i=this;t._calendar.today=function(){i.today()};t._calendar.clear=function(){i.clear()};n.jqx.utilities.getBrowser().browser=="opera"&&r.show();r.height(parseInt(t.calendarContainer.height())+25);r.width(parseInt(t.calendarContainer.width())+25);t.selectionMode=="range"&&(t.readonly=!0);t.animationType=="none"?t.container.css("display","none"):t.container.hide()}catch(a){}n.global&&n.global.preferCulture(t.culture);t.selectedText="";t._addHandlers();t.self=this;t.oldValue=t.getDate();t.items=[];t.editors=[];t._loadItems();t.editorText="";t.readonly==!0&&t.dateTimeInput.css("readonly",t.readonly);t.dateTimeInput.css("text-align",t.textAlign);t.host.addClass(t.toThemeProperty("jqx-widget"));t.host.addClass(t.toThemeProperty("jqx-datetimeinput"));t.host.addClass(t.toThemeProperty("jqx-input"));t.host.addClass(t.toThemeProperty("jqx-overflow-hidden"));t.host.addClass(t.toThemeProperty("jqx-rc-all"));t.host.addClass(t.toThemeProperty("jqx-reset"));t.host.addClass(t.toThemeProperty("jqx-clear"));t.host.addClass(t.toThemeProperty("jqx-widget-content"));t.propertyChangeMap.disabled=function(t,r,u,f){f?(t.host.addClass(i.toThemeProperty("jqx-input-disabled")),t.host.addClass(i.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(i.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(i.toThemeProperty("jqx-input-disabled")));n.jqx.aria(this,"aria-disabled",f)};t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-input-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dateTimeInput.attr("disabled",!0));t.host.parents("form").length>0&&t.addHandler(t.host.parents("form"),"reset",function(){setTimeout(function(){i.setDate(new Date)},10)});t.cookies&&(s=n.jqx.cookie.cookie("jqxDateTimeInput"+t.element.id),s!=null&&t.setDate(new Date(s)));n.jqx.browser.msie&&n.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0&&(h=t.host.parents(".jqx-window").css("z-index"),t.container.css("z-index",h+10),t.calendarContainer.css("z-index",h+10));t.culture!="default"&&t._applyCulture();t.value&&(t.calendarContainer.jqxCalendar("_isDisabled",t.value.dateTime)?t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-invalid")):t.dateTimeInput.removeClass(t.toThemeProperty("jqx-input-invalid")))},val:function(n){var t=this;if(arguments.length!=0){if(n==null&&t.setDate(null),t.selectionMode=="range")return t.setRange(arguments[0],arguments[1]),t.getText();if(n instanceof Date&&t.setDate(n),typeof n=="string"){if(n=="date")return t.getDate();t.setDate(n)}}return t.getText()},_setSize:function(){var t,r,u,i;this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width);this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height);t=!1;this.width!=null&&this.width.toString().indexOf("%")!=-1&&(t=!0,this.host.width(this.width));this.height!=null&&this.height.toString().indexOf("%")!=-1&&(t=!0,this.host.height(this.height));r=this;u=function(){r.calendarContainer&&r._arrange()};t&&this.calendarContainer&&(this._arrange(),i=this.host.width(),this.dropDownWidth!="auto"&&(i=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:i}),this.container.width(parseInt(i)+25));n.jqx.utilities.resize(this.host,function(){u()})},_arrange:function(){var t,r,u;this.height==null&&(this.height=27,this.host.height(27));var e=parseInt(this.host.width()),o=parseInt(this.host.height()),i=this.buttonSize,f=2;this.showCalendarButton||(i=0,buttonHeight=0,this.calendarButton.hide(),f=0);t=e-i-1*f;t>0&&(this.dateTimeInput[0].style.width=t+"px");this.rtl&&(this.dateTimeInput[0].style.width=-1+t+"px");this.dateTimeInput[0].style.left="0px";this.dateTimeInput[0].style.top="0px";this.calendarButton[0].style.width=i+1+"px";this.calendarButton[0].style.left=1+t+"px";r=this.dateTimeInput.height();r==0&&(r=parseInt(this.dateTimeInput.css("font-size"))+3);this.dateTimeInput[0].className.indexOf("jqx-rc-all")==-1&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"));u=parseInt(o)/2-parseInt(r)/2;u>0&&(this.dateTimeInput[0].style.marginTop=parseInt(u)+"px");this.rtl&&(this.calendarButton[0].style.width=i+"px",this.calendarButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),n.jqx.browser.msie&&n.jqx.browser.version<=8&&this.dateTimeInput.css("left",1+this.calendarButton.width()))},_removeHandlers:function(){var t=this;this.removeHandler(n(document),"mousedown."+this.id);this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress"));this.calendarButton!=null&&this.removeHandler(this.calendarButton,"mousedown");this.calendarContainer!=null&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown"));this.removeHandler(n(window),"resize."+this.id)},isOpened:function(){var i=this,t=n.data(document.body,"openedJQXCalendar"+this.id);return t!=null&&t==i.calendarContainer?!0:!1},wheel:function(n,t){var i=0,r;if(n||(n=window.event),n.originalEvent&&n.originalEvent.wheelDelta&&(n.wheelDelta=n.originalEvent.wheelDelta),n.wheelDelta?i=n.wheelDelta/120:n.detail&&(i=-n.detail/3),i)return r=t._handleDelta(i),r?!1:(n.preventDefault&&n.preventDefault(),n.returnValue=!1,r);n.preventDefault&&n.preventDefault();n.returnValue=!1},_handleDelta:function(n){return n<0?this.spinDown():this.spinUp(),!1},focus:function(){try{var n=this;this._setSelectionStart(0);this._selectGroup(-1);this.dateTimeInput.focus();setTimeout(function(){n._setSelectionStart(0);n._selectGroup(-1);n.dateTimeInput.focus()},15)}catch(t){}},_addHandlers:function(){var r=this.element.id,u=this.element,t=this,i;this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(){var n=t.isOpened();n&&t.close()});this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(hovered=!0,t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-hover")))});this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.calendarButtonIcon.removeClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover")))});this.addHandler(this.host,"mousewheel",function(n){t.wheel(n,t)});this.addHandler(n(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this});n.jqx.mobile.isTouchDevice()&&this.addHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this});this.addHandler(this.dateTimeInput,"keydown."+this.id,function(i){var r=n.data(document.body,"openedJQXCalendar"+t.id);if(r!=null&&r==t.calendarContainer)return t.handleCalendarKey(i,t)});this.calendarContainer!=null&&(this.addHandler(this.calendarContainer,"keydown",function(n){if(n.keyCode==13)return t.isOpened()&&!t._calendar._viewAnimating&&t._calendar.view=="month"?(t.hideCalendar("selected"),t.dateTimeInput.focus(),!1):!0;if(n.keyCode==9){if(t.isOpened())return t.hideCalendar("selected"),!0}else if(n.keyCode==27)return t.isOpened()?(t.hideCalendar(),t.dateTimeInput.focus(),!1):!0;if(n.keyCode==115){if(t.isOpened())return t.hideCalendar(),t.dateTimeInput.focus(),!1;if(!t.isOpened())return t.showCalendar(),t.dateTimeInput.focus(),!1}if(n.altKey)if(n.keyCode==38){if(t.isOpened())return t.hideCalendar(),t.dateTimeInput.focus(),!1}else if(n.keyCode==40&&!t.isOpened())return t.showCalendar(),t.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(i){if(t.closeCalendarAfterSelection){var r=n.data(document.body,"openedJQXCalendarValue");i.args.selectionType=="mouse"&&(t.selectionMode!="range"?t.hideCalendar("selected"):t._calendar._clicks==0&&t.hideCalendar("selected"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(){t.closeCalendarAfterSelection&&t._calendar.value&&n.data(document.body,"openedJQXCalendarValue",new n.jqx._jqxDateTimeInput.getDateTime(t._calendar.value.dateTime))}));this.addHandler(this.dateTimeInput,"blur",function(n){if(t.value!=null){t.isEditing=!1;var i=t.value.dateTime.getDay(),r=t._oldDT;t._validateValue(!0);n.stopPropagation&&n.stopPropagation();t._updateText();t._raiseEvent(9,n)}t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host,"focus",function(){t.focus()});this.addHandler(this.dateTimeInput,"focus",function(n){if(t.value!=null){t._oldDT=t.selectionMode!="range"?new Date(t.value.dateTime):t.getRange();var i=t._selection();t.isEditing=!0;t._validateValue();t._updateText();t._setSelectionStart(0);t._selectGroup(-1,i);t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))}else t._setSelectionStart(0),t._selectGroup(-1),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"));return n.stopPropagation&&n.stopPropagation(),n.preventDefault?(n.preventDefault(),!1):void 0});i="mousedown";this.touch&&(i=n.jqx.mobile.getTouchEventName("touchstart"));this.addHandler(this.calendarButton,i,function(n){var i=t.container,r=i.css("display")=="block";if(!t.disabled&&!t.isanimating){if(r)return t.hideCalendar(),!1;t.showCalendar();n.preventDefault()}});this.addHandler(this.dateTimeInput,"mousedown",function(n){return t._raiseEvent(2,n)});this.addHandler(this.dateTimeInput,"mouseup",function(n){return t._raiseEvent(3,n)});this.addHandler(this.dateTimeInput,"keydown",function(n){return t._raiseEvent(4,n)});this.addHandler(this.dateTimeInput,"keyup",function(n){return t._raiseEvent(5,n)});this.addHandler(this.dateTimeInput,"keypress",function(n){return t._raiseEvent(6,n)})},createID:function(){var n=Math.random()+"";return n=n.replace(".",""),n="99"+n,n=n/1,"dateTimeInput"+n},setMaxDate:function(t,i){t!=null&&(t==null||typeof t!="string"||(t=new Date(t),t!="Invalid Date"))&&(this.maxDate=n.jqx._jqxDateTimeInput.getDateTime(t),this._calendar!=null&&this._calendar.setMaxDate(t),i!=!1&&(this.getDate()!=null&&this.getDate()>t&&this.setDate(t),n.jqx.aria(this,"aria-valuemax",t),this._refreshValue(),this._updateText()))},getMaxDate:function(){return this.maxDate!=null&&this.maxDate!=undefined?this.maxDate.dateTime:null},setMinDate:function(t,i){t!=null&&(t==null||typeof t!="string"||(t=new Date(t),t!="Invalid Date"))&&(this.minDate=n.jqx._jqxDateTimeInput.getDateTime(t),this._calendar!=null&&this._calendar.setMinDate(t),i!=!1&&(this.getDate()!=null&&this.getDate()<t&&this.setDate(t),n.jqx.aria(this,"aria-valuemin",t),this._refreshValue(),this._updateText()))},getMinDate:function(){return this.minDate!=null&&this.minDate!=undefined?this.minDate.dateTime:null},_applyCulture:function(){var t=!1,i;try{Globalize!=undefined&&(t=!0)}catch(r){}try{n.global?(n.global.preferCulture(this.culture),this.localization.calendar=n.global.culture.calendar):t&&(i=Globalize.culture(this.culture),this.localization.calendar=i.calendar);this._loadItems();this._calendar!=null&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(r){}},propertyMap:function(n){return n=="value"?this.selectionMode!="range"?this.getDate():this.getRange():null},propertyChangedHandler:function(t,i,r,u){if(t.isInitialized!=undefined&&t.isInitialized!=!1){if(i=="popupZIndex"&&t.calendarContainer.css({zIndex:u}),i=="selectionMode"&&(t._calendar.selectionMode=u,t.refreshValue()),i=="min"&&(typeof u=="string"?t.setMinDate(new Date(u)):t.setMinDate(u)),i=="max"&&(typeof u=="string"?t.setMaxDate(new Date(u)):t.setMaxDate(u)),i=="value")if(u!=null&&u instanceof Date){if(isNaN(u.getFullYear())||isNaN(u.getMonth())||isNaN(u.getDate())){this.value=r;return}u=n.jqx._jqxDateTimeInput.getDateTime(u)}else if(u!=null&&typeof u=="string"){var f=new Date(u);f==undefined||isNaN(f)||(this.value=n.jqx._jqxDateTimeInput.getDateTime(f))}if(i=="views"&&t.calendarContainer.jqxCalendar({views:u}),i=="enableViews"&&t.calendarContainer.jqxCalendar({enableViews:u}),i=="selectableDays"&&t.calendarContainer.jqxCalendar({selectableDays:u}),i=="showFooter"&&t.calendarContainer.jqxCalendar({showFooter:u}),i=="rtl"&&(t.calendarContainer.jqxCalendar({rtl:u}),u?(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")):(t.dateTimeInput.css("direction","ltr"),t.dateTimeInput.removeClass("jqx-rtl"))),(i=="todayString"||i=="clearString")&&t.calendarContainer.jqxCalendar({clearString:t.clearString,todayString:t.todayString}),i=="dayNameFormat"&&t.calendarContainer.jqxCalendar({dayNameFormat:u}),i=="firstDayOfWeek"&&t.calendarContainer.jqxCalendar({firstDayOfWeek:u}),i=="showWeekNumbers"&&t.calendarContainer.jqxCalendar({showWeekNumbers:u}),i=="culture"||i=="localization"?t._applyCulture():i=="formatString"&&t._loadItems(),i=="theme"&&n.jqx.utilities.setTheme(r,u,t.host),i=="width"||i=="height"){t.refresh();return}t._setOption(i,u);(i=="dropDownWidth"||i=="dropDownHeight")&&(t.calendarContainer.jqxCalendar({width:t.dropDownWidth,height:t.dropDownHeight}),t._calendar.render(),t.container.height(t.calendarContainer.height()),t.container.width(t.calendarContainer.width()))}},clear:function(){this.allowNullDate?(this.selectionMode!="range"?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):this.selectionMode!="range"?this.setDate(me.getMinDate()):(this._calendar._clicks=1,this.setRange(me.getMinDate(),me.getMinDate()),this._calendar._clicks=0);this.hideCalendar()},today:function(){var n=new Date;n.setHours(0,0,0,0);this.selectionMode!="range"?this.setDate(n):(this._calendar._clicks=1,this.setRange(n,n),this._calendar._clicks=0);this.hideCalendar()},setDate:function(t){var f=this.getDate(),i,r,u;if(t==null||typeof t!="string"||(t.toString().indexOf(",")>=0&&(t=t.replace(/\,/g,"/"),t=new Date(t)),t==""||(i=t,t=new Date(t),t!="Invalid Date"||(Globalize!=undefined?t=Globalize.parseDate(i,this.formatString,this.culture):n.jqx.dataFormat&&(t=n.jqx.dataFormat.parsedate(i,this.formatString,this.localization.calendar)),t!="Invalid Date")))){if((t==null||t=="null"||t=="undefined")&&(this.allowNullDate||(t=this.min)),t=="Invalid Date"&&(t=null),t==null||t=="null"||t=="undefined"||t===""){this.value!=null&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&this.value!=null&&n.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",t),this._raiseEvent("9",t));return}t<this.getMinDate()||t>this.getMaxDate()||(this.value==null&&(this.value=new n.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),t.getFullYear&&(this.value._setYear(t.getFullYear()),this.value._setDay(1),this.value._setMonth(t.getMonth()+1),this.value._setHours(t.getHours()),this.value._setMinutes(t.getMinutes()),this.value._setSeconds(t.getSeconds()),this.value._setMilliseconds(t.getMilliseconds()),this.value._setDay(t.getDate())),this._refreshValue(),this.cookies&&this.value!=null&&n.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),r=this.getDate(),u=r-f,u!=0&&(this._raiseEvent("0",t),this._raiseEvent("9",t)))}},getDate:function(){return this.value==undefined?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(t,i){if((t=="Invalid Date"&&(t=null),i=="Invalid Date"&&(i=null),t==null||typeof t!="string"||(t=new Date(t),t!="Invalid Date"))&&(i==null||typeof i!="string"||(i=new Date(i),i!="Invalid Date"))&&(!t||!isNaN(t)||t.toString()!="NaN"||typeof t=="string")&&(!i||!isNaN(i)||i.toString()!="NaN"||typeof i=="string")){this._calendar.setRange(t,i);var r=t;r!=null&&r.getFullYear&&(this.value==null&&(this.value=new n.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(r.getFullYear()),this.value._setMonth(r.getMonth()+1),this.value._setHours(r.getHours()),this.value._setMinutes(r.getMinutes()),this.value._setSeconds(r.getSeconds()),this.value._setMilliseconds(r.getMilliseconds()),this.value._setDay(r.getDate()));this._refreshValue();this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){return this._calendar.getRange()},_validateValue:function(n){for(var t,r=!1,i=0;i<this.items.length;i++){t=this.editors[i].value;switch(this.items[i].type){case"FORMAT_AMPM":t<0?t=0:t>1&&(t=1);break;case"Day":t<1?t=1:t>31&&(t=31);break;case"FORMAT_hh":t<1?t=1:t>12&&(t=12);break;case"FORMAT_HH":t<0?t=0:t>23&&(t=23);break;case"Millisecond":t<0?t=0:t>99&&(t=99);break;case"Minute":t<0?t=0:t>59&&(t=59);break;case"Month":t<1?t=1:t>12&&(t=12);break;case"Second":t<0?t=0:t>59&&(t=59);break;case"Year":t<this.minDate.year?t=this.minDate.year:t>this.maxDate.year&&(t=this.maxDate.year)}this.editors[i].value!=t&&(this.editors[i].value=t,r=!0)}this.updateValue();this.value!=null&&n===!0&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){var r=this.value,n,i,t;if(r!=null){if(this.activeEditor!=null){if(n=this.editors.indexOf(this.activeEditor),n==-1)return;this.items[n].type=="Day"&&this.value!=null&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));i=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection);this.activeEditor.positions=i}this.isEditing&&(this.isEditing=!1);this.updateValue();this.isEditing=!0;this._updateText();t=this.editors.indexOf(this.activeEditor);t>=0&&this._selectGroup(t)}},spinDown:function(){var r=this.value,n,i,t;if(r!=null){if(this.activeEditor!=null){if(n=this.editors.indexOf(this.activeEditor),n==-1)return;this.items[n].type=="Day"&&this.value!=null&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));i=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection);this.activeEditor.positions=i}this.isEditing&&(this.isEditing=!1);this.updateValue();this.isEditing=!0;this._updateText();t=this.editors.indexOf(this.activeEditor);t>=0&&this._selectGroup(t)}},_passKeyToCalendar:function(n){var t,i;if(n.keyCode==13||n.keyCode==9)return this.hideCalendar("selected"),!0;if(n.keyCode==27){var u=this.calendarContainer,r=this._calendar,t=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;r.setDate(this.value.dateTime);this.closeCalendarAfterSelection=t;this.hideCalendar()}return t=this.closeCalendarAfterSelection,this.closeCalendarAfterSelection=!1,i=this._calendar._handleKey(n),this.closeCalendarAfterSelection=t,i},handleCalendarKey:function(t,i){var u=n(t.target),r=n.data(document.body,"openedJQXCalendar"+this.id);return r!=null&&r.length>0?i._passKeyToCalendar(t):!0},_findPos:function(t){if(t!=null){while(t&&(t.type=="hidden"||t.nodeType!=1||n.expr.filters.hidden(t)))t=t.nextSibling;var i=n(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,r){var u=t.outerWidth(),f=t.outerHeight(),h=n(window).width()+n(window).scrollLeft(),e=n(window).height()+n(window).scrollTop(),o,s;return i.left+u>h&&u>this.host.width()&&(o=this.host.coord().left,s=u-this.host.width(),i.left=o-s+2),i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+f>e&&e>f?Math.abs(f+r+23):0),i},open:function(){this.showCalendar()},close:function(){this.hideCalendar()},_getBodyOffset:function(){var t=0,i=0;return n("body").css("border-top-width")!="0px"&&(t=parseInt(n("body").css("border-top-width")),isNaN(t)&&(t=0)),n("body").css("border-left-width")!="0px"&&(i=parseInt(n("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showCalendar:function(){var t=this.calendarContainer,e=this._calendar,h,v,y,p,c,l,o,w,f,a;n.jqx.aria(this,"aria-expanded",!0);this._oldDT=this.value!=null?this.selectionMode!="range"?new Date(this.value.dateTime):this.getRange():null;e.canRender||(e.canRender=!0,e.render());var b=this.container,i=this,k=n(window).scrollTop(),d=n(window).scrollLeft(),r=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px",u,s=parseInt(Math.round(this.host.coord(!0).left));u=s+"px";h=n.jqx.mobile.isSafariMobileBrowser()||n.jqx.mobile.isWindowsPhone();v=n.jqx.utilities.hasTransform(this.host);(v||h!=null&&h)&&(u=n.jqx.mobile.getLeftPos(this.element),r=n.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),n("body").css("border-top-width")!="0px"&&(r=parseInt(r)-this._getBodyOffset().top+"px"),n("body").css("border-left-width")!="0px"&&(u=parseInt(u)-this._getBodyOffset().left+"px"));this.container.css("left",u);this.container.css("top",r);y=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;this.isEditing=!1;i.selectionMode=="default"&&(this._validateValue(),this._updateText(),p=this.value!=null?this.value.dateTime:new Date,e.setDate(p));this.closeCalendarAfterSelection=y;c=!1;(this.dropDownHorizontalAlignment=="right"||this.rtl)&&(l=this.container.outerWidth(),o=Math.abs(l-this.host.outerWidth()+2),this.rtl||(o-=2),l>this.host.width()?(w=23,this.container.css("left",w+parseInt(Math.round(s))-o+"px")):this.container.css("left",25+parseInt(Math.round(s))+o+"px"));this.enableBrowserBoundsDetection&&(f=this.testOffset(t,{left:parseInt(this.container.css("left")),top:parseInt(r)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=f.top?(c=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"))):t.css("top",0),this.container.css("top",f.top),parseInt(this.container.css("left"))!=f.left&&this.container.css("left",f.left));this._raiseEvent(7,t);this.animationType!="none"?(this.container.css("display","block"),a=parseInt(t.outerHeight()),t.stop(),this.isanimating=!0,this.opening=!0,this.animationType=="fade"?(t.css("margin-top",0),t.css("opacity",0),t.animate({opacity:1},this.openDelay,function(){i.isanimating=!1;i.opening=!1;n.data(document.body,"openedJQXCalendar"+i.id,t);i.calendarContainer.focus()})):(t.css("opacity",1),c?t.css("margin-top",a):t.css("margin-top",-a),t.animate({"margin-top":0},this.openDelay,function(){i.isanimating=!1;i.opening=!1;n.data(document.body,"openedJQXCalendar"+i.id,t);i.calendarContainer.focus()}))):(t.stop(),i.isanimating=!1,i.opening=!1,t.css("opacity",1),t.css("margin-top",0),this.container.css("display","block"),n.data(document.body,"openedJQXCalendar"+i.id,t),this.calendarContainer.focus());this.value==null&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1);this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed"));this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover"));this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(t){var i=this.calendarContainer,r=this.container,e=this,u,f;n.jqx.aria(this,"aria-expanded",!1);n.data(document.body,"openedJQXCalendar"+this.id,null);this.animationType!="none"?(u=i.outerHeight(),i.css("margin-top",0),this.isanimating=!0,f=-u,parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(f=u),this.animationType=="fade"?i.animate({opacity:0},this.closeDelay,function(){r.css("display","none");e.isanimating=!1}):i.animate({"margin-top":f},this.closeDelay,function(){r.css("display","none");e.isanimating=!1})):r.css("display","none");t!=undefined&&this._updateSelectedDate();this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed"));this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover"));this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent(8,i)},_updateSelectedDate:function(){var t=this.value,i;t==null&&(t=new n.jqx._jqxDateTimeInput.getDateTime(new Date),t._setHours(0),t._setMinutes(0),t._setSeconds(0),t._setMilliseconds(0));var r=t.hour,u=t.minute,f=t.second,e=t.millisecond;if(this.selectionMode=="range"&&this._calendar.getRange().from==null){this.setDate(null);return}i=new n.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);i._setHours(r);i._setMinutes(u);i._setSeconds(f);i._setMilliseconds(e);this.setDate(i.dateTime)},_closeOpenedCalendar:function(t){var o=n(t.target),i=n.data(document.body,"openedJQXCalendar"+t.data.me.id),r=!1;if(n.each(o.parents(),function(){if(this.className&&this.className.indexOf&&(this.className.indexOf("jqx-calendar")!=-1||this.className.indexOf("jqx-input")!=-1))return r=!0,!1}),n(t.target).ischildof(t.data.me.host))return!0;if(t.target!=null&&(t.target.tagName=="B"||t.target.tagName=="b")){var u=t.data.me.host.coord(),s=t.data.me.host.width(),h=t.data.me.host.height(),f=parseInt(u.top),e=parseInt(u.left);if(f<=t.pageY&&t.pageY<=f+h&&e<=t.pageX&&t.pageX<=e+s)return!0}if(i!=null&&!r&&i.length>0){var c=i[0].id.toString(),l=c.toString().substring(13),a=n(document).find("#"+l);t.data.me.hideCalendar();n.data(document.body,"openedJQXCalendar"+t.data.me.id,null)}},_loadItems:function(){var t,n,i;if(this.value!=null)for(this.items=[],t=this._getFormatValue(this.formatString),this.items=this._parseFormatValue(t),this.editors=[],n=0;n<this.items.length;n++)i=this.items[n].getDateTimeEditorByItemType(this.value,this),this.editors[n]=i;this._updateEditorsValue();this._updateText()},_updateText:function(){var t=this,i="",u,r,f,e;t.items.length==0&&t.value!=null&&t._loadItems();t.value!=null&&(t.items.length>=1&&(i=t.format(t.value,0,t.items.length)),u=t.dateTimeInput.val(),u!=i&&t._raiseEvent(1,t.value));t.selectionMode=="range"&&(r=t.getRange(),fromText=t.format(t.value,0,t.items.length),r.to?(f=n.jqx._jqxDateTimeInput.getDateTime(r.from),fromText=t.format(f,0,t.items.length),e=n.jqx._jqxDateTimeInput.getDateTime(r.to),toText=t.format(e,0,t.items.length),i=fromText+" - "+toText,i==" - "&&(i="")):i="");t.dateTimeInput.val(i)},format:function(n,t,i){for(var u,f,e="",r=t;r<i;++r){if(u=this.items[r].dateParser(n,this),this.isEditing&&this.items[r].type!="ReadOnly"&&this.selectionMode!="range"&&(f=this.items[r].type=="Day"&&this.items[r].format.length>2,this.items[r].type=="FORMAT_AMPM"&&(f=!0,u=this.editors[r].value==0?this.editors[r].amString:this.editors[r].pmString),!f))for(u=this.items[r].dateParserInEditMode(new Number(this.editors[r].value),"d"+this.editors[r].maxEditPositions,this);u.length<this.editors[r].maxEditPositions;)u="0"+u;e+=u}return e},_getFormatValueGroupLength:function(n){for(i=1;i<n.toString().length;++i)if(n.substring(i,i+1)!=n.substring(0,1))return i;return n.length},_parseFormatValue:function(t){for(var e=[],r=t.toString(),o=0,i,u,f;r.length>0;){i=this._getFormatValueGroupLength(r);u=null;switch(r.substring(0,1)){case":":case"/":i=1;u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":f=r.indexOf(r[0],1);u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(1,1+Math.max(1,f-1)),"ReadOnly",this.culture);i=Math.max(1,f+1);break;case"\\":r.length>=2&&(u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(1,1),"ReadOnly",this.culture),i=2);break;case"d":case"D":u=i>2?n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"Day",this.culture):n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"Day",this.culture);break;case"f":case"F":i>7&&(i=7);u=i>3?n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"ReadOnly",this.culture):n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"Millisecond",this.culture);break;case"g":u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"ReadOnly",this.culture);break;case"h":u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"FORMAT_hh",this.culture);break;case"H":u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"FORMAT_HH",this.culture);break;case"m":u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"Minute",this.culture);break;case"M":i>4&&(i=4);u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"Month",this.culture);break;case"s":case"S":u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"Second",this.culture);break;case"t":case"T":u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"FORMAT_AMPM",this.culture);break;case"y":case"Y":i>1?u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"Year",this.culture):(i=1,u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,i),"ReadOnly",this.culture);break;default:i=1;u=n.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,1),"ReadOnly",this.culture)}e[o]=n.extend(!0,{},u);r=r.substring(i);o++}return e},_getFormatValue:function(n){if((n==null||n.length==0)&&(n="d"),n.length==1)switch(n.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return n.length==2&&n.substring(0,1)=="%"&&(n=n.substring(1)),n},_updateEditorsValue:function(){var t=this.value,n,i;if(t!=null){var u=t.year,f=t.day,r=t.hour,e=t.millisecond,o=t.second,s=t.minute,h=t.month;if(this.items!=null)for(n=0;n<this.items.length;n++)switch(this.items[n].type){case"FORMAT_AMPM":i=r%12;i==0&&(i=12);this.editors[n].value=r>=0&&r<12?0:1;break;case"Day":this.editors[n].value=f;break;case"FORMAT_hh":i=r%12;i==0&&(i=12);this.editors[n].value=i;break;case"FORMAT_HH":this.editors[n].value=r;break;case"Millisecond":this.editors[n].value=e;break;case"Minute":this.editors[n].value=s;break;case"Month":this.editors[n].value=h;break;case"Second":this.editors[n].value=o;break;case"Year":this.editors[n].value=u}}},updateValue:function(){var t,k,d,h,g,nt,f,o,ft,tt,y,it,et;if(!this.isEditing&&(!this.items||this.items.length!=0)){var r=1,u=1,e=0,c=0,l=0,a=0,i=1,rt=0,p=!1,w=!1,b=!1,s=[],v=null,ut=0;for(t=0;t<this.items.length;t++)switch(this.items[t].type){case"FORMAT_AMPM":rt=this.editors[t].value;v=this.editors[t];break;case"Day":this.items[t].format.length<3&&(u=this.editors[t].value,s[ut++]=this.editors[t],u==0&&(u=1),b=!0);break;case"FORMAT_hh":k=this.editors[t];e=k.value;break;case"FORMAT_HH":e=this.editors[t].value;break;case"Millisecond":c=this.editors[t].value;break;case"Minute":a=this.editors[t].value;break;case"Month":i=this.editors[t].value;w=!0;i==0&&(i=1);break;case"Second":l=this.editors[t].value;break;case"Year":p=!0;r=this.editors[t].value;d=this.editors[t].getDateTimeItem().format;d.length<3&&(h="1900",h.Length==4&&(g=""+h[0]+h[1],nt=parseInt(g),r=r+nt*100));r==0&&(r=1)}if(f=this.value!=null?new Date(this.value.dateTime):null,r>0&&i>0&&u>0&&a>=0&&e>=0&&l>=0&&c>=0){o=this.value;o!=null&&(p||(r=o.year),w||(i=o.month),b||(u=o.day));try{if(i>12&&(i=12),i<1&&(i=1),o._daysInMonth(r,i)<=u&&(u=o._daysInMonth(r,i),s!=null&&s.length>0))for(t=0;t<s.length;t++)s[t].value=u;v!=null&&(v.value==0?e>=12&&(e-=12):e+12<24&&(e+=12));ft=this.value.dateTime.getDate();this.value._setYear(parseInt(r));this.value._setDay(u);this.value._setMonth(i);this.value._setHours(e);this.value._setMinutes(a);this.value._setSeconds(l);this.value._setMilliseconds(c)}catch(ot){this.value=o}f!=null&&(tt=this.value.dateTime.getFullYear()==f.getFullYear()&&this.value.dateTime.getDate()==f.getDate()&&this.value.dateTime.getMonth()==f.getMonth()&&this.value.dateTime.getHours()==f.getHours()&&this.value.dateTime.getMinutes()==f.getMinutes()&&this.value.dateTime.getSeconds()==f.getSeconds(),tt||(this.changing&&(y=this.changing(f,this.value.dateTime),y&&(this.value=n.jqx._jqxDateTimeInput.getDateTime(y))),this._raiseEvent("0",this.value.dateTime),this.cookies&&this.value!=null&&n.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)))}it=this.editors.indexOf(this.activeEditor);et=this.items[it];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(n){this.value._setYear(parseInt(n.year));this.value._setDay(n.day);this.value._setMonth(n.month);this.value._setHours(n.hour);this.value._setMinutes(n.minute);this.value._setSeconds(n.second);this.value._setMilliseconds(n.milisecond)},_raiseEvent:function(t,i){var v=this.events[t],a={},r,e,o,l;a.owner=this;i==null&&(i={});var s=i.charCode?i.charCode:i.keyCode?i.keyCode:0,h=!0,c=this.readonly,f=new n.Event(v);if(f.owner=this,f.args=a,f.args.date=this.getDate(),this.element.value=this.dateTimeInput.val(),t==9&&this.selectionMode!="range"&&(r=f.args.date,this._oldDT)){if(r!=null&&!(r.getFullYear()!=this._oldDT.getFullYear()||r.getMonth()!=this._oldDT.getMonth()||r.getDate()!=this._oldDT.getDate()||r.getHours()!=this._oldDT.getHours()||r.getMinutes()!=this._oldDT.getMinutes()||r.getSeconds()!=this._oldDT.getSeconds()))return!0;n.jqx.aria(this,"aria-valuenow",this.getDate());n.jqx.aria(this,"aria-valuetext",this.getText());this.getDate()!=null?n.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):n.jqx.aria(this,"aria-label","Current focused date is Null")}if(this.selectionMode=="range"&&(f.args.date=this.getRange(),this._oldDT&&(r=f.args.date.from,t==9))){var e=!1,o=!1,u=this._oldDT.from;if(r!=null&&u&&(r.getFullYear()!=u.getFullYear()||r.getMonth()!=u.getMonth()||r.getDate()!=u.getDate()||r.getHours()!=u.getHours()||r.getMinutes()!=u.getMinutes()||r.getSeconds()!=u.getSeconds()||(e=!0)),r=f.args.date.to,r!=null&&(u=this._oldDT.to,u&&(r.getFullYear()!=u.getFullYear()||r.getMonth()!=u.getMonth()||r.getDate()!=u.getDate()||r.getHours()!=u.getHours()||r.getMinutes()!=u.getMinutes()||r.getSeconds()!=u.getSeconds()||(o=!0))),e&&o)return!0;e=f.args.date.from;e=e==null?"":e.toString();o=f.args.date.to;o=o==null?"":o.toString();n.jqx.aria(this,"aria-valuenow",e+"-"+o);n.jqx.aria(this,"aria-valuetext",this.getText());e&&o&&n.jqx.aria(this,"aria-label","Current focused range is "+e.toLocaleString()+"-"+o.toLocaleString())}if(this.host.css("display")=="none")return!0;if(t!=2&&t!=3&&t!=4&&t!=5&&t!=6&&(h=this.host.trigger(f),f.stopPropagation&&f.stopPropagation()),l=this,c||t!=2||this.disabled||setTimeout(function(){l.isEditing=!0;this.selectionMode=="range"?l._selectGroup(-1):l._selectGroup(-1)},25),t==4){if(c||this.disabled)return((s==8||s==46)&&(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):this.selectionMode!="range"?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),s==9)?!0:!1;h=this._handleKeyDown(i,s)}else if(t==5){if(s==9)return!0;if(c||this.disabled)return!1}else if(t==6){if(s==9)return!0;if(c||this.disabled)return!1;h=this._handleKeyPress(i,s)}return h},_doLeftKey:function(){if(this.activeEditor!=null){this.isEditing||(this.isEditing=!0);var t=this.activeEditor,i=!1,n=this.editors.indexOf(this.activeEditor),r=n;if(this.enableAbsoluteSelection&&n>=0&&this.activeEditor.positions>0){this.activeEditor.positions--;this._selectGroup(n);return}while(n>0)if(this.activeEditor=this.editors[--n],this._selectGroup(n),this.items[n].type!="ReadOnly"){i=!0;break}return i||r>=0&&(this.activeEditor=this.editors[r]),this.activeEditor!=null&&t!=this.activeEditor&&this.items[n].type!="ReadOnly"&&(this.activeEditor.positions=this.enableAbsoluteSelection?this.activeEditor.maxEditPositions-1:0),this.activeEditor!=t?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_doRightKey:function(){if(this.activeEditor!=null){this.isEditing||(this.isEditing=!0);var t=this.activeEditor,i=!1,n=this.editors.indexOf(this.activeEditor),r=n;if(this.enableAbsoluteSelection&&n>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1){this.activeEditor.positions++;this._selectGroup(n);return}while(n<=this.editors.length-2)if(this.activeEditor=this.editors[++n],this._selectGroup(n),this.items[n].type!="ReadOnly"){if(this.items[n].type=="Day"&&this.items[n].format.length>2)break;i=!0;break}return i||r>=0&&(this.activeEditor=this.editors[r]),this.activeEditor!=null&&this.activeEditor!=t&&this.items[n].type!="ReadOnly"&&(this.activeEditor.positions=0),this.activeEditor!=t?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_saveSelectedText:function(){var n=this._selection(),t="",r=this.dateTimeInput.val();if(n.start>0||n.length>0)for(i=n.start;i<n.end;i++)t+=r[i];return window.clipboardData.setData("Text",t),t},_selectWithAdvancePattern:function(){var r=this.editors.indexOf(this.activeEditor),u=!1,t,f,n,i;if((this.items[r].type!="ReadOnly"&&(u=!0),u)&&(t=this.activeEditor,t!=null&&(f=t.positions==t.maxEditPositions,f))){this.editorText="";n=t.value;i=!1;switch(this.items[r].type){case"FORMAT_AMPM":n<0?n=0:n>1&&(n=1);break;case"Day":n<1?n=1:n>31&&(n=31);break;case"FORMAT_hh":n<1?n=1:n>12&&(n=12);break;case"FORMAT_HH":n<0?n=0:n>23&&(n=23);break;case"Millisecond":n<0?n=0:n>99&&(n=99);break;case"Minute":n<0?n=0:n>59&&(n=59);break;case"Month":n<1?n=1:n>12&&(n=12);break;case"Second":n<0?n=0:n>59&&(n=59);break;case"Year":n<this.minDate.year?n=this.minDate.year:n>this.maxDate.year&&(n=this.maxDate.year)}return(t.value!=n&&(i=!0),!i)?(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0):!1}},_handleKeyPress:function(n,t){var r=this._selection(),f=this,i,e,o,s;if(n.ctrlKey&&t==97||n.ctrlKey&&t==65)return!0;if(t==8)return r.start>0&&f._setSelectionStart(r.start),!1;if(t==46)return r.start<this.items.length&&f._setSelectionStart(r.start),!1;if(r.start>=0&&(i=String.fromCharCode(t),e=parseInt(i),(i=="p"||i=="a"||i=="A"||i=="P")&&this.activeEditor.item.type=="FORMAT_AMPM"&&(this.activeEditor.value==0&&(i=="p"||i=="P")?this.spinUp():this.activeEditor.value==1&&(i=="a"||i=="A")&&this.spinDown()),!isNaN(e))){this.container.css("display")=="block"&&this.hideCalendar();this.updateValue();this._updateText();var h=!1,c=this.editors.indexOf(this.activeEditor),u=null;return(this.isEditing=!0,c.type!="ReadOnly"&&(u=this.activeEditor),u!=null&&u.positions==0&&(this.editorText=""),this.activeEditor==null&&(this.activeEditor=this.editors[0]),this.activeEditor==null)?!1:(this.activeEditor.insert(i),u!=null&&this.editorText.length>=u.maxEditPositions&&(this.editorText=""),this.editorText+=i,o=this._selectWithAdvancePattern(),this.activeEditor.positions==this.activeEditor.maxEditPositions&&(s=this._getLastEditableEditorIndex(),this.activeEditor.positions=this.editors.indexOf(this.activeEditor)==s&&o&&this.enableAbsoluteSelection?this.activeEditor.maxEditPositions-1:0),h=!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1)}return this._isSpecialKey(t)},_getLastEditableEditorIndex:function(){var n=this;for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if(this.items[itemIndex].type!="ReadOnly")return itemIndex;return-1},_handleKeyDown:function(t,i){var s,f,e,u,r,o;if(t.keyCode==115){if(this.isOpened())return this.hideCalendar(),!1;if(!this.isOpened())return this.showCalendar(),!1}if(t.altKey)if(t.keyCode==38){if(this.isOpened())return this.hideCalendar(),!1}else if(t.keyCode==40&&!this.isOpened())return this.showCalendar(),!1;return this.isOpened()?t.keyCode==9?(this.hideCalendar("selected"),!0):void 0:(s=this._selection(),t.ctrlKey&&i==99||t.ctrlKey&&i==67)?(this._saveSelectedText(t),!1):t.ctrlKey&&i==122||t.ctrlKey&&i==90?!1:t.ctrlKey&&i==118||t.ctrlKey&&i==86||t.shiftKey&&i==45?!1:i==8||i==46?(t.altKey||t.ctrlKey||i!=46?this.activeEditor!=null&&(f=this.editors.indexOf(this.activeEditor),this.activeEditor.positions>=0?(e=this._format(Number(this.activeEditor.value),"d"+this.activeEditor.maxEditPositions,this.culture),tmp=e,tmp=tmp.substring(0,this.activeEditor.positions)+"0"+tmp.substring(this.activeEditor.positions+1),parseInt(tmp)<this.activeEditor.minValue&&(tmp=this._format(Number(this.activeEditor.minValue),"d"+this.activeEditor.maxEditPositions,this.culture)),this.activeEditor.value=this.enableAbsoluteSelection?tmp:this.activeEditor.minValue,this._validateValue(),this._updateText(),i==8?(u=this,this.enableAbsoluteSelection&&this.activeEditor.positions>0?setTimeout(function(){u.activeEditor.positions=u.activeEditor.positions-1;u._selectGroup(f)},10):setTimeout(function(){u._doLeftKey()},10)):this._selectGroup(f)):this._doLeftKey()):(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):this.selectionMode!="range"?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),!1):i==38?(this.spinUp(),!1):i==40?(this.spinDown(),!1):i==37?this._editor?(r=this._doLeftKey(),r||(this.isEditing=!1,this._validateValue()),!r):(this._doLeftKey(),!1):i==39||i==191?this._editor?(r=this._doRightKey(),r||(this.isEditing=!1,this._validateValue()),!r):(this._doRightKey(),!1):(o=this._isSpecialKey(i),this.value==null&&(i>=48&&i<=57||i>=96&&i<=105)&&(new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),!n.jqx.browser.mozilla)?!0:n.jqx.browser.mozilla&&n.jqx.browser.version>24?!0:o},_isSpecialKey:function(n){return n!=8&&n!=9&&n!=13&&n!=35&&n!=36&&n!=37&&n!=39&&n!=27&&n!=46?!1:!0},_selection:function(){var n,t,r,u,i;return"selectionStart"in this.dateTimeInput[0]?(n=this.dateTimeInput[0],i=n.selectionEnd-n.selectionStart,{start:n.selectionStart,end:n.selectionEnd,length:i,text:n.value}):(t=document.selection.createRange(),t==null)?{start:0,end:n.value.length,length:0}:(r=this.dateTimeInput[0].createTextRange(),u=r.duplicate(),r.moveToBookmark(t.getBookmark()),u.setEndPoint("EndToStart",r),i=t.text.length,{start:u.text.length,end:u.text.length+t.text.length,length:i,text:t.text})},_selectGroup:function(n,t){var t,i,h,u,f,s,c;if(this.host.css("display")!="none"&&!this.readonly){t||(t=this._selection());var e="",r="",o=null;for(i=0;i<this.items.length;i++){if(r=this.items[i].dateParser(this.value,this),this.isEditing&&this.items[i].type!="ReadOnly"&&(h=this.items[i].type=="Day"&&this.items[i].format.length>2,!h&&this.items[i].type!="FORMAT_AMPM"))for(r=this.items[i].dateParserInEditMode(new Number(this.editors[i].value),"d"+this.editors[i].maxEditPositions,this);r.length<this.editors[i].maxEditPositions;)r="0"+r;if((e+=r,this.items[i].type!="ReadOnly")&&(this.items[i].type!="Day"||!(this.items[i].format.length>2)))if(n!=undefined&&n!=-1){if(i>=n){u=e.length-r.length;f=r.length;this.enableAbsoluteSelection&&!isNaN(parseInt(r))&&this.isEditing&&n!=-1&&(f=1,u+=this.editors[i].positions);u==this.dateTimeInput.val().length&&u--;this._setSelection(u,u+f);o=this.editors[i];this.activeEditor=o;break}}else if(e.length>=t.start){o=this.editors[i];this.activeEditor=o;u=e.length-r.length;f=1;this.enableAbsoluteSelection?!isNaN(parseInt(r))&&this.isEditing&&n!=-1&&(f=1,u+=this.editors[i].positions):f=r.length;this._setSelection(u,u+f);break}}i<this.items.length&&n==-1&&this.items[i].type!="ReadOnly"&&(this.activeEditor.positions=0);s=this._selection();s.length==0&&s.start>0&&(c=this._getLastEditableEditorIndex(),c>=0)}},_getLastEditableEditorIndex:function(){var n=-1;for(i=0;i<this.editors.length;i++)this.items[i].type!="ReadOnly"&&(this.items[i].type=="Day"&&this.items[i].format.length>2||(n=i));return n},_setSelection:function(n,t){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(n,t);else{var i=this.dateTimeInput[0].createTextRange();i.collapse(!0);i.moveEnd("character",t);i.moveStart("character",n);i.select()}}catch(r){}},_setSelectionStart:function(n){this._setSelection(n,n)},destroy:function(){this.host.removeClass("jqx-rc-all");this._calendar.destroy();this.container.remove();this._removeHandlers();this.dateTimeInput.remove();this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(n){n!=!0&&(this._setSize(),this._arrange())},resize:function(n,t){this.width=n;this.height=t;this.refresh()},_setOption:function(n,t){n==="value"&&(this.value=t,this._refreshValue(),this._raiseEvent(9,{}));n=="maxDate"&&(this._calendar.maxDate=t,this._raiseEvent(9,{}));n=="minDate"&&(this._calendar.minDate=t,this._raiseEvent(9,{}));n=="showCalendarButton"&&(t?this.calendarButton.css("display","block"):this.calendarButton.css("display","none"));n=="disabled"&&this.dateTimeInput.attr("disabled",t);n=="readonly"&&(this.readonly=t,this.dateTimeInput.css("readonly",t));n=="textAlign"&&(this.dateTimeInput.css("text-align",t),this.textAlign=t);n=="width"?(this.width=t,this.width=parseInt(this.width),this._arrange()):n=="height"&&(this.height=t,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue();this.updateValue();this._validateValue();this._updateText()}})}(jqxBaseFramework),function(n){n.jqx._jqxDateTimeInput.DateTimeFormatItem={};n.extend(n.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(n,t,i){return this.format=n,this.type=t,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(n,t){if(n==null)return"";return t._format(n.dateTime,this.format.length==1?"%"+this.format:this.format,this.culture)},dateParserInEditMode:function(n,t,i){if(n==null)return"";return i._format(n.toString(),t.length==1?"%"+t:t,this.culture)},getDateTimeEditorByItemType:function(t,i){var e,o,s,f,h,c,u,l,a,v,y,p,w,b,k,r;switch(this.type){case"FORMAT_AMPM":return e=n.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,t.hour/12,i.localization.calendar.AM[0],i.localization.calendar.PM[0],this,i),r=n.extend({},e),r;case"Character":return null;case"Day":return o=t.year,s=t.month,f=this.format.length==3?i.localization.calendar.days.namesAbbr:this.format.length>3?i.localization.calendar.days.names:null,h=t.day,f!=null&&(h=t.dayOfWeek+1),c=n.jqx._jqxDateTimeInput.DateEditor._createDayEditor(t,t.day,1,t._daysInMonth(o,s),this.format.length==1?1:2,2,f,this,i),r=n.extend({},c),r;case"FORMAT_hh":return u=t.hour%12,u==0&&(u=12),l=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(u,1,12,this.format.length==1?1:2,2,this,i),r=n.extend({},l),r;case"FORMAT_HH":return a=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.hour,0,23,this.format.length==1?1:2,2,this,i),r=n.extend({},a),r;case"Millisecond":return v=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,i),r=n.extend({},v),r;case"Minute":return y=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.minute,0,59,this.format.length==1?1:2,2,this,i),r=n.extend({},y),r;case"Month":return p=this.format.length==3?i.localization.calendar.months.namesAbbr:this.format.length>3?i.localization.calendar.months.names:null,w=n.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(t.month,this.format.length==2?2:1,p,this,i),r=n.extend({},w),r;case"ReadOnly":return n.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,t.day,this,i);case"Second":return b=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.second,0,59,this.format.length==1?1:2,2,this,i),r=n.extend({},b),r;case"Year":return k=n.jqx._jqxDateTimeInput.DateEditor._createYearEditor(t.year,this.format.length,this,i),r=n.extend({},k),r}return null}})}(jqxBaseFramework),function(n){n.jqx._jqxDateTimeInput.DateEditor=n.extend(n.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears?this.formatValueLength==4?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions:this.minEditPositions},initializeFields:function(n,t,i,r,u){this.minValue=n;this.maxValue=t;this.minEditPositions=i;this.maxEditPositions=r;this.updateActiveEditor(n);this.item=u},_createYearEditor:function(t,i,r,u){return n.jqx._jqxDateTimeInput.DateEditor=n.extend(!0,{},this),this.initializeFields(i<=4?0:0,i<4?99:9999,i==2?2:1,i>3?4:2,r),this.initializeYearEditor(t,i,r.culture),this.handleYears=!0,this.that=u,this},initializeYearEditor:function(n,t,i){this.formatValueLength=t;this.dateTimeFormatInfo=i;var r=n;r=Math.min(r,9999);r=Math.max(r,1);r=this.formatValueLength<4?r%100:r;this.updateActiveEditor(r);this.value=r},updateActiveEditor:function(n){this.value=n;this.positions=0},_createDayEditor:function(t,i,r,u,f,e,o,s,h){return n.jqx._jqxDateTimeInput.DateEditor=n.extend(!0,{},this),this.initializeFields(r,u,1,e,s),this.currentValue=t,this.value=i,this.days=o,this.handleDays=!0,this.that=h,this},getDayOfWeek:function(t){return typeof this.currentValue==n.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},defaultTextValue:function(){var i=this.value,n=this.minEditPositions,t=n;return this.that._format(this.value,"d"+t,"")},textValue:function(){if(this.handleDays){if(this.days==null)return this.defaultTextValue();var n=this.value%7+1;return n=this.getDayOfWeek(n),this.days[n]}return this.handleMonths?this.dateTimeMonths==null||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(n){var i;if(n==null||n.length==0)return this.deleteValue();if(i=n.substring(0,1),!isNaN(i)){var t,r=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return t=r,this.positions>=this.maxEditPositions&&(this.positions=0),t=t.substring(0,this.positions)+i+t.substring(this.positions+1),t=this.setValueByString(t,1),!0}},setValueByString:function(n,t){n=this.fixValueString(n);var i=new Number(n);return this.value=i,this.positions+=t,n},fixValueString:function(n){return n.length>this.maxEditPositions&&(n=n.substring(n.length-this.maxEditPositions)),n},initializeValueString:function(n){var t;return t="",this.hasDigits()&&(t=n),t},deleteValue:function(){return this.value==this.minValue&&this.hasDigits()==!1?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(n){var t;return this.handleDays?this.days!=null&&((t=!1,t=this.insertLongString(n,t),t)||(t=this.insertShortString(n,t),t))?t:(this.value==1&&this.lastDayInput!=null&&this.lastDayInput.toString().length>0&&this.lastDayInput.toString()=="0"&&(this.value=0),this.lastDayInput=n,this.defaultInsertString(n)):this.handleMonths&&this.dateTimeMonths!=null&&((t=!1,t=this.insertLongString2(n,t),t)||(t=this.insertShortString2(n,t),t))?t:this.defaultInsertString(n)},insertShortString:function(n,t){if(n.length==1)for(i=0;i<6;++i){var r=(this.value+i)%7+1,u=this.days[r-1];if(u.substring(0,1)==n)return this.updateActiveEditor(r),!0}return t},insertLongString:function(n,t){if(n.length>0)for(i=0;i<6;++i){var r=(this.value+i)%7+1;if(this.days[r-1]==n)return this.updateActiveEditor(r),!0}return t},_createMonthEditor:function(t,i,r,u,f){return n.jqx._jqxDateTimeInput.DateEditor=n.extend(!0,{},this),this.initializeFields(1,12,i,2,u),this.dateTimeMonths=r,this.value=t,this.dateTimeMonths!=null&&this.dateTimeMonths[12]!=null&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=f,this},insertLongString2:function(n,t){if(n.length>0)for(i=0;i<11;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==n)return this.updateActiveEditor(month),!0;return t},insertShortString2:function(n,t){if(n.length==1)for(i=0;i<11;++i){var r=(this.value+i)%12+1,u=this.dateTimeMonths[r-1];if(u.substring(0,1)==n)return this.updateActiveEditor(r),!0}return t},correctMaximumValue:function(n){return n>this.maxValue&&(n=this.minValue),n},correctMinimumValue:function(n){return n<this.minValue&&(n=this.maxValue),n},increaseValue:function(n){var r=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),t=r.toString()[this.positions],i,u;return(t=parseInt(t)+1,t>9&&(t=0),!n)?(i=this.value+1,i=this.correctMaximumValue(i),this.updateActiveEditor(i),!0):(u=r.substring(0,this.positions)+t+r.substring(this.positions+1),u!=this.value||this.hasDigits()?(this.updateActiveEditor(u),!0):!1)},decreaseValue:function(n){var r=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),t=r.toString()[this.positions],i,u;return(t=parseInt(t)-1,t<0&&(t=9),!n)?(i=this.value-1,i=this.correctMinimumValue(i),this.updateActiveEditor(i),!0):(u=r.substring(0,this.positions)+t+r.substring(this.positions+1),u!=this.value||this.hasDigits()?(this.updateActiveEditor(u),!0):!1)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(n){n.jqx._jqxDateTimeInput.NumberEditor={};n.extend(n.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears?this.formatValueLength==4?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions:this.minEditPositions},_createNumberEditor:function(t,i,r,u,f,e,o){return n.jqx._jqxDateTimeInput.NumberEditor=n.extend(!0,{},this),this.initializeFields(i,r,u,f,e),this.that=o,this},initializeFields:function(n,t,i,r,u){this.minValue=n;this.maxValue=t;this.minEditPositions=i;this.maxEditPositions=r;this.updateActiveEditor(n);this.item=u},updateActiveEditor:function(n){this.value=n;this.positions=0},getDayOfWeek:function(t){return typeof this.currentValue==n.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},textValue:function(){var i=this.value,n=this.minEditPositions,t=n;return this.that._format(this.value,"d"+t,"")},insert:function(n){var i;if(n==null||n.length==0)return this.deleteValue();if(i=n.substring(0,1),!isNaN(i)){var t,r=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return t=r,this.positions>=this.maxEditPositions&&(this.positions=0),t=t.substring(0,this.positions)+i+t.substring(this.positions+1),t=this.setValueByString(t,1),!0}},setValueByString:function(n,t){n=this.fixValueString(n);var i=new Number(n);return this.value=i,this.positions+=t,n},fixValueString:function(n){return n.length>this.maxEditPositions&&(n=n.substring(n.length-this.maxEditPositions)),n},initializeValueString:function(n){var t;return t="",this.hasDigits()&&(t=n),t},deleteValue:function(){return this.value==this.minValue&&this.hasDigits()==!1?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(n){return n>this.maxValue&&(n=this.minValue),n},correctMinimumValue:function(n){return n<this.minValue&&(n=this.maxValue),n},increaseValue:function(n){var r=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),t=r.toString()[this.positions],i,u;return(t=parseInt(t)+1,t>9&&(t=0),!n)?(i=this.value+1,i=this.correctMaximumValue(i),this.updateActiveEditor(i),!0):(u=r.substring(0,this.positions)+t+r.substring(this.positions+1),u!=this.value||this.hasDigits()?(this.updateActiveEditor(u),!0):!1)},decreaseValue:function(n){var r=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),t=r.toString()[this.positions],i,u;return(t=parseInt(t)-1,t<0&&(t=9),!n)?(i=this.value-1,i=this.correctMinimumValue(i),this.updateActiveEditor(i),!0):(u=r.substring(0,this.positions)+t+r.substring(this.positions+1),u!=this.value||this.hasDigits()?(this.updateActiveEditor(u),!0):!1)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(n){n.jqx._jqxDateTimeInput.DisabledEditor={};n.extend(n.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(n,t,i,r,u,f){return this.format=n,this.value=-1,this.item=u,this.that=f,this},textValue:function(){return""},insert:function(){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(n){n.jqx._jqxDateTimeInput.AmPmEditor={};n.extend(n.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(n,t,i,r,u,f){return this.format=n,this.value=t,this.amString=i,this.pmString=r,this.item=u,this.that=f,i==r&&(this.amString="<"+i,this.pmString=">"+r),this},textValue:function(){var n=this.amString;return this.value!=0&&(n=this.pmString),this.format.length==1&&n.length>1&&(n=n.substring(0,1)),n},insert:function(n){var i=n.toString(),t;if(i.Length==0)return this.deleteValue();if(t=!1,this.amString.Length>0&&this.pmString.Length>0){var u=amString[0],r=i[0],f=pmString[0];u.toString()==r.toString()?(this.value=0,t=!0):f.toString()==r.toString()&&(this.value=1,t=!0)}else this.pmString.Length>0?(this.value=1,t=!0):this.amString.Length>0&&(this.value=0,t=!0);return t},deleteValue:function(){if(this.amString.Length==0&&this.pmString.Length!=0){if(this.value==0)return!1;this.value=0}else{if(this.value==1)return!1;this.value=1}return!0},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(n){n.jqx._jqxDateTimeInput.getDateTime=function(n){return{dateTime:new Date(n),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976000000000,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:n.getHours(),minute:n.getMinutes(),day:n.getDate(),second:n.getSeconds(),month:1+n.getMonth(),year:n.getFullYear(),millisecond:n.getMilliseconds(),dayOfWeek:n.getDay(),isWeekend:function(n){(n==undefined||n==null)&&(n=this.dateTime);return n.getDay()%6==0},dayOfYear:function(n){(n==undefined||n==null)&&(n=this.dateTime);var t=new Date(n.getFullYear(),0,1);return Math.ceil((n-t)/864e5)},_setDay:function(n){(n==undefined||n==null)&&(n=0);this.dateTime.setDate(n);this.day=this.dateTime.getDate()},_setMonth:function(n){(n==undefined||n==null)&&(n=0);this.dateTime.setMonth(n-1);this.month=1+this.dateTime.getMonth()},_setYear:function(n){(n==undefined||n==null)&&(n=0);this.dateTime.setFullYear(n);this.year=this.dateTime.getFullYear()},_setHours:function(n){(n==undefined||n==null)&&(n=0);this.dateTime.setHours(n);this.hour=this.dateTime.getHours()},_setMinutes:function(n){(n==undefined||n==null)&&(n=0);this.dateTime.setMinutes(n);this.minute=this.dateTime.getMinutes()},_setSeconds:function(n){(n==undefined||n==null)&&(n=0);this.dateTime.setSeconds(n);this.second=this.dateTime.getSeconds()},_setMilliseconds:function(n){(n==undefined||n==null)&&(n=0);this.dateTime.setMilliseconds(n);this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(n){var t=this.dateTime,i=t.getDate();return t.setDate(t.getDate()+n),i===t.getDate()&&t.setHours(t.getHours()+t.getTimezoneOffset()/60),t},_addWeeks:function(n){var t=this.dateTime;return t.setDate(t.getDate()+7*n),t},_addMonths:function(n){var t=this.dateTime;return t.setMonth(t.getMonth()+n),t},_addYears:function(n){var t=this.dateTime;return t.setFullYear(t.getFullYear()+n),t},_addHours:function(n){var t=this.dateTime;return t.setHours(t.getHours()+n),t},_addMinutes:function(n){var t=this.dateTime;return t.setMinutes(t.getMinutes()+n),t},_addSeconds:function(n){var t=this.dateTime;return t.setSeconds(t.getSeconds()+n),t},_addMilliseconds:function(n){var t=this.dateTime;return t.setMilliseconds(t.getMilliseconds()+n),t},_isLeapYear:function(n){if(n<1||n>9999)throw"invalid year";return n%4!=0?!1:n%100==0?n%400==0:!0},_dateToTicks:function(n,t,i){var r,n,u;if(n>=1&&n<=9999&&t>=1&&t<=12&&(r=this._isLeapYear(n)?this.daysToMonth366:this.daysToMonth365,i>=1&&i<=r[t]-r[t-1]))return n=n-1,u=n*365+n/4-n/100+n/400+r[t-1]+i-1,u*864e9},_daysInMonth:function(n,t){if(t<1||t>12)throw"Invalid month.";var i=this._isLeapYear(n)?this.daysToMonth366:this.daysToMonth365;return i[t]-i[t-1]},_timeToTicks:function(n,t,i){var r=n*3600+t*60+i;return r*1e7},_equalDate:function(n){return this.year==n.getFullYear()&&this.day==n.getDate()&&this.month==n.getMonth()+1?!0:!1}}}}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxTree","",{});n.extend(n.jqx._jqxTree.prototype,{defineInstance:function(){n.extend(!0,this,{items:[],width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:[],disabled:!1,enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:13,toggleIndicatorSize:16,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}})},createInstance:function(){var i=this,r,t;this.host.attr("role","tree");this.host.attr("data-role","treeview");this.propertyChangeMap.disabled=function(t,r,u,f){i.disabled?i.host.addClass(i.toThemeProperty("jqx-tree-disabled")):i.host.removeClass(i.toThemeProperty("jqx-tree-disabled"));n.jqx.aria(i,"aria-disabled",f)};this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width);this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height);this.width!=null&&this.width.toString().indexOf("%")!=-1&&this.host.width(this.width);this.height!=null&&this.height.toString().indexOf("%")!=-1&&this.host.height(this.height);this.host.attr("tabindex")||this.host.attr("tabIndex",1);this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),n.jqx.aria(this,"aria-disabled",!0));this.host.jqxDragDrop&&jqxTreeDragDrop();this.originalInnerHTML=this.element.innerHTML;this.createdTree=!1;this.element.innerHTML.indexOf("UL")&&(t=this.host.find("ul:first"),t.length>0&&(this.createTree(t[0]),this.createdTree=!0));this.source!=null&&(r=this.loadItems(this.source),this.element.innerHTML=r,t=this.host.find("ul:first"),t.length>0&&(this.createTree(t[0]),this.createdTree=!0));this._itemslength=this.items.length;this.createdTree||this.host.find("ul").length==0&&(this.host.append(n("<ul><\/ul>")),t=this.host.find("ul:first"),t.length>0&&(this.createTree(t[0]),this.createdTree=!0),this.createdTree=!0);this.createdTree==!0&&(this._render(),this._handleKeys());this._updateCheckLayout()},checkItems:function(t,i){var u=this,f,r;if(t!=null){var e=0,s=!1,o=0,r=n(t.element).find("li");o=r.length;n.each(r,function(){var n=u.itemMapping["id"+this.id].item;n.checked!=!1&&(n.checked==null&&(s=!0),e++)});t!=i?e==o?this.checkItem(t.element,!0,"tree"):e>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree"):(f=i.checked,r=n(i.element).find("li"),n.each(r,function(){var n=u.itemMapping["id"+this.id].item;u.checkItem(this,f,"tree")}));this.checkItems(this._parentItem(t),i)}else f=i.checked,r=n(i.element).find("li"),n.each(r,function(){var n=u.itemMapping["id"+this.id].item;u.checkItem(this,f,"tree")})},_getMatches:function(t,i){var r,f,u,e;if(t==undefined||t.length==0)return-1;for(r=this.items,f=[],u=0;u<r.length;u++)this._isVisible(r[u])&&!r[u].disabled&&f.push(r[u]);return r=f,i!=undefined&&(r=r.slice(i)),e=[],n.each(r,function(){var i=this.label,r;i||(i="");r=n.jqx.string.startsWithIgnoreCase(i.toString(),t);r&&e.push({id:this.id,element:this.element})}),e},_handleKeys:function(){var t=this;this.addHandler(this.host,"keydown",function(i){var r=i.keyCode,s,p,v,y,o,c,w,l,f,a,e,u;if((t.keyboardNavigation||t.enableKeyboardNavigation)&&t.selectedItem!=null){if(s=t.selectedItem.element,t.incrementalSearch&&!(r>=33&&r<=40)){p=-1;t._searchString||(t._searchString="");(r==8||r==46)&&t._searchString.length>=1&&(t._searchString=t._searchString.substr(0,t._searchString.length-1));var h=String.fromCharCode(r),b=!isNaN(parseInt(h));if(r>=65&&r<=97||b||r==8||r==32||r==46){if(i.shiftKey||(h=h.toLocaleLowerCase()),r!=8&&r!=32&&r!=46&&(t._searchString.length>0&&t._searchString.substr(0,1)==h||(t._searchString+=h)),r==32&&(t._searchString+=" "),t._searchTime=new Date,c=t.selectedItem,c){for(v=c.id,y=-1,f=0;f<t.items.length;f++)if(t.items[f].id==v){y=f+1;break}o=t._getMatches(t._searchString,y);(o.length==0||o.length>0&&o[0].id==v)&&(o=t._getMatches(t._searchString))}else o=t._getMatches(t._searchString);o.length>0&&(c=t.selectedItem,t.selectedItem&&t.selectedItem.id!=o[0].id&&(t.clearSelection(),t.selectItem(o[0].element)),t._lastSearchString=t._searchString)}if(t._searchTimer!=undefined&&clearTimeout(t._searchTimer),(r==27||r==13)&&(t._searchString="",t._lastSearchString=""),t._searchTimer=setTimeout(function(){t._searchString="";t._lastSearchString=""},500),p>=0)return;if(0)return!1}switch(r){case 32:return t.checkboxes?(t.fromKey=!0,w=n(t.selectedItem.checkBoxElement).jqxCheckBox("checked"),t.checkItem(t.selectedItem.element,!w,"tree"),t.hasThreeStates&&t.checkItems(t.selectedItem,t.selectedItem),!1):!0;case 33:for(l=t._getItemsOnPage(),e=t.selectedItem,f=0;f<l;f++)e=t._prevVisibleItem(e);return e!=null?(t.selectItem(e.element),t.ensureVisible(e.element)):(t.selectItem(t._firstItem().element),t.ensureVisible(t._firstItem().element)),!1;case 34:for(l=t._getItemsOnPage(),u=t.selectedItem,f=0;f<l;f++)u=t._nextVisibleItem(u);return u!=null?(t.selectItem(u.element),t.ensureVisible(u.element)):(t.selectItem(t._lastItem().element),t.ensureVisible(t._lastItem().element)),!1;case 37:case 39:return(r==37&&!t.rtl||r==39&&t.rtl)&&(t.selectedItem.hasItems&&t.selectedItem.isExpanded?t.collapseItem(s):(a=t._parentItem(t.selectedItem),a!=null&&(t.selectItem(a.element),t.ensureVisible(a.element)))),(r==39&&!t.rtl||r==37&&t.rtl)&&t.selectedItem.hasItems&&(t.selectedItem.isExpanded?(u=t._nextVisibleItem(t.selectedItem),u!=null&&(t.selectItem(u.element),t.ensureVisible(u.element))):t.expandItem(s)),!1;case 13:return t.selectedItem.hasItems&&(t.selectedItem.isExpanded?t.collapseItem(s):t.expandItem(s)),!1;case 36:return t.selectItem(t._firstItem().element),t.ensureVisible(t._firstItem().element),!1;case 35:return t.selectItem(t._lastItem().element),t.ensureVisible(t._lastItem().element),!1;case 38:return e=t._prevVisibleItem(t.selectedItem),e!=null&&(t.selectItem(e.element),t.ensureVisible(e.element)),!1;case 40:return u=t._nextVisibleItem(t.selectedItem),u!=null&&(t.selectItem(u.element),t.ensureVisible(u.element)),!1}}})},_firstItem:function(){var t=null,f=this,e=this.host.find("ul:first"),r=n(e).find("li"),u;for(i=0;i<=r.length-1;i++)if(u=r[i],t=this.itemMapping["id"+u.id].item,f._isVisible(t))return t;return null},_lastItem:function(){var t=null,f=this,e=this.host.find("ul:first"),r=n(e).find("li"),u;for(i=r.length-1;i>=0;i--)if(u=r[i],t=this.itemMapping["id"+u.id].item,f._isVisible(t))return t;return null},_parentItem:function(t){var i,r;return t==null||t==undefined?null:(i=t.parentElement,!i)?null:(r=null,n.each(this.items,function(){if(this.element==i)return r=this,!1}),r)},_nextVisibleItem:function(n){if(n==null||n==undefined)return null;for(var t=n;t!=null;)if(t=t.nextItem,this._isVisible(t)&&!t.disabled)return t;return null},_prevVisibleItem:function(n){if(n==null||n==undefined)return null;for(var t=n;t!=null;)if(t=t.prevItem,this._isVisible(t)&&!t.disabled)return t;return null},_isVisible:function(n){if(n==null||n==undefined||!this._isElementVisible(n.element))return!1;var t=this._parentItem(n);if(t==null)return!0;if(t!=null){if(!this._isElementVisible(t.element))return!1;if(t.isExpanded){while(t!=null)if((t=this._parentItem(t),t!=null&&!this._isElementVisible(t.element))||t!=null&&!t.isExpanded)return!1}else return!1}return!0},_getItemsOnPage:function(){var t=0,f=this.panel.jqxPanel("getVScrollPosition"),u=parseInt(this.host.height()),i=0,r=this._firstItem();if(parseInt(n(r.element).height())>0)while(i<=u)i+=parseInt(n(r.element).outerHeight()),t++;return t},_isElementVisible:function(t){return t==null?!1:n(t).css("display")!="none"&&n(t).css("visibility")!="hidden"?!0:!1},refresh:function(t){var i;this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width);this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height);this.panel&&(this.width!=null&&this.width.toString().indexOf("%")!=-1?(i=this,this.panel.jqxPanel("width","100%"),i.removeHandler(n(window),"resize.jqxtree"+i.element.id),i.addHandler(n(window),"resize.jqxtree"+i.element.id,function(){i._calculateWidth()})):this.panel.jqxPanel("width",this.host.width()),this.panel.jqxPanel("_arrange"));this._calculateWidth();n.jqx.isHidden(this.host)&&(i=this,this._hiddenTimer=setInterval(function(){n.jqx.isHidden(i.host)||(clearInterval(i._hiddenTimer),i._calculateWidth())},100));t!=!0&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(n,t){this.width=n;this.height=t;this.refresh()},loadItems:function(t){var r,i;if(t!=null)return r=this,this.items=[],i="<ul>",n.map(t,function(n){if(n==undefined)return null;i+=r._parseItem(n)}),i+="<\/ul>"},_parseItem:function(n){var t="",i,f,e,o,s,h,u,c,r;return n==undefined?null:(i=n.label,!n.label&&n.html&&(i=n.html),i||(i="Item"),typeof n=="string"&&(i=n),f=!1,n.expanded!=undefined&&n.expanded&&(f=!0),e=!1,n.locked!=undefined&&n.locked&&(e=!0),o=!1,n.selected!=undefined&&n.selected&&(o=!0),s=!1,n.disabled!=undefined&&n.disabled&&(s=!0),h=!1,n.checked!=undefined&&n.checked&&(h=!0),u=n.icon,c=n.iconsize,t+="<li",f&&(t+=' item-expanded="true" '),e&&(t+=' item-locked="true" '),s&&(t+=' item-disabled="true" '),o&&(t+=' item-selected="true" '),c&&(t+=' item-iconsize="'+n.iconsize+'" '),u!=null&&u!=undefined&&(t+=' item-icon="'+u+'" '),n.label&&!n.html&&(t+=' item-label="'+i+'" '),n.value!=null&&(t+=' item-value="'+n.value+'" '),n.checked!=undefined&&(t+=' item-checked="'+h+'" '),r="",n.id!=undefined?(r=n.id,t+=' id="'+r+'" '):(r=this.createID(),t+=' id="'+r+'" '),t+=">"+i,n.items&&(t+=this.loadItems(n.items)),this._valueList||(this._valueList=[]),this._valueList[r]=n.value,t+"<\/li>")},ensureVisible:function(t){if(t!=null&&t!=undefined){var r=this.panel.jqxPanel("getVScrollPosition"),f=this.panel.jqxPanel("getHScrollPosition"),u=parseInt(this.host.height()),i=n(t).position().top;(i<=r||i>=u+r)&&this.panel.jqxPanel("scrollTo",f,i-u+n(t).outerHeight())}},_syncItems:function(t){this._visibleItems=[];var i=this;n.each(t,function(){var t=n(this),r,u;t.css("display")!="none"&&(r=t.outerHeight(),t.height()>0&&(u=parseInt(t.offset().top),i._visibleItems[i._visibleItems.length]={element:this,top:u,height:r,bottom:u+r}))})},hitTest:function(t,i){var s=this,r=this,u=null,o=this.host.find(".jqx-item"),f,e;return this._syncItems(o),r._visibleItems&&(f=parseInt(r.host.offset().left),e=r.host.outerWidth(),n.each(r._visibleItems,function(){if(t>=f&&t<f+e&&this.top+5<i&&i<this.top+this.height){var o=n(this.element).parents("li:first");if(o.length>0&&(u=r.getItem(o[0]),u!=null))return u.height=this.height,u.top=this.top,!1}})),u},addBefore:function(n,t,i){return this.addBeforeAfter(n,t,!0,i)},addAfter:function(n,t,i){return this.addBeforeAfter(n,t,!1,i)},addBeforeAfter:function(t,i,r,u){var y=this,l=[],a,f,e,p,s,o,h,c,v;for(i&&i.treeInstance!=undefined&&(i=i.element),n.isArray(t)?l=t:l[0]=t,a="",f=this,n.each(l,function(){a+=f._parseItem(this)}),e=n(a),y.element.innerHTML.indexOf("UL")&&(p=y.host.find("ul:first")),i==undefined&&i==null?p.append(e):r?n(i).before(e):n(i).after(e),s=e,o=0;o<s.length;o++)if(this._createItem(s[o]),h=n(s[o]).find("li"),h.length>0)for(c=0;c<h.length;c++)this._createItem(h[c]);if(v=function(t){f._refreshMapping(!1);f._updateItemsNavigation();t&&f.allowDrag&&f._enableDragDrop&&f._enableDragDrop();f.selectedItem!=null&&(n(f.selectedItem.titleElement).addClass(f.toThemeProperty("jqx-fill-state-pressed")),n(f.selectedItem.titleElement).addClass(f.toThemeProperty("jqx-tree-item-selected")))},u==!1){v(!0);this._raiseEvent("4",{items:this.getItems()});return}v(!1);f._render();this._raiseEvent("4",{items:this.getItems()});f.checkboxes&&f._updateCheckLayout(null)},addTo:function(t,i,r){var e=this,v=[],y,u,o,w,f,h,b,c,s,l,a,p;for(i&&i.treeInstance!=undefined&&(i=i.element),n.isArray(t)?v=t:v[0]=t,y="",u=this,n.each(v,function(){y+=u._parseItem(this)}),o=n(y),e.element.innerHTML.indexOf("UL")&&(w=e.host.find("ul:first")),i==undefined&&i==null?w.append(o):(i=n(i),f=i.find("ul:first"),f.length==0?(ulElement=n("<ul><\/ul>"),n(i).append(ulElement),f=i.find("ul:first"),h=e.itemMapping["id"+i[0].id].item,h.subtreeElement=f[0],h.hasItems=!0,f.addClass(e.toThemeProperty("jqx-tree-dropdown")),u.rtl&&f.addClass(e.toThemeProperty("jqx-tree-dropdown-rtl")),f.append(o),b=f.find("li:first"),h.parentElement=b):f.append(o)),c=o,s=0;s<c.length;s++)if(this._createItem(c[s]),l=n(c[s]).find("li"),l.length>0)for(a=0;a<l.length;a++)this._createItem(l[a]);if(p=function(t){u._refreshMapping(!1);u._updateItemsNavigation();t&&u.allowDrag&&u._enableDragDrop&&u._enableDragDrop();u.selectedItem!=null&&(n(u.selectedItem.titleElement).addClass(u.toThemeProperty("jqx-fill-state-pressed")),n(u.selectedItem.titleElement).addClass(u.toThemeProperty("jqx-tree-item-selected")))},r==!1){p(!0);this._raiseEvent("4",{items:this.getItems()});return}p(!1);u._render();u.checkboxes&&u._updateCheckLayout(null);this._raiseEvent("4",{items:this.getItems()})},updateItem:function(t,i){var r=t.treeInstance!=undefined?t:this.getItem(t),o,s,e,f,u;return(r||(o=t,t=i,i=o,r=t.treeInstance!=undefined?t:this.getItem(t)),r)?(typeof i=="string"&&(i={label:i}),i.value&&(r.value=i.value),i.label&&(r.label=i.label,n.jqx.utilities.html(n(r.titleElement),i.label),s=n.jqx.browser.msie&&n.jqx.browser.version<8,s&&(n(document.body).append(this._measureItem),this._measureItem.html(n(r.titleElement).text()),e=this._measureItem.width(),r.icon&&(e+=20),n(n(r.titleElement).find("img")).length>0&&(e+=20),n(r.titleElement).css("max-width",e+"px"),this._measureItem.remove())),i.icon&&(n(r.element).children(".itemicon").length>0?n(r.element).find(".itemicon")[0].src=i.icon:(f=i.iconsize,f||(f=16),u=n('<img width="'+f+'" height="'+f+'" style="float: left;" class="itemicon" src="'+i.icon+'"/>'),n(r.titleElement).prepend(u),u.css("margin-right","4px"),this.rtl&&(u.css("margin-right","0px"),u.css("margin-left","4px"),u.css("float","right")))),i.expanded&&this.expandItem(r),i.disabled&&this.disableItem(r),i.selected&&this.selectItem(r),!0):!1},removeItem:function(t,i){if(t!=undefined&&t!=null){t.treeInstance!=undefined&&(t=t.element);var r=this,o=t.id,f=-1,u=this.getItem(t);if(u&&(f=this.items.indexOf(u),f!=-1&&function e(t){var r=-1,i;r=this.items.indexOf(t);r!=-1&&this.items.splice(r,1);var f=n(t.element).find("li"),o=f.length,s=this,u=[];if(o>0)for(n.each(f,function(){var n=s.itemMapping["id"+this.id].item;u.push(n)}),i=0;i<u.length;i++)e.apply(this,[u[i]])}.apply(this,[u])),this.host.find("#"+t.id).length>0&&n(t).remove(),i==!1){this._raiseEvent("5");return}r._updateItemsNavigation();r.allowDrag&&r._enableDragDrop?r._render(!0,!1):r._render();r.selectedItem!=null&&r.selectedItem.element==t&&(n(r.selectedItem.titleElement).removeClass(r.toThemeProperty("jqx-fill-state-pressed")),n(r.selectedItem.titleElement).removeClass(r.toThemeProperty("jqx-tree-item-selected")),r.selectedItem=null);this._raiseEvent("5");r.checkboxes&&r._updateCheckLayout(null)}},clear:function(){this.items=[];this.itemMapping=[];var n=this.host.find("ul:first");n.length>0&&(n[0].innerHTML="");this.selectedItem=null},disableItem:function(t){if(t==null)return!1;t.treeInstance!=undefined&&(t=t.element);var i=this;n.each(i.items,function(){var r=this;if(r.element==t)return r.disabled=!0,n(r.titleElement).addClass(i.toThemeProperty("jqx-fill-state-disabled")),n(r.titleElement).addClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&r.checkBoxElement&&n(r.checkBoxElement).jqxCheckBox({disabled:!0}),!1})},_updateInputSelection:function(){var r,t,u,n,i;if(this.input&&(this.selectedItem==null?this.input.val(""):(r=this.selectItem.value,r==null&&(r=this.selectedItem.label),this.input.val(r)),this.checkboxes&&(t=this.getCheckedItems(),this.submitCheckedItems))){for(u="",n=0;n<t.length;n++)i=t[n].value,i==null&&(i=t[n].label),u+=n==t.length-1?i:i+",";this.input.val(u)}},getCheckedItems:function(){var t=[],i=this;return n.each(i.items,function(){var n=this;n.checked&&t.push(n)}),t},getUncheckedItems:function(){var t=[],i=this;return n.each(i.items,function(){var n=this;n.checked||t.push(n)}),t},checkAll:function(){var t=this;n.each(t.items,function(){var t=this;t.disabled||(t.checked=!0,n(t.checkBoxElement).jqxCheckBox("_setState",!0))});this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){var t=this;n.each(t.items,function(){var t=this;t.disabled||(t.checked=!1,n(t.checkBoxElement).jqxCheckBox("_setState",!1))});this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(t,i,r){if(t==null)return!1;i===undefined&&(i=!0);t.treeInstance!=undefined&&(t=t.element);var e=this,f=!1,u=null;n.each(e.items,function(){var r=this;if(r.element==t&&!r.disabled)return f=!0,r.checked=i,u=r,n(r.checkBoxElement).jqxCheckBox({checked:i}),!1});f&&(this._raiseEvent("6",{element:t,checked:i}),this._updateInputSelection());r==undefined&&u&&this.hasThreeStates&&this.checkItems(u,u)},uncheckItem:function(n){this.checkItem(n,!1)},enableItem:function(t){if(t==null)return!1;t.treeInstance!=undefined&&(t=t.element);var i=this;n.each(i.items,function(){var r=this;if(r.element==t)return r.disabled=!1,n(r.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-disabled")),n(r.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&r.checkBoxElement&&n(r.checkBoxElement).jqxCheckBox({disabled:!1}),!1})},enableAll:function(){var t=this;n.each(t.items,function(){var i=this;i.disabled=!1;n(i.titleElement).removeClass(t.toThemeProperty("jqx-tree-item-disabled"));n(i.titleElement).removeClass(t.toThemeProperty("jqx-fill-state-disabled"));t.checkboxes&&i.checkBoxElement&&n(i.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(t){if(t==null)return!1;var i=this;n.each(i.items,function(){var n=this;if(n.element==t)return n.locked=!0,!1})},unlockItem:function(t){if(t==null)return!1;var i=this;n.each(i.items,function(){var n=this;if(n.element==t)return n.locked=!1,!1})},getItems:function(){return this.items},getItem:function(n){return n==null||n==undefined?null:this.itemMapping["id"+n.id]?this.itemMapping["id"+n.id].item:null},isExpanded:function(n){if(n==null||n==undefined)return!1;var t=this.itemMapping["id"+n.id].item;return t!=null?t.isExpanded:!1},isSelected:function(n){if(n==null||n==undefined)return!1;var t=this.itemMapping["id"+n.id].item;return t!=null?t==this.selectedItem:!1},getPrevItem:function(n){var t=this.getItem(n);return n.treeInstance!=undefined&&(t=n),this._prevVisibleItem(t)},getNextItem:function(n){var t=this.getItem(n);return n.treeInstance!=undefined&&(t=n),this._nextVisibleItem(t)},getSelectedItem:function(){return this.selectedItem},val:function(n){var i,t;if(arguments.length==0||typeof n=="object")return this.selectedItem;typeof n=="string"?(i=this.host.find("#"+n),i.length>0&&(t=this.getItem(i[0]),this.selectItem(t))):(t=this.getItem(n),this.selectItem(t))},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(t){var i,r;if(!this.disabled){if(i=this,t&&t.treeInstance!=undefined&&(t=t.element),t==null||t==undefined){i.selectedItem!=null&&(n(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),n(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=null);return}(this.selectedItem==null||this.selectedItem.element!=t)&&(r=this.selectedItem!=null?this.selectedItem.element:null,r&&n(r).removeAttr("aria-selected"),n.each(i.items,function(){var r=this;this.selected=!1;r.disabled||r.element==t&&(i.selectedItem==null||i.selectedItem!=null&&i.selectedItem.titleElement!=r.titleElement)&&(i.selectedItem!=null&&(n(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),n(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected"))),n(r.titleElement).addClass(i.toThemeProperty("jqx-fill-state-pressed")),n(r.titleElement).addClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=r,this.selected=!0,n(r.element).attr("aria-selected","true"),n.jqx.aria(i,"aria-activedescendant",r.element.id))}),this._updateInputSelection(),this._raiseEvent("2",{element:t,prevElement:r}))}},collapseAll:function(){this.isUpdating=!0;var t=this,i=t.items,r=this.animationHideDuration;this.animationHideDuration=0;n.each(i,function(){var n=this;n.isExpanded==!0&&t._collapseItem(t,n)});setTimeout(function(){t.isUpdating=!1;t._calculateWidth()},this.animationHideDuration);this.animationHideDuration=r},expandAll:function(){var t=this,i;this.isUpdating=!0;i=this.animationShowDuration;this.animationShowDuration=0;n.each(this.items,function(){var n=this;n.hasItems&&t._expandItem(t,n)});setTimeout(function(){t.isUpdating=!1;t._calculateWidth()},this.animationShowDuration);this.animationShowDuration=i},collapseItem:function(t){if(t==null)return!1;t.treeInstance!=undefined&&(t=t.element);var i=this;return n.each(this.items,function(){var n=this;if(n.isExpanded==!0&&n.element==t)return i._collapseItem(i,n),!1}),!0},expandItem:function(t){if(t==null)return!1;t.treeInstance!=undefined&&(t=t.element);var i=this;return n.each(i.items,function(){var n=this;n.isExpanded!=!1||n.element!=t||n.disabled||n.locked||(i._expandItem(i,n),n.parentElement&&i.expandItem(n.parentElement))}),!0},_getClosedSubtreeOffset:function(t){var i=n(t.subtreeElement),u=-i.outerHeight(),r=-i.outerWidth();return r=0,{left:r,top:u}},_collapseItem:function(t,i){var u,f;if(t==null||i==null||i.disabled||t.disabled||t.locked)return!1;var r=n(i.subtreeElement),e=this._getClosedSubtreeOffset(i),o=e.top,s=e.left;$treeElement=n(i.element);u=t.animationHideDelay;u=0;r.data("timer").show!=null&&(clearTimeout(r.data("timer").show),r.data("timer").show=null);f=function(){var u,f;i.isExpanded=!1;t.checkboxes&&(u=r.find(".chkbox"),u.stop(),u.css("opacity",1),r.find(".chkbox").animate({opacity:0},50));f=n(i.arrow);t._arrowStyle(f,"",i.isExpanded);r.slideUp(t.animationHideDuration,function(){i.isCollapsing=!1;t._calculateWidth();var u=n(i.arrow);t._arrowStyle(u,"",i.isExpanded);r.hide();t._raiseEvent("1",{element:i.element})})};u>0?r.data("timer").hide=setTimeout(function(){f()},u):f()},_expandItem:function(t,i){var r,f,u,e;if(t==null||i==null||i.isExpanded||i.locked||i.disabled||t.disabled)return!1;r=n(i.subtreeElement);r.data("timer")!=null&&r.data("timer").hide!=null&&clearTimeout(r.data("timer").hide);var o=n(i.element);if(parseInt(r.css("top"))==0){i.isExpanded=!0;return}f=n(i.arrow);t._arrowStyle(f,"",i.isExpanded);t.checkboxes&&(u=r.find(".chkbox"),u.stop(),u.css("opacity",0),u.animate({opacity:1},t.animationShowDuration));r.slideDown(t.animationShowDuration,t.easing,function(){var r=n(i.arrow);i.isExpanded=!0;t._arrowStyle(r,"",i.isExpanded);i.isExpanding=!1;t._raiseEvent("0",{element:i.element});t._calculateWidth()});t.checkboxes&&(t._updateCheckItemLayout(i),i.subtreeElement&&(e=n(i.subtreeElement).find("li"),n.each(e,function(){var n=t.getItem(this);n!=null&&t._updateCheckItemLayout(n)})))},_calculateWidth:function(){var i=this,e=this.checkboxes?20:0,t=0,r,f,u;this.isUpdating||(n.each(this.items,function(){var f=n(this.element).height(),u,i,r;f!=0&&(u=n(this.titleElement).outerWidth()+10+e+(1+this.level)*20,t=Math.max(t,u),this.hasItems&&(i=parseInt(n(this.titleElement).css("padding-top")),isNaN(i)&&(i=0),i=i*2,i+=2,r=(i+n(this.titleElement).height())/2-17/2,n.jqx.browser.msie&&n.jqx.browser.version<9?n(this.arrow).css("margin-top","3px"):parseInt(r)>=0&&n(this.arrow).css("margin-top",parseInt(r)+"px")))}),this.toggleIndicatorSize>16&&(t=t+this.toggleIndicatorSize-16),i.panel&&(t>this.host.width()?(r=t-this.host.width(),f=i.panel.jqxPanel("vScrollBar").css("visibility")!=="hidden"?10:0,r+=f,i.panel.jqxPanel({horizontalScrollBarMax:r})):i.panel.jqxPanel({horizontalScrollBarMax:0})),this.host.find("ul:first").width(t),u=this.host.width()-30,u>0&&this.host.find("ul:first").css("min-width",u),i.panel&&i.panel.jqxPanel("_arrange"))},_arrowStyle:function(n,t,i){var u=this,f,e,r;n.length>0&&(n.removeClass(),f="",t=="hover"&&(f="-"+t),r=i?"-expand":"-collapse",e="jqx-tree-item-arrow"+r+f,n.addClass(u.toThemeProperty(e)),this.rtl||(r=i?"-down":"-right",n.addClass(u.toThemeProperty("jqx-icon-arrow"+r+""))),this.rtl&&(n.addClass(u.toThemeProperty(e+"-rtl")),r=i?"-down":"-left",n.addClass(u.toThemeProperty("jqx-icon-arrow"+r+""))))},_initialize:function(){var t=this,i;this.host.addClass(t.toThemeProperty("jqx-widget"));this.host.addClass(t.toThemeProperty("jqx-widget-content"));this.host.addClass(t.toThemeProperty("jqx-tree"));this._updateDisabledState();i=n.jqx.browser.msie&&n.jqx.browser.version<8;n.each(this.items,function(){var r=this,u,e,f,o,s,h;if($element=n(r.element),u=null,t.checkboxes&&!r.hasItems&&r.checkBoxElement&&n(r.checkBoxElement).css("margin-left","0px"),i)!r.hasItems&&n(r.element).find("ul").length>0&&n(r.element).find("ul").remove();else if(r.hasItems)r.element.style.marginLeft="0px";else return t.rtl?r.element.style.marginRight=parseInt(t.toggleIndicatorSize)+"px":r.element.style.marginLeft=parseInt(t.toggleIndicatorSize)+"px",e=n(r.arrow),e.length>0&&(e.remove(),r.arrow=null),!0;e=n(r.arrow);e.length>0&&e.remove();u=n('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"><\/span>');u.prependTo($element);t.rtl?u.css("float","right"):u.css("float","left");u.css("clear","both");u.width(t.toggleIndicatorSize);t._arrowStyle(u,"",r.isExpanded);f=parseInt(n(this.titleElement).css("padding-top"));isNaN(f)&&(f=0);f=f*2;f+=2;o=(f+n(this.titleElement).height())/2-17/2;n.jqx.browser.msie&&n.jqx.browser.version<9?u.css("margin-top","3px"):parseInt(o)>=0&&u.css("margin-top",parseInt(o)+"px");$element.addClass(t.toThemeProperty("jqx-disableselect"));u.addClass(t.toThemeProperty("jqx-disableselect"));s="click";h=t.isTouchDevice();h&&(s=n.jqx.mobile.getTouchEventName("touchend"));t.addHandler(u,s,function(){return r.isExpanded?t._collapseItem(t,r):t._expandItem(t,r),!1});t.addHandler(u,"selectstart",function(){return!1});t.addHandler(u,"mouseup",function(){if(!h)return!1});r.hasItems=n(r.element).find("li").length>0;r.arrow=u[0];r.hasItems||u.css("visibility","hidden");$element.css("float","none")})},_getOffset:function(t){var u=n(window).scrollTop(),f=n(window).scrollLeft(),i=n.jqx.mobile.isSafariMobileBrowser(),r=n(t).offset(),e=r.top,o=r.left;return i!=null&&i?{left:o-f,top:e-u}:n(t).offset()},_renderHover:function(t,i,r){var u=this,f;r||(f=n(i.titleElement),u.addHandler(f,"mouseenter",function(){i.disabled||!u.enableHover||u.disabled||(f.addClass(u.toThemeProperty("jqx-fill-state-hover")),f.addClass(u.toThemeProperty("jqx-tree-item-hover")))}),u.addHandler(f,"mouseleave",function(){i.disabled||!u.enableHover||u.disabled||(f.removeClass(u.toThemeProperty("jqx-fill-state-hover")),f.removeClass(u.toThemeProperty("jqx-tree-item-hover")))}))},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){if(this.input==null){var t=this.host.attr("name");t&&this.host.attr("name","");this.input=n("<input type='hidden'/>");this.host.append(this.input);this.input.attr("name",t);this._updateInputSelection()}},render:function(){this._updateItemsNavigation();this._render()},_render:function(t,i){var u,o,r,f,e;n.jqx.browser.msie&&n.jqx.browser.version<8&&(u=this,n.each(this.items,function(){var t=n(this.element),r=t.parent(),f=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13,i,u;t.css("min-width",f);i=parseInt(r.css("min-width"));isNaN(i)&&(i=0);u=t.css("min-width");i<parseInt(t.css("min-width"))&&r.css("min-width",u);this.titleElement[0].style.width=null}));var u=this;if(n.data(u.element,"animationHideDelay",u.animationHideDelay),n.data(document.body,"treeel",this),this._initialize(),o=this.isTouchDevice(),o&&this.toggleMode=="dblclick"&&(this.toggleMode="click"),(t==undefined||t==!0)&&n.each(this.items,function(){u._updateItemEvents(u,this)}),this.allowDrag&&this._enableDragDrop&&(i==undefined||i==!0)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0){this.panel.jqxPanel({touchMode:this.touchMode});this.panel.jqxPanel("refresh");return}this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"><\/div>');r=this.host.find("div:first");f="fixed";(this.height==null||this.height=="auto")&&(f="verticalwrap");(this.width==null||this.width=="auto")&&(f=f=="fixed"?"horizontalwrap":"wrap");r.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:f});n.jqx.browser.msie&&n.jqx.browser.version<8&&r.jqxPanel("content").css("left","0px");r.data({nestedWidget:!0});(this.height==null||this.height!=null&&this.height.toString().indexOf("%")!=-1)&&this.isTouchDevice()&&(this.removeHandler(r,n.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(r,n.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(r,n.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));e=n.data(r[0],"jqxPanel").instance;e!=null&&(this.vScrollInstance=e.vScrollInstance,this.hScrollInstance=e.hScrollInstance);this.panelInstance=e;n.jqx.browser.msie&&n.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0));r[0].className="";this.panel=r}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(n){}},_updateItemEvents:function(t,i){var e=this.isTouchDevice(),f,o,r,s,u,h;e&&(this.toggleMode=n.jqx.mobile.getTouchEventName("touchend"));f=n(i.element);t.enableRoundedCorners&&f.addClass(t.toThemeProperty("jqx-rc-all"));o=e?n.jqx.mobile.getTouchEventName("touchend"):"mousedown";t.touchMode===!0&&t.removeHandler(n(i.checkBoxElement),"mousedown");t.removeHandler(n(i.checkBoxElement),o);t.addHandler(n(i.checkBoxElement),o,function(){return t.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,t.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),t.hasThreeStates&&t.checkItems(this.treeItem,this.treeItem)),!1});r=n(i.titleElement);t.removeHandler(f);s=this.allowDrag&&this._enableDragDrop;s?(t.removeHandler(r,"mousedown.item"),t.removeHandler(r,"click"),t.removeHandler(r,"dblclick"),t.removeHandler(r,"mouseenter"),t.removeHandler(r,"mouseleave")):t.removeHandler(r);t._renderHover(f,i,e);u=n(i.subtreeElement);u.length>0&&(h=i.isExpanded?"block":"none",u.css({overflow:"hidden",display:h}),u.data("timer",{}));t.addHandler(r,"selectstart",function(){return!1});n.jqx.browser.opera&&t.addHandler(r,"mousedown.item",function(){return!1});t.toggleMode!="click"&&t.addHandler(r,"click",function(){t.selectItem(i.element);t.panel!=null&&t.panel.jqxPanel({focused:!0});r.focus()});t.addHandler(r,t.toggleMode,function(){return u.length>0&&clearTimeout(u.data("timer").hide),t.panel!=null&&t.panel.jqxPanel({focused:!0}),t.selectItem(i.element),i.isExpanding==undefined&&(i.isExpanding=!1),i.isCollapsing==undefined&&(i.isCollapsing=!1),u.length>0?(i.isExpanded?!1==i.isCollapsing&&(i.isCollapsing=!0,t._collapseItem(t,i,!0)):!1==i.isExpanding&&(i.isExpanding=!0,t._expandItem(t,i)),!1):void 0})},isTouchDevice:function(){if(this._isTouchDevice!=undefined)return this._isTouchDevice;var t=n.jqx.mobile.isTouchDevice();return this.touchMode==!0?t=!0:this.touchMode==!1&&(t=!1),this._isTouchDevice=t,t},createID:function(){return n.jqx.utilities.createId()},createTree:function(t){var i;if(t!=null){var r=this,u=n(t).find("li");for(this.items=[],this.itemMapping=[],n(t).addClass(r.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&n(t).addClass(r.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||n.jqx.browser.msie&&n.jqx.browser.version<8)&&(this._measureItem=n("<span style='position: relative; visibility: hidden;'><\/span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),n(document.body).append(this._measureItem)),n.jqx.browser.msie&&n.jqx.browser.version<8,i=0;i<u.length;i++)this._createItem(u[i]);(this.rtl||n.jqx.browser.msie&&n.jqx.browser.version<8)&&this._measureItem.remove();this._updateItemsNavigation();this._updateCheckStates()}},_updateCheckLayout:function(t){var i=this;this.checkboxes&&n.each(this.items,function(){(this.level==t||t==undefined)&&i._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(t){if(this.checkboxes&&n(t.titleElement).css("display")!="none"){var i=n(t.checkBoxElement),r=n(t.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;i.css("margin-top",r);this.rtl||(n.jqx.browser.msie&&n.jqx.browser.version<8?t.titleElement.css("margin-left",parseInt(this.checkSize)+25):t.hasItems&&i.css("margin-left",this.toggleIndicatorSize))}},_updateCheckStates:function(){var t=this;t.hasThreeStates?n.each(this.items,function(){t._updateCheckState(this)}):n.each(this.items,function(){this.checked==null&&t.checkItem(this.element,!1,"tree")})},_updateCheckState:function(t){if(t!=null&&t!=undefined){var r=this,u=0,e=!1,i=0,f=n(t.element).find("li");i=f.length;t.checked&&i>0&&n.each(f,function(){var t=r.itemMapping["id"+this.id].item,n=t.element.getAttribute("item-checked");(n==undefined||n==null||n=="true"||n==!0)&&r.checkItem(t.element,!0,"tree")});n.each(f,function(){var n=r.itemMapping["id"+this.id].item;n.checked!=!1&&(n.checked==null&&(e=!0),u++)});i>0&&(u==i?this.checkItem(t.element,!0,"tree"):u>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree"))}},_updateItemsNavigation:function(){for(var u,r,f=this.host.find("ul:first"),i=n(f).find("li"),t=0;t<i.length;t++)if(u=i[t],this.itemMapping["id"+u.id]){if(r=this.itemMapping["id"+u.id].item,!r)continue;r.prevItem=null;r.nextItem=null;t>0&&this.itemMapping["id"+i[t-1].id]&&(r.prevItem=this.itemMapping["id"+i[t-1].id].item);t<i.length-1&&this.itemMapping["id"+i[t+1].id]&&(r.nextItem=this.itemMapping["id"+i[t+1].id].item)}},_applyTheme:function(t,i){var r=this,u,e,f,o;for(this.host.removeClass("jqx-tree-"+t),this.host.removeClass("jqx-widget-"+t),this.host.removeClass("jqx-widget-content-"+t),this.host.addClass(r.toThemeProperty("jqx-tree")),this.host.addClass(r.toThemeProperty("jqx-widget")),u=this.host.find("ul:first"),n(u).removeClass(r.toThemeProperty("jqx-tree-dropdown-root-"+t)),n(u).addClass(r.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(n(u).removeClass(r.toThemeProperty("jqx-tree-dropdown-root-rtl-"+t)),n(u).addClass(r.toThemeProperty("jqx-tree-dropdown-root-rtl"))),e=n(u).find("li"),f=0;f<e.length;f++)o=e[f],n(o).children().each(function(){if(this.tagName=="ul"||this.tagName=="UL")return n(this).removeClass(r.toThemeProperty("jqx-tree-dropdown-"+t)),n(this).addClass(r.toThemeProperty("jqx-tree-dropdown")),r.rtl&&(n(this).removeClass(r.toThemeProperty("jqx-tree-dropdown-rtl-"+t)),n(this).addClass(r.toThemeProperty("jqx-tree-dropdown-rtl"))),!1});n.each(this.items,function(){var u=this,f=n(u.element),e;f.removeClass(r.toThemeProperty("jqx-tree-item-li-"+t));f.addClass(r.toThemeProperty("jqx-tree-item-li"));this.rtl&&(f.removeClass(r.toThemeProperty("jqx-tree-item-li-"+t)),f.addClass(r.toThemeProperty("jqx-tree-item-li")));n(u.titleElement).removeClass(r.toThemeProperty("jqx-tree-item-"+t));n(u.titleElement).addClass(r.toThemeProperty("jqx-tree-item"));n(u.titleElement).removeClass("jqx-item-"+t);n(u.titleElement).addClass(r.toThemeProperty("jqx-item"));e=n(u.arrow);e.length>0&&r._arrowStyle(e,"",u.isExpanded);u.checkBoxElement&&n(u.checkBoxElement).jqxCheckBox({theme:i});r.enableRoundedCorners&&(f.removeClass("jqx-rc-all-"+t),f.addClass(r.toThemeProperty("jqx-rc-all")))});this.host.jqxPanel&&this.panel.jqxPanel({theme:i})},_refreshMapping:function(t){for(var h,c,a,v,l=this.host.find("li"),f=[],o=[],y=n.data(document.body,"treeItemsStorage"),r=this,u=0;u<l.length;u++){var e=l[u],s=n(e),i=y[e.id];i!=null&&(o[o.length]=i,(t==undefined||t==!0)&&this._updateItemEvents(this,i),i.level=s.parents("li").length,i.treeInstance=this,h=null,c=null,i.titleElement[0].className.indexOf("jqx-fill-state-pressed")!=-1&&(n(i.titleElement).removeClass(r.toThemeProperty("jqx-fill-state-pressed")),n(i.titleElement).removeClass(r.toThemeProperty("jqx-tree-item-selected"))),a=s.children(),a.each(function(){if(this.tagName=="ul"||this.tagName=="UL")return i.subtreeElement=this,n(this).addClass(r.toThemeProperty("jqx-tree-dropdown")),r.rtl&&n(this).addClass(r.toThemeProperty("jqx-tree-dropdown-rtl")),!1}),v=s.parents(),v.each(function(){if(this.tagName=="li"||this.tagName=="LI")return c=this.id,h=this,!1}),i.parentElement=h,i.parentId=c,i.hasItems=n(i.element).find("li").length>0,i!=null&&(f[u]={element:e,item:i},f["id"+e.id]=f[u]))}this.itemMapping=f;this.items=o},_createItem:function(t){var h,r,d,b,e,l,a,c,o,v,p,i,rt,ht,w,y,k,s,ut,ft,tt,f,it,u,et,ct;if(t!=null&&t!=undefined){h=t.id;h||(h=this.createID());r=t;d=n(t);r.id=h;b=n.data(document.body,"treeItemsStorage");b==undefined&&(b=[]);e=this.items.length;this.items[e]=new n.jqx._jqxTree.jqxTreeItem;this.treeElements[h]=this.items[e];b[r.id]=this.items[e];n.data(document.body,"treeItemsStorage",b);e=this.items.length;var ot=0,g=this,st=null;d.attr("role","treeitem");d.children().each(function(){if(this.tagName=="ul"||this.tagName=="UL")return g.items[e-1].subtreeElement=this,n(this).addClass(g.toThemeProperty("jqx-tree-dropdown")),g.rtl&&(n(this).addClass(g.toThemeProperty("jqx-tree-dropdown-rtl")),n(this).css("clear","both")),!1});d.parents().each(function(){if(this.tagName=="li"||this.tagName=="LI")return ot=this.id,st=this,!1});l=t.getAttribute("item-expanded");l=l==null||l==undefined||l!="true"&&l!=!0?!1:!0;r.removeAttribute("item-expanded");a=t.getAttribute("item-locked");a=a==null||a==undefined||a!="true"&&a!=!0?!1:!0;r.removeAttribute("item-locked");c=t.getAttribute("item-selected");c=c==null||c==undefined||c!="true"&&c!=!0?!1:!0;r.removeAttribute("item-selected");o=t.getAttribute("item-disabled");o=o==null||o==undefined||o!="true"&&o!=!0?!1:!0;r.removeAttribute("item-disabled");v=t.getAttribute("item-checked");v=v==null||v==undefined||v!="true"&&v!=!0?!1:!0;p=t.getAttribute("item-title");(p==null||p==undefined||p!="true"&&p!=!0)&&(p=!1);r.removeAttribute("item-title");var y=t.getAttribute("item-icon"),w=t.getAttribute("item-iconsize"),nt=t.getAttribute("item-label"),lt=t.getAttribute("item-value");if(r.removeAttribute("item-icon"),r.removeAttribute("item-iconsize"),r.removeAttribute("item-label"),r.removeAttribute("item-value"),i=this.items[e-1],i.id=h,i.value==undefined&&(i.value=this._valueList&&this._valueList[h]?this._valueList[h]:lt),i.icon=y,i.iconsize=w,i.parentId=ot,i.disabled=o,i.parentElement=st,i.element=t,i.locked=a,i.selected=c,i.checked=v,i.isExpanded=l,i.treeInstance=this,this.itemMapping[e-1]={element:r,item:i},this.itemMapping["id"+r.id]=this.itemMapping[e-1],rt=!1,ht=!1,rt=!1,this.rtl&&(n(i.element).css("float","right"),n(i.element).css("clear","both")),rt&&ht||(n(r.firstChild).length>0?(i.icon&&(w=i.iconsize,w||(w=16),y=n('<img width="'+w+'" height="'+w+'" style="float: left;" class="itemicon" src="'+i.icon+'"/>'),n(r).prepend(y),y.css("margin-right","4px"),this.rtl&&(y.css("margin-right","0px"),y.css("margin-left","4px"),y.css("float","right"))),k=r.innerHTML.indexOf("<ul"),k==-1&&(k=r.innerHTML.indexOf("<UL")),k==-1?(i.originalTitle=r.innerHTML,r.innerHTML='<div style="display: inline-block;">'+r.innerHTML+"<\/div>",i.titleElement=n(n(r)[0].firstChild)):(s=r.innerHTML.substring(0,k),s=n.trim(s),i.originalTitle=s,s=n('<div style="display: inline-block;">'+s+"<\/div>"),ut=n(r).find("ul:first"),ut.remove(),r.innerHTML="",n(r).prepend(s),n(r).append(ut),i.titleElement=s,this.rtl&&s.css("float","right")),n.jqx.browser.msie&&n.jqx.browser.version<8&&(n(n(r)[0].firstChild).css("display","inline-block"),ft=!1,this._measureItem.parents().length==0&&(n(document.body).append(this._measureItem),ft=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=n(i.titleElement).text(),tt=this._measureItem.width(),i.icon&&(tt+=20),n(n(item.titleElement).find("img")).length>0&&(tt+=20),n(n(r)[0].firstChild).css("max-width",tt+"px"),ft&&this._measureItem.remove())):(i.originalTitle="Item",n(r).append(n("<span>Item<\/span>")),n(r.firstChild).wrap("<span/>"),i.titleElement=n(r)[0].firstChild,n.jqx.browser.msie&&n.jqx.browser.version<8&&n(r.firstChild).css("display","inline-block"))),f=n(i.titleElement),it=this.toThemeProperty("jqx-rc-all"),this.allowDrag&&f.addClass("draggable"),nt==null||nt==undefined?(nt=i.titleElement,i.label=n.trim(f.text())):i.label=nt,n(r).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&n(r).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),it+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(it+=" "+this.toThemeProperty("jqx-tree-item-rtl")),f[0].className=f[0].className+" "+it,i.level=n(t).parents("li").length,i.hasItems=n(t).find("li").length>0,this.rtl&&i.parentElement&&(this.checkboxes||f.css("margin-right","5px")),this.checkboxes)if(this.host.jqxCheckBox)u=n('<div style="position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>'),u.width(parseInt(this.checkSize)),u.height(parseInt(this.checkSize)),n(r).prepend(u),this.rtl&&(u.css("float","right"),u.css("position","static")),u.jqxCheckBox({hasInput:!1,checked:i.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:o,theme:this.theme}),this.rtl?(et=5,i.parentElement?u.css("margin-right",et+5+"px"):u.css("margin-right",et+"px")):f.css("margin-left",parseInt(this.checkSize)+6),i.checkBoxElement=u[0],u[0].treeItem=i,ct=f.outerHeight()/2-1-parseInt(this.checkSize)/2,u.css("margin-top",ct),n.jqx.browser.msie&&n.jqx.browser.version<8?(f.css("width","1%"),f.css("margin-left",parseInt(this.checkSize)+25)):i.hasItems&&(this.rtl||u.css("margin-left",this.toggleIndicatorSize));else throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");else n.jqx.browser.msie&&n.jqx.browser.version<8&&f.css("width","1%");o&&this.disableItem(i.element);c&&this.selectItem(i.element);n.jqx.browser.msie&&n.jqx.browser.version<8&&(n(r).css("margin","0px"),n(r).css("padding","0px"))}},destroy:function(){this.removeHandler(n(window),"resize.jqxtree"+this.element.id);this.host.removeClass();this.isTouchDevice()&&(this.removeHandler(this.panel,n.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,n.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,n.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var t=this,i=this.isTouchDevice();n.each(this.items,function(){var u=this,o=n(this.element),f=i?n.jqx.mobile.getTouchEventName("touchend"):"click",r,e;t.removeHandler(n(u.checkBoxElement),f);r=n(u.titleElement);t.removeHandler(o);e=t.allowDrag&&t._enableDragDrop;e?(t.removeHandler(r,"mousedown.item"),t.removeHandler(r,"click"),t.removeHandler(r,"dblclick"),t.removeHandler(r,"mouseenter"),t.removeHandler(r,"mouseleave")):t.removeHandler(r);$arrowSpan=n(u.arrow);$arrowSpan.length>0&&(t.removeHandler($arrowSpan,f),t.removeHandler($arrowSpan,"selectstart"),t.removeHandler($arrowSpan,"mouseup"),i||(t.removeHandler($arrowSpan,"mouseenter"),t.removeHandler($arrowSpan,"mouseleave")),t.removeHandler(r,"selectstart"));n.jqx.browser.opera&&t.removeHandler(r,"mousedown.item");t.toggleMode!="click"&&t.removeHandler(r,"click");t.removeHandler(r,t.toggleMode)});this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null);this.host.remove()},_raiseEvent:function(t,i){var u,r;return i==undefined&&(i={owner:null}),u=this.events[t],args=i,args.owner=this,r=new n.Event(u),r.owner=this,r.args=args,this.host.trigger(r)},propertyChangedHandler:function(t,i,r,u){var o,f,s,c,h,e,l;this.isInitialized!=undefined&&this.isInitialized!=!1&&(i=="submitCheckedItems"&&t._updateInputSelection(),i=="disabled"&&t._updateDisabledState(),i=="theme"&&t._applyTheme(r,u),i=="keyboardNavigation"&&(t.enableKeyboardNavigation=u),(i=="width"||i=="height")&&(t.refresh(),t._initialize(),t._calculateWidth(),t.host.jqxPanel&&(o="fixed",(this.height==null||this.height=="auto")&&(o="verticalwrap"),(this.width==null||this.width=="auto")&&(o=o=="fixed"?"horizontalwrap":"wrap"),t.panel.jqxPanel({sizeMode:o}))),i=="touchMode"&&(t._isTouchDevice=null,u&&(t.enableHover=!1),t._render()),(i=="source"||i=="checkboxes")&&this.source!=null&&(f=[],n.each(t.items,function(){this.isExpanded&&(f[f.length]={label:this.label,level:this.level})}),s=t.loadItems(t.source),t.host.jqxPanel?t.panel.jqxPanel("setcontent",s):t.element.innerHTML=s,c=t.disabled,h=t.host.find("ul:first"),h.length>0&&(t.createTree(h[0]),t._render()),e=t,l=e.animationShowDuration,e.animationShowDuration=0,t.disabled=!1,f.length>0&&n.each(t.items,function(){for(var t,n=0;n<f.length;n++)f[n].label==this.label&&f[n].level==this.level&&(t=e.getItem(this.element),e._expandItem(e,t))}),t.disabled=c,e.animationShowDuration=l),i=="hasThreeStates"&&(t._render(),t._updateCheckStates()),i=="toggleIndicatorSize"&&(t._updateCheckLayout(),t._render()))}})}(jqxBaseFramework),function(n){n.jqx._jqxTree.jqxTreeItem=function(n,t){return{label:null,id:n,parentId:t,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null}}}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxDropDownList","",{});n.extend(n.jqx._jqxDropDownList.prototype,{defineInstance:function(){n.extend(!0,this,{disabled:!1,width:null,height:null,items:[],selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,visualItems:[],groups:[],equalItemsWidth:!0,itemHeight:-1,visibleItems:[],emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",displayMember:"",valueMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]})},createInstance:function(){this.render()},render:function(){var t=this,f,o,e,a,s,r,y,h,c,u,i,v,l;if(t.width||(t.width=200),t.height||(t.height=25),f=t.element.nodeName.toLowerCase(),(f=="select"||f=="ul"||f=="ol")&&(t.field=t.element,t.field.className&&(t._className=t.field.className),o={title:t.field.title},o.id=t.field.id.length?t.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":n.jqx.utilities.createId()+"_jqxDropDownList",e=n("<div><\/div>",o),t.width||(t.width=n(t.field).width()),t.height||(t.height=n(t.field).outerHeight()),n(t.field).hide().after(e),t.host=e,t.element=e[0],t.field.tabIndex&&(a=t.field.tabIndex,t.field.tabIndex=-1,t.element.tabIndex=a),s=n.jqx.parseSourceTag(t.field),t.source=s.items,t.selectedIndex==-1&&(t.selectedIndex=s.index)),t.element.innerHTML="",t.isanimating=!1,t.id=t.element.id||n.jqx.utilities.createId(),t.host.attr("role","combobox"),n.jqx.aria(t,"aria-autocomplete","both"),n.jqx.aria(t,"aria-readonly",!1),r=n("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'><\/div><\/div><\/div><\/div>"),t._addInput(),n.jqx._jqxListBox==null||n.jqx._jqxListBox==undefined)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");t.host.attr("tabindex")?(r.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")):r.attr("tabindex",0);v=t;t.touch=n.jqx.mobile.isTouchDevice();t.comboStructure=r;t.host.append(r);t.dropdownlistWrapper=t.host.find("#dropdownlistWrapper");t.dropdownlistArrow=t.host.find("#dropdownlistArrow");t.arrow=n(t.dropdownlistArrow.children()[0]);t.dropdownlistContent=t.host.find("#dropdownlistContent");t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content"));t.dropdownlistWrapper.addClass(t.toThemeProperty("jqx-disableselect"));t.rtl&&(t.dropdownlistContent.addClass(t.toThemeProperty("jqx-rtl")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-rtl")));t.addHandler(t.dropdownlistWrapper,"selectstart",function(){return!1});t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id;t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id;t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id;t.promptText!="Please Choose:"&&(t.placeHolder=t.promptText);y=t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal")+" "+t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal");t.element.className+=" "+y;t._firstDiv=t.host.find("div:first");try{h="listBox"+t.id;c=n(n.find("#"+h));c.length>0&&c.remove();n.jqx.aria(t,"aria-owns",h);n.jqx.aria(t,"aria-haspopup",!0);u=n("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'><\/div><\/div>");u.hide();u.appendTo(document.body);t.container=u;t.listBoxContainer=n(n.find("#innerListBox"+t.id));i=t.width;t.dropDownWidth!="auto"&&(i=t.dropDownWidth);i==null&&(i=t.host.width(),i==0&&(i=t.dropDownWidth));t.dropDownHeight==null&&(t.dropDownHeight=200);v=t;t.container.width(parseInt(i)+25);t.container.height(parseInt(t.dropDownHeight)+25);t.addHandler(t.listBoxContainer,"bindingComplete",function(){t._raiseEvent("6")});t.listBoxContainer.jqxListBox({filterHeight:t.filterHeight,filterPlaceHolder:t.filterPlaceHolder,filterDelay:t.filterDelay,filterable:t.filterable,allowDrop:!1,allowDrag:!1,autoBind:t.autoBind,_checkForHiddenParent:!1,focusable:t.focusable,touchMode:t.touchMode,checkboxes:t.checkboxes,rtl:t.rtl,emptyString:t.emptyString,itemHeight:t.itemHeight,width:i,searchMode:t.searchMode,incrementalSearch:t.incrementalSearch,incrementalSearchDelay:t.incrementalSearchDelay,displayMember:t.displayMember,valueMember:t.valueMember,height:t.dropDownHeight,autoHeight:t.autoDropDownHeight,scrollBarSize:t.scrollBarSize,selectedIndex:t.selectedIndex,source:t.source,theme:t.theme,rendered:function(){t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=n.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse")},renderer:t.renderer});t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0});t.listBox=n.data(t.listBoxContainer[0],"jqxListBox").instance;t.listBox.enableSelection=t.enableSelection;t.listBox.enableHover=t.enableHover;t.listBox.equalItemsWidth=t.equalItemsWidth;t.listBox.selectIndex(t.selectedIndex);t.listBox._arrange();t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup"));n.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow"));t.addHandler(t.listBoxContainer,"unselect",function(n){t._raiseEvent("3",{index:n.args.index,type:n.args.type,item:n.args.item})});t.addHandler(t.listBoxContainer,"change",function(n){n.args&&(n.args.type!="keyboard"?t._raiseEvent("4",{index:n.args.index,type:n.args.type,item:n.args.item}):n.args.type=="keyboard"&&(t.isOpened()||t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})))});t.animationType=="none"?t.container.css("display","none"):t.container.hide()}catch(p){}t=t;t.propertyChangeMap.disabled=function(i,r,u,f){f?(i.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))):(i.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(t.toThemeProperty("jqx-dropdownlist-content-disabled")));n.jqx.aria(i,"aria-disabled",i.disabled)};t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled")));t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down"));t.arrow.addClass(t.toThemeProperty("jqx-icon"));t.renderMode==="simple"&&(t.arrow.remove(),t.host.removeClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.removeClass(t.toThemeProperty("jqx-rc-all")));t._updateHandlers();t._setSize();t._arrange();t.listBox&&t.renderSelection();n.jqx.browser.msie&&n.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0&&(l=t.host.parents(".jqx-window").css("z-index"),u.css("z-index",l+10),t.listBoxContainer.css("z-index",l+10))},resize:function(n,t){this.width=n;this.height=t;this._setSize();this._arrange()},val:function(n){var i,t;return this.dropdownlistContent?(i=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return typeof n=="number"?!1:typeof n=="date"?!1:typeof n=="boolean"?!1:typeof n=="string"?!1:!0},this.input&&(i(n)||arguments.length==0))?this.input.val():(t=this.getItemByValue(n),t!=null&&this.selectItem(t),this.input?this.input.val():void 0):""},focus:function(){try{var n=this,t=function(){n.host.focus();n._firstDiv&&n._firstDiv.focus()};t();setTimeout(function(){t()},10)}catch(i){}},_addInput:function(){var t=this.host.attr("name");this.input=n("<input type='hidden'/>");this.host.append(this.input);t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:[]},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var i,t,u,r;this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width);this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height);i=!1;this.width!=null&&this.width.toString().indexOf("%")!=-1&&(i=!0,this.host.width(this.width));this.height!=null&&this.height.toString().indexOf("%")!=-1&&(i=!0,this.host.height(this.height));t=this;u=function(){if(t._arrange(),t.dropDownWidth=="auto"){var n=t.host.width();t.listBoxContainer.jqxListBox({width:n});t.container.width(parseInt(n)+25)}};i&&(r=this.host.width(),this.dropDownWidth!="auto"&&(r=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:r}),this.container.width(parseInt(r)+25));n.jqx.utilities.resize(this.host,function(){u()},!1,this._checkForHiddenParent)},isOpened:function(){var i=this,t=n.data(document.body,"openedJQXListBox"+this.id);return t!=null&&t==i.listBoxContainer?!0:!1},_updateHandlers:function(){var t=this,r=!1,i;if(this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&t.renderMode!=="simple"&&(r=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&t.renderMode!=="simple"&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),r=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(){var n=t.isOpened();n&&t.close()}),i="mousedown",this.touch&&(i=n.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,i,function(n){if(!t.disabled){var i=t.container.css("display")=="block";if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox();t.focusable?t.focus():n.preventDefault&&n.preventDefault()}}}),t.autoOpen){this.addHandler(this.host,"mouseenter",function(){var n=t.isOpened();!n&&t.autoOpen&&(t.open(),t.host.focus())});n(document).on("mousemove."+t.id,function(n){var s=t.isOpened();if(s&&t.autoOpen){var i=t.host.coord(),r=i.top,u=i.left,f=t.container.coord(),e=f.left,o=f.top;canClose=!0;n.pageY>=r&&n.pageY<=r+t.host.height()&&n.pageX>=u&&n.pageX<u+t.host.width()&&(canClose=!1);n.pageY>=o&&n.pageY<=o+t.container.height()&&n.pageX>=e&&n.pageX<e+t.container.width()&&(canClose=!1);canClose&&t.close()}})}this.touch?this.addHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(n(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id});this.addHandler(this.host,"keydown",function(n){var i=t.container.css("display")=="block";if(t.host.css("display")=="none")return!0;if((n.keyCode=="13"||n.keyCode=="9")&&!t.isanimating)return(i&&(t.renderSelection(),n.keyCode=="13"&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),n.keyCode=="13"&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),i&&n.keyCode!="9")?!1:!0;if(n.keyCode==115)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(n.altKey&&t.host.css("display")=="block")if(n.keyCode==38){if(t.isOpened())return t.hideListBox(),!0}else if(n.keyCode==40&&!t.isOpened())return t.showListBox(),!0;return n.keyCode=="27"&&!t.ishiding?(t.isOpened()&&(t.hideListBox(),t.tempSelectedIndex!=undefined&&t.selectIndex(t.tempSelectedIndex)),!0):t.disabled?void 0:t.listBox._handleKeyDown(n)});this.addHandler(this.listBoxContainer,"checkChange",function(n){t.renderSelection();t._updateInputSelection();t._raiseEvent(5,{label:n.args.label,value:n.args.value,checked:n.args.checked,item:n.args.item})});this.addHandler(this.listBoxContainer,"select",function(n){if(!t.disabled){if(!n.args)return;n.args.type!="keyboard"||t.isOpened()||t.renderSelection();(n.args.type!="keyboard"||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:n.args.index,type:n.args.type,item:n.args.item,originalEvent:n.args.originalEvent}),n.args.type=="mouse"&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}});this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(n){if(!t.disabled){if(t.listBox.itemswrapper&&n.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse");t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus());t.keyboardSelection||(t._oldSelectedInd==undefined&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}});this.addHandler(this.host,"focus",function(){t.renderMode!=="simple"&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))});this.addHandler(this.host,"blur",function(){t.renderMode!=="simple"&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))});this.addHandler(this._firstDiv,"focus",function(){t.renderMode!=="simple"&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))});this.addHandler(this._firstDiv,"blur",function(){t.renderMode!=="simple"&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var i=this,t="mousedown";this.touch&&(t=n.jqx.mobile.getTouchEventName("touchstart"));this.removeHandler(this.dropdownlistWrapper,t);this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click");this.removeHandler(this.host,"loadContent");this.removeHandler(this.listBoxContainer,"checkChange");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this._firstDiv,"focus");this.removeHandler(this._firstDiv,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(n(document),"mousemove."+i.id)},getItem:function(n){return this.listBox.getItem(n)},getItemByValue:function(n){return this.listBox.getItemByValue(n)},selectItem:function(n){this.listBox!=undefined&&(this.listBox.selectItem(n),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(n){this.listBox!=undefined&&(this.listBox.unselectItem(n),this.renderSelection("mouse"))},checkItem:function(n){this.listBox!=undefined&&this.listBox.checkItem(n)},uncheckItem:function(n){this.listBox!=undefined&&this.listBox.uncheckItem(n)},indeterminateItem:function(n){this.listBox!=undefined&&this.listBox.indeterminateItem(n)},renderSelection:function(){var i,p,w,v,b,c,t,a,d,l,u,f,s,h,y,o,e,r;if(this.listBox!=null){if(this.height&&this.height.toString().indexOf("%")!=-1&&this._arrange(),i=this.listBox.visibleItems[this.listBox.selectedIndex],this.filterable&&this.listBox.selectedIndex==-1)for(p in this.listBox.selectedValues)w=this.listBox.selectedValues[p],v=this.listBox.getItemByValue(w),v&&(i=v);if(b=this,this.checkboxes&&(c=this.getCheckedItems(),i=c!=null&&c.length>0?c[0]:null),i==null){t=n('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"><\/span>');t.appendTo(n(document.body));t.addClass(this.toThemeProperty("jqx-widget"));t.addClass(this.toThemeProperty("jqx-listitem-state-normal"));t.addClass(this.toThemeProperty("jqx-item"));n.jqx.utilities.html(t,this.placeHolder);l=this.dropdownlistContent.css("padding-top");u=this.dropdownlistContent.css("padding-bottom");t.css("padding-top",l);t.css("padding-bottom",u);f=t.outerHeight();t.remove();t.removeClass();n.jqx.utilities.html(this.dropdownlistContent,t);e=this.host.height();this.height!=null&&this.height!=undefined&&this.height.toString().indexOf("%")===-1&&(e=parseInt(this.height));r=parseInt((parseInt(e)-parseInt(f))/2);r>0&&(this.dropdownlistContent.css("margin-top",r+"px"),this.dropdownlistContent.css("margin-bottom",r+"px"));this.selectionRenderer&&(n.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(t,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection());this.selectedIndex=this.listBox.selectedIndex;this.width==="auto"&&this._arrange();this.focusable&&this.isOpened()&&this.focus();return}this.selectedIndex=this.listBox.selectedIndex;t=n('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"><\/span>');t.appendTo(n(document.body));t.addClass(this.toThemeProperty("jqx-widget"));t.addClass(this.toThemeProperty("jqx-listitem-state-normal"));t.addClass(this.toThemeProperty("jqx-item"));a=!1;try{i.html!=undefined&&i.html!=null&&i.html.toString().length>0?n.jqx.utilities.html(t,i.html):i.label!=undefined&&i.label!=null&&i.label.toString().length>0?n.jqx.utilities.html(t,i.label):i.label===null||i.label===""?(a=!0,n.jqx.utilities.html(t,"")):i.value!=undefined&&i.value!=null&&i.value.toString().length>0?n.jqx.utilities.html(t,i.value):i.title!=undefined&&i.title!=null&&i.title.toString().length>0?n.jqx.utilities.html(t,i.title):(i.label==""||i.label==null)&&(a=!0,n.jqx.utilities.html(t,""))}catch(k){d=k}if(l=this.dropdownlistContent.css("padding-top"),u=this.dropdownlistContent.css("padding-bottom"),t.css("padding-top",l),t.css("padding-bottom",u),f=t.outerHeight(),f===0&&(f=16),(i.label==""||i.label==null)&&a&&n.jqx.utilities.html(t,""),s=this.width&&this.width.toString().indexOf("%")<=0,t.remove(),t.removeClass(),this.selectionRenderer)n.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(t,i.index,i.label,i.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(h=this.getCheckedItems(),y="",o=0;o<h.length;o++)y+=o==h.length-1?h[o].label:h[o].label+",";t.text(y);s&&t.css("max-width",this.host.width()-30);t.css("overflow","hidden");t.css("display","block");this.rtl||s&&t.css("width",this.host.width()-30);t.css("text-overflow","ellipsis");t.css("padding-bottom",1+parseInt(u));this.dropdownlistContent.html(t);this.focusable&&this.isOpened()&&this.focus()}else this.width&&this.width!=="auto"&&(s&&(this.rtl||t.css("max-width",this.host.width()-this.arrowSize-3)),t.css("overflow","hidden"),t.css("display","block"),t.css("padding-bottom",1+parseInt(u)),this.rtl||s&&t.css("width",this.host.width()-this.arrowSize-3),t.css("text-overflow","ellipsis")),this.dropdownlistContent.html(t),this.focusable&&this.isOpened()&&this.focus();e=this.host.height();this.height!=null&&this.height!=undefined&&this.height.toString().indexOf("%")===-1&&(e=parseInt(this.height));r=parseInt((parseInt(e)-parseInt(f))/2);r>0&&(this.dropdownlistContent.css("margin-top",r+"px"),this.dropdownlistContent.css("margin-bottom",r+"px"));this.selectionRenderer&&(this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"));this.dropdownlistContent&&this.input&&this._updateInputSelection();this.listBox&&this.listBox._activeElement&&n.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id);this.width==="auto"&&this._arrange()}},_updateInputSelection:function(){var t,f,i,e,r,u;if(this.input&&(t=[],this.selectedIndex==-1?this.input.val(""):(f=this.getSelectedItem(),f!=null?(this.input.val(f.value),t.push(f.value)):this.input.val(this.dropdownlistContent.text())),this.checkboxes)){if(i=this.getCheckedItems(),e="",i!=null)for(r=0;r<i.length;r++)(u=i[r].value,u!=undefined)&&(e+=r==i.length-1?u:u+",",t.push(u));this.input.val(e)}this.field&&this.input&&(this.field.nodeName.toLowerCase()=="select"?n.each(this.field,function(){n(this).removeAttr("selected");this.selected=t.indexOf(this.value)>=0;this.selected&&n(this).attr("selected",!0)}):n.each(this.items,function(){n(this.originalItem.originalItem).removeAttr("data-selected");this.selected=t.indexOf(this.value)>=0;this.selected&&n(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){n.jqx.utilities.html(this.dropdownlistContent,t);this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");this.source==null&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(){this.selectedIndex=-1;this._updateInputSelection();this.listBox.clearSelection();this.renderSelection();this.selectionRenderer||n.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(n,t){isNaN(n)||(this.listBox.unselectIndex(n,t),this.renderSelection())},selectIndex:function(n,t,i,r){this.listBox.selectIndex(n,t,i,r,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(n){this.listBox.checkIndex(n)},uncheckIndex:function(n){this.listBox.uncheckIndex(n)},indeterminateIndex:function(n){this.listBox.indeterminateIndex(n)},checkAll:function(){this.listBox.checkAll();this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll();this.renderSelection("mouse")},addItem:function(n){return this.listBox.addItem(n)},insertAt:function(n,t){return n==null?!1:this.listBox.insertAt(n,t)},removeAt:function(n){var t=this.listBox.removeAt(n);return this.renderSelection("mouse"),t},removeItem:function(n){var t=this.listBox.removeItem(n);return this.renderSelection("mouse"),t},updateItem:function(n,t){var i=this.listBox.updateItem(n,t);return this.renderSelection("mouse"),i},updateAt:function(n,t){var i=this.listBox.updateAt(n,t);return this.renderSelection("mouse"),i},ensureVisible:function(n){return this.listBox.ensureVisible(n)},disableAt:function(n){return this.listBox.disableAt(n)},enableAt:function(n){return this.listBox.enableAt(n)},disableItem:function(n){return this.listBox.disableItem(n)},enableItem:function(n){return this.listBox.enableItem(n)},_findPos:function(t){while(t&&(t.type=="hidden"||t.nodeType!=1||n.expr.filters.hidden(t)))t=t.nextSibling;var i=n(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,r){var u=t.outerWidth(),f=t.outerHeight(),h=n(window).width()+n(window).scrollLeft(),e=n(window).height()+n(window).scrollTop(),o,s;return i.left+u>h&&u>this.host.width()&&(o=this.host.coord().left,s=u-this.host.width(),i.left=o-s+2),i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+f>e&&e>f?Math.abs(f+r+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return n("body").css("border-top-width")!="0px"&&(t=parseInt(n("body").css("border-top-width")),isNaN(t)&&(t=0)),n("body").css("border-left-width")!="0px"&&(i=parseInt(n("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){var s,c,y,p,o,l,a,e,v;n.jqx.aria(this,"aria-expanded",!0);this.dropDownWidth=="auto"&&this.width!=null&&this.width.indexOf&&(this.width.indexOf("%")!=-1||this.width.indexOf("auto")!=-1)&&this.listBox.host.width()!=this.host.width()&&(s=this.host.width(),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25));var i=this,t=this.listBoxContainer,r=this.listBox,w=n(window).scrollTop(),b=n(window).scrollLeft(),u=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px",f,h=parseInt(Math.round(this.host.coord(!0).left));(f=h+"px",c=n.jqx.mobile.isSafariMobileBrowser()||n.jqx.mobile.isWindowsPhone(),this.listBox!=null)&&(y=n.jqx.utilities.hasTransform(this.host),this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(y||c!=null&&c)&&(f=n.jqx.mobile.getLeftPos(this.element),u=n.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),n("body").css("border-top-width")!="0px"&&(u=parseInt(u)-this._getBodyOffset().top+"px"),n("body").css("border-left-width")!="0px"&&(f=parseInt(f)-this._getBodyOffset().left+"px")),t.stop(),this.renderMode!=="simple"&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",f),this.container.css("top",u),r._arrange(),p=!0,o=!1,(this.dropDownHorizontalAlignment=="right"||this.rtl)&&(l=this.container.outerWidth(),a=Math.abs(l-this.host.width()),l>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-a+"px"):this.container.css("left",25+parseInt(Math.round(h))+a+"px")),this.enableBrowserBoundsDetection&&(e=this.testOffset(t,{left:parseInt(this.container.css("left")),top:parseInt(u)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=e.top?(o=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"))):t.css("top",0),this.container.css("top",e.top),parseInt(this.container.css("left"))!=e.left&&this.container.css("left",e.left)),this.animationType=="none"?(this.container.css("display","block"),n.data(document.body,"openedJQXListBoxParent",i),n.data(document.body,"openedJQXListBox"+this.id,t),t.css("margin-top",0),t.css("opacity",1),r._renderItems(),i._raiseEvent("0",r)):(this.container.css("display","block"),i.isanimating=!0,this.animationType=="fade"?(t.css("margin-top",0),t.css("opacity",0),t.animate({opacity:1},this.openDelay,function(){n.data(document.body,"openedJQXListBoxParent",i);n.data(document.body,"openedJQXListBox"+i.id,t);i.ishiding=!1;i.isanimating=!1;r._renderItems();i._raiseEvent("0",r)})):(t.css("opacity",1),v=t.outerHeight(),o?t.css("margin-top",v):t.css("margin-top",-v),t.animate({"margin-top":0},this.openDelay,function(){n.data(document.body,"openedJQXListBoxParent",i);n.data(document.body,"openedJQXListBox"+i.id,t);i.ishiding=!1;i.isanimating=!1;r._renderItems();i._raiseEvent("0",r)}))),o?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),t.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),t.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),this.renderMode!=="simple"&&(t.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))))},hideListBox:function(){var r,u;n.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,e=this.listBox,f=this.container,i=this;n.data(document.body,"openedJQXListBox"+this.id,null);this.animationType=="none"?this.container.css("display","none"):i.ishiding||(t.stop(),r=t.outerHeight(),t.css("margin-top",0),i.isanimating=!0,u=-r,parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(u=r),this.animationType=="fade"?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){f.css("display","none");i.isanimating=!1;i.ishiding=!1})):t.animate({"margin-top":u},this.closeDelay,function(){f.css("display","none");i.isanimating=!1;i.ishiding=!1}));this.ishiding=!0;this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));t.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));t.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));t.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent("1",e)},closeOpenedListBox:function(t){var i=t.data.me,f=n(t.target),u=t.data.listbox,e,r;return u==null?!0:n(t.target).ischildof(t.data.me.host)?!0:i.isOpened()?(e=i,r=!1,n.each(f.parents(),function(){if(this.className!="undefined"&&this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1)return r=!0,!1;if(this.className.indexOf("jqx-dropdownlist")!=-1)return i.element.id==this.id&&(r=!0),!1}}),u!=null&&!r&&i.isOpened()&&i.hideListBox(),!0):!0},loadFromSelect:function(n){this.listBox.loadFromSelect(n)},refresh:function(n){n!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var n=parseInt(this.host.width()),r=parseInt(this.host.height()),o=this.arrowSize,t=this.arrowSize,u=3,i=n-t-2*u,f,e;i>0&&this.width!=="auto"?this.dropdownlistContent.width(i+"px"):i<=0&&this.dropdownlistContent.width(0);this.width==="auto"&&(this.dropdownlistContent.css("width","auto"),n=this.dropdownlistContent.width()+t+2*u,this.host.width(n));this.dropdownlistContent.height(r);this.dropdownlistContent.css("left",0);this.dropdownlistContent.css("top",0);this.dropdownlistArrow.width(t);this.width&&this.width.toString().indexOf("%")>=0&&(f=t*100/n,e=i*100/n,this.dropdownlistArrow.css("width",f+"%"),this.dropdownlistContent.css("width",e+"%"));this.dropdownlistArrow.height(r);this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){n.jqx.utilities.resize(this.host,null,!0);this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.removeHandler(this.listBoxContainer,"bindingComplete");this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id);this.removeHandlers();this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(n(document),"mousedown."+this.id,this.closeOpenedListBox);this.touch&&this.removeHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+"."+this.id);this.dropdownlistArrow.remove();delete this.dropdownlistArrow;delete this.dropdownlistWrapper;delete this.listBoxContainer;delete this.input;delete this.arrow;delete this.dropdownlistContent;delete this.listBox;delete this._firstDiv;this.container.remove();delete this.container;var t=n.data(this.element,"jqxDropDownList");t&&delete t.instance;this.host.removeData();this.host.remove();delete this.comboStructure;delete this.host;delete this.set;delete this.get;delete this.call;delete this.element},_raiseEvent:function(t,i){var u,r;return i==undefined&&(i={owner:null}),u=this.events[t],args=i,args.owner=this,r=new n.Event(u),r.owner=this,(t==2||t==3||t==4||t==5)&&(r.args=i),this.host.trigger(r)},propertyChangedHandler:function(t,i,r,u){var f;t.isInitialized!=undefined&&t.isInitialized!=!1&&(i=="filterable"&&t.listBoxContainer.jqxListBox({filterable:u}),i=="filterHeight"&&t.listBoxContainer.jqxListBox({filterHeight:u}),i=="filterPlaceHolder"&&t.listBoxContainer.jqxListBox({filterPlaceHolder:u}),i=="filterDelay"&&t.listBoxContainer.jqxListBox({filterDelay:u}),i=="enableSelection"&&t.listBoxContainer.jqxListBox({enableSelection:u}),i=="enableHover"&&t.listBoxContainer.jqxListBox({enableHover:u}),i=="autoOpen"&&t._updateHandlers(),i=="emptyString"&&(t.listBox.emptyString=t.emptyString),i=="itemHeight"&&t.listBoxContainer.jqxListBox({itemHeight:u}),i=="renderer"&&t.listBoxContainer.jqxListBox({renderer:u}),i=="rtl"&&(u?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),i=="source"&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),u==null&&t.clear()),(i=="displayMember"||i=="valueMember")&&(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),i=="placeHolder"&&t.renderSelection(),i=="theme"&&u!=null&&(t.listBoxContainer.jqxListBox({theme:u}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),n.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.dropdownlistContent.removeClass(),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content")),t.dropdownlistWrapper.removeClass(),t.dropdownlistWrapper.addClass(t.toThemeProperty("jqx-disableselect")),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-normal")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.arrow.removeClass(),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon"))),i=="autoDropDownHeight"&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),i=="searchMode"&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),i=="incrementalSearch"&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),i=="incrementalSearchDelay"&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),i=="dropDownHeight"&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),(i=="dropDownWidth"||i=="scrollBarSize")&&(f=t.width,t.dropDownWidth!="auto"&&(f=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:f,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(f)+25)),(i=="width"||i=="height")&&u!=r&&(this.refresh(),i=="width"&&t.dropDownWidth=="auto"&&(f=t.host.width(),t.listBoxContainer.jqxListBox({width:f}),t.container.width(parseInt(f)+25))),i=="checkboxes"&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),i=="selectedIndex"&&t.listBox!=null&&(t.listBox.selectIndex(parseInt(u)),t.renderSelection()))}})}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxPanel","",{});n.extend(n.jqx._jqxPanel.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,scrollBarSize:n.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};n.extend(!0,this,t)},createInstance:function(){this.render()},render:function(){var e=this,f,i,r,u,t;if(n.jqx.utilities.scrollBarSize!=15&&(this.scrollBarSize=n.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),f=n("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><\/div>"),!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");i=this.host.children();this._rtl=!1;i.length>0&&i.css("direction")=="rtl"&&(this.rtl=!0,this._rtl=!0);this.host.wrapInner(f);r=this.host.find("#verticalScrollBar");r[0].id=this.element.id+"verticalScrollBar";this.vScrollBar=r.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});u=this.host.find("#horizontalScrollBar");u[0].id=this.element.id+"horizontalScrollBar";this.hScrollBar=u.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});this.content=this.host.find("#panelContent");this.wrapper=this.host.find("#panelWrapper");this.content.addClass(this.toThemeProperty("jqx-widget-content"));this.wrapper[0].id=this.wrapper[0].id+this.element.id;this.content[0].id=this.content[0].id+this.element.id;this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));this.bottomRight[0].id="bottomRight"+this.element.id;this.vScrollBar.css("visibility","inherit");this.hScrollBar.css("visibility","inherit");this.vScrollInstance=n.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=n.data(this.hScrollBar[0],"jqxScrollBar").instance;t=this;this.propertyChangeMap.disabled=function(){t.vScrollBar.jqxScrollBar({disabled:t.disabled});t.hScrollBar.jqxScrollBar({disabled:t.disabled})};this.vScrollBar.jqxScrollBar({disabled:this.disabled});this.hScrollBar.jqxScrollBar({disabled:this.disabled});this._addHandlers();this.width==null&&(this.width=this.content.width());this.height==null&&(this.height=this.content.height());this._arrange();this.contentWidth=t.content[0].scrollWidth;this.contentHeight=t.content[0].scrollHeight;this.autoUpdate&&t._autoUpdate();this.propertyChangeMap.autoUpdate=function(){t.autoUpdate?t._autoUpdate():(clearInterval(t.autoUpdateId),t.autoUpdateId=null)};this.addHandler(n(window),"unload",function(){t.autoUpdateId!=null&&(clearInterval(t.autoUpdateId),t.autoUpdateId=null,t.destroy())});this._updateTouchScrolling();this._render()},hiddenParent:function(){return n.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var t=this,i;this.touchMode==!0&&n.jqx.mobile.setMobileSimulator(this.element);i=this.isTouchDevice();i&&(n.jqx.mobile.touchScroll(this.element,t.vScrollInstance.max,function(n,i){var r;t.vScrollBar.css("visibility")!="hidden"&&(r=t.vScrollInstance.value,t.vScrollInstance.setPosition(r+i));t.hScrollBar.css("visibility")!="hidden"&&(r=t.hScrollInstance.value,t.hScrollInstance.setPosition(r+n))},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange());this.vScrollBar.jqxScrollBar({touchMode:this.touchMode});this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var t=n.jqx.mobile.isTouchDevice();return this.touchMode==!0?t=!0:this.touchMode==!1&&(t=!1),t&&this.touchModeStyle!=!1&&(this.scrollBarSize=n.jqx.utilities.touchScrollBarSize),t},append:function(n){n!=null&&(this.content.append(n),this._arrange())},setcontent:function(n){this.content[0].innerHTML=n;this._arrange();var t=this;setTimeout(function(){t._arrange()},100)},prepend:function(n){n!=null&&(this.content.prepend(n),this._arrange())},clearcontent:function(){this.content.text("");this.content.children().remove();this._arrange()},remove:function(t){t!=null&&(n(t).remove(),this._arrange())},_autoUpdate:function(){var n=this;this.autoUpdateId=setInterval(function(){var i=n.content[0].scrollWidth,r=n.content[0].scrollHeight,t=!1;n.contentWidth!=i&&(n.contentWidth=i,t=!0);n.contentHeight!=r&&(n.contentHeight=r,t=!0);t&&n._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var t=this;this.addHandler(this.vScrollBar,"valueChanged",function(){t._render(t)});this.addHandler(this.hScrollBar,"valueChanged",function(){t._render(t)});this.addHandler(this.host,"mousewheel",function(n){t.wheel(n,t)});this.addHandler(this.wrapper,"scroll",function(){t.wrapper[0].scrollTop!=0&&(t.wrapper[0].scrollTop=0);t.wrapper[0].scrollLeft!=0&&(t.wrapper[0].scrollLeft=0)});this.addHandler(this.host,"mouseleave",function(){t.focused=!1});this.addHandler(this.host,"focus",function(){t.focused=!0});this.addHandler(this.host,"blur",function(){t.focused=!1});this.addHandler(this.host,"mouseenter",function(){t.focused=!0});n.jqx.utilities.resize(this.host,function(){n.jqx.isHidden(t.host)||t._arrange(!1)})},resize:function(n,t){this.width=n;this.height=t;this._arrange(!1)},_removeHandlers:function(){var t=this;this.removeHandler(this.vScrollBar,"valueChanged");this.removeHandler(this.hScrollBar,"valueChanged");this.removeHandler(this.host,"mousewheel");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.wrapper,"scroll");this.removeHandler(n(window),"resize."+this.element.id)},wheel:function(t,i){var r=0,u;if(t.originalEvent&&n.jqx.browser.msie&&t.originalEvent.wheelDelta&&(r=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?r=t.wheelDelta/120:t.detail&&(r=-t.detail/3),r)return u=i._handleDelta(r),u||t.preventDefault&&t.preventDefault(),u?!1:u;t.preventDefault&&t.preventDefault();t.returnValue=!1},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden")return!1;var n=this.vScrollInstance;return n.value+n.largestep<=n.max?(n.setPosition(n.value+n.largestep),!0):n.value+n.largestep!=n.max?(n.setPosition(n.max),!0):!1},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden")return!1;var n=this.vScrollInstance;return n.value-n.largestep>=n.min?(n.setPosition(n.value-n.largestep),!0):n.value-n.largestep!=n.min?(n.setPosition(n.min),!0):!1},_handleDelta:function(n){var t,i;return this.focused&&(t=this.vScrollInstance.value,n<0?this.scrollDown():this.scrollUp(),i=this.vScrollInstance.value,t!=i)?!1:!0},_render:function(n){n==undefined&&(n=this);var i=n.vScrollInstance.value,t=n.hScrollInstance.value;this.rtl&&this.hScrollBar[0].style.visibility!="hidden"&&(t=this._rtl==!1?n.hScrollInstance.max-t:-n.hScrollInstance.value);n.content.css({left:-t+"px",top:-i+"px"})},scrollTo:function(n,t){n!=undefined&&t!=undefined&&(this.vScrollInstance.setPosition(t),this.hScrollInstance.setPosition(n))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var t=this.scrollBarSize;return isNaN(t)&&(t=parseInt(t),t=isNaN(t)?"17px":t+"px"),this.isTouchDevice()&&(t=n.jqx.utilities.touchScrollBarSize),parseInt(t)},_getScrollArea:function(){var r=0,t,i;if(this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),n.jqx.browser.msie&&n.jqx.browser.version<10&&(r=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl"),t=parseInt(this.content[0].scrollWidth),n.each(this.content.children(),function(){t=Math.max(t,this.scrollWidth);t=Math.max(t,n(this).outerWidth())}),n.jqx.browser.msie&&n.jqx.browser.version<10&&this.content.css("left",r),i=parseInt(this.content[0].scrollHeight),this.content.css("overflow","visible"),n.jqx.browser.msie&&n.jqx.browser.version<9){i=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":i=parseInt(this.content[0].scrollHeight);t=parseInt(this.content[0].scrollWidth);break;case"verticalWrap":case"verticalwrap":i=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:t,height:i}},_arrange:function(t){var s,h,c;t!==!1&&(this.width!=null&&this.host.width(this.width),this.height!=null&&this.host.height(this.height));var i=this._getScrollSize(),l=this.host.width(),e=this.host.height(),a=this._getScrollArea(),u=a.width,o=a.height,f=o-parseInt(Math.round(this.host.height())),r=u-parseInt(Math.round(this.host.width()));this.horizontalScrollBarMax!=undefined&&(r=this.horizontalScrollBarMax);this.verticalScrollBarMax!=undefined&&(f=this.verticalScrollBarMax);s=function(n,t){t>5?(n.vScrollBar.jqxScrollBar({max:t}),n.vScrollBar.css("visibility","inherit")):(n.vScrollBar.jqxScrollBar("setPosition",0),n.vScrollBar.css("visibility","hidden"))};h=function(t,r){r>0?n.jqx.browser.msie&&n.jqx.browser.version<8?r-10<=i?(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0)):(t.hScrollBar.jqxScrollBar({max:r+4}),t.hScrollBar.css("visibility","inherit")):(t.hScrollBar.jqxScrollBar({max:r+4}),t.hScrollBar.css("visibility","inherit")):(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":this.host.width(u);this.host.height(o);this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");return;case"horizontalWrap":case"horizontalwrap":this.host.width(u);this.hScrollBar.css("visibility","hidden");s(this,f);this._arrangeScrollbars(i,u,e);return;case"verticalWrap":case"verticalwrap":this.host.height(o);this.vScrollBar.css("visibility","hidden");h(this,r);this._arrangeScrollbars(i,l,e);return}s(this,f);c=2;this.vScrollBar.css("visibility")!="hidden"&&this.horizontalScrollBarMax==undefined&&(!this.isTouchDevice()&&r>0||r>0)&&(r+=i+c);h(this,r);this.hScrollBar.css("visibility")!="hidden"&&this.vScrollBar.jqxScrollBar({max:f+i+c});this._arrangeScrollbars(i,l,e)},_arrangeScrollbars:function(t,i,r){var s=this.vScrollBar[0].style.visibility!="hidden",h=this.hScrollBar[0].style.visibility!="hidden",u=2,f=2,o,e;this.hScrollBar.height(t);this.hScrollBar.css({top:r-t-u-f+"px",left:"0px"});this.hScrollBar.width(i-u+"px");this.vScrollBar.width(t);this.vScrollBar.height(parseInt(r)-u+"px");this.vScrollBar.css({left:parseInt(i)-parseInt(t)-u-f+"px",top:"0px"});this.rtl?(this.vScrollBar.css({left:"0px"}),o=s?parseInt(t)+"px":0,this.content.children().css("direction")!="rtl"&&(e=!1,n.jqx.browser.msie&&n.jqx.browser.version<8&&(e=!0),e||this.content.css("padding-left",o))):this.vScrollBar.css("visibility")!="hidden"&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());this.vScrollBar.css("visibility")!="hidden"&&this.hScrollBar.css("visibility")!="hidden"?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(t)+3),this.bottomRight.height(parseInt(t)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:t+f+"px"})),this.hScrollBar.width(i-1*t-u-f+"px"),this.vScrollBar.height(parseInt(r)-u-t-f+"px")):this.bottomRight.css("visibility","hidden");this.hScrollInstance.refresh();this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId);this.autoUpdateId=null;this.autoUpdate=!1;n.jqx.utilities.resize(this.host,null,!0);this._removeHandlers();this.removeHandler(n(window),"unload");this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.host.remove()},_raiseevent:function(t,i,r){var f,u;if(this.isInitialized!=undefined&&this.isInitialized==!0)return f=this.events[t],u=new n.Event(f),u.previousValue=i,u.currentValue=r,u.owner=this,this.host.trigger(u)},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1;this.vScrollInstance.value=0;this.hScrollInstance.value=0;this._arrange();this._render()},propertyChangedHandler:function(n,t,i,r){n.isInitialized&&(t=="rtl"&&(this.vScrollBar.jqxScrollBar({rtl:r}),this.hScrollBar.jqxScrollBar({rtl:r}),n._arrange()),n.updating||(t=="scrollBarSize"||t=="width"||t=="height")&&i!=r&&n._arrange(),t=="touchMode"&&r!="auto"&&n._updateTouchScrolling(),t=="theme"&&(n.host.removeClass(),n.host.addClass(this.toThemeProperty("jqx-panel")),n.host.addClass(this.toThemeProperty("jqx-widget")),n.host.addClass(this.toThemeProperty("jqx-widget-content")),n.host.addClass(this.toThemeProperty("jqx-rc-all")),n.vScrollBar.jqxScrollBar({theme:this.theme}),n.hScrollBar.jqxScrollBar({theme:this.theme}),n.bottomRight.removeClass(),n.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),n.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),n.content.removeClass(),n.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){n.jqx.isHidden(this.host)||this.refresh()},refresh:function(){this._arrange()}})}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{});n.extend(n.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base.treeGrid=this;this.base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"};this.checkboxes=!1;this.icons=!1;this.showSubAggregates=!1;this.rowDetailsRenderer=null;this.virtualModeCreateRecords=null;this.virtualModeRecordCreating=null;this.loadingFailed=!1},createInstance:function(){this.theme=this.base.theme;var n=this},deleteRow:function(n){var t=this.base;t.deleterowbykey(n)},updateRow:function(n,t){var i=this.base;i.updaterowbykey(n,t)},setCellValue:function(n,t,i){var r=this.base;r.setCellValueByKey(n,t,i)},getCellValue:function(n,t){var i=this.base;return i.getCellValueByKey(n,t)},lockRow:function(n){var t=this.base;t.lockrowbykey(n)},unlockRow:function(n){var t=this.base;t.unlockrowbykey(n)},selectRow:function(n){var t=this.base;t.selectrowbykey(n)},unselectRow:function(n){var t=this.base;t.unselectrowbykey(n)},ensureRowVisible:function(n){var t=this.base;t.ensurerowvisiblebykey(n)},beginCellEdit:function(n,t){var i=this.base,r=i.getcolumn(t);i.beginroweditbykey(n,r)},beginRowEdit:function(n){var t=this.base;t.beginroweditbykey(n)},endCellEdit:function(n,t,i){var r=this.base;r.endroweditbykey(n,i)},endRowEdit:function(n,t){var i=this.base;i.endroweditbykey(n,t)},_showLoadElement:function(){var t=this.base;t.host.css("display")=="block"&&t.autoshowloadelement&&(n(t.dataloadelement).css("visibility","visible"),n(t.dataloadelement).css("display","block"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},_hideLoadElement:function(){var t=this.base;t.host.css("display")=="block"&&t.autoshowloadelement&&(n(t.dataloadelement).css("visibility","hidden"),n(t.dataloadelement).css("display","none"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},getKey:function(n){if(n)return n.uid},getRows:function(){var n=this.base;return n.source.hierarchy?n.source.hierarchy:n.source.records},getRow:function(n){var r=this.base,i=r.source.records,u,f,t;if(r.source.hierarchy)return u=function(t){for(var r,i=0;i<t.length;i++)if(t[i]){if(t[i].uid==n)return t[i];if(t[i].records&&(r=u(t[i].records),r))return r}},f=u(r.source.hierarchy),f;for(t=0;t<i.length;t++)if(i[t]&&i[t].uid==n)return i[t]},_renderrows:function(){var t=this.base,oi=this,c,di,nt,tt,ut,si,v,nr,rt,ft,hi,y,ni,p,l,d,i,o,k,ct,ti,f,pt,a,r,u,ii,et,ot,st,h,b,g,ci,wt,s,li,ai,vi,at,fr,pi,ui,kt,or,fi,sr,bi,hr,ei,e,ki,dt,vt,lt;if(!t._loading&&!t._updating){c=t._names();t.source.hierarchy.length!==0||t.loadingFailed||this.virtualModeCreateRecords&&(di=function(n){if(n===!1||n&&n.length==0){t._loading=!1;t.loadingFailed=!0;t.source.hierarchy=[];oi._hideLoadElement();t._renderrows();t._updateScrollbars();t._arrange();return}for(var i=0;i<n.length;i++)n[i].level=0,oi.virtualModeRecordCreating(n[i]),t.rowsByKey[n[i].uid]=n[i];t.source.hierarchy=n;t.source._source.hierarchy||(t.source._source.hierarchy={});t._loading=!1;oi._hideLoadElement();t._renderrows();t._updateScrollbars();t._arrange()},t._loading=!0,this.virtualModeCreateRecords(null,di),this._showLoadElement());t.rendering&&t.rendering();nt=0;t.table[0].rows=[];e=t.toTP("jqx-cell")+" "+t.toTP("jqx-widget-content")+" "+t.toTP("jqx-item");t.rtl&&(e+=" "+t.toTP("jqx-cell-rtl"));tt=t.columns.records.length;ut=n.jqx.browser.msie&&n.jqx.browser.version<8;ut&&t.host.attr("hideFocus","true");var ft=[],gi=function(n,i){for(var r,o,e,f,u=0;u<n.length;u++)if((r=n[u],r)&&(o=t.rowinfo[r.uid]?t.rowinfo[r.uid].expanded:r.expanded,t.dataview.filters.length==0&&(r._visible=!0),r._visible!==!1))if(o||r[c.leaf]){if(i.push(r),r.records&&r.records.length>0)for(e=gi(r.records,[]),f=0;f<e.length;f++)i.push(e[f])}else i.push(r);return i},v=t.source.hierarchy.length===0?t.source.records:t.source.hierarchy;v=t.dataview.evaluate(v);t.dataViewRecords=v;this.showSubAggregates&&(si=function(t,i){t!=0&&i.length>0&&(i[i.length-1]?i[i.length-1].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0}):n.jqx.browser.msie&&n.jqx.browser.version<9&&i[i.length-2]&&(i[i.length-2].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0})));for(var r=0;r<i.length;r++)i[r]&&i[r].records&&si(t+1,i[r].records)},si(0,v));t.source.hierarchy.length===0?(t.dataview.pagesize=="all"||!t.pageable||t.serverProcessing?(rt=v,t.pageable&&t.serverProcessing&&v.length>t.dataview.pagesize&&(rt=v.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize))):rt=v.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize),ft=rt):(v=gi.call(t,v,[]),rt=t.dataview.pagesize!="all"&&t.pageable?v.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize):v,ft=rt,nr=t.dataview.pagenum,t.updatepagerdetails(),t.dataview.pagenum!=nr&&(rt=t.dataview.pagesize!="all"&&t.pageable?v.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize):v,ft=rt));t.renderedRecords=ft;var gt=ft.length,tr=t.tableZIndex,yt=0,ht=0;if(ut)for(a=0;a<tt;a++){y=t.columns.records[a];u=y.width;u<y.minwidth&&(u=y.minwidth);u>y.maxwidth&&(u=y.maxwidth);h=n('<table><tr><td role="gridcell" style="max-width: '+u+"px; width:"+u+'px;" class="'+e+'"><\/td><\/tr><\/table>');n(document.body).append(h);hi=h.find("td");yt=1+parseInt(hi.css("padding-left"))+parseInt(hi.css("padding-right"));h.remove();break}var ir=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",w="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+ir+"' id='table"+t.element.id+"'><colgroup>",it="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+ir+"' id='pinnedtable"+t.element.id+"'><colgroup>",rr=null;for(a=0;a<tt;a++)(y=t.columns.records[a],y.hidden)||(rr=y,u=y.width,u<y.minwidth&&(u=y.minwidth),u>y.maxwidth&&(u=y.maxwidth),u-=yt,u<0&&(u=0),ut?(et=u,a==0&&et++,it+="<col style='max-width: "+u+"px; width: "+et+"px;'>",w+="<col style='max-width: "+u+"px; width: "+et+"px;'>"):(it+="<col style='max-width: "+u+"px; width: "+u+"px;'>",w+="<col style='max-width: "+u+"px; width: "+u+"px;'>"),ht+=u);if(w+="<\/colgroup>",it+="<\/colgroup>",t._hiddencolumns=!1,ni=!1,gt===0){if(k='<tr role="row">',p=t.host.height(),t.pageable&&(p-=t.pagerheight,t.pagerposition==="both"&&(p-=t.pagerheight)),p-=t.columnsheight,t.filterable){var cr=t.filter.find(".filterrow"),lr=t.filter.find(".filterrow-hidden"),ur=1;lr.length>0&&(ur=0);p-=t.filterheight+t.filterheight*cr.length*ur}t.showstatusbar&&(p-=t.statusbarheight);t.showaggregates&&(p-=t.aggregatesheight);p<25&&(p=25);t.hScrollBar[0].style.visibility!="hidden"&&(p-=t.hScrollBar.outerHeight());(t.height==="auto"||t.height===null||t.autoheight)&&(p=100);var u=t.host.width()+2,h='<td colspan="'+t.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+p+"px; height: "+p+"px;  min-width:"+ht+"px; max-width:"+ht+"px; width:"+ht+"px;",e=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");e+=" "+t.toTP("jqx-center-align");h+='" class="'+e+'">';t._loading||(h+=t.gridlocalization.emptydatastring);h+="<\/td>";k+=h;w+=k;it+=k;t.table[0].style.width=ht+2+"px";nt=ht}for(l=t.source._source.hierarchy&&t.source._source.hierarchy.groupingDataFields?t.source._source.hierarchy.groupingDataFields.length:0,d=0;d<ft.length;d++){for(i=ft[d],o=i.uid,l>0&&i[c.level]<l&&(o=i.uid),i.uid===undefined&&(i.uid=t.dataview.generatekey()),k='<tr data-key="'+o+'" role="row" id="row'+d+t.element.id+'">',ct='<tr data-key="'+o+'" role="row" id="row'+d+t.element.id+'">',i.aggregate&&(k='<tr data-role="summaryrow" role="row" id="row'+d+t.element.id+'">',ct='<tr data-role="summaryrow" role="row" id="row'+d+t.element.id+'">'),ti=0,t.rowinfo[o]?(t.rowinfo[o].checked===undefined&&(t.rowinfo[o].checked=i[c.checked]),t.rowinfo[o].icon===undefined&&(t.rowinfo[o].icon=i[c.icon]),t.rowinfo[o].aggregate===undefined&&(t.rowinfo[o].aggregate=i[c.aggregate]),t.rowinfo[o].row===undefined&&(t.rowinfo[o].row=i),t.rowinfo[o].leaf===undefined&&(t.rowinfo[o].leaf=i[c.leaf]),t.rowinfo[o].expanded===undefined&&(t.rowinfo[o].expanded=i[c.expanded])):t.rowinfo[o]={selected:i[c.selected],checked:i[c.checked],icon:i[c.icon],aggregate:i.aggregate,row:i,leaf:i[c.leaf],expanded:i[c.expanded]},f=t.rowinfo[o],f.row=i,i.originalRecord&&(f.originalRecord=i.originalRecord),pt=0,a=0;a<tt;a++){if(r=t.columns.records[a],(r.pinned||t.rtl&&t.columns.records[tt-1].pinned)&&(ni=!0),u=r.width,u<r.minwidth&&(u=r.minwidth),u>r.maxwidth&&(u=r.maxwidth),u-=yt,u<0&&(u=0),e=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item"),r.pinned&&(e+=" "+t.toTP("jqx-grid-cell-pinned")),t.sortcolumn===r.displayfield&&(e+=" "+t.toTP("jqx-grid-cell-sort")),t.altrows&&d%2!=0&&(e+=" "+t.toTP("jqx-grid-cell-alt")),t.rtl&&(e+=" "+t.toTP("jqx-cell-rtl")),ii="",l>0&&!ut&&i[c.level]<l){for(ii+=' colspan="'+tt+'"',et=0,lt=0;lt<tt;lt++)(ot=t.columns.records[lt],ot.hidden)||(st=ot.width,st<ot.minwidth&&(u=ot.minwidth),st>ot.maxwidth&&(u=ot.maxwidth),st-=yt,st<0&&(st=0),et+=st);u=et}if(h='<td role="gridcell"'+ii+' style="max-width:'+u+"px; width:"+u+"px;",b='<td role="gridcell"'+ii+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+u+"px; width:"+u+"px;",a==tt-1&&tt==1&&(h+="border-right-color: transparent;",b+="border-right-color: transparent;"),l>0&&i[c.level]<l?t.rtl&&(e+=" "+t.toTP("jqx-right-align")):r.cellsalign!="left"&&(e+=r.cellsalign==="right"?" "+t.toTP("jqx-right-align"):" "+t.toTP("jqx-center-align")),f&&(f.selected&&t.editKey!==o&&t.selectionmode!=="none"&&(e+=" "+t.toTP("jqx-grid-cell-selected"),e+=" "+t.toTP("jqx-fill-state-pressed")),f.locked&&(e+=" "+t.toTP("jqx-grid-cell-locked")),f.aggregate&&(e+=" "+t.toTP("jqx-grid-cell-pinned"))),r.hidden?(h+="display: none;",b+="display: none;",t._hiddencolumns=!0):(pt!=0||t.rtl?(h+="border-right-width: 0px;",b+="border-right-width: 0px;"):(h+="border-left-width: 0px;",b+="border-left-width: 0px;"),pt++,ti+=yt+u),r.pinned&&(h+="pointer-events: auto;",b+="pointer-events: auto;"),g="",t.source.hierarchy.length!=0&&i.records&&(!i.records||i.records.length!==0)||this.virtualModeCreateRecords||(f.leaf=!0),i.records&&i.records.length>0&&(f.leaf=!1),t.dataview.filters.length>0&&i.records&&i.records.length>0){for(ci=!1,wt=0;wt<i.records.length;wt++)if(i.records[wt]._visible!==!1&&i.records[wt].aggregate==undefined){ci=!0;break}f.leaf=ci?!1:!0}if(f&&!f.leaf&&(f.expanded?(g+=t.toTP("jqx-tree-grid-expand-button")+" ",g+=t.rtl?t.toTP("jqx-grid-group-expand-rtl"):t.toTP("jqx-grid-group-expand"),g+=" "+t.toTP("jqx-icon-arrow-down")):(g+=t.toTP("jqx-tree-grid-collapse-button")+" ",t.rtl?(g+=t.toTP("jqx-grid-group-collapse-rtl"),g+=" "+t.toTP("jqx-icon-arrow-left")):(g+=t.toTP("jqx-grid-group-collapse"),g+=" "+t.toTP("jqx-icon-arrow-right")))),t.autorowheight&&pt!=1||(e+=" "+t.toTP("jqx-grid-cell-nowrap ")),s=t._getcellvalue(r,f.row),l>0&&i[c.level]<l&&(s=i.label),r.cellsformat!=""&&n.jqx.dataFormat&&(n.jqx.dataFormat.isDate(s)?s=n.jqx.dataFormat.formatdate(s,r.cellsformat,t.gridlocalization):(n.jqx.dataFormat.isNumber(s)||!isNaN(parseFloat(s))&&isFinite(s))&&(s=n.jqx.dataFormat.formatnumber(s,r.cellsformat,t.gridlocalization))),r.cellclassname!=""&&r.cellclassname&&(typeof r.cellclassname=="string"?e+=" "+r.cellclassname:(li=r.cellclassname(d,r.datafield,t._getcellvalue(r,f.row),f.row,s),li&&(e+=" "+li))),r.cellsrenderer!=""&&r.cellsrenderer&&(ai=r.cellsrenderer(o,r.datafield,t._getcellvalue(r,f.row),f.row,s),ai!==undefined&&(s=ai)),f.aggregate&&r.aggregates&&(vi=i.siblings.slice(0,i.siblings.length-1),at=t._calculateaggregate(r,null,!0,vi),i[r.displayfield]="",at?r.aggregatesrenderer?at&&(fr=r.aggregatesrenderer(at[r.datafield],r,null,t.getcolumnaggregateddata(r.datafield,r.aggregates,!1,vi),"subAggregates"),s=fr,i[r.displayfield]+=name+":"+at[r.datafield]+"\n"):(s="",i[r.displayfield]="",n.each(at,function(){var u=this,n,f;for(obj in u)n=obj,n=t._getaggregatename(n),f='<div style="position: relative; margin: 0px; overflow: hidden;">'+n+":"+u[obj]+"<\/div>",s+=f,i[r.displayfield]+=n+":"+u[obj]+"\n"})):s=""),pt===1&&!t.rtl||r==rr&&t.rtl||l>0&&i[c.level]<l){var yi="",bt=t.toThemeProperty("jqx-tree-grid-indent"),ar=f.leaf?1:0;for(pi=0;pi<i[c.level]+ar;pi++)yi+="<span class='"+bt+"'><\/span>";var er="<span class='"+g+"'><\/span>",ri="",wi="";this.checkboxes&&!i.aggregate&&(ui=t.toThemeProperty("jqx-tree-grid-checkbox")+" "+bt+" "+t.toThemeProperty("jqx-checkbox-default")+" "+t.toThemeProperty("jqx-fill-state-normal")+" "+t.toThemeProperty("jqx-rc-all"),kt=!0,n.isFunction(this.checkboxes)&&(kt=this.checkboxes(o,i),kt==undefined&&(kt=!1)),kt&&(f?(or=f.checked,ri+=or?"<span class='"+ui+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-checked")+"'><\/div><\/span>":"<span class='"+ui+"'><\/span>"):ri+="<span class='"+ui+"'><\/span>"));this.icons&&!i.aggregate&&(fi=t.toThemeProperty("jqx-tree-grid-icon")+" "+bt,t.rtl&&(fi=t.toThemeProperty("jqx-tree-grid-icon")+" "+t.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+bt),sr=t.toThemeProperty("jqx-tree-grid-icon-size")+" "+bt,bi=f.icon,n.isFunction(this.icons)&&(f.icon=this.icons(o,i),f.icon&&(bi=!0)),bi&&(wi+=f.icon?"<span class='"+fi+"'><img class='"+sr+"' src='"+f.icon+"'/><\/span>":"<span class='"+fi+"'><\/span>"));hr=yi+er+ri+wi+"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+"'>"+s+"<\/span>";s=t.rtl?"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+"'>"+s+"<\/span>"+wi+ri+er+yi:hr}if(l>0&&ut&&a>=l&&i[c.level]<l&&(h+="padding-left: 5px; border-left-width: 0px;",b+="padding-left: 5px; border-left-width: 0px;",s="<span style='visibility: hidden;'>-<\/span>"),h+='" class="'+e+'">',h+=s,h+="<\/td>",b+='" class="'+e+'">',b+=s,b+="<\/td>",r.pinned?(ct+=h,k+=h):(k+=h,ni&&(ct+=b)),l>0&&!ut&&i[c.level]<l)break}nt==0&&(t.table[0].style.width=ti+2+"px",nt=ti);k+="<\/tr>";ct+="<\/tr>";w+=k;it+=ct;t.rowdetails&&!i.aggregate&&this.rowDetailsRenderer&&(ei='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+u+"px; width:"+u+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+t.columns.records.length+'" role="gridcell"',e=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item"),e+=" "+t.toTP("jqx-details"),e+=" "+t.toTP("jqx-reset"),ki=this.rowDetailsRenderer(o,i),ki&&(ei+='" class="'+e+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+ki+"<\/div><\/div><\/td><\/tr>",w+=ei,it+=ei))}w+="<\/table>";it+="<\/table>";ni?(t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(it+w)}):t.table[0].innerHTML=it+w,dt=t.table.find("#table"+t.element.id),vt=t.table.find("#pinnedtable"+t.element.id),vt.css("float","left"),vt.css("pointer-events","none"),dt.css("float","left"),vt[0].style.position="absolute",dt[0].style.position="relative",dt[0].style.zIndex=tr-10,vt[0].style.zIndex=tr+10,t._table=dt,t._table[0].style.left="0px",t._pinnedTable=vt,t._table[0].style.width=nt+"px",t._pinnedTable[0].style.width=nt+"px",t.rtl&&t._haspinned&&(t._pinnedTable[0].style.left=3-nt+parseInt(t.element.style.width)+"px")):(t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(w)}):t.table[0].innerHTML=w,lt=t.table.find("#table"+t.element.id),t._table=lt,n.jqx.browser.msie&&n.jqx.browser.version<10&&(t._table[0].style.width=nt+"px"),gt===0&&(t._table[0].style.width=2+nt+"px"));gt===0&&(t._table[0].style.tableLayout="auto",t._pinnedTable&&(t._pinnedTable[0].style.tableLayout="auto"));t.showaggregates&&t._updatecolumnsaggregates();t._loading&&gt==0&&(t._arrange(),this._showLoadElement());t.rendered&&t.rendered()}},propertyChangedHandler:function(n){n.isInitialized==undefined||n.isInitialized==!1},checkRow:function(n,t){var i=this.base,f=i._names(),e,r,u;i._loading||(e=this,r=i.rowinfo[n],r?(r.checked=!0,r.row[f.checked]=!0,t!==!1&&i._renderrows(),i._raiseEvent("rowCheck",{key:n,row:r.row})):(u=this.getRow(n),u&&(i.rowinfo[n]={row:u,checked:!0},i._raiseEvent("rowCheck",{key:n,row:u}))))},uncheckRow:function(n,t){var i=this.base,f=i._names(),e,r,u;i._loading||(e=this,r=i.rowinfo[n],r?(r.checked=!1,r.row[f.checked]=!1,t!==!1&&i._renderrows(),i._raiseEvent("rowUncheck",{key:n,row:r.row})):(u=this.getRow(n),u&&(i.rowinfo[n]={row:u,checked:!1},i._raiseEvent("rowUncheck",{key:n,row:u}))))},expandRow:function(n){var t=this.base,f,e,o;if(!t._loading){var r=t._names(),u=this,i=t.rowinfo[n];if(i){if(i.expanded){i.row[r.expanded]=!0;return}if(i.expanded=!0,i.row[r.expanded]=!0,i.originalRecord&&(i.originalRecord[r.expanded]=!0),this.virtualModeCreateRecords&&!i.row._loadedOnDemand&&(f=function(n){var f,e,o;if(i.row._loadedOnDemand=!0,n===!1){t._loading=!1;u._hideLoadElement();i.leaf=!0;i.row[r.leaf]=!0;t._renderrows();return}for(f=0;f<n.length;f++){if(n[f][r.level]=i.row[r.level]+1,n[f][r.parent]=i.row,t.rowsByKey[n[f].uid]){t._loading=!1;u._hideLoadElement();i.leaf=!0;i.row[r.leaf]=!0;t._renderrows();throw new Error("Please, check whether you Add Records with unique ID/Key. ");}t.rowsByKey[n[f].uid]=n[f];u.virtualModeRecordCreating(n[f])}i.row.records=i.row.records?i.row.records.concat(n):n;(!n||n&&n.length==0)&&(i.leaf=!0,i.row[r.leaf]=!0);i.originalRecord&&(i.originalRecord.records=n,i.originalRecord[r.expanded]=!0,n.length==0&&(i.originalRecord[r.leaf]=!0));t._loading=!1;u._hideLoadElement();e=t.vScrollBar.css("visibility");t._renderrows();t._updateScrollbars();o=e!=t.vScrollBar.css("visibility");(t.height==="auto"||t.height===null||t.autoheight||o)&&t._arrange();t._renderhorizontalscroll()},!i.row[r.leaf])){t._loading=!0;this._showLoadElement();this.virtualModeCreateRecords(i.row,f);return}t.updating()||(e=t.vScrollBar.css("visibility"),t._renderrows(),t._updateScrollbars(),o=e!=t.vScrollBar.css("visibility"),(t.height==="auto"||t.height===null||t.autoheight||o)&&t._arrange(),t._renderhorizontalscroll(),t._raiseEvent("rowExpand",{row:i.row,rowKey:n}))}}},collapseRow:function(n){var t=this.base,r=t._names(),i,u,f;if(!t._loading&&(i=t.rowinfo[n],i)){if(!i.expanded){i.row[r.expanded]=!1;return}i.expanded=!1;i.row[r.expanded]=!1;i.originalRecord&&(i.originalRecord[r.expanded]=!1);t.updating()||(u=t.vScrollBar.css("visibility"),t._renderrows(),t._updateScrollbars(),f=u!=t.vScrollBar.css("visibility"),(t.height==="auto"||t.height===null||t.autoheight||f)&&t._arrange(),t._renderhorizontalscroll(),t._raiseEvent("rowCollapse",{row:i.row,rowKey:n}))}}})}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxDragDrop","",{});n.extend(n.jqx._jqxDragDrop.prototype,{defineInstance:function(){var t={restricter:"document",handle:!1,feedback:"clone",opacity:.6,revert:!1,revertDuration:400,distance:5,disabled:!1,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:!1,triggerEvents:!0,_touchEvents:{mousedown:n.jqx.mobile.getTouchEventName("touchstart"),click:n.jqx.mobile.getTouchEventName("touchstart"),mouseup:n.jqx.mobile.getTouchEventName("touchend"),mousemove:n.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:!1,_oldOpacity:1,_feedbackType:undefined,_isTouchDevice:!1,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};n.extend(!0,this,t)},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var i=n.data(document.body,"jqx-draggables")||1,r,t;this.appendTo=this._getParent();this._isTouchDevice=n.jqx.mobile.isTouchDevice();/(static|relative)/.test(this.host.css("position"))&&(this.feedback&&this.feedback!=="original"||(r=this._getRelativeOffset(this.host),t=this.appendTo.offset(),this.appendTo.css("position")!="static"&&(t={left:0,top:0}),this.element.style.position="absolute",this.element.style.left=t.left+r.left+"px",this.element.style.top=t.top+r.top+"px"));this._validateProperties();this._idHandler(i);this.disabled&&this.disable();typeof this.dropTarget=="string"&&(this.dropTarget=n(this.dropTarget));this._refresh();i+=1;n.data(document.body,"jqx-draggables",i);this.host.addClass("jqx-draggable");this.disabled||this.host.css("cursor",this.cursor)},_getParent:function(){var t=this.appendTo;if(typeof this.appendTo=="string")switch(this.appendTo){case"parent":t=this.host.parent();break;case"document":t=n(document);break;case"body":t=n(document.body);break;default:t=n(this.appendTo)}return t},_idHandler:function(n){if(!this.element.id){var t="jqx-draggable-"+n;this.element.id=t}},_refresh:function(){this._removeEventHandlers();this._addEventHandlers()},_getEvent:function(n){return this._isTouchDevice?this._touchEvents[n]:n},_validateProperties:function(){this._feedbackType=this.feedback==="clone"?"clone":"original";this.dropAction!=="default"&&(this.dropAction="nothing")},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart");this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown);this.removeHandler(n(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove);this.removeHandler(n(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var t=this,i,r;this.addHandler(this.host,"dragstart",function(i){if(t.disabled)return!0;var r=n.jqx.mobile.isTouchDevice();if(!r)return i.preventDefault(),!1});this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this});this.addHandler(n(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this});this.addHandler(n(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp,{self:this});try{(document.referrer!=""||window.frameElement)&&window.top!=null&&window.top!=window.self&&(i="",window.parent&&document.referrer&&(i=document.referrer),i.indexOf(document.location.host)!=-1&&(r=function(){t._mouseUp(t)},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)))}catch(u){}},_mouseDown:function(n){var t=n.data.self,r=t._getMouseCoordinates(n),u=t._mouseCapture(n),i;if((t._originalPageX=r.left,t._originalPageY=r.top,t.disabled)||(i=!1,t._mouseStarted||(t._mouseUp(n),i=!0),u&&(t._mouseDownEvent=n),t._isTouchDevice)||n.which!==1||!u)return!0;n.preventDefault();i==!0},_mouseMove:function(n){var t=n.data.self;return t.disabled?!0:t._mouseStarted?(t._mouseDrag(n),n.preventDefault&&n.preventDefault(),!1):(t._mouseDownEvent&&t._isMovedDistance(n)&&(t._mouseStarted=t._mouseStart(t._mouseDownEvent,n)?!0:!1,t._mouseStarted?t._mouseDrag(n):t._mouseUp(n)),!t._mouseStarted)},_mouseUp:function(n){var t;return(t=n.data&&n.data.self?n.data.self:this,t.disabled)?!0:(t._mouseDownEvent=!1,t._movedDistance=!1,t._mouseStarted&&(t._mouseStarted=!1,t._mouseStop(n)),t.feedback&&t.feedback[0]&&t._feedbackType!=="original"&&typeof t.feedback.remove=="function"&&!t.revert&&t.feedback.remove(),t._isTouchDevice?void 0:!1)},cancelDrag:function(){var n=this.revertDuration;this.revertDuration=0;this._mouseDownEvent=!1;this._movedDistance=!1;this._mouseStarted=!1;this._mouseStop();this.feedback.remove();this.revertDuration=n},_isMovedDistance:function(n){var t=this._getMouseCoordinates(n);return this._movedDistance?!0:t.left>=this._originalPageX+this.distance||t.left<=this._originalPageX-this.distance||t.top>=this._originalPageY+this.distance||t.top<=this._originalPageY-this.distance?(this._movedDistance=!0,!0):!1},_getMouseCoordinates:function(t){if(this._isTouchDevice){var i=n.jqx.position(t);return{left:i.left,top:i.top}}return{left:t.pageX,top:t.pageY}},destroy:function(){return this._enableSelection(this.host),this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled"),this._removeEventHandlers(),this.isDestroyed=!0,this},_disableSelection:function(t){t.each(function(){n(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_enableSelection:function(t){t.each(function(){n(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(n){return this.disabled?!1:this._getHandle(n)?(this._disableSelection(this.host),!0):!1},_getScrollParent:function(t){var i;return i=n.jqx.browser.msie&&/(static|relative)/.test(t.css("position"))||/absolute/.test(t.css("position"))?t.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position",1))&&/(auto|scroll)/.test(n.css(this,"overflow",1)+n.css(this,"overflow-y",1)+n.css(this,"overflow-x",1))}).eq(0):t.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow",1)+n.css(this,"overflow-y",1)+n.css(this,"overflow-x",1))}).eq(0),/fixed/.test(t.css("position"))||!i.length?n(document):i},_mouseStart:function(t){var i=this._getMouseCoordinates(t),u=this._getParentOffset(this.host),r;if(this.feedback=this._createFeedback(t),this._zIndexBackup=this.feedback.css("z-index"),this.feedback[0].style.zIndex=this.dragZIndex,this._backupFeedbackProportions(),this._backupeMargins(),this._positionType=this.feedback.css("position"),this._scrollParent=this._getScrollParent(this.feedback),this._offset=this.positionAbs=this.host.offset(),this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left},n.extend(this._offset,{click:{left:i.left-this._offset.left,top:i.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)}),this.position=this._generatePosition(t),this.originalPosition=this._fixPosition(),this.restricter&&this._setRestricter(),this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging")),r=this._raiseEvent(0,t),this.onDragStart&&typeof this.onDragStart=="function")this.onDragStart(this.position);return this._mouseDrag(t,!0),!0},_fixPosition:function(){var n=this._getRelativeOffset(this.host),t=this.position;return{left:this.position.left+n.left,top:this.position.top+n.top}},_mouseDrag:function(n){if(this.position=this._generatePosition(n),this.positionAbs=this._convertPositionTo("absolute"),this.feedback[0].style.left=this.position.left+"px",this.feedback[0].style.top=this.position.top+"px",this._raiseEvent(2,n),this.onDrag&&typeof this.onDrag=="function")this.onDrag(this.data,this.position);return this._handleTarget(),!1},_over:function(t,i,r){if(this.dropTarget){var u=!1,f=this;n.each(this.dropTarget,function(n,e){return u=f._overItem(e,t,i,r),u.over?!1:void 0})}return u},_overItem:function(t,i,r,u){var e;t=n(t);var f=t.offset(),o=t.outerHeight(),s=t.outerWidth(),e;if(t&&t[0]!==this.element){e=!1;switch(this.tolerance){case"intersect":i.left+r>f.left&&i.left<f.left+s&&i.top+u>f.top&&i.top<f.top+o&&(e=!0);break;case"fit":r+i.left<=f.left+s&&i.left>=f.left&&u+i.top<=f.top+o&&i.top>=f.top&&(e=!0)}return{over:e,target:t}}},_handleTarget:function(){if(this.dropTarget){var t=this.feedback.offset(),i=this.feedback.outerWidth(),r=this.feedback.outerHeight(),n=this._over(t,i,r);if(n.over){if(this._targetEnterFired&&n.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&n.target[0]!=this._oldtarget[0]&&(this._raiseEvent(4,{target:this._oldtarget}),this.onDropTargetLeave&&typeof this.onDropTargetLeave=="function"))this.onDropTargetLeave(this._oldtarget);if((!this._targetEnterFired||n.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&n.target[0]!=this._oldtarget[0])&&(this._targetEnterFired=!0,this._raiseEvent(3,{target:n.target}),this.onDropTargetEnter&&typeof this.onDropTargetEnter=="function"))this.onDropTargetEnter(n.target);this._oldtarget=n.target}else if(this._targetEnterFired&&(this._targetEnterFired=!1,this._raiseEvent(4,{target:this._oldtarget||n.target}),this.onDropTargetLeave&&typeof this.onDropTargetLeave=="function"))this.onDropTargetLeave(this._oldtarget||n.target)}},_mouseStop:function(n){var r=!1,i=this._fixPosition(),t={width:this.host.outerWidth(),height:this.host.outerHeight()};if(this.feedback[0].style.opacity=this._oldOpacity,this.revert||(this.feedback[0].style.zIndex=this._zIndexBackup),this._enableSelection(this.host),this.dropped&&(r=this.dropped,this.dropped=!1),(!this.element||!this.element.parentNode)&&this.feedback==="original")return!1;if(this._dropElement(i),this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(1,n),this.onDragEnd&&typeof this.onDragEnd=="function")this.onDragEnd(this.data);if(this.onTargetDrop&&typeof this.onTargetDrop=="function"&&this._over(i,t.width,t.height).over)this.onTargetDrop(this._over(i,t.width,t.height).target);return this._revertHandler(),!1},_dropElement:function(n){if(this.dropAction==="default"&&this.feedback&&this.feedback[0]!==this.element&&this.feedback!=="original"&&!this.revert&&!/(fixed|absolute)/.test(this.host.css("position"))){this.host.css("position","relative");var t=this._getRelativeOffset(this.host);n=this.position;n.left-=t.left;n.top-=t.top;this.element.style.left=n.left+"px";this.element.style.top=n.top+"px"}},_revertHandler:function(){if(this.revert||n.isFunction(this.revert)&&this.revert()){var t=this;this._feedbackType!="original"?this.feedback!=null&&(this.dropAction!="none"?n(this.feedback).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.feedback&&t.feedback[0]&&t._feedbackType!=="original"&&typeof t.feedback.remove=="function"&&t.feedback.remove()}):t.feedback&&t.feedback[0]&&t._feedbackType!=="original"&&typeof t.feedback.remove=="function"&&t.feedback.remove()):(this.element.style.zIndex=this.dragZIndex,n(this.host).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.element.style.zIndex=t._zIndexBackup}))}},_getHandle:function(t){var i;return this.handle?n(this.handle,this.host).find("*").andSelf().each(function(){this==t.target&&(i=!0)}):i=!0,i},_createFeedback:function(){var n,t;return n=typeof this._feedbackType=="function"?this._feedbackType():this._feedbackType==="clone"?this.host.clone().removeAttr("id"):this.host,/(absolute|fixed)/.test(n.css("position"))||n.css("position","absolute"),(this.appendTo[0]!==this.host.parent()[0]||n[0]!==this.element)&&(t={},n.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(n).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(n).top}),n.appendTo(this.appendTo)),typeof this.initFeedback=="function"&&this.initFeedback(n),n},_getParentOffset:function(t){var t=t||this.feedback,i;return this._offsetParent=t.offsetParent(),i=this._offsetParent.offset(),this._positionType=="absolute"&&this._scrollParent[0]!==document&&n.contains(this._scrollParent[0],this._offsetParent[0])&&(i.left+=this._scrollParent.scrollLeft(),i.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]==document.body||this._offsetParent[0].tagName&&this._offsetParent[0].tagName.toLowerCase()=="html"&&n.jqx.browser.msie)&&(i={top:0,left:0}),{top:i.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:i.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(n){var i=this._scrollParent||n.parent(),t;return n=n||this.feedback,n.css("position")==="relative"?(t=this.host.position(),{top:t.top-(parseInt(n.css("top"),10)||0),left:t.left-(parseInt(n.css("left"),10)||0)}):{top:0,left:0}},_backupeMargins:function(){this.margins={left:parseInt(this.host.css("margin-left"),10)||0,top:parseInt(this.host.css("margin-top"),10)||0,right:parseInt(this.host.css("margin-right"),10)||0,bottom:parseInt(this.host.css("margin-bottom"),10)||0}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity;this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){this.restricter=="parent"&&(this.restricter=this.feedback[0].parentNode);(this.restricter=="document"||this.restricter=="window")&&this._handleNativeRestricter();typeof this.restricter.left!="undefined"&&typeof this.restricter.top!="undefined"&&typeof this.restricter.height!="undefined"&&typeof this.restricter.width!="undefined"?this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]:/^(document|window|parent)$/.test(this.restricter)||this.restricter.constructor==Array?this.restricter.constructor==Array&&(this._restricter=this.restricter):this._handleDOMParentRestricter()},_handleNativeRestricter:function(){this._restricter=[this.restricter==="document"?0:n(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,this.restricter==="document"?0:n(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,(this.restricter==="document"?0:n(window).scrollLeft())+n(this.restricter==="document"?document:window).width()-this._feedbackProportions.width-this.margins.left,(this.restricter==="document"?0:n(window).scrollTop())+(n(this.restricter==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var r=n(this.restricter),t=r[0],i;t&&(i=n(t).css("overflow")!=="hidden",this._restricter=[(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0),(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0),(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom],this._restrictiveContainer=r)},_convertPositionTo:function(t,i){i||(i=this.position);var u,r,f;return u=t==="absolute"?1:-1,r=this._positionType!=="absolute"||this._scrollParent[0]!=document&&n.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,f=/(html|body)/i.test(r[0].tagName),this._getPosition(i,u,f,r)},_getPosition:function(t,i,r,u){return{top:t.top+this._offset.relative.top*i+this._offset.parent.top*i-(n.jqx.browser.safari&&n.jqx.browser.version<526&&this._positionType=="fixed"?0:(this._positionType=="fixed"?-this._scrollParent.scrollTop():r?0:u.scrollTop())*i),left:t.left+this._offset.relative.left*i+this._offset.parent.left*i-(n.jqx.browser.safari&&n.jqx.browser.version<526&&this._positionType=="fixed"?0:(this._positionType=="fixed"?-this._scrollParent.scrollLeft():r?0:u.scrollLeft())*i)}},_generatePosition:function(t){var f=this._positionType=="absolute"&&!(this._scrollParent[0]!=document&&n.contains(this._scrollParent[0],this._offsetParent[0]))?this._offsetParent:this._scrollParent,s=/(html|body)/i.test(f[0].tagName),r=this._getMouseCoordinates(t),e=r.left,o=r.top,i,u;return this.originalPosition&&this.restricter&&(this._restrictiveContainer?(u=this._restrictiveContainer.offset(),i=[this._restricter[0]+u.left,this._restricter[1]+u.top,this._restricter[2]+u.left,this._restricter[3]+u.top]):i=this._restricter,r.left-this._offset.click.left<i[0]&&(e=i[0]+this._offset.click.left),r.top-this._offset.click.top<i[1]&&(o=i[1]+this._offset.click.top),r.left-this._offset.click.left>i[2]&&(e=i[2]+this._offset.click.left),r.top-this._offset.click.top>i[3]&&(o=i[3]+this._offset.click.top)),{top:o-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(n.jqx.browser.safari&&n.jqx.browser.version<526&&this._positionType=="fixed"?0:this._positionType=="fixed"?-this._scrollParent.scrollTop():s?0:f.scrollTop()),left:e-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(n.jqx.browser.safari&&n.jqx.browser.version<526&&this._positionType=="fixed"?0:this._positionType=="fixed"?-this._scrollParent.scrollLeft():s?0:f.scrollLeft())}},_raiseEvent:function(t,i){if(this.triggerEvents==undefined||this.triggerEvents!=!1){var u=this._events[t],r=n.Event(u),i=i||{};return i.position=this.position,i.element=this.element,n.extend(i,this.data),i.feedback=this.feedback,r.args=i,this.host.trigger(r)}},disable:function(){this.disabled=!0;this.host.addClass(this.toThemeProperty("jqx-draggable-disabled"));this._enableSelection(this.host)},enable:function(){this.disabled=!1;this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(t,i,r,u){i==="dropTarget"?typeof u=="string"&&(t.dropTarget=n(u)):i=="disabled"?u&&t._enableSelection(t.host):i=="cursor"&&t.host.css("cursor",t.cursor)}})}(jqxBaseFramework),function(n){jqxListBoxDragDrop=function(){n.extend(n.jqx._jqxListBox.prototype,{_hitTestBounds:function(n,t,i){var u=n.host.offset(),f=i-parseInt(u.top),h=t-parseInt(u.left),e=n._hitTest(h,f),o,s,r;return f<0?null:e!=null?(o=parseInt(u.left),s=o+n.host.width(),o<=t+e.width/2&&t<=s)?e:null:n.items&&n.items.length>0&&(r=n.items[n.items.length-1],r.top+r.height+15>=f)?r:null},_handleDragStart:function(t,i){var r=n.jqx.mobile.isTouchDevice();if(r&&i.allowDrag)t.on(n.jqx.mobile.getTouchEventName("touchstart"),function(){n.jqx.mobile.setTouchScroll(!1,i.element.id)});t.off("dragStart");t.on("dragStart",function(t){var u,e;if(i.allowDrag&&!i.disabled){i.feedbackElement=n("<div style='z-index: 99999; position: absolute;'><\/div>");i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback"));i.feedbackElement.appendTo(n(document.body));i.feedbackElement.hide();i.isDragging=!0;i._dragCancel=!1;var f=i._getMouseCoordinates(t),r=i._hitTestBounds(i,f.left,f.top),o=n.find(".jqx-listbox");if(i._listBoxes=o,n.each(i._listBoxes,function(){var t=n.data(this,"jqxListBox").instance;t._enableHover=t.enableHover;t.enableHover=!1;n.jqx.mobile.setTouchScroll(!1,i.element.id)}),u=function(){i._dragCancel=!0;n(t.args.element).jqxDragDrop({triggerEvents:!1});n(t.args.element).jqxDragDrop("cancelDrag");clearInterval(i._autoScrollTimer);n(t.args.element).jqxDragDrop({triggerEvents:!0});n.each(i._listBoxes,function(){var t=n.data(this,"jqxListBox").instance;t._enableHover!=undefined&&(t.enableHover=t._enableHover,n.jqx.mobile.setTouchScroll(!0,i.element.id))})},r==null||r.isGroup)r==null&&u();else{if(i._dragItem=r,i.dragStart&&(e=i.dragStart(r),e==!1))return u(),!1;r.disabled&&u();i._raiseEvent(4,{label:r.label,value:r.value,originalEvent:t.args})}}return!1})},_handleDragging:function(t,i){t.off("dragging");t.on("dragging",function(t){var u=t.args,r,f;i._dragCancel||(r=i._getMouseCoordinates(t),f=r,i._lastDraggingPosition=r,i._dragOverItem=null,i.feedbackElement.hide(),n.each(i._listBoxes,function(){var o;if(n.jqx.isHidden(n(this)))return!0;var l=n(this).offset(),s=l.top+20,a=n(this).height()+s-40,h=l.left,v=n(this).width(),y=h+v,t=n.data(this,"jqxListBox").instance,e=t._hitTestBounds(t,r.left,r.top),c=t.vScrollInstance;e!=null&&t.allowDrop&&!t.disabled&&(i._dragOverItem=e,e.element&&(i.feedbackElement.show(),o=n(e.element).offset().top+1,f.top>o+e.height/2&&(o=o+e.height),i.feedbackElement.css("top",o),i.feedbackElement.css("left",h),t.vScrollBar.css("visibility")!="visible"?i.feedbackElement.width(n(this).width()):i.feedbackElement.width(n(this).width()-20)));r.left>=h&&r.left<y?u.position.top<s&&u.position.top>=s-30?(clearInterval(t._autoScrollTimer),c.value!=0&&i.feedbackElement.hide(),t._autoScrollTimer=setInterval(function(){var n=t.scrollUp();n||clearInterval(t._autoScrollTimer)},100)):u.position.top>a&&u.position.top<a+30?(clearInterval(t._autoScrollTimer),t.vScrollBar.css("visibility")!="hidden"&&c.value!=c.max&&i.feedbackElement.hide(),t._autoScrollTimer=setInterval(function(){var n=t.scrollDown();n||clearInterval(t._autoScrollTimer)},100)):clearInterval(t._autoScrollTimer):(i._dragOverItem==null&&i.feedbackElement.hide(),clearInterval(t._autoScrollTimer))}))})},_handleDragEnd:function(t,i){var r=n.find(".jqx-listbox");t.off("dragEnd");t.on("dragEnd",function(t){var u,h,r,f,w,c,l,a,e,v;clearInterval(i._autoScrollTimer);var y=n.jqx.mobile.isTouchDevice(),o=y?i._lastDraggingPosition:i._getMouseCoordinates(t),p=n.find(".jqx-listbox"),s=null;if(i.feedbackElement.remove(),i._dragCancel){t.stopPropagation();return}if(n.each(p,function(){var r,f;if(n.jqx.isHidden(n(this)))return!0;var u=parseInt(n(this).offset().left),e=u+n(this).width(),t=n.data(this,"jqxListBox").instance;clearInterval(t._autoScrollTimer);t._enableHover!=undefined&&(t.enableHover=t._enableHover,n.jqx.mobile.setTouchScroll(!0,i.element.id));i._dragItem!=null&&o.left+i._dragItem.width/2>=u&&o.left<e&&(r=parseInt(n(this).offset().top),f=r+n(this).height(),o.top>=r&&o.top<=f&&(s=n(this)))}),u=i._dragItem,s!=null&&s.length>0){if(r=n.data(s[0],"jqxListBox").instance,h=r.allowDrop,h&&!r.disabled)if(r=n.data(s[0],"jqxListBox").instance,f=r._hitTestBounds(r,o.left,o.top),f=i._dragOverItem,f==null||f.isGroup){if(r.dropAction!="none"){if(r.content.find(".draggable").length>0&&r.content.find(".draggable").jqxDragDrop("destroy"),i.dragEnd){if(e=i.dragEnd(i._dragItem,null,t.args),e==!1)return n(t.args.element).jqxDragDrop({triggerEvents:!1}),n(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),n(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;e==undefined&&(e=!0)}r.addItem(i._dragItem);r.dropAction=="default"&&(u.index>0&&i.selectIndex(u.index-1),i.removeItem(u,!0));r.clearSelection();r.selectIndex(r.items.length-1)}}else{if(e=!0,i.dragEnd){if(e=i.dragEnd(u,f,t.args),e==!1)return n(t.args.element).jqxDragDrop({triggerEvents:!1}),n(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),n(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;e==undefined&&(e=!0)}e&&(w=f.index,c=function(){for(var i,t=f.index,n=t-2;n<=t+2;n++)if(r.items&&r.items.length>n&&(i=r.items[n],i!=null&&i.value==u.value))return n;return t},r.dropAction!="none"&&(l=n(f.element).offset().top+1,r.content.find(".draggable").length>0&&r.content.find(".draggable").jqxDragDrop("destroy"),o.top>l+f.height/2?r.insertAt(i._dragItem,f.index+1):r.insertAt(i._dragItem,f.index),i.dropAction=="default"&&(u.index>0&&i.selectIndex(u.index-1),i.removeItem(u,!0)),a=c(),r.clearSelection(),r.selectIndex(a)))}}else if(i.dragEnd&&(v=i.dragEnd(u,t.args),!1==v))return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;return u!=null&&i._raiseEvent(5,{label:u.label,value:u.value,originalEvent:t.args}),!1})},_enableDragDrop:function(){var i,t;this.allowDrag&&this.host.jqxDragDrop&&(i=this.content.find(".draggable"),i.length>0&&(t=this,i.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(i){var r=n('<span style="white-space: nowrap;" class="'+t.toThemeProperty("jqx-fill-state-normal")+'">'+i.text()+"<\/span>"),u;n(document.body).append(r);u=r.width();r.remove();i.width(u+5);i.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}}),this._autoScrollTimer=null,t._dragItem=null,t._handleDragStart(i,t),t._handleDragging(i,t),t._handleDragEnd(i,t)))},_getMouseCoordinates:function(t){if(this._isTouchDevice=n.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=n.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}}})};jqxTreeDragDrop=function(){n.extend(n.jqx._jqxTree.prototype,{_hitTestBounds:function(t,i,r){var o=this,u=null,f,e;return t._visibleItems&&(f=parseInt(t.host.offset().left),e=t.host.outerWidth(),n.each(t._visibleItems,function(){if(i>=f&&i<f+e&&this.top+5<r&&r<this.top+this.height){var o=n(this.element).parents("li:first");if(o.length>0&&(u=t.getItem(o[0]),u!=null))return u.height=this.height,u.top=this.top,!1}})),u},_handleDragStart:function(t,i){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover"));var r=n.jqx.mobile.isTouchDevice();if(r&&i.allowDrag)t.on(n.jqx.mobile.getTouchEventName("touchstart"),function(){n.jqx.mobile.setTouchScroll(!1,"panel"+i.element.id)});t.off("dragStart");t.on("dragStart",function(t){i.feedbackElement=n("<div style='z-index: 99999; position: absolute;'><\/div>");i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback"));i.feedbackElement.appendTo(n(document.body));i.feedbackElement.hide();i._dragCancel=!1;var u=t.args.position,r=n.find(".jqx-tree");return i._trees=r,n.each(r,function(){var r=n.data(this,"jqxTree").instance,o=r.host.find(".draggable"),f,u,e;if(r._syncItems(o),r.allowDrag&&!r.disabled&&(f=n(t.target).parents("li:first"),f.length>0&&(u=r.getItem(f[0]),u))){if(i._dragItem=u,r.dragStart&&(e=r.dragStart(u),e==!1))return i._dragCancel=!0,n(t.args.element).jqxDragDrop({triggerEvents:!1}),n(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),n(t.args.element).jqxDragDrop({triggerEvents:r}),!1;r._raiseEvent(8,{label:u.label,value:u.value,originalEvent:t.args})}}),!1})},_getMouseCoordinates:function(t){if(this._isTouchDevice=n.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=n.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}},_handleDragging:function(t,i){var t=this.host.find(".draggable");t.off("dragging");t.on("dragging",function(t){var f=t.args,o=f.position,e=i._trees,u,r;i._dragCancel||(i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),u=!0,r=i._getMouseCoordinates(t),i._lastDraggingPosition=r,n.each(e,function(){var h,f,o,c,s;if(n.jqx.isHidden(n(this)))return!0;var l=n(this).offset(),e=l.top+20,a=n(this).height()+e-40,s=l.left,v=n(this).width(),y=s+v,t=n.data(this,"jqxTree").instance;!t.disabled&&t.allowDrop&&(h=t.vScrollInstance,f=t._hitTestBounds(t,r.left,r.top),f!=null&&(i._dragOverItem&&i._dragOverItem.titleElement.removeClass(t.toThemeProperty("jqx-fill-state-hover")),i._dragOverItem=f,f.element&&(i.feedbackElement.show(),o=f.top,c=r.top,i._dropPosition="before",c>o+f.height/3&&(o=f.top+f.height/2,i._dragOverItem.titleElement.addClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.hide(),i._dropPosition="inside"),c>f.top+f.height-f.height/3&&(o=f.top+f.height,i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.show(),i._dropPosition="after"),i.feedbackElement.css("top",o),s=-2+parseInt(f.titleElement.offset().left),i.feedbackElement.css("left",s),i.feedbackElement.width(n(f.titleElement).width()+12))),r.left>=s&&r.left<y?(r.top+20>=e&&r.top<=e+t.host.height()&&(u=!1),r.top<e&&r.top>=e-30?(clearInterval(t._autoScrollTimer),h.value!=0&&i.feedbackElement.hide(),t._autoScrollTimer=setInterval(function(){var n=t.panelInstance.scrollUp(),i=t.host.find(".draggable");t._syncItems(i);n||clearInterval(t._autoScrollTimer)},100)):r.top>a&&r.top<a+30?(clearInterval(t._autoScrollTimer),h.value!=h.max&&i.feedbackElement.hide(),t._autoScrollTimer=setInterval(function(){var n=t.panelInstance.scrollDown(),i=t.host.find(".draggable");t._syncItems(i);n||clearInterval(t._autoScrollTimer)},100)):clearInterval(t._autoScrollTimer)):clearInterval(t._autoScrollTimer))}),u&&i.feedbackElement&&i.feedbackElement.hide())})},_handleDragEnd:function(t,i){t.off("dragEnd");t.on("dragEnd",function(t){var b=i.host.find(".draggable"),f,v,r,c,l,a,u,s,o,y;clearInterval(i._autoScrollTimer);var k=t.args.position,p=i._trees,e=null,w=n.jqx.mobile.isTouchDevice(),h=w?i._lastDraggingPosition:i._getMouseCoordinates(t);if(i.feedbackElement.remove(),i._dragCancel)return!1;if(i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),n.each(p,function(){var t,u;if(n.jqx.isHidden(n(this)))return!0;var r=parseInt(n(this).offset().left),f=r+n(this).width(),o=n.data(this,"jqxTree").instance;clearInterval(o._autoScrollTimer);i._dragItem!=null&&h.left>=r&&h.left<f&&(t=parseInt(n(this).offset().top),u=t+n(this).height(),h.top>=t&&h.top<=u&&(e=n(this)))}),f=i._dragItem,e!=null&&e.length>0)v=e.jqxTree("allowDrop"),v&&(r=n.data(e[0],"jqxTree").instance,c=i._dragOverItem,c!=null&&i._dragOverItem.treeInstance.element.id==r.element.id?(u=!0,i.dragEnd&&(u=i.dragEnd(f,c,t.args,i._dropPosition,e),u==!1&&(n(t.args.element).jqxDragDrop({triggerEvents:!1}),n(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),n(t.args.element).jqxDragDrop({triggerEvents:!0})),undefined==u&&(u=!0)),u&&(l=function(){var n=i._dragItem.treeInstance;n._refreshMapping();n._updateItemsNavigation();n._render(!0,!1);n.checkboxes&&n._updateCheckStates();i._dragItem.treeInstance=r;i._syncItems(i._dragItem.treeInstance.host.find(".draggable"))},r.dropAction!="none"&&i._dragItem.id!=i._dragOverItem.id&&(i._dropPosition=="inside"?(r._drop(i._dragItem.element,i._dragOverItem.element,-1,r),l()):(a=0,i._dropPosition=="after"&&a++,r._drop(i._dragItem.element,i._dragOverItem.parentElement,a+n(i._dragOverItem.element).index(),r),l())),r._render(!0,!1),o=r.host.find(".draggable"),i._syncItems(o),i._dragOverItem=null,i._dragItem=null,r._refreshMapping(),r._updateItemsNavigation(),r.selectedItem=null,r.selectItem(f.element),r.checkboxes&&r._updateCheckStates(),r._render(!0,!1))):r.dropAction!="none"&&r.allowDrop&&(u=!0,i.dragEnd&&(u=i.dragEnd(f,c,t.args,i._dropPosition,e),u==!1&&(n(t.args.element).jqxDragDrop({triggerEvents:!1}),n(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),n(t.args.element).jqxDragDrop({triggerEvents:!0})),undefined==u&&(u=!0)),u&&(i._dragItem.parentElement=null,r._drop(i._dragItem.element,null,-1,r),s=i._dragItem.treeInstance,s._refreshMapping(),s._updateItemsNavigation(),s.checkboxes&&s._updateCheckStates(),o=s.host.find(".draggable"),i._syncItems(o),i._dragItem.treeInstance=r,r.items[r.items.length]=i._dragItem,r._render(!0,!1),r.selectItem(f.element),r._refreshMapping(),r._updateItemsNavigation(),o=r.host.find(".draggable"),r._syncItems(o),r.checkboxes&&r._updateCheckStates(),i._dragOverItem=null,i._dragItem=null)));else if(i.dragEnd&&(y=i.dragEnd(f,t.args),!1==y))return!1;return f!=null&&i._raiseEvent(7,{label:f.label,value:f.value,originalEvent:t.args}),!1})},_drop:function(t,i,r,u){var s,o,f,e;n(i).parents("#"+t.id).length>0||(i==null||i.id!=t.id)&&(s=this,u.element.innerHTML.indexOf("UL")&&(o=u.host.find("ul:first")),i==undefined&&i==null?r==undefined||r==-1?o.append(t):o.children("li").eq(r).length==0?o.children("li").eq(r-1).after(t):o.children("li").eq(r)[0].id!=t.id&&o.children("li").eq(r).before(t):r==undefined||r==-1?(i=n(i),f=i.find("ul:first"),f.length==0?(ulElement=n("<ul><\/ul>"),n(i).append(ulElement),f=i.find("ul:first"),e=u.itemMapping["id"+i[0].id].item,e.subtreeElement=f[0],e.hasItems=!0,f.addClass(u.toThemeProperty("jqx-tree-dropdown")),f.append(t),t=f.find("li:first"),e.parentElement=t):f.append(t)):(i=n(i),f=i.find("ul:first"),f.length==0?(ulElement=n("<ul><\/ul>"),n(i).append(ulElement),f=i.find("ul:first"),i&&(e=u.itemMapping["id"+i[0].id].item,e.subtreeElement=f[0],e.hasItems=!0),f.addClass(u.toThemeProperty("jqx-tree-dropdown")),f.append(t),t=f.find("li:first"),e.parentElement=t):f.children("li").eq(r).length==0?f.children("li").eq(r-1).after(t):f.children("li").eq(r)[0].id!=t.id&&f.children("li").eq(r).before(t)))},_enableDragDrop:function(){var i,t,r;this.allowDrag&&this.host.jqxDragDrop&&(i=this.host.find(".draggable"),t=this,i.length>0&&(i.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(i){var r=n('<span style="white-space: nowrap;" class="'+t.toThemeProperty("jqx-fill-state-normal")+'">'+i.text()+"<\/span>"),u;n(document.body).append(r);u=r.width();r.remove();i.width(u+5);i.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}}),r=i.jqxDragDrop("isDestroyed"),r&&i.jqxDragDrop("_createDragDrop"),this._autoScrollTimer=null,t._dragItem=null,t._handleDragStart(i,t),t._handleDragging(i,t),t._handleDragEnd(i,t)))}})}}(jqxBaseFramework);
/*! SmartAdmin - v1.4.1 - 2014-06-22 */
!function(){function n(t,i,r){var e=n.resolve(t),f,u;if(null==e){r=r||t;i=i||"root";f=new Error('Failed to require "'+r+'" from "'+i+'"');throw f.path=r,f.parent=i,f.require=!0,f;}return u=n.modules[e],u.exports||(u.exports={},u.client=u.component=!0,u.call(this,u.exports,n.relative(e),u)),u.exports}n.modules={};n.aliases={};n.resolve=function(t){var r,i,t;for("/"===t.charAt(0)&&(t=t.slice(1)),r=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],i=0;i<r.length;i++){if(t=r[i],n.modules.hasOwnProperty(t))return t;if(n.aliases.hasOwnProperty(t))return n.aliases[t]}};n.normalize=function(n,t){var r=[],i;if("."!=t.charAt(0))return t;for(n=n.split("/"),t=t.split("/"),i=0;i<t.length;++i)".."==t[i]?n.pop():"."!=t[i]&&""!=t[i]&&r.push(t[i]);return n.concat(r).join("/")};n.register=function(t,i){n.modules[t]=i};n.alias=function(t,i){if(!n.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');n.aliases[i]=t};n.relative=function(t){function r(n,t){for(var i=n.length;i--;)if(n[i]===t)return i;return-1}function i(r){var u=i.resolve(r);return n(u,t,r)}var u=n.normalize(t,"..");return i.resolve=function(i){var o=i.charAt(0),e,f;return"/"==o?i.slice(1):"."==o?n.normalize(u,i):(e=t.split("/"),f=r(e,"deps")+1,f||(f=0),i=e.slice(0,f+1).join("/")+"/deps/"+i)},i.exists=function(t){return n.modules.hasOwnProperty(i.resolve(t))},i};n.register("component-emitter/index.js",function(n,t,i){function r(n){if(n)return u(n)}function u(n){for(var t in r.prototype)n[t]=r.prototype[t];return n}i.exports=r;r.prototype.on=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks[n]=this._callbacks[n]||[]).push(t),this};r.prototype.once=function(n,t){function i(){r.off(n,i);t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},t._off=i,this.on(n,i),this};r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=function(n,t){var i,r;return(this._callbacks=this._callbacks||{},i=this._callbacks[n],!i)?this:1==arguments.length?(delete this._callbacks[n],this):(r=i.indexOf(t._off||t),~r&&i.splice(r,1),this)};r.prototype.emit=function(n){var r,t,i,u;if(this._callbacks=this._callbacks||{},r=[].slice.call(arguments,1),t=this._callbacks[n],t)for(t=t.slice(0),i=0,u=t.length;u>i;++i)t[i].apply(this,r);return this};r.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks[n]||[]};r.prototype.hasListeners=function(n){return!!this.listeners(n).length}});n.register("dropzone/index.js",function(n,t,i){i.exports=t("./lib/dropzone.js")});n.register("dropzone/lib/dropzone.js",function(n,t,i){(function(){var n,u,f,e,r,o,s={}.hasOwnProperty,h=function(n,t){function r(){this.constructor=n}for(var i in t)s.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},c=[].slice;u="undefined"!=typeof Emitter&&null!==Emitter?Emitter:t("emitter");r=function(){};n=function(n){function t(n,r){var f,u,e;if(this.element=n,this.version=t.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(t.instances.push(this),n.dropzone=this,f=null!=(e=t.optionsForElement(this.element))?e:{},this.options=i({},this.defaultOptions,f,null!=r?r:{}),this.options.forceFallback||!t.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);this.options.method=this.options.method.toUpperCase();(u=this.getExistingFallback())&&u.parentNode&&u.parentNode.removeChild(u);this.previewsContainer=this.options.previewsContainer?t.getElement(this.options.previewsContainer,"previewsContainer"):this.element;this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:t.getElements(this.options.clickable,"clickable"));this.init()}var i;return h(t,n),t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded"],t.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",accept:function(n,t){return t()},init:function(){return r},forceFallback:!1,fallback:function(){var i,n,u,r,e,f;for(this.element.className=""+this.element.className+" dz-browser-not-supported",f=this.element.getElementsByTagName("div"),r=0,e=f.length;e>r;r++)i=f[r],/(^| )dz-message($| )/.test(i.className)&&(n=i,i.className="dz-message");return n||(n=t.createElement('<div class="dz-message"><span><\/span><\/div>'),this.element.appendChild(n)),u=n.getElementsByTagName("span")[0],u&&(u.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(n){var t,r,i;return t={srcX:0,srcY:0,srcWidth:n.width,srcHeight:n.height},r=n.width/n.height,i=this.options.thumbnailWidth/this.options.thumbnailHeight,n.height<this.options.thumbnailHeight||n.width<this.options.thumbnailWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):r>i?(t.srcHeight=n.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=n.width,t.srcHeight=t.srcWidth/i),t.srcX=(n.width-t.srcWidth)/2,t.srcY=(n.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:r,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(){if(this.element===this.previewsContainer)return this.element.classList.add("dz-started")},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(n){var i=this;return n.previewElement=t.createElement(this.options.previewTemplate),n.previewTemplate=n.previewElement,this.previewsContainer.appendChild(n.previewElement),n.previewElement.querySelector("[data-dz-name]").textContent=n.name,n.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(n.size),this.options.addRemoveLinks&&(n._removeLink=t.createElement('<a class="btn btn-sm btn-danger btn-block" href="javascript:undefined;">'+this.options.dictRemoveFile+"<\/a>"),n._removeLink.addEventListener("click",function(r){return r.preventDefault(),r.stopPropagation(),n.status===t.UPLOADING?t.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(n)}):i.options.dictRemoveFileConfirmation?t.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(n)}):i.removeFile(n)}),n.previewElement.appendChild(n._removeLink)),this._updateMaxFilesReachedClass()},removedfile:function(n){var t;return null!=(t=n.previewElement)&&t.parentNode.removeChild(n.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(n,t){var i;return n.previewElement.classList.remove("dz-file-preview"),n.previewElement.classList.add("dz-image-preview"),i=n.previewElement.querySelector("[data-dz-thumbnail]"),i.alt=n.name,i.src=t},error:function(n,t){return n.previewElement.classList.add("dz-error"),n.previewElement.querySelector("[data-dz-errormessage]").textContent=t},errormultiple:r,processing:function(n){return n.previewElement.classList.add("dz-processing"),n._removeLink?n._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:r,uploadprogress:function(n,t){return n.previewElement.querySelector("[data-dz-uploadprogress]").style.width=""+t+"%"},totaluploadprogress:r,sending:r,sendingmultiple:r,success:function(n){return n.previewElement.classList.add("dz-success")},successmultiple:r,canceled:function(n){return this.emit("error",n,"Upload canceled.")},canceledmultiple:r,complete:function(n){if(n._removeLink)return n._removeLink.textContent=this.options.dictRemoveFile},completemultiple:r,maxfilesexceeded:r,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name><\/span><\/div>\n    <div class="dz-size" data-dz-size><\/div>\n    <img data-dz-thumbnail />\n  <\/div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress><\/span><\/div>\n  <div class="dz-success-mark"><span>✔<\/span><\/div>\n  <div class="dz-error-mark"><span><i class="fa fa-times"><\/i><\/span><\/div>\n  <div class="dz-error-message"><span data-dz-errormessage><\/span><\/div>\n<\/div>'},i=function(){var t,i,r,u,f,n,e;for(u=arguments[0],r=2<=arguments.length?c.call(arguments,1):[],n=0,e=r.length;e>n;n++){i=r[n];for(t in i)f=i[t],u[t]=f}return u},t.prototype.getAcceptedFiles=function(){var t,n,u,i,r;for(i=this.files,r=[],n=0,u=i.length;u>n;n++)t=i[n],t.accepted&&r.push(t);return r},t.prototype.getRejectedFiles=function(){var t,n,u,i,r;for(i=this.files,r=[],n=0,u=i.length;u>n;n++)t=i[n],t.accepted||r.push(t);return r},t.prototype.getQueuedFiles=function(){var i,n,f,r,u;for(r=this.files,u=[],n=0,f=r.length;f>n;n++)i=r[n],i.status===t.QUEUED&&u.push(i);return u},t.prototype.getUploadingFiles=function(){var i,n,f,r,u;for(r=this.files,u=[],n=0,f=r.length;f>n;n++)i=r[n],i.status===t.UPLOADING&&u.push(i);return u},t.prototype.init=function(){var u,i,e,r,o,s,f,n=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"<\/span><\/div>")),this.clickableElements.length&&(e=function(){return n.hiddenFileInput&&document.body.removeChild(n.hiddenFileInput),n.hiddenFileInput=document.createElement("input"),n.hiddenFileInput.setAttribute("type","file"),n.hiddenFileInput.setAttribute("multiple","multiple"),null!=n.options.acceptedFiles&&n.hiddenFileInput.setAttribute("accept",n.options.acceptedFiles),n.hiddenFileInput.style.visibility="hidden",n.hiddenFileInput.style.position="absolute",n.hiddenFileInput.style.top="0",n.hiddenFileInput.style.left="0",n.hiddenFileInput.style.height="0",n.hiddenFileInput.style.width="0",document.body.appendChild(n.hiddenFileInput),n.hiddenFileInput.addEventListener("change",function(){var t;return t=n.hiddenFileInput.files,t.length&&(n.emit("selectedfiles",t),n.handleFiles(t)),e()})})(),this.URL=null!=(s=window.URL)?s:window.webkitURL,f=this.events,r=0,o=f.length;o>r;r++)u=f[r],this.on(u,this.options[u]);return this.on("uploadprogress",function(){return n.updateTotalUploadProgress()}),this.on("removedfile",function(){return n.updateTotalUploadProgress()}),this.on("canceled",function(t){return n.emit("complete",t)}),i=function(n){return n.stopPropagation(),n.preventDefault?n.preventDefault():n.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return n.emit("dragstart",t)},dragenter:function(t){return i(t),n.emit("dragenter",t)},dragover:function(t){return i(t),n.emit("dragover",t)},dragleave:function(t){return n.emit("dragleave",t)},drop:function(t){return i(t),n.drop(t)},dragend:function(t){return n.emit("dragend",t)}}}],this.clickableElements.forEach(function(i){return n.listeners.push({element:i,events:{click:function(r){if(i!==n.element||r.target===n.element||t.elementInside(r.target,n.element.querySelector(".dz-message")))return n.hiddenFileInput.click()}}})}),this.enable(),this.options.init.call(this)},t.prototype.destroy=function(){var n;return this.disable(),this.removeAllFiles(!0),(null!=(n=this.hiddenFileInput)?n.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone},t.prototype.updateTotalUploadProgress=function(){var e,r,n,t,u,i,o,f;if(t=0,n=0,e=this.getAcceptedFiles(),e.length){for(f=this.getAcceptedFiles(),i=0,o=f.length;o>i;i++)r=f[i],t+=r.upload.bytesSent,n+=r.upload.total;u=100*t/n}else u=100;return this.emit("totaluploadprogress",u,n,t)},t.prototype.getFallbackForm=function(){var u,r,n,i;return(u=this.getExistingFallback())?u:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"<\/p>"),n+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><button type="submit">Upload!<\/button><\/div>',r=t.createElement(n),"FORM"!==this.element.tagName?(i=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"><\/form>'),i.appendChild(r)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:r)},t.prototype.getExistingFallback=function(){var i,r,u,n,f,t;for(r=function(n){for(var i,t=0,r=n.length;r>t;t++)if(i=n[t],/(^| )fallback($| )/.test(i.className))return i},t=["div","form"],n=0,f=t.length;f>n;n++)if(u=t[n],i=r(this.element.getElementsByTagName(u)))return i},t.prototype.setupEventListeners=function(){var t,i,f,n,e,r,u;for(r=this.listeners,u=[],n=0,e=r.length;e>n;n++)t=r[n],u.push(function(){var n,r;n=t.events;r=[];for(i in n)f=n[i],r.push(t.element.addEventListener(i,f,!1));return r}());return u},t.prototype.removeEventListeners=function(){var t,i,f,n,e,r,u;for(r=this.listeners,u=[],n=0,e=r.length;e>n;n++)t=r[n],u.push(function(){var n,r;n=t.events;r=[];for(i in n)f=n[i],r.push(t.element.removeEventListener(i,f,!1));return r}());return u},t.prototype.disable=function(){var r,n,u,t,i;for(this.clickableElements.forEach(function(n){return n.classList.remove("dz-clickable")}),this.removeEventListeners(),t=this.files,i=[],n=0,u=t.length;u>n;n++)r=t[n],i.push(this.cancelUpload(r));return i},t.prototype.enable=function(){return this.clickableElements.forEach(function(n){return n.classList.add("dz-clickable")}),this.setupEventListeners()},t.prototype.filesize=function(n){var t;return n>=1e11?(n/=1e11,t="TB"):n>=1e8?(n/=1e8,t="GB"):n>=1e5?(n/=1e5,t="MB"):n>=100?(n/=100,t="KB"):(n=10*n,t="b"),"<strong>"+Math.round(n)/10+"<\/strong> "+t},t.prototype._updateMaxFilesReachedClass=function(){return this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?this.element.classList.add("dz-max-files-reached"):this.element.classList.remove("dz-max-files-reached")},t.prototype.drop=function(n){var i,t;n.dataTransfer&&(this.emit("drop",n),i=n.dataTransfer.files,this.emit("selectedfiles",i),i.length&&(t=n.dataTransfer.items,t&&t.length&&(null!=t[0].webkitGetAsEntry||null!=t[0].getAsEntry)?this.handleItems(t):this.handleFiles(i)))},t.prototype.handleFiles=function(n){var r,t,u,i;for(i=[],t=0,u=n.length;u>t;t++)r=n[t],i.push(this.addFile(r));return i},t.prototype.handleItems=function(n){for(var t,i,r=0,u=n.length;u>r;r++)i=n[r],null!=i.webkitGetAsEntry?(t=i.webkitGetAsEntry(),t.isFile?this.addFile(i.getAsFile()):t.isDirectory&&this.addDirectory(t,t.name)):this.addFile(i.getAsFile())},t.prototype.accept=function(n,i){return n.size>1048576*this.options.maxFilesize?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(n.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(n,this.options.acceptedFiles)?this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",n)):this.options.accept.call(this,n,i):i(this.options.dictInvalidFileType)},t.prototype.addFile=function(n){var i=this;return n.upload={progress:0,total:n.size,bytesSent:0},this.files.push(n),n.status=t.ADDED,this.emit("addedfile",n),this.options.createImageThumbnails&&n.type.match(/image.*/)&&n.size<=1048576*this.options.maxThumbnailFilesize&&this.createThumbnail(n),this.accept(n,function(t){return t?(n.accepted=!1,i._errorProcessing([n],t)):i.enqueueFile(n)})},t.prototype.enqueueFiles=function(n){for(var i,t=0,r=n.length;r>t;t++)i=n[t],this.enqueueFile(i);return null},t.prototype.enqueueFile=function(n){var i=this;if(n.accepted=!0,n.status!==t.ADDED)throw new Error("This file can't be queued because it has already been processed or was rejected.");return n.status=t.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return i.processQueue()},1):void 0},t.prototype.addDirectory=function(n,t){var r,u,i=this;return r=n.createReader(),u=function(r){for(var u=0,f=r.length;f>u;u++)n=r[u],n.isFile?n.file(function(n){if(!i.options.ignoreHiddenFiles||"."!==n.name.substring(0,1))return(n.fullPath=""+t+"/"+n.name,i.addFile(n))}):n.isDirectory&&i.addDirectory(n,""+t+"/"+n.name)},r.readEntries(u,function(n){if("undefined"!=typeof console&&null!==console&&"function"==typeof console.log)return console.log(n)})},t.prototype.removeFile=function(n){return n.status===t.UPLOADING&&this.cancelUpload(n),this.files=o(this.files,n),this.emit("removedfile",n),0===this.files.length?this.emit("reset"):void 0},t.prototype.removeAllFiles=function(n){var r,i,f,u;for(null==n&&(n=!1),u=this.files.slice(),i=0,f=u.length;f>i;i++)r=u[i],(r.status!==t.UPLOADING||n)&&this.removeFile(r);return null},t.prototype.createThumbnail=function(n){var i,t=this;return i=new FileReader,i.onload=function(){var r;return r=new Image,r.onload=function(){var u,f,i,e,o,s,h,c;return n.width=r.width,n.height=r.height,i=t.options.resize.call(t,n),null==i.trgWidth&&(i.trgWidth=t.options.thumbnailWidth),null==i.trgHeight&&(i.trgHeight=t.options.thumbnailHeight),u=document.createElement("canvas"),f=u.getContext("2d"),u.width=i.trgWidth,u.height=i.trgHeight,f.drawImage(r,null!=(o=i.srcX)?o:0,null!=(s=i.srcY)?s:0,i.srcWidth,i.srcHeight,null!=(h=i.trgX)?h:0,null!=(c=i.trgY)?c:0,i.trgWidth,i.trgHeight),e=u.toDataURL("image/png"),t.emit("thumbnail",n,e)},r.src=i.result},i.readAsDataURL(n)},t.prototype.processQueue=function(){var r,t,i,n;if(t=this.options.parallelUploads,i=this.getUploadingFiles().length,r=i,!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;t>r;){if(!n.length)return;this.processFile(n.shift());r++}}},t.prototype.processFile=function(n){return this.processFiles([n])},t.prototype.processFiles=function(n){for(var i,r=0,u=n.length;u>r;r++)i=n[r],i.processing=!0,i.status=t.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",n),this.uploadFiles(n)},t.prototype._getFilesWithXhr=function(n){var t;return function(){var i,f,r,u;for(r=this.files,u=[],i=0,f=r.length;f>i;i++)t=r[i],t.xhr===n&&u.push(t);return u}.call(this)},t.prototype.cancelUpload=function(n){var r,i,u,f,e,o,s;if(n.status===t.UPLOADING){for(i=this._getFilesWithXhr(n.xhr),u=0,e=i.length;e>u;u++)r=i[u],r.status=t.CANCELED;for(n.xhr.abort(),f=0,o=i.length;o>f;f++)r=i[f],this.emit("canceled",r);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else((s=n.status)===t.ADDED||s===t.QUEUED)&&(n.status=t.CANCELED,this.emit("canceled",n),this.options.uploadMultiple&&this.emit("canceledmultiple",[n]));if(this.options.autoProcessQueue)return this.processQueue()},t.prototype.uploadFile=function(n){return this.uploadFiles([n])},t.prototype.uploadFiles=function(n){var r,f,y,p,nt,s,o,tt,w,b,it,e,k,rt,u,h,c,l,a,ut,ft,et,ot,st,d,g,ht,v=this;for(u=new XMLHttpRequest,h=0,ut=n.length;ut>h;h++)r=n[h],r.xhr=u;u.open(this.options.method,this.options.url,!0);u.withCredentials=!!this.options.withCredentials;e=null;y=function(){var t,f,i;for(i=[],t=0,f=n.length;f>t;t++)r=n[t],i.push(v._errorProcessing(n,e||v.options.dictResponseError.replace("{{statusCode}}",u.status),u));return i};k=function(t){var o,i,u,f,e,h,c,l,s;if(null!=t)for(i=100*t.loaded/t.total,u=0,h=n.length;h>u;u++)r=n[u],r.upload={progress:i,total:t.total,bytesSent:t.loaded};else{for(o=!0,i=100,f=0,c=n.length;c>f;f++)r=n[f],(100!==r.upload.progress||r.upload.bytesSent!==r.upload.total)&&(o=!1),r.upload.progress=i,r.upload.bytesSent=r.upload.total;if(o)return}for(s=[],e=0,l=n.length;l>e;e++)r=n[e],s.push(v.emit("uploadprogress",r,i,r.upload.bytesSent));return s};u.onload=function(i){var r;if(n[0].status!==t.CANCELED&&4===u.readyState){if(e=u.responseText,u.getResponseHeader("content-type")&&~u.getResponseHeader("content-type").indexOf("application/json"))try{e=JSON.parse(e)}catch(f){i=f;e="Invalid JSON response from server."}return k(),200<=(r=u.status)&&300>r?v._finished(n,e,i):y()}};u.onerror=function(){if(n[0].status!==t.CANCELED)return y()};it=null!=(st=u.upload)?st:u;it.onprogress=k;s={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&i(s,this.options.headers);for(p in s)nt=s[p],u.setRequestHeader(p,nt);if(f=new FormData,this.options.params){d=this.options.params;for(b in d)rt=d[b],f.append(b,rt)}for(c=0,ft=n.length;ft>c;c++)r=n[c],this.emit("sending",r,u,f);if(this.options.uploadMultiple&&this.emit("sendingmultiple",n,u,f),"FORM"===this.element.tagName)for(g=this.element.querySelectorAll("input, textarea, select, button"),l=0,et=g.length;et>l;l++)o=g[l],tt=o.getAttribute("name"),w=o.getAttribute("type"),(!w||"checkbox"!==(ht=w.toLowerCase())&&"radio"!==ht||o.checked)&&f.append(tt,o.value);for(a=0,ot=n.length;ot>a;a++)r=n[a],f.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),r,r.name);return u.send(f)},t.prototype._finished=function(n,i,r){for(var u,f=0,e=n.length;e>f;f++)u=n[f],u.status=t.SUCCESS,this.emit("success",u,i,r),this.emit("complete",u);return this.options.uploadMultiple&&(this.emit("successmultiple",n,i,r),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0},t.prototype._errorProcessing=function(n,i,r){for(var u,f=0,e=n.length;e>f;f++)u=n[f],u.status=t.ERROR,this.emit("error",u,i,r),this.emit("complete",u);return this.options.uploadMultiple&&(this.emit("errormultiple",n,i,r),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0},t}(u);n.version="3.7.1";n.options={};n.optionsForElement=function(t){if(t.id)return n.options[f(t.id)]};n.instances=[];n.forElement=function(n){if("string"==typeof n&&(n=document.querySelector(n)),null==(null!=n?n.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return n.dropzone};n.autoDiscover=!0;n.discover=function(){var r,u,t,i,e,f;for(document.querySelectorAll?t=document.querySelectorAll(".dropzone"):(t=[],r=function(n){var r,i,f,u;for(u=[],i=0,f=n.length;f>i;i++)r=n[i],u.push(/(^| )dropzone($| )/.test(r.className)?t.push(r):void 0);return u},r(document.getElementsByTagName("div")),r(document.getElementsByTagName("form"))),f=[],i=0,e=t.length;e>i;i++)u=t[i],f.push(n.optionsForElement(u)!==!1?new n(u):void 0);return f};n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];n.isBrowserSupported=function(){var t,u,i,f,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=n.blacklistedBrowsers,i=0,f=r.length;f>i;i++)u=r[i],u.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t};o=function(n,t){var r,i,f,u;for(u=[],i=0,f=n.length;f>i;i++)r=n[i],r!==t&&u.push(r);return u};f=function(n){return n.replace(/[\-_](\w)/g,function(n){return n[1].toUpperCase()})};n.createElement=function(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.childNodes[0]};n.elementInside=function(n,t){if(n===t)return!0;for(;n=n.parentNode;)if(n===t)return!0;return!1};n.getElement=function(n,t){var i;if("string"==typeof n?i=document.querySelector(n):null!=n.nodeType&&(i=n),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i};n.getElements=function(n,t){var h,r,i,u,f,o,s,e;if(n instanceof Array){i=[];try{for(u=0,o=n.length;o>u;u++)r=n[u],i.push(this.getElement(r,t))}catch(c){h=c;i=null}}else if("string"==typeof n)for(i=[],e=document.querySelectorAll(n),f=0,s=e.length;s>f;f++)r=e[f],i.push(r);else null!=n.nodeType&&(i=[n]);if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i};n.confirm=function(n,t,i){return window.confirm(n)?t():null!=i?i():void 0};n.isValidFile=function(n,t){var f,u,i,r,e;if(!t)return!0;for(t=t.split(","),u=n.type,f=u.replace(/\/.*$/,""),r=0,e=t.length;e>r;r++)if(i=t[r],i=i.trim(),"."===i.charAt(0)){if(-1!==n.name.indexOf(i,n.name.length-i.length))return!0}else if(/\/\*$/.test(i)){if(f===i.replace(/\/.*$/,""))return!0}else if(u===i)return!0;return!1};"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new n(this,t)})});"undefined"!=typeof i&&null!==i?i.exports=n:window.Dropzone=n;n.ADDED="added";n.QUEUED="queued";n.ACCEPTED=n.QUEUED;n.UPLOADING="uploading";n.PROCESSING=n.UPLOADING;n.CANCELED="canceled";n.ERROR="error";n.SUCCESS="success";e=function(n,t){var f,i,e,r,o,u,c,s,h;if(e=!1,h=!0,i=n.document,s=i.documentElement,f=i.addEventListener?"addEventListener":"attachEvent",c=i.addEventListener?"removeEventListener":"detachEvent",u=i.addEventListener?"":"on",r=function(f){if("readystatechange"!==f.type||"complete"===i.readyState)return(("load"===f.type?n:i)[c](u+f.type,r,!1),!e&&(e=!0)?t.call(n,f.type||f):void 0)},o=function(){var n;try{s.doScroll("left")}catch(t){return n=t,void setTimeout(o,50)}return r("poll")},"complete"!==i.readyState){if(i.createEventObject&&s.doScroll){try{h=!n.frameElement}catch(l){}h&&o()}return i[f](u+"DOMContentLoaded",r,!1),i[f](u+"readystatechange",r,!1),n[f](u+"load",r,!1)}};n._autoDiscoverFunction=function(){if(n.autoDiscover)return n.discover()};e(window,n._autoDiscoverFunction)}).call(this)});n.alias("component-emitter/index.js","dropzone/deps/emitter/index.js");n.alias("component-emitter/index.js","emitter/index.js");"object"==typeof exports?module.exports=n("dropzone"):"function"==typeof define&&define.amd?define(function(){return n("dropzone")}):this.Dropzone=n("dropzone")}();
/*! SmartAdmin - v1.4.1 - 2014-06-22 */
!function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return i.settings.submitHandler?(i.submitButton&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],o,u,h;if(t){var e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i));s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(o={},n.each(i.split(/\s/),function(n,t){o[t]=f[t];delete f[t]}),o):(delete s[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(h=u.required,delete u.required,u=n.extend({required:h},u)),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+t.value)},filled:function(t){return!!n.trim(""+t.value)},unchecked:function(n){return!n.checked}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"invalid",validClass:"valid",errorElement:"em",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(9!==t.which||""!==this.elementValue(n))&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r).parent().addClass("state-error").removeClass("state-success"):n(t).addClass(i).removeClass(r).parent().addClass("state-error").removeClass("state-success")},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r).parent().addClass("state-success").removeClass("state-error"):n(t).removeClass(i).addClass(r).parent().addClass("state-success").removeClass("state-error")}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required",remote:"Please fix this field",email:"Please enter a valid email address",url:"Please enter a valid URL",date:"Please enter a valid date",dateISO:"Please enter a valid date (ISO)",number:"Please enter a valid number",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number",equalTo:"Please enter the same value again",maxlength:n.validator.format("Please enter no more than {0} characters"),minlength:n.validator.format("Please enter at least {0} characters"),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long"),range:n.validator.format("Please enter a value between {0} and {1}"),max:n.validator.format("Please enter a value less than or equal to {0}"),min:n.validator.format("Please enter a value greater than or equal to {0}")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}var r,t;this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",i).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",i);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t));this.lastElement=t;this.prepareElement(t);this.currentElements=n(t);var i=this.check(t)!==!1;return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0;for(var i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var r=n(t).attr("type"),i=n(t).val();return"radio"===r||"checkbox"===r?n("input[name='"+n(t).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){var r,u;t=this.validationTargetFor(this.clean(t));var i,f=n(t).rules(),e=!1,s=this.elementValue(t);for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,s,t,u.parameters),"dependency-mismatch"===i){e=!0;continue}if(e=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occured when checking element "+t.id+", check the '"+u.method+"' method.",o),o;}}if(!e)return(this.objectLength(f)&&this.successList.push(t),!0)},customDataMessage:function(t,i){return n(t).data("msg-"+i.toLowerCase())||t.attributes&&n(t).attr("data-msg-"+i.toLowerCase())},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t)));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")===i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var u={},f=n(t),r,i;for(r in n.validator.methods)"required"===r?(i=f.get(0).getAttribute(r),""===i&&(i=!0),i=!!i):i=f.attr(r),i?u[r]=i:f[0].getAttribute("type")===r&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule-"+i.toLowerCase()),void 0!==r&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r="string"==typeof r&&{url:r}||r,f.old===t)?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var e,h,s,o;u.settings.messages[i.name].remote=f.originalMessage;e=r===!0||"true"===r;e?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(s={},o=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(o)?o(t):o,u.invalid[i.name]=!0,u.showErrors(s));f.valid=e;u.stopRequest(i,e)}},r)),"pending")},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r,e;if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)e=n.charAt(r),i=parseInt(e,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()}}});n.format=n.validator.format}(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments)):i.apply(this,arguments)})}(jQuery),function(n){n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery);
/*! SmartAdmin - v1.4.1 - 2014-06-22 */
!function(n){"undefined"==typeof n.fn.each2&&n.extend(n.fn,{each2:function(t){for(var i=n([0]),r=-1,u=this.length;++r<u&&(i.context=i[0]=this[r])&&t.call(i[0],r,i)!==!1;);return this}})}(jQuery),function(n,t){"use strict";function k(t){var i=n(document.createTextNode(""));t.before(i);i.before(t);i.remove()}function h(n){function t(n){return dt[n]||n}return n.replace(/[^\u0000-\u007E]/g,t)}function e(n,t){for(var i=0,r=t.length;r>i;i+=1)if(f(n,t[i]))return i;return-1}function ct(){var t=n(kt),i;return t.appendTo("body"),i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight},t.remove(),i}function f(n,i){return n===i?!0:n===t||i===t?!1:null===n||null===i?!1:n.constructor===String?n+""==i+"":i.constructor===String?i+""==n+"":!1}function v(t,i){var r,u,f;if(null===t||t.length<1)return[];for(r=t.split(i),u=0,f=r.length;f>u;u+=1)r[u]=n.trim(r[u]);return r}function d(n){return n.outerWidth(!1)-n.width()}function g(i){var r="keyup-change-value";i.on("keydown",function(){n.data(i,r)===t&&n.data(i,r,i.val())});i.on("keyup",function(){var u=n.data(i,r);u!==t&&i.val()!==u&&(n.removeData(i,r),i.trigger("keyup-change"))})}function lt(i){i.on("mousemove",function(i){var r=b;(r===t||r.x!==i.pageX||r.y!==i.pageY)&&n(i.target).trigger("mousemove-filtered",i)})}function nt(n,i,r){r=r||t;var u;return function(){var t=arguments;window.clearTimeout(u);u=window.setTimeout(function(){i.apply(r,t)},n)}}function at(n,t){var i=nt(n,function(n){t.trigger("scroll-debounced",n)});t.on("scroll",function(n){e(n.target,t.get())>=0&&i(n)})}function vt(n){n[0]!==document.activeElement&&window.setTimeout(function(){var i,t=n[0],r=n.val().length,u;n.focus();u=t.offsetWidth>0||t.offsetHeight>0;u&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(r,r):t.createTextRange&&(i=t.createTextRange(),i.collapse(!1),i.select()))},0)}function yt(t){var i,r,u;return t=n(t)[0],i=0,r=0,"selectionStart"in t?(i=t.selectionStart,r=t.selectionEnd-i):"selection"in document&&(t.focus(),u=document.selection.createRange(),r=document.selection.createRange().text.length,u.moveStart("character",-t.value.length),i=u.text.length-r),{offset:i,length:r}}function r(n){n.preventDefault();n.stopPropagation()}function pt(n){n.preventDefault();n.stopImmediatePropagation()}function wt(t){if(!s){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);s=n(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"});s.attr("class","select2-sizer");n("body").append(s)}return s.text(t.val()),s.width()}function l(t,i,r){var u,f,e=[];u=t.attr("class");u&&(u=""+u,n(u.split(" ")).each2(function(){0===this.indexOf("select2-")&&e.push(this)}));u=i.attr("class");u&&(u=""+u,n(u.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(f=r(this),f&&e.push(f))}));t.attr("class",e.join(" "))}function tt(n,t,i,r){var u=h(n.toUpperCase()).indexOf(h(t.toUpperCase())),f=t.length;return 0>u?void i.push(r(n)):(i.push(r(n.substring(0,u))),i.push("<span class='select2-match'>"),i.push(r(n.substring(u,u+f))),i.push("<\/span>"),void i.push(r(n.substring(u+f,n.length))))}function it(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})}function rt(i){var f,r=null,e=i.quietMillis||100,o=i.url,u=this;return function(s){window.clearTimeout(f);f=window.setTimeout(function(){var e=i.data,f=o,c=i.transport||n.fn.select2.ajaxDefaults.transport,l={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},h=n.extend({},n.fn.select2.ajaxDefaults.params,l);e=e?e.call(u,s.term,s.page,s.context):null;f="function"==typeof f?f.call(u,s.term,s.page,s.context):f;r&&"function"==typeof r.abort&&r.abort();i.params&&(n.isFunction(i.params)?n.extend(h,i.params.call(u)):n.extend(h,i.params));n.extend(h,{url:f,dataType:i.dataType,data:e,success:function(n){var t=i.results(n,s.page);s.callback(t)}});r=c.call(u,h)},e)}}function ut(t){var e,u,i=t,r=function(n){return""+n.text},f;return n.isArray(i)&&(u=i,i={results:u}),n.isFunction(i)===!1&&(u=i,i=function(){return u}),f=i(),f.text&&(r=f.text,n.isFunction(r)||(e=f.text,r=function(n){return n[e]})),function(t){var u,f=t.term,e={results:[]};return""===f?void t.callback(i()):(u=function(i,e){var o,s;if(i=i[0],i.children){o={};for(s in i)i.hasOwnProperty(s)&&(o[s]=i[s]);o.children=[];n(i.children).each2(function(n,t){u(t,o.children)});(o.children.length||t.matcher(f,r(o),i))&&e.push(o)}else t.matcher(f,r(i),i)&&e.push(i)},n(i().results).each2(function(n,t){u(t,e.results)}),void t.callback(e))}}function ft(i){var r=n.isFunction(i);return function(u){var f=u.term,e={results:[]},o=r?i(u):i;n.isArray(o)&&(n(o).each(function(){var n=this.text!==t,i=n?this.text:this;(""===f||u.matcher(f,i))&&e.results.push(n?this:{id:this,text:this})}),u.callback(e))}}function o(t,i){if(n.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(i+" must be a string, function, or falsy value");}function u(t){if(n.isFunction(t)){var i=Array.prototype.slice.call(arguments,1);return t.apply(null,i)}return t}function et(t){var i=0;return n.each(t,function(n,t){t.children?i+=et(t.children):i++}),i}function bt(n,i,r,u){var e,s,o,h,c,a=n,l=!1;if(!u.createSearchChoice||!u.tokenSeparators||u.tokenSeparators.length<1)return t;for(;;){for(s=-1,o=0,h=u.tokenSeparators.length;h>o&&(c=u.tokenSeparators[o],s=n.indexOf(c),!(s>=0));o++);if(0>s)break;if(e=n.substring(0,s),n=n.substring(s+c.length),e.length>0&&(e=u.createSearchChoice.call(this,e,i),e!==t&&null!==e&&u.id(e)!==t&&null!==u.id(e))){for(l=!1,o=0,h=i.length;h>o;o++)if(f(u.id(e),u.id(i[o]))){l=!0;break}l||r(e)}}if(a!==n)return n}function y(){var n=this;Array.prototype.forEach.call(arguments,function(t){n[t].remove();n[t]=null})}function p(t,i){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=n.extend(r.prototype,i),r}if(window.Select2===t){var a,ot,st,c,s,ht,w,b={x:0,y:0},i={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(n){switch(n=n.which?n.which:n){case i.LEFT:case i.RIGHT:case i.UP:case i.DOWN:return!0}return!1},isControl:function(n){var t=n.which;switch(t){case i.SHIFT:case i.CTRL:case i.ALT:return!0}return n.metaKey?!0:!1},isFunctionKey:function(n){return n=n.which?n.which:n,n>=112&&123>=n}},kt="<div class='select2-measure-scrollbar'><\/div>",dt={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};ht=n(document);c=function(){var n=1;return function(){return n++}}();ht.on("mousemove",function(n){b.x=n.pageX;b.y=n.pageY});a=p(Object,{bind:function(n){var t=this;return function(){n.apply(t,arguments)}},init:function(i){var f,e,o=".select2-results",s,h;this.opts=i=this.prepareOpts(i);this.id=i.id;i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy();this.container=this.createContainer();this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body);this.containerId="s2id_"+(i.element.attr("id")||"autogen"+c());this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.container.attr("title",i.element.attr("title"));this.body=n("body");l(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",i.element.attr("style"));this.container.css(u(i.containerCss));this.container.addClass(u(i.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",r);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");l(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(u(i.dropdownCssClass));this.dropdown.data("select2",this);this.dropdown.on("click",r);this.results=f=this.container.find(o);this.search=e=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",r);lt(this.results);this.dropdown.on("mousemove-filtered",o,this.bind(this.highlightUnderEvent));this.dropdown.on("touchstart touchmove touchend",o,this.bind(function(n){this._touchEvent=!0;this.highlightUnderEvent(n)}));this.dropdown.on("touchmove",o,this.bind(this.touchMoved));this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved));this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}));at(80,this.results);this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded));n(this.container).on("change",".select2-input",function(n){n.stopPropagation()});n(this.dropdown).on("change",".select2-input",function(n){n.stopPropagation()});n.fn.mousewheel&&f.mousewheel(function(n,t,i,u){var e=f.scrollTop();u>0&&0>=e-u?(f.scrollTop(0),r(n)):0>u&&f.get(0).scrollHeight-f.scrollTop()+u<=f.height()&&(f.scrollTop(f.get(0).scrollHeight-f.height()),r(n))});g(e);e.on("keyup-change input paste",this.bind(this.updateResults));e.on("focus",function(){e.addClass("select2-focused")});e.on("blur",function(){e.removeClass("select2-focused")});this.dropdown.on("mouseup",o,this.bind(function(t){n(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))}));this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(n){n.stopPropagation()});this.nextSearchTerm=t;n.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);s=i.element.prop("disabled");s===t&&(s=!1);this.enable(!s);h=i.element.prop("readonly");h===t&&(h=!1);this.readonly(h);w=w||ct();this.autofocus=i.element.prop("autofocus");i.element.prop("autofocus",!1);this.autofocus&&this.focus();this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var n=this.opts.element,i=n.data("select2");this.close();this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null);i!==t&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),n.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?n.attr({tabindex:this.elementTabIndex}):n.removeAttr("tabindex"),n.show());y.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(n){return n.is("option")?{id:n.prop("value"),text:n.text(),element:n.get(),css:n.attr("class"),disabled:n.prop("disabled"),locked:f(n.attr("locked"),"locked")||f(n.data("locked"),!0)}:n.is("optgroup")?{text:n.attr("label"),children:[],element:n.get(),css:n.attr("class")}:void 0},prepareOpts:function(i){var e,o,s,r,u=this;if(e=i.element,"select"===e.get(0).tagName.toLowerCase()&&(this.select=o=i.element),o&&n.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}),i=n.extend({},{populateResults:function(r,f,e){var o,s=this.opts.id,h=this.liveRegion;(o=function(r,f,l){var p,g,v,nt,b,k,a,y,w,d;for(r=i.sortResults(r,f,e),p=0,g=r.length;g>p;p+=1)v=r[p],b=v.disabled===!0,nt=!b&&s(v)!==t,k=v.children&&v.children.length>0,a=n("<li><\/li>"),a.addClass("select2-results-dept-"+l),a.addClass("select2-result"),a.addClass(nt?"select2-result-selectable":"select2-result-unselectable"),b&&a.addClass("select2-disabled"),k&&a.addClass("select2-result-with-children"),a.addClass(u.opts.formatResultCssClass(v)),a.attr("role","presentation"),y=n(document.createElement("div")),y.addClass("select2-result-label"),y.attr("id","select2-result-label-"+c()),y.attr("role","option"),d=i.formatResult(v,y,e,u.opts.escapeMarkup),d!==t&&(y.html(d),a.append(y)),k&&(w=n("<ul><\/ul>"),w.addClass("select2-result-sub"),o(v.children,w,l+1),a.append(w)),a.data("select2-data",v),f.append(a);h.text(i.formatMatches(r.length))})(f,r,0)}},n.fn.select2.defaults,i),"function"!=typeof i.id&&(s=i.id,i.id=function(n){return n[s]}),n.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(o?(i.query=this.bind(function(n){var i,r,f,o={results:[],more:!1},s=n.term;f=function(t,i){var r;t.is("option")?n.matcher(s,t.text(),t)&&i.push(u.optionToData(t)):t.is("optgroup")&&(r=u.optionToData(t),t.children().each2(function(n,t){f(t,r.children)}),r.children.length>0&&i.push(r))};i=e.children();this.getPlaceholder()!==t&&i.length>0&&(r=this.getPlaceholderOption(),r&&(i=i.not(r)));i.each2(function(n,t){f(t,o.results)});n.callback(o)}),i.id=function(n){return n.id}):"query"in i||("ajax"in i?(r=i.element.data("ajax-url"),r&&r.length>0&&(i.ajax.url=r),i.query=rt.call(i.element,i.ajax)):"data"in i?i.query=ut(i.data):"tags"in i&&(i.query=ft(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:n.trim(t),text:n.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,r){var u=[];n(v(t.val(),i.separator)).each(function(){var r={id:this,text:this},t=i.tags;n.isFunction(t)&&(t=t());n(t).each(function(){if(f(this.id,r.id))return(r=this,!1)});u.push(r)});r(u)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(n,t){n.unshift(t)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(n,t){n.push(t)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,r,n=this.opts.element;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}));i=this.bind(function(){var r=n.prop("disabled"),i;r===t&&(r=!1);this.enable(!r);i=n.prop("readonly");i===t&&(i=!1);this.readonly(i);l(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(u(this.opts.containerCssClass));l(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(u(this.opts.dropdownCssClass))});n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",i)});r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;r!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new r(function(n){n.forEach(i)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=n.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{};t=n.extend({},t,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(t);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var n=this._enabled&&!this._readonly,t=!n;return n===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=n,!0)},enable:function(n){n===t&&(n=!0);this._enabled!==n&&(this._enabled=n,this.opts.element.prop("disabled",!n),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(n){n===t&&(n=!1);this._readonly!==n&&(this._readonly=n,this.opts.element.prop("readonly",n),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var v,s,y,r,p,t=this.dropdown,f=this.container.offset(),b=this.container.outerHeight(!1),h=this.container.outerWidth(!1),c=t.outerHeight(!1),e=n(window),d=e.width(),g=e.height(),l=e.scrollLeft()+d,nt=e.scrollTop()+g,a=f.top+b,o=f.left,tt=nt>=a+c,it=f.top-c>=e.scrollTop(),i=t.outerWidth(!1),k=l>=o+i,rt=t.hasClass("select2-drop-above");rt?(s=!0,!it&&tt&&(y=!0,s=!1)):(s=!1,!tt&&it&&(y=!0,s=!0));y&&(t.hide(),f=this.container.offset(),b=this.container.outerHeight(!1),h=this.container.outerWidth(!1),c=t.outerHeight(!1),l=e.scrollLeft()+d,nt=e.scrollTop()+g,a=f.top+b,o=f.left,i=t.outerWidth(!1),k=l>=o+i,t.show(),this.focusSearch());this.opts.dropdownAutoWidth?(p=n(".select2-results",t)[0],t.addClass("select2-drop-auto-width"),t.css("width",""),i=t.outerWidth(!1)+(p.scrollHeight===p.clientHeight?0:w.width),i>h?h=i:i=h,c=t.outerHeight(!1),k=l>=o+i):this.container.removeClass("select2-drop-auto-width");"static"!==this.body.css("position")&&(v=this.body.offset(),a-=v.top,o-=v.left);k||(o=f.left+this.container.outerWidth(!1)-i);r={left:o,width:h};s?(r.top=f.top-c,r.bottom="auto",this.container.addClass("select2-drop-above"),t.addClass("select2-drop-above")):(r.top=a,r.bottom="auto",this.container.removeClass("select2-drop-above"),t.removeClass("select2-drop-above"));r=n.extend(r,u(this.opts.dropdownCss));t.css(r)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=n.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,i=this.containerEventName,u="scroll."+i,f="resize."+i,e="orientationchange."+i,r;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body);t=n("#select2-drop-mask");0==t.length&&(t=n(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(i){k(t);var r,u=n("#select2-drop");u.length>0&&(r=u.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),i.preventDefault(),i.stopPropagation())}));this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t);n("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");t.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");r=this;this.container.parents().add(window).each(function(){n(this).on(f+" "+u+" "+e,function(){r.opened()&&r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,i="scroll."+t,r="resize."+t,u="orientationchange."+t;this.container.parents().add(window).each(function(){n(this).off(i).off(r).off(u)});this.clearDropdownAlignmentPreference();n("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(n.Event("select2-close"))}},externalSearch:function(n){this.open();this.search.val(n);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return u(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,i,r,u,o,s,f,t=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return void t.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label");r=n(e[i]);u=r.offset().top+r.outerHeight(!0);i===e.length-1&&(f=t.find("li.select2-more-results"),f.length>0&&(u=f.offset().top+f.outerHeight(!0)));o=t.offset().top+t.outerHeight(!0);u>o&&t.scrollTop(t.scrollTop()+(u-o));s=r.offset().top-t.offset().top;0>s&&"none"!=r.css("display")&&t.scrollTop(t.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var r,u=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<u.length;)if(i+=t,r=n(u[i]),r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}},highlight:function(t){var i,u,r=this.findHighlightableChoices();return 0===arguments.length?e(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.removeHighlight(),i=n(r[t]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),u=i.data("select2-data"),void(u&&this.opts.element.trigger({type:"select2-highlight",val:this.id(u),choice:u})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=n(t.target).closest(".select2-result-selectable"),r;i.length>0&&!i.is(".select2-highlighted")?(r=this.findHighlightableChoices(),this.highlight(r.index(i))):0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var f,t=this.results,i=t.find("li.select2-more-results"),r=this.resultsPage+1,n=this,e=this.search.val(),o=this.context;0!==i.length&&(f=i.offset().top-t.offset().top-t.height(),f<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:e,page:r,context:o,matcher:this.opts.matcher,callback:this.bind(function(f){n.opened()&&(n.opts.populateResults.call(this,t,f.results,{term:e,page:r,context:o}),n.postprocessResults(f,!1,!1),f.more===!0?(i.detach().appendTo(t).text(u(n.opts.formatLoadMore,r+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):i.remove(),n.positionDropdown(),n.resultsPage=r,n.context=f.context,this.opts.element.trigger({type:"select2-loaded",items:f}))})})))},tokenize:function(){},updateResults:function(i){function y(){e.removeClass("select2-active");s.positionDropdown();s.liveRegion.text(h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?h.text():s.opts.formatMatches(h.find(".select2-result-selectable").length))}function c(n){h.html(n);y()}var v,l,p,e=this.search,h=this.results,r=this.opts,s=this,w=e.val(),b=n.data(this.container,"select2-last-term"),a;if((i===!0||!b||!f(w,b))&&(n.data(this.container,"select2-last-term",w),i===!0||this.showSearchInput!==!1&&this.opened())){if(p=++this.queryCount,a=this.getMaximumSelectionSize(),a>=1&&(v=this.data(),n.isArray(v)&&v.length>=a&&o(r.formatSelectionTooBig,"formatSelectionTooBig")))return void c("<li class='select2-selection-limit'>"+u(r.formatSelectionTooBig,a)+"<\/li>");if(e.val().length<r.minimumInputLength)return c(o(r.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+u(r.formatInputTooShort,e.val(),r.minimumInputLength)+"<\/li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(r.maximumInputLength&&e.val().length>r.maximumInputLength)return void c(o(r.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+u(r.formatInputTooLong,e.val(),r.maximumInputLength)+"<\/li>":"");r.formatSearching&&0===this.findHighlightableChoices().length&&c("<li class='select2-searching'>"+u(r.formatSearching)+"<\/li>");e.addClass("select2-active");this.removeHighlight();l=this.tokenize();l!=t&&null!=l&&e.val(l);this.resultsPage=1;r.query({element:r.element,term:e.val(),page:this.resultsPage,context:null,matcher:r.matcher,callback:this.bind(function(l){var a;if(p==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=l.context===t?null:l.context,this.opts.createSearchChoice&&""!==e.val()&&(a=this.opts.createSearchChoice.call(s,e.val(),l.results),a!==t&&null!==a&&s.id(a)!==t&&null!==s.id(a)&&0===n(l.results).filter(function(){return f(s.id(this),s.id(a))}).length&&this.opts.createSearchChoicePosition(l.results,a)),0===l.results.length&&o(r.formatNoMatches,"formatNoMatches"))return void c("<li class='select2-no-results'>"+u(r.formatNoMatches,e.val())+"<\/li>");h.empty();s.opts.populateResults.call(this,h,l.results,{term:e.val(),page:this.resultsPage,context:null});l.more===!0&&o(r.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+s.opts.escapeMarkup(u(r.formatLoadMore,this.resultsPage))+"<\/li>"),window.setTimeout(function(){s.loadMoreIfNeeded()},10));this.postprocessResults(l,i);y();this.opts.element.trigger({type:"select2-loaded",items:l})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){vt(this.search)},selectHighlighted:function(n){if(this._touchMoved)return void this.clearTouchMoved();var i=this.highlight(),r=this.results.find(".select2-highlighted"),t=r.closest(".select2-result").data("select2-data");t?(this.highlight(i),this.onSelect(t,n)):n&&n.noFocus&&this.close()},getPlaceholder:function(){var n;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((n=this.getPlaceholderOption())!==t?n.text():t)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===n.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function r(){var i,f,r,u,e,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==t)for(f=i.split(";"),u=0,e=f.length;e>u;u+=1)if(o=f[u].replace(/\s/g,""),r=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return n.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=r.call(this);null!==i&&this.container.css("width",i)}});ot=p(a,{createContainer:function(){return n(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&#160;<\/span><abbr class='select2-search-choice-close'><\/abbr>   <span class='select2-arrow' role='presentation'><b role='presentation'><\/b><\/span><\/a><label for='' class='select2-offscreen'><\/label><input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' /><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <label for='' class='select2-offscreen'><\/label>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'       aria-autocomplete='list' />   <\/div>   <ul class='select2-results' role='listbox'>   <\/ul><\/div>")},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,r,u;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0);this.parent.opening.apply(this,arguments);this.showSearchInput!==!1&&this.search.val(this.focusser.val());this.opts.shouldFocusInput(this)&&(this.search.focus(),i=this.search.get(0),i.createTextRange?(r=i.createTextRange(),r.collapse(!1),r.select()):i.setSelectionRange&&(u=this.search.val().length,i.setSelectionRange(u,u)));""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(n.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",!1);this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){n("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);y.call(this,"selection","focusser")},initContainer:function(){var t,f,e=this.container,s=this.dropdown,u=c(),o;this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0);this.selection=t=e.find(".select2-choice");this.focusser=e.find(".select2-focusser");t.find(".select2-chosen").attr("id","select2-chosen-"+u);this.focusser.attr("aria-labelledby","select2-chosen-"+u);this.results.attr("id","select2-results-"+u);this.search.attr("aria-owns","select2-results-"+u);this.focusser.attr("id","s2id_autogen"+u);f=n("label[for='"+this.opts.element.attr("id")+"']");this.focusser.prev().text(f.text()).attr("for",this.focusser.attr("id"));o=this.opts.element.attr("title");this.opts.element.attr("title",o||f.text());this.focusser.attr("tabindex",this.elementTabIndex);this.search.attr("id",this.focusser.attr("id")+"_search");this.search.prev().text(n("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()){if(n.which===i.PAGE_UP||n.which===i.PAGE_DOWN)return void r(n);switch(n.which){case i.UP:case i.DOWN:return this.moveHighlight(n.which===i.UP?-1:1),void r(n);case i.ENTER:return this.selectHighlighted(),void r(n);case i.TAB:return void this.selectHighlighted({noFocus:!0});case i.ESC:return this.cancel(n),void r(n)}}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()&&n.which!==i.TAB&&!i.isControl(n)&&!i.isFunctionKey(n)&&n.which!==i.ESC)return this.opts.openOnEnter===!1&&n.which===i.ENTER?void r(n):n.which==i.DOWN||n.which==i.UP||n.which==i.ENTER&&this.opts.openOnEnter?n.altKey||n.ctrlKey||n.shiftKey||n.metaKey?void 0:(this.open(),void r(n)):n.which==i.DELETE||n.which==i.BACKSPACE?(this.opts.allowClear&&this.clear(),void r(n)):void 0}));g(this.focusser);this.focusser.on("keyup-change input",this.bind(function(n){if(this.opts.minimumResultsForSearch>=0){if(n.stopPropagation(),this.opened())return;this.open()}}));t.on("mousedown touchstart","abbr",this.bind(function(n){this.isInterfaceEnabled()&&(this.clear(),pt(n),this.close(),this.selection.focus())}));t.on("mousedown touchstart",this.bind(function(i){k(t);this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();r(i)}));s.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()}));t.on("focus",this.bind(function(n){r(n)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(n.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data"),r,u;if(i){if(r=n.Event("select2-clearing"),this.opts.element.trigger(r),r.isDefaultPrevented())return;u=this.getPlaceholderOption();this.opts.element.val(u?u.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var n=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(n.updateSelection(i),n.close(),n.setPlaceholder(),n.nextSearchTerm=n.opts.nextSearchTerm(i,n.search.val()))})}},isPlaceholderOptionSelected:function(){var n;return this.getPlaceholder()===t?!1:(n=this.getPlaceholderOption())!==t&&n.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(n,t){var r=n.find("option").filter(function(){return this.selected&&!this.disabled});t(i.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var e=i.val(),u=null;t.query({matcher:function(n,i,r){var o=f(e,t.id(r));return o&&(u=r),o},callback:n.isFunction(r)?function(){r(u)}:n.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var n=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&n!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(n));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(n,t,i){var r=0,e=this,u;(this.findHighlightableChoices().each2(function(n,t){if(f(e.id(t.data("select2-data")),e.opts.element.val()))return(r=n,!1)}),i!==!1&&this.highlight(t===!0&&r>=0?r:0),t===!0)&&(u=this.opts.minimumResultsForSearch,u>=0&&this.showSearch(et(n.results)>=u))},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),n(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(n,t){if(this.triggerSelect(n)){var i=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(n));this.updateSelection(n);this.opts.element.trigger({type:"select2-selected",val:this.id(n),choice:n});this.nextSearchTerm=this.opts.nextSearchTerm(n,this.search.val());this.close();t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus();f(i,this.id(n))||this.triggerChange({added:n,removed:r})}},updateSelection:function(n){var r,u,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",n);i.empty();null!==n&&(r=this.opts.formatSelection(n,i,this.opts.escapeMarkup));r!==t&&i.append(r);u=this.opts.formatSelectionCssClass(n,i);u!==t&&i.addClass(u);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var i,r=!1,u=null,n=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(i=arguments[0],arguments.length>1&&(r=arguments[1]),this.select)this.select.val(i).find("option").filter(function(){return this.selected}).each2(function(t,i){return u=n.optionToData(i),!1}),this.updateSelection(u),this.setPlaceholder(),r&&this.triggerChange({added:u,removed:f});else{if(!i&&0!==i)return void this.clear(r);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(i);this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):"");n.updateSelection(t);n.setPlaceholder();r&&n.triggerChange({added:t,removed:f})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(n){var i,r=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(arguments.length>1&&(r=arguments[1]),void(n?(i=this.data(),this.opts.element.val(n?this.id(n):""),this.updateSelection(n),r&&this.triggerChange({added:n,removed:i})):this.clear(r)))}});st=p(a,{createContainer:function(){return n(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <label for='' class='select2-offscreen'><\/label>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  <\/li><\/ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   <\/ul><\/div>")},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(n,t){var r=[];n.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(n,t){r.push(i.optionToData(t))});t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var e=v(i.val(),t.separator),u=[];t.query({matcher:function(i,r,o){var s=n.grep(e,function(n){return f(n,t.id(o))}).length;return s&&u.push(o),s},callback:n.isFunction(r)?function(){for(var h,n,s,o=[],i=0;i<e.length;i++)for(h=e[i],n=0;n<u.length;n++)if(s=u[n],f(h,t.id(s))){o.push(s);u.splice(n,1);break}r(o)}:n.noop})}),t},selectChoice:function(n){var t=this.container.find(".select2-search-choice-focus");t.length&&n&&n[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),n&&n.length&&(this.close(),n.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",n)))},destroy:function(){n("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);y.call(this,"searchContainer","selection")},initContainer:function(){var t,u=".select2-choices",f;this.searchContainer=this.container.find(".select2-search-field");this.selection=t=this.container.find(u);f=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){f.search[0].focus();f.selectChoice(n(this))});this.search.attr("id","s2id_autogen"+c());this.search.prev().text(n("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(n){var u;if(this.isInterfaceEnabled()){++this.keydowns;var f=t.find(".select2-search-choice-focus"),o=f.prev(".select2-search-choice:not(.select2-locked)"),e=f.next(".select2-search-choice:not(.select2-locked)"),s=yt(this.search);if(f.length&&(n.which==i.LEFT||n.which==i.RIGHT||n.which==i.BACKSPACE||n.which==i.DELETE||n.which==i.ENTER))return u=f,n.which==i.LEFT&&o.length?u=o:n.which==i.RIGHT?u=e.length?e:null:n.which===i.BACKSPACE?this.unselect(f.first())&&(this.search.width(10),u=o.length?o:e):n.which==i.DELETE?this.unselect(f.first())&&(this.search.width(10),u=e.length?e:null):n.which==i.ENTER&&(u=null),this.selectChoice(u),r(n),void(u&&u.length||this.open());if((n.which===i.BACKSPACE&&1==this.keydowns||n.which==i.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void r(n);if(this.selectChoice(null),this.opened())switch(n.which){case i.UP:case i.DOWN:return this.moveHighlight(n.which===i.UP?-1:1),void r(n);case i.ENTER:return this.selectHighlighted(),void r(n);case i.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case i.ESC:return this.cancel(n),void r(n)}if(n.which!==i.TAB&&!i.isControl(n)&&!i.isFunctionKey(n)&&n.which!==i.BACKSPACE&&n.which!==i.ESC){if(n.which===i.ENTER){if(this.opts.openOnEnter===!1)return;if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return}this.open();(n.which===i.PAGE_UP||n.which===i.PAGE_DOWN)&&r(n);n.which===i.ENTER&&r(n)}}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();t.stopImmediatePropagation();this.opts.element.trigger(n.Event("select2-blur"))}));this.container.on("click",u,this.bind(function(t){this.isInterfaceEnabled()&&(n(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))}));this.container.on("focus",u,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var n=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(n.updateSelection(i),n.close(),n.clearSearch())})}},clearSearch:function(){var n=this.getPlaceholder(),i=this.getMaxSearchWidth();n!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(n).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select());this.updateResults(!0);this.opts.shouldFocusInput(this)&&this.search.focus();this.opts.element.trigger(n.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var r=[],u=[],i=this;n(t).each(function(){e(i.id(this),r)<0&&(r.push(i.id(this)),u.push(this))});t=u;this.selection.find(".select2-search-choice").remove();n(t).each(function(){i.addSelectedChoice(this)});i.postprocessResults()},tokenize:function(){var n=this.search.val();n=this.opts.tokenizer.call(this,n,this.data(),this.bind(this.onSelect),this.opts);null!=n&&n!=t&&(this.search.val(n),n.length>0&&this.open())},onSelect:function(n,i){this.triggerSelect(n)&&(this.addSelectedChoice(n),this.opts.element.trigger({type:"selected",val:this.id(n),choice:n}),this.nextSearchTerm=this.opts.nextSearchTerm(n,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(n,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:n}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(i){var f,e,o=!i.locked,h=n("<li class='select2-search-choice'>    <div><\/div>    <a href='#' class='select2-search-choice-close' tabindex='-1'><\/a><\/li>"),c=n("<li class='select2-search-choice select2-locked'><div><\/div><\/li>"),u=o?h:c,l=this.id(i),s=this.getVal();f=this.opts.formatSelection(i,u.find("div"),this.opts.escapeMarkup);f!=t&&u.find("div").replaceWith("<div>"+f+"<\/div>");e=this.opts.formatSelectionCssClass(i,u.find("div"));e!=t&&u.addClass(e);o&&u.find(".select2-search-choice-close").on("mousedown",r).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(n(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),r(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));u.data("select2-data",i);u.insertBefore(this.searchContainer);s.push(l);this.setVal(s)},unselect:function(t){var i,f,u=this.getVal(),r;if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data")){if(r=n.Event("select2-removing"),r.val=this.id(i),r.choice=i,this.opts.element.trigger(r),r.isDefaultPrevented())return!1;for(;(f=e(this.id(i),u))>=0;)u.splice(f,1),this.setVal(u),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(n,t,i){var s=this.getVal(),f=this.results.find(".select2-result"),h=this.results.find(".select2-result-with-children"),r=this;f.each2(function(n,t){var i=r.id(t.data("select2-data"));e(i,s)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))});h.each2(function(n,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")});-1==this.highlight()&&i!==!1&&r.highlight(0);!this.opts.createSearchChoice&&!f.filter(".select2-result:not(.select2-selected)").length>0&&(!n||n&&!n.more&&0===this.results.find(".select2-no-results").length)&&o(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+u(r.opts.formatNoMatches,r.search.val())+"<\/li>")},getMaxSearchWidth:function(){return this.selection.width()-d(this.search)},resizeSearch:function(){var i,u,t,f,n,r=d(this.search);i=wt(this.search)+10;u=this.search.offset().left;t=this.selection.width();f=this.selection.offset().left;n=t-(u-f)-r;i>n&&(n=t-r);40>n&&(n=t-r);0>=n&&(n=i);this.search.width(Math.floor(n))},getVal:function(){var n;return this.select?(n=this.select.val(),null===n?[]:n):(n=this.opts.element.val(),v(n,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],n(t).each(function(){e(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(n,t){for(var r,t=t.slice(0),n=n.slice(0),i=0;i<t.length;i++)for(r=0;r<n.length;r++)f(this.opts.id(t[i]),this.opts.id(n[r]))&&(t.splice(i,1),i>0&&i--,n.splice(r,1),r--);return{added:t,removed:n}},val:function(i,r){var f,u=this;if(0===arguments.length)return this.getVal();if(f=this.data(),f.length||(f=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(r&&this.triggerChange({added:this.data(),removed:f}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(f,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=n.map(t,u.id);u.setVal(i);u.updateSelection(t);u.clearSearch();r&&u.triggerChange(u.buildChangeDetails(f,u.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(n(this).data("select2-data")))});this.setVal(t);this.triggerChange()},data:function(t,i){var r,u,f=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return n(this).data("select2-data")}).get():(u=this.data(),t||(t=[]),r=n.map(t,function(n){return f.opts.id(n)}),this.setVal(r),this.updateSelection(t),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(u,this.data())),void 0)}});n.fn.select2=function(){var r,u,f,o,s,i=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],l=["opened","isFocused","container","dropdown"],a=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===i.length||"object"==typeof i[0])r=0===i.length?{}:n.extend({},i[0]),r.element=n(this),"select"===r.element.get(0).tagName.toLowerCase()?s=r.element.prop("multiple"):(s=r.multiple||!1,"tags"in r&&(r.multiple=s=!0)),u=s?new window.Select2["class"].multi:new window.Select2["class"].single,u.init(r);else{if("string"!=typeof i[0])throw"Invalid arguments to select2 plugin: "+i;if(e(i[0],c)<0)throw"Unknown method: "+i[0];if(o=t,u=n(this).data("select2"),u===t)return;if(f=i[0],"container"===f?o=u.container:"dropdown"===f?o=u.dropdown:(h[f]&&(f=h[f]),o=u[f].apply(u,i.slice(1))),e(i[0],l)>=0||e(i[0],a)>=0&&1==i.length)return!1}}),o===t?this:o};n.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(n,t,i,r){var u=[];return tt(n.text,i.term,u,r),u.join("")},formatSelection:function(n,i,r){return n?r(n.text):t},sortResults:function(n){return n},formatResultCssClass:function(n){return n.css},formatSelectionCssClass:function(){return t},formatMatches:function(n){return n+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(n,t){var i=t-n.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(n,t){var i=n.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(n){return"You can only select "+n+" item"+(1==n?"":"s")},formatLoadMore:function(){return"Loading more results…"},formatSearching:function(){return"Searching…"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(n){return n==t?null:n.id},matcher:function(n,t){return h(""+t).toUpperCase().indexOf(h(""+n).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:bt,escapeMarkup:it,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(n){return n},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(n){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t&&n.opts.minimumResultsForSearch<0?!1:!0}};n.fn.select2.ajaxDefaults={transport:n.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:rt,local:ut,tags:ft},util:{debounce:nt,markMatch:tt,escapeMarkup:it,stripDiacritics:h},"class":{abstract:a,single:ot,multi:st}}}}(jQuery);
/*! SmartAdmin - v1.4.1 - 2014-06-22 */
!function(n){function t(n,t){if(!(n.originalEvent.touches.length>1)){n.preventDefault();var i=n.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(r)}}if(n.support.touch="ontouchend"in document,n.support.touch){var i,r=n.ui.mouse.prototype,u=r._mouseInit;r._touchStart=function(n){var r=this;!i&&r._mouseCapture(n.originalEvent.changedTouches[0])&&(i=!0,r._touchMoved=!1,t(n,"mouseover"),t(n,"mousemove"),t(n,"mousedown"))};r._touchMove=function(n){i&&(this._touchMoved=!0,t(n,"mousemove"))};r._touchEnd=function(n){i&&(t(n,"mouseup"),t(n,"mouseout"),this._touchMoved||t(n,"click"),i=!1)};r._mouseInit=function(){var t=this;t.element.bind("touchstart",n.proxy(t,"_touchStart")).bind("touchmove",n.proxy(t,"_touchMove")).bind("touchend",n.proxy(t,"_touchEnd"));u.call(t)}}}(jQuery);
/*!
 * Bootstrap v3.3.1 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if(typeof jQuery=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||t[0]==1&&t[1]==9&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(i.style[t]!==undefined)return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){(n.support.transition=t(),n.support.transition)&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));typeof i=="string"&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.1";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;(u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,"")),r=n(u),i&&i.preventDefault(),r.length||(r=f.closest(".alert")),r.trigger(i=n.Event("close.bs.alert")),i.isDefaultPrevented())||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f=typeof i=="object"&&i;r||u.data("bs.button",r=new t(this,f));i=="toggle"?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.1";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t=t+"Text";u.resetText==null&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](u[t]==null?this.options[t]:u[t]);t=="loadingText"?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),n.prop("type")=="radio"&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")):this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i),e=typeof i=="string"?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));typeof i=="number"?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));this.options.pause!="hover"||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.1";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=n=="prev"?-1:1,r=this.getItemIndex(t),u=(r+i)%this.$items.length;return this.$items.eq(u)};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(n<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f=i=="next"?"left":"right",v=i=="next"?"first":"last",a=this,o,s,h,c;if(!u.length){if(!this.options.wrap)return;u=this.$element.find(".item")[v]()}return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),this.$element.trigger(s),s.isDefaultPrevented())?void 0:(this.sliding=!0,l&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i);!r&&f.toggle&&i=="show"&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n(this.options.trigger).filter('[href="#'+i.id+'"], [data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.1";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing"),!r||!r.length||(f=r.data("bs.collapse"),!f||!f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented())){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented())){if(i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},!n.support.transition)return u.call(this);this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":n.extend({},u.data(),{trigger:this});i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){t&&t.which===3||(n(e).remove(),n(i).each(function(){var r=n(this),i=u(r),f={relatedTarget:this};i.hasClass("open")&&((i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented())||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function o(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));typeof i=="string"&&u[i].call(r)})}var e=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.1";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=u(f),o=i.hasClass("open"),r(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length)n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r);if(e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger("shown.bs.dropdown",e)}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,r;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s&&t.which!=27||s&&t.which==27)return t.which==27&&o.find(i).trigger("focus"),e.trigger("click");(h=" li:not(.divider):visible a",f=o.find('[role="menu"]'+h+', [role="listbox"]'+h),f.length)&&(r=f.index(t.target),t.which==38&&r>0&&r--,t.which==40&&r<f.length-1&&r++,~r||(r=0),f.eq(r).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=o;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),typeof i=="object"&&i);u||f.data("bs.modal",u=new t(this,e));typeof i=="string"?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.1";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});if(this.$element.trigger(u),!this.isShown&&!u.isDefaultPrevented()){this.isShown=!0;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this));this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.options.backdrop&&r.adjustBackdrop();r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in").attr("aria-hidden",!1);r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)})}};t.prototype.hide=function(i){(i&&i.preventDefault(),i=n.Event("hide.bs.modal"),this.$element.trigger(i),this.isShown&&!i.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){n.which==27&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){if(this.isShown)n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this));else n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n('<div class="modal-backdrop '+f+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",n.proxy(function(n){n.target===n.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop();this.adjustDialog()};t.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight-50)};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){if(!n.isDefaultPrevented())u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var f=n(this),r=f.data("bs.tooltip"),u=typeof i=="object"&&i,e=u&&u.selector;(r||i!="destroy")&&(e?(r||f.data("bs.tooltip",r={}),r[e]||(r[e]=new t(this,u))):r||f.data("bs.tooltip",r=new t(this,u)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.1";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;for(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(this.options.viewport.selector||this.options.viewport),f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],u=="click")this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else if(u!="manual"){o=u=="hover"?"mouseenter":"focusin";s=u=="hover"?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this))}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i&&i.$tip&&i.$tip.is(":visible")){i.hoverState="in";return}if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide)};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;if(y){var w=i,b=this.options.container?n(this.options.container):this.$element.parent(),e=this.getPosition(b);i=i=="bottom"&&f.bottom+s>e.bottom?"top":i=="top"&&f.top-s<e.top?"bottom":i=="right"&&f.right+o>e.width?"left":i=="left"&&f.left-o<e.left?"right":i;r.removeClass(w).addClass(i)}p=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(p,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;n=="out"&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top=t.top+o;t.left=t.left+s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;i=="top"&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?u.left*2-l+h:u.top*2-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function e(){r.hoverState!="in"&&u.detach();r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type);i&&i()}var r=this,u=this.tip(),f=n.Event("hide.bs."+this.type);if(this.$element.trigger(f),!f.isDefaultPrevented())return u.removeClass("in"),n.support.transition&&this.$tip.hasClass("fade")?u.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e(),this.hoverState=null,this};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r=u.tagName=="BODY",i=u.getBoundingClientRect();i.width==null&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return n=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-i/2}:n=="top"?{top:t.top-r,left:t.left+t.width/2-i/2}:n=="left"?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.width&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(Math.random()*1e6);while(document.getElementById(n));return n};t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type)})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var f=n(this),r=f.data("bs.popover"),u=typeof i=="object"&&i,e=u&&u.selector;(r||i!="destroy")&&(e?(r||f.data("bs.popover",r={}),r[e]||(r[e]=new t(this,u))):r||f.data("bs.popover",r=new t(this,u)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.1";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?typeof t=="string"?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};t.prototype.tip=function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){var u=n.proxy(this.process,this);this.$body=n("body");this.$scrollElement=n(i).is("body")?n(window):n(i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",u);this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f=typeof i=="object"&&i;r||u.data("bs.scrollspy",r=new t(this,f));typeof i=="string"&&r[i]()})}t.VERSION="3.3.1";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var i="offset",r=0,t;n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();t=this;this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget,n;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(!t[n+1]||i<=t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));typeof i=="string"&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.1";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function o(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);e?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu")&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),e=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&e?f.one("bsTransitionEnd",o).emulateTransitionEnd(t.TRANSITION_DURATION):o();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f=typeof i=="object"&&i;r||u.data("bs.affix",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.1";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(i!=null&&this.affixed=="top")return u<i?"top":!1;if(this.affixed=="bottom")return i!=null?u+this.unpin<=f.top?!1:"bottom":u+e<=n-r?!1:"bottom";var o=this.affixed==null,s=o?u:f.top,h=o?e:t;return i!=null&&s<=i?"top":r!=null&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=n("body").height();if(typeof r!="object"&&(u=f=r),typeof f=="function"&&(f=r.top(this.$element)),typeof u=="function"&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(this.unpin!=null&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin=i=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}i=="bottom"&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};t.offsetBottom!=null&&(t.offset.bottom=t.offsetBottom);t.offsetTop!=null&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);
/*! bootmetro 2013-06-18 */
/*!
 * jQuery Charms Plugin
 * Original author: @aozora
 * Licensed under the MIT license
 */
(function(n,t,i,r){function f(t,i){this.element=t;this.options=n.extend({},e,i);this._defaults=e;this._name=u;this.init()}var u="charms",e={width:"320px",animateDuration:600};f.prototype={init:function(){},showSection:function(t,i){var f=this.options.width,u,e;return i!==r&&(f=i),u=n.support.transition&&n(this.element).hasClass("slide"),u&&(e=n(this.element).eq(0).offsetWidth),n(this.element).addClass("in"),!1},close:function(){return n(this.element).removeClass("in"),!1},toggleSection:function(t,i){n(this.element).hasClass("in")?this.close():this.showSection(t,i)}};n.fn[u]=function(t){var i=arguments;return t===r||typeof t=="object"?this.each(function(){n.data(this,"plugin_"+u)||n.data(this,"plugin_"+u,new f(this,t))}):typeof t=="string"&&t[0]!=="_"&&t!=="init"?this.each(function(){var r=n.data(this,"plugin_"+u);r instanceof f&&typeof r[t]=="function"&&r[t].apply(r,Array.prototype.slice.call(i,1))}):void 0}})(jQuery,window,document),function(n){n("#charms").charms();n(".close-charms").click(function(t){t.preventDefault();n("#charms").charms("close")})}(jQuery);window.onload=function(){function u(n,t){var i=n.innerHTML;n.innerHTML="<span style=\"font-family: 'icomoon'\">"+t+"<\/span>"+i}for(var f={"icon-battery-low":"&#xe000;","icon-battery":"&#xe001;","icon-battery-full":"&#xe002;","icon-battery-charging":"&#xe003;","icon-plus":"&#xe004;","icon-cross":"&#xe005;","icon-arrow-right":"&#xe006;","icon-arrow-left":"&#xe007;","icon-pencil":"&#xe008;","icon-search":"&#xe009;","icon-grid":"&#xe00a;","icon-list":"&#xe00b;","icon-star":"&#xe00c;","icon-heart":"&#xe00d;","icon-back":"&#xe00e;","icon-forward":"&#xe00f;","icon-map-marker":"&#xe010;","icon-phone":"&#xe011;","icon-home":"&#xe012;","icon-camera":"&#xe013;","icon-arrow-left-2":"&#xe014;","icon-arrow-right-2":"&#xe015;","icon-arrow-up":"&#xe016;","icon-arrow-down":"&#xe017;","icon-refresh":"&#xe018;","icon-refresh-2":"&#xe019;","icon-escape":"&#xe01a;","icon-repeat":"&#xe01b;","icon-loop":"&#xe01c;","icon-shuffle":"&#xe01d;","icon-feed":"&#xe01e;","icon-cog":"&#xe01f;","icon-wrench":"&#xe020;","icon-bars":"&#xe021;","icon-chart":"&#xe022;","icon-stats":"&#xe023;","icon-eye":"&#xe024;","icon-zoom-out":"&#xe025;","icon-zoom-in":"&#xe026;","icon-export":"&#xe027;","icon-user":"&#xe028;","icon-users":"&#xe029;","icon-microphone":"&#xe02a;","icon-mail":"&#xe02b;","icon-comment":"&#xe02c;","icon-trashcan":"&#xe02d;","icon-delete":"&#xe02e;","icon-infinity":"&#xe02f;","icon-key":"&#xe030;","icon-globe":"&#xe031;","icon-thumbs-up":"&#xe032;","icon-thumbs-down":"&#xe033;","icon-tag":"&#xe034;","icon-views":"&#xe035;","icon-warning":"&#xe036;","icon-beta":"&#xe037;","icon-unlocked":"&#xe038;","icon-locked":"&#xe039;","icon-eject":"&#xe03a;","icon-move":"&#xe03b;","icon-expand":"&#xe03c;","icon-cancel":"&#xe03d;","icon-electricity":"&#xe03e;","icon-compass":"&#xe03f;","icon-location":"&#xe040;","icon-directions":"&#xe041;","icon-pin":"&#xe042;","icon-mute":"&#xe043;","icon-volume":"&#xe044;","icon-globe-2":"&#xe045;","icon-pencil-2":"&#xe046;","icon-minus":"&#xe047;","icon-equals":"&#xe048;","icon-list-2":"&#xe049;","icon-flag":"&#xe04a;","icon-info":"&#xe04b;","icon-question":"&#xe04c;","icon-chat":"&#xe04d;","icon-clock":"&#xe04e;","icon-calendar":"&#xe04f;","icon-sun":"&#xe050;","icon-contrast":"&#xe051;","icon-mobile":"&#xe052;","icon-download":"&#xe053;","icon-puzzle":"&#xe054;","icon-music":"&#xe055;","icon-scissors":"&#xe056;","icon-bookmark":"&#xe057;","icon-anchor":"&#xe058;","icon-checkmark":"&#xe059;","icon-phone-2":"&#xe05a;","icon-mobile-2":"&#xe05b;","icon-mouse":"&#xe05c;","icon-directions-2":"&#xe05d;","icon-mail-2":"&#xe05e;","icon-paperplane":"&#xe05f;","icon-pencil-3":"&#xe060;","icon-feather":"&#xe061;","icon-paperclip":"&#xe062;","icon-drawer":"&#xe063;","icon-reply":"&#xe064;","icon-reply-all":"&#xe065;","icon-forward-2":"&#xe066;","icon-user-2":"&#xe067;","icon-users-2":"&#xe068;","icon-user-add":"&#xe069;","icon-vcard":"&#xe06a;","icon-export-2":"&#xe06b;","icon-location-2":"&#xe06c;","icon-map":"&#xe06d;","icon-compass-2":"&#xe06e;","icon-location-3":"&#xe06f;","icon-target":"&#xe070;","icon-share":"&#xe071;","icon-sharable":"&#xe072;","icon-heart-2":"&#xe073;","icon-heart-3":"&#xe074;","icon-star-2":"&#xe075;","icon-star-3":"&#xe076;","icon-thumbs-up-2":"&#xe077;","icon-thumbs-down-2":"&#xe078;","icon-chat-2":"&#xe079;","icon-comment-2":"&#xe07a;","icon-quote":"&#xe07b;","icon-house":"&#xe07c;","icon-popup":"&#xe07d;","icon-search-2":"&#xe07e;","icon-flashlight":"&#xe07f;","icon-printer":"&#xe080;","icon-bell":"&#xe081;","icon-link":"&#xe082;","icon-flag-2":"&#xe083;","icon-cog-2":"&#xe084;","icon-tools":"&#xe085;","icon-trophy":"&#xe086;","icon-tag-2":"&#xe087;","icon-camera-2":"&#xe088;","icon-megaphone":"&#xe089;","icon-moon":"&#xe08a;","icon-palette":"&#xe08b;","icon-leaf":"&#xe08c;","icon-music-2":"&#xe08d;","icon-music-3":"&#xe08e;","icon-new":"&#xe08f;","icon-graduation":"&#xe090;","icon-book":"&#xe091;","icon-newspaper":"&#xe092;","icon-bag":"&#xe093;","icon-airplane":"&#xe094;","icon-lifebuoy":"&#xe095;","icon-eye-2":"&#xe096;","icon-clock-2":"&#xe097;","icon-microphone-2":"&#xe098;","icon-calendar-2":"&#xe099;","icon-bolt":"&#xe09a;","icon-thunder":"&#xe09b;","icon-droplet":"&#xe09c;","icon-cd":"&#xe09d;","icon-briefcase":"&#xe09e;","icon-air":"&#xe09f;","icon-hourglass":"&#xe0a0;","icon-gauge":"&#xe0a1;","icon-language":"&#xe0a2;","icon-network":"&#xe0a3;","icon-key-2":"&#xe0a4;","icon-battery-2":"&#xe0a5;","icon-bucket":"&#xe0a6;","icon-magnet":"&#xe0a7;","icon-drive":"&#xe0a8;","icon-cup":"&#xe0a9;","icon-rocket":"&#xe0aa;","icon-brush":"&#xe0ab;","icon-suitcase":"&#xe0ac;","icon-cone":"&#xe0ad;","icon-earth":"&#xe0ae;","icon-keyboard":"&#xe0af;","icon-browser":"&#xe0b0;","icon-publish":"&#xe0b1;","icon-progress-3":"&#xe0b2;","icon-progress-2":"&#xe0b3;","icon-brogress-1":"&#xe0b4;","icon-progress-0":"&#xe0b5;","icon-sun-2":"&#xe0b6;","icon-sun-3":"&#xe0b7;","icon-adjust":"&#xe0b8;","icon-code":"&#xe0b9;","icon-screen":"&#xe0ba;","icon-infinity-2":"&#xe0bb;","icon-light-bulb":"&#xe0bc;","icon-credit-card":"&#xe0bd;","icon-database":"&#xe0be;","icon-voicemail":"&#xe0bf;","icon-clipboard":"&#xe0c0;","icon-cart":"&#xe0c1;","icon-box":"&#xe0c2;","icon-ticket":"&#xe0c3;","icon-rss":"&#xe0c4;","icon-signal":"&#xe0c5;","icon-thermometer":"&#xe0c6;","icon-droplets":"&#xe0c7;","icon-untitled":"&#xe0c8;","icon-statistics":"&#xe0c9;","icon-pie":"&#xe0ca;","icon-bars-2":"&#xe0cb;","icon-graph":"&#xe0cc;","icon-lock":"&#xe0cd;","icon-lock-open":"&#xe0ce;","icon-logout":"&#xe0cf;","icon-login":"&#xe0d0;","icon-checkmark-2":"&#xe0d1;","icon-cross-2":"&#xe0d2;","icon-minus-2":"&#xe0d3;","icon-plus-2":"&#xe0d4;","icon-cross-3":"&#xe0d5;","icon-minus-3":"&#xe0d6;","icon-plus-3":"&#xe0d7;","icon-cross-4":"&#xe0d8;","icon-minus-4":"&#xe0d9;","icon-plus-4":"&#xe0da;","icon-erase":"&#xe0db;","icon-blocked":"&#xe0dc;","icon-info-2":"&#xe0dd;","icon-info-3":"&#xe0de;","icon-question-2":"&#xe0df;","icon-help":"&#xe0e0;","icon-warning-2":"&#xe0e1;","icon-cycle":"&#xe0e2;","icon-cw":"&#xe0e3;","icon-ccw":"&#xe0e4;","icon-shuffle-2":"&#xe0e5;","icon-arrow":"&#xe0e6;","icon-arrow-2":"&#xe0e7;","icon-retweet":"&#xe0e8;","icon-loop-2":"&#xe0e9;","icon-history":"&#xe0ea;","icon-back-2":"&#xe0eb;","icon-switch":"&#xe0ec;","icon-list-3":"&#xe0ed;","icon-add-to-list":"&#xe0ee;","icon-layout":"&#xe0ef;","icon-list-4":"&#xe0f0;","icon-text":"&#xe0f1;","icon-text-2":"&#xe0f2;","icon-document":"&#xe0f3;","icon-docs":"&#xe0f4;","icon-landscape":"&#xe0f5;","icon-pictures":"&#xe0f6;","icon-video":"&#xe0f7;","icon-music-4":"&#xe0f8;","icon-folder":"&#xe0f9;","icon-archive":"&#xe0fa;","icon-trash":"&#xe0fb;","icon-upload":"&#xe0fc;","icon-download-2":"&#xe0fd;","icon-disk":"&#xe0fe;","icon-install":"&#xe0ff;","icon-cloud":"&#xe100;","icon-upload-2":"&#xe101;","icon-bookmark-2":"&#xe102;","icon-bookmarks":"&#xe103;","icon-book-2":"&#xe104;","icon-play":"&#xe105;","icon-pause":"&#xe106;","icon-record":"&#xe107;","icon-stop":"&#xe108;","icon-next":"&#xe109;","icon-previous":"&#xe10a;","icon-first":"&#xe10b;","icon-last":"&#xe10c;","icon-resize-enlarge":"&#xe10d;","icon-resize-shrink":"&#xe10e;","icon-volume-2":"&#xe10f;","icon-sound":"&#xe110;","icon-mute-2":"&#xe111;","icon-flow-cascade":"&#xe112;","icon-flow-branch":"&#xe113;","icon-flow-tree":"&#xe114;","icon-flow-line":"&#xe115;","icon-flow-parallel":"&#xe116;","icon-arrow-left-3":"&#xe117;","icon-arrow-down-2":"&#xe118;","icon-arrow-up--upload":"&#xe119;","icon-arrow-right-3":"&#xe11a;","icon-arrow-left-4":"&#xe11b;","icon-arrow-down-3":"&#xe11c;","icon-arrow-up-2":"&#xe11d;","icon-arrow-right-4":"&#xe11e;","icon-arrow-left-5":"&#xe11f;","icon-arrow-down-4":"&#xe120;","icon-arrow-up-3":"&#xe121;","icon-arrow-right-5":"&#xe122;","icon-arrow-left-6":"&#xe123;","icon-arrow-down-5":"&#xe124;","icon-arrow-up-4":"&#xe125;","icon-arrow-right-6":"&#xe126;","icon-arrow-left-7":"&#xe127;","icon-arrow-down-6":"&#xe128;","icon-arrow-up-5":"&#xe129;","icon-arrow-right-7":"&#xe12a;","icon-arrow-left-8":"&#xe12b;","icon-arrow-down-7":"&#xe12c;","icon-arrow-up-6":"&#xe12d;","icon-arrow-right-8":"&#xe12e;","icon-arrow-left-9":"&#xe12f;","icon-arrow-down-8":"&#xe130;","icon-arrow-up-7":"&#xe131;","icon-untitled-2":"&#xe132;","icon-arrow-left-10":"&#xe133;","icon-arrow-down-9":"&#xe134;","icon-arrow-up-8":"&#xe135;","icon-arrow-right-9":"&#xe136;","icon-menu":"&#xe137;","icon-ellipsis":"&#xe138;","icon-dots":"&#xe139;","icon-dot":"&#xe13a;","icon-cc":"&#xe13b;","icon-cc-by":"&#xe13c;","icon-cc-nc":"&#xe13d;","icon-cc-nc-eu":"&#xe13e;","icon-cc-nc-jp":"&#xe13f;","icon-cc-sa":"&#xe140;","icon-cc-nd":"&#xe141;","icon-cc-pd":"&#xe142;","icon-cc-zero":"&#xe143;","icon-cc-share":"&#xe144;","icon-cc-share-2":"&#xe145;","icon-daniel-bruce":"&#xe146;","icon-daniel-bruce-2":"&#xe147;","icon-github":"&#xe148;","icon-github-2":"&#xe149;","icon-flickr":"&#xe14a;","icon-flickr-2":"&#xe14b;","icon-vimeo":"&#xe14c;","icon-vimeo-2":"&#xe14d;","icon-twitter":"&#xe14e;","icon-twitter-2":"&#xe14f;","icon-facebook":"&#xe150;","icon-facebook-2":"&#xe151;","icon-facebook-3":"&#xe152;","icon-googleplus":"&#xe153;","icon-googleplus-2":"&#xe154;","icon-pinterest":"&#xe155;","icon-pinterest-2":"&#xe156;","icon-tumblr":"&#xe157;","icon-tumblr-2":"&#xe158;","icon-linkedin":"&#xe159;","icon-linkedin-2":"&#xe15a;","icon-dribbble":"&#xe15b;","icon-dribbble-2":"&#xe15c;","icon-stumbleupon":"&#xe15d;","icon-stumbleupon-2":"&#xe15e;","icon-lastfm":"&#xe15f;","icon-lastfm-2":"&#xe160;","icon-rdio":"&#xe161;","icon-rdio-2":"&#xe162;","icon-spotify":"&#xe163;","icon-spotify-2":"&#xe164;","icon-qq":"&#xe165;","icon-instagram":"&#xe166;","icon-dropbox":"&#xe167;","icon-evernote":"&#xe168;","icon-flattr":"&#xe169;","icon-skype":"&#xe16a;","icon-skype-2":"&#xe16b;","icon-renren":"&#xe16c;","icon-sina-weibo":"&#xe16d;","icon-paypal":"&#xe16e;","icon-picasa":"&#xe16f;","icon-soundcloud":"&#xe170;","icon-mixi":"&#xe171;","icon-behance":"&#xe172;","icon-circles":"&#xe173;","icon-vk":"&#xe174;","icon-smashing":"&#xe175;","icon-home-2":"&#xe176;","icon-home-3":"&#xe177;","icon-home-4":"&#xe178;","icon-office":"&#xe179;","icon-newspaper-2":"&#xe17a;","icon-pencil-4":"&#xe17b;","icon-pencil-5":"&#xe17c;","icon-quill":"&#xe17d;","icon-pen":"&#xe17e;","icon-blog":"&#xe17f;","icon-droplet-2":"&#xe180;","icon-paint-format":"&#xe181;","icon-image":"&#xe182;","icon-image-2":"&#xe183;","icon-images":"&#xe184;","icon-camera-3":"&#xe185;","icon-music-5":"&#xe186;","icon-headphones":"&#xe187;","icon-play-2":"&#xe188;","icon-film":"&#xe189;","icon-camera-4":"&#xe18a;","icon-dice":"&#xe18b;","icon-pacman":"&#xe18c;","icon-spades":"&#xe18d;","icon-clubs":"&#xe18e;","icon-diamonds":"&#xe18f;","icon-pawn":"&#xe190;","icon-bullhorn":"&#xe191;","icon-connection":"&#xe192;","icon-podcast":"&#xe193;","icon-feed-2":"&#xe194;","icon-book-3":"&#xe195;","icon-books":"&#xe196;","icon-library":"&#xe197;","icon-file":"&#xe198;","icon-profile":"&#xe199;","icon-file-2":"&#xe19a;","icon-file-3":"&#xe19b;","icon-file-4":"&#xe19c;","icon-copy":"&#xe19d;","icon-copy-2":"&#xe19e;","icon-copy-3":"&#xe19f;","icon-paste":"&#xe1a0;","icon-paste-2":"&#xe1a1;","icon-paste-3":"&#xe1a2;","icon-stack":"&#xe1a3;","icon-folder-2":"&#xe1a4;","icon-folder-open":"&#xe1a5;","icon-tag-3":"&#xe1a6;","icon-tags":"&#xe1a7;","icon-barcode":"&#xe1a8;","icon-qrcode":"&#xe1a9;","icon-ticket-2":"&#xe1aa;","icon-cart-2":"&#xe1ab;","icon-cart-3":"&#xe1ac;","icon-cart-4":"&#xe1ad;","icon-coin":"&#xe1ae;","icon-credit":"&#xe1af;","icon-calculate":"&#xe1b0;","icon-support":"&#xe1b1;","icon-phone-3":"&#xe1b2;","icon-phone-hang-up":"&#xe1b3;","icon-address-book":"&#xe1b4;","icon-notebook":"&#xe1b5;","icon-envelop":"&#xe1b6;","icon-pushpin":"&#xe1b7;","icon-location-4":"&#xe1b8;","icon-location-5":"&#xe1b9;","icon-compass-3":"&#xe1ba;","icon-map-2":"&#xe1bb;","icon-map-3":"&#xe1bc;","icon-history-2":"&#xe1bd;","icon-clock-3":"&#xe1be;","icon-clock-4":"&#xe1bf;","icon-alarm":"&#xe1c0;","icon-alarm-2":"&#xe1c1;","icon-bell-2":"&#xe1c2;","icon-stopwatch":"&#xe1c3;","icon-calendar-3":"&#xe1c4;","icon-calendar-4":"&#xe1c5;","icon-print":"&#xe1c6;","icon-keyboard-2":"&#xe1c7;","icon-screen-2":"&#xe1c8;","icon-laptop":"&#xe1c9;","icon-mobile-3":"&#xe1ca;","icon-mobile-4":"&#xe1cb;","icon-tablet":"&#xe1cc;","icon-tv":"&#xe1cd;","icon-cabinet":"&#xe1ce;","icon-drawer-2":"&#xe1cf;","icon-drawer-3":"&#xe1d0;","icon-drawer-4":"&#xe1d1;","icon-box-add":"&#xe1d2;","icon-box-remove":"&#xe1d3;","icon-download-3":"&#xe1d4;","icon-upload-3":"&#xe1d5;","icon-disk-2":"&#xe1d6;","icon-storage":"&#xe1d7;","icon-undo":"&#xe1d8;","icon-redo":"&#xe1d9;","icon-flip":"&#xe1da;","icon-flip-2":"&#xe1db;","icon-undo-2":"&#xe1dc;","icon-redo-2":"&#xe1dd;","icon-forward-3":"&#xe1de;","icon-reply-2":"&#xe1df;","icon-bubble":"&#xe1e0;","icon-bubbles":"&#xe1e1;","icon-bubbles-2":"&#xe1e2;","icon-bubble-2":"&#xe1e3;","icon-bubbles-3":"&#xe1e4;","icon-bubbles-4":"&#xe1e5;","icon-user-3":"&#xe1e6;","icon-users-3":"&#xe1e7;","icon-user-4":"&#xe1e8;","icon-users-4":"&#xe1e9;","icon-user-5":"&#xe1ea;","icon-user-6":"&#xe1eb;","icon-quotes-left":"&#xe1ec;","icon-busy":"&#xe1ed;","icon-spinner":"&#xe1ee;","icon-spinner-2":"&#xe1ef;","icon-spinner-3":"&#xe1f0;","icon-spinner-4":"&#xe1f1;","icon-spinner-5":"&#xe1f2;","icon-spinner-6":"&#xe1f3;","icon-binoculars":"&#xe1f4;","icon-search-3":"&#xe1f5;","icon-zoom-in-2":"&#xe1f6;","icon-zoom-out-2":"&#xe1f7;","icon-expand-2":"&#xe1f8;","icon-contract":"&#xe1f9;","icon-expand-3":"&#xe1fa;","icon-contract-2":"&#xe1fb;","icon-key-3":"&#xe1fc;","icon-key-4":"&#xe1fd;","icon-lock-2":"&#xe1fe;","icon-lock-3":"&#xe1ff;","icon-unlocked-2":"&#xe200;","icon-wrench-2":"&#xe201;","icon-settings":"&#xe202;","icon-equalizer":"&#xe203;","icon-cog-3":"&#xe204;","icon-cogs":"&#xe205;","icon-cog-4":"&#xe206;","icon-hammer":"&#xe207;","icon-wand":"&#xe208;","icon-aid":"&#xe209;","icon-bug":"&#xe20a;","icon-pie-2":"&#xe20b;","icon-stats-2":"&#xe20c;","icon-bars-3":"&#xe20d;","icon-bars-4":"&#xe20e;","icon-gift":"&#xe20f;","icon-trophy-2":"&#xe210;","icon-glass":"&#xe211;","icon-mug":"&#xe212;","icon-food":"&#xe213;","icon-leaf-2":"&#xe214;","icon-rocket-2":"&#xe215;","icon-meter":"&#xe216;","icon-meter2":"&#xe217;","icon-dashboard":"&#xe218;","icon-hammer-2":"&#xe219;","icon-fire":"&#xe21a;","icon-lab":"&#xe21b;","icon-magnet-2":"&#xe21c;","icon-remove":"&#xe21d;","icon-remove-2":"&#xe21e;","icon-briefcase-2":"&#xe21f;","icon-airplane-2":"&#xe220;","icon-truck":"&#xe221;","icon-road":"&#xe222;","icon-accessibility":"&#xe223;","icon-target-2":"&#xe224;","icon-shield":"&#xe225;","icon-lightning":"&#xe226;","icon-switch-2":"&#xe227;","icon-power-cord":"&#xe228;","icon-signup":"&#xe229;","icon-list-5":"&#xe22a;","icon-list-6":"&#xe22b;","icon-numbered-list":"&#xe22c;","icon-menu-2":"&#xe22d;","icon-menu-3":"&#xe22e;","icon-tree":"&#xe22f;","icon-cloud-2":"&#xe230;","icon-cloud-download":"&#xe231;","icon-cloud-upload":"&#xe232;","icon-download-4":"&#xe233;","icon-upload-4":"&#xe234;","icon-download-5":"&#xe235;","icon-upload-5":"&#xe236;","icon-globe-3":"&#xe237;","icon-earth-2":"&#xe238;","icon-link-2":"&#xe239;","icon-flag-3":"&#xe23a;","icon-attachment":"&#xe23b;","icon-eye-3":"&#xe23c;","icon-eye-blocked":"&#xe23d;","icon-eye-4":"&#xe23e;","icon-bookmark-3":"&#xe23f;","icon-bookmarks-2":"&#xe240;","icon-brightness-medium":"&#xe241;","icon-brightness-contrast":"&#xe242;","icon-contrast-2":"&#xe243;","icon-star-4":"&#xe244;","icon-star-5":"&#xe245;","icon-star-6":"&#xe246;","icon-heart-4":"&#xe247;","icon-heart-5":"&#xe248;","icon-heart-broken":"&#xe249;","icon-thumbs-up-3":"&#xe24a;","icon-thumbs-up-4":"&#xe24b;","icon-happy":"&#xe24c;","icon-happy-2":"&#xe24d;","icon-smiley":"&#xe24e;","icon-smiley-2":"&#xe24f;","icon-tongue":"&#xe250;","icon-tongue-2":"&#xe251;","icon-sad":"&#xe252;","icon-sad-2":"&#xe253;","icon-wink":"&#xe254;","icon-wink-2":"&#xe255;","icon-grin":"&#xe256;","icon-grin-2":"&#xe257;","icon-cool":"&#xe258;","icon-cool-2":"&#xe259;","icon-angry":"&#xe25a;","icon-angry-2":"&#xe25b;","icon-evil":"&#xe25c;","icon-evil-2":"&#xe25d;","icon-shocked":"&#xe25e;","icon-shocked-2":"&#xe25f;","icon-confused":"&#xe260;","icon-confused-2":"&#xe261;","icon-neutral":"&#xe262;","icon-neutral-2":"&#xe263;","icon-wondering":"&#xe264;","icon-wondering-2":"&#xe265;","icon-point-up":"&#xe266;","icon-point-right":"&#xe267;","icon-point-down":"&#xe268;","icon-point-left":"&#xe269;","icon-warning-3":"&#xe26a;","icon-notification":"&#xe26b;","icon-question-3":"&#xe26c;","icon-info-4":"&#xe26d;","icon-info-5":"&#xe26e;","icon-blocked-2":"&#xe26f;","icon-cancel-circle":"&#xe270;","icon-checkmark-circle":"&#xe271;","icon-spam":"&#xe272;","icon-close":"&#xe273;","icon-checkmark-3":"&#xe274;","icon-checkmark-4":"&#xe275;","icon-spell-check":"&#xe276;","icon-minus-5":"&#xe277;","icon-plus-5":"&#xe278;","icon-enter":"&#xe279;","icon-exit":"&#xe27a;","icon-play-3":"&#xe27b;","icon-pause-2":"&#xe27c;","icon-stop-2":"&#xe27d;","icon-backward":"&#xe27e;","icon-forward-4":"&#xe27f;","icon-play-4":"&#xe280;","icon-pause-3":"&#xe281;","icon-stop-3":"&#xe282;","icon-backward-2":"&#xe283;","icon-forward-5":"&#xe284;","icon-first-2":"&#xe285;","icon-last-2":"&#xe286;","icon-previous-2":"&#xe287;","icon-next-2":"&#xe288;","icon-eject-2":"&#xe289;","icon-volume-high":"&#xe28a;","icon-volume-medium":"&#xe28b;","icon-volume-low":"&#xe28c;","icon-volume-mute":"&#xe28d;","icon-volume-mute-2":"&#xe28e;","icon-volume-increase":"&#xe28f;","icon-volume-decrease":"&#xe290;","icon-loop-3":"&#xe291;","icon-loop-4":"&#xe292;","icon-loop-5":"&#xe293;","icon-shuffle-3":"&#xe294;","icon-arrow-up-left":"&#xe295;","icon-arrow-up-9":"&#xe296;","icon-arrow-up-right":"&#xe297;","icon-arrow-right-10":"&#xe298;","icon-arrow-down-right":"&#xe299;","icon-arrow-down-10":"&#xe29a;","icon-arrow-down-left":"&#xe29b;","icon-arrow-left-11":"&#xe29c;","icon-arrow-up-left-2":"&#xe29d;","icon-arrow-up-10":"&#xe29e;","icon-arrow-up-right-2":"&#xe29f;","icon-arrow-right-11":"&#xe2a0;","icon-arrow-down-right-2":"&#xe2a1;","icon-arrow-down-11":"&#xe2a2;","icon-arrow-down-left-2":"&#xe2a3;","icon-arrow-left-12":"&#xe2a4;","icon-arrow-up-left-3":"&#xe2a5;","icon-arrow-up-11":"&#xe2a6;","icon-arrow-up-right-3":"&#xe2a7;","icon-arrow-right-12":"&#xe2a8;","icon-arrow-down-right-3":"&#xe2a9;","icon-arrow-down-12":"&#xe2aa;","icon-arrow-down-left-3":"&#xe2ab;","icon-arrow-left-13":"&#xe2ac;","icon-tab":"&#xe2ad;","icon-checkbox-checked":"&#xe2ae;","icon-checkbox-unchecked":"&#xe2af;","icon-checkbox-partial":"&#xe2b0;","icon-radio-checked":"&#xe2b1;","icon-radio-unchecked":"&#xe2b2;","icon-crop":"&#xe2b3;","icon-scissors-2":"&#xe2b4;","icon-filter":"&#xe2b5;","icon-filter-2":"&#xe2b6;","icon-font":"&#xe2b7;","icon-text-height":"&#xe2b8;","icon-text-width":"&#xe2b9;","icon-bold":"&#xe2ba;","icon-underline":"&#xe2bb;","icon-italic":"&#xe2bc;","icon-strikethrough":"&#xe2bd;","icon-omega":"&#xe2be;","icon-sigma":"&#xe2bf;","icon-table":"&#xe2c0;","icon-table-2":"&#xe2c1;","icon-insert-template":"&#xe2c2;","icon-pilcrow":"&#xe2c3;","icon-left-to-right":"&#xe2c4;","icon-right-to-left":"&#xe2c5;","icon-paragraph-left":"&#xe2c6;","icon-paragraph-center":"&#xe2c7;","icon-paragraph-right":"&#xe2c8;","icon-paragraph-justify":"&#xe2c9;","icon-paragraph-left-2":"&#xe2ca;","icon-paragraph-center-2":"&#xe2cb;","icon-paragraph-right-2":"&#xe2cc;","icon-paragraph-justify-2":"&#xe2cd;","icon-indent-increase":"&#xe2ce;","icon-indent-decrease":"&#xe2cf;","icon-new-tab":"&#xe2d0;","icon-embed":"&#xe2d1;","icon-code-2":"&#xe2d2;","icon-console":"&#xe2d3;","icon-share-2":"&#xe2d4;","icon-mail-3":"&#xe2d5;","icon-mail-4":"&#xe2d6;","icon-mail-5":"&#xe2d7;","icon-mail-6":"&#xe2d8;","icon-google":"&#xe2d9;","icon-google-plus":"&#xe2da;","icon-google-plus-2":"&#xe2db;","icon-google-plus-3":"&#xe2dc;","icon-google-plus-4":"&#xe2dd;","icon-google-drive":"&#xe2de;","icon-facebook-4":"&#xe2df;","icon-facebook-5":"&#xe2e0;","icon-facebook-6":"&#xe2e1;","icon-instagram-2":"&#xe2e2;","icon-twitter-3":"&#xe2e3;","icon-twitter-4":"&#xe2e4;","icon-twitter-5":"&#xe2e5;","icon-feed-3":"&#xe2e6;","icon-feed-4":"&#xe2e7;","icon-feed-5":"&#xe2e8;","icon-youtube":"&#xe2e9;","icon-youtube-2":"&#xe2ea;","icon-vimeo-3":"&#xe2eb;","icon-vimeo2":"&#xe2ec;","icon-vimeo-4":"&#xe2ed;","icon-lanyrd":"&#xe2ee;","icon-flickr-3":"&#xe2ef;","icon-flickr-4":"&#xe2f0;","icon-flickr-5":"&#xe2f1;","icon-flickr-6":"&#xe2f2;","icon-picassa":"&#xe2f3;","icon-picassa-2":"&#xe2f4;","icon-dribbble-3":"&#xe2f5;","icon-dribbble-4":"&#xe2f6;","icon-dribbble-5":"&#xe2f7;","icon-forrst":"&#xe2f8;","icon-forrst-2":"&#xe2f9;","icon-deviantart":"&#xe2fa;","icon-deviantart-2":"&#xe2fb;","icon-steam":"&#xe2fc;","icon-steam-2":"&#xe2fd;","icon-github-3":"&#xe2fe;","icon-github-4":"&#xe2ff;","icon-github-5":"&#xe300;","icon-github-6":"&#xe301;","icon-github-7":"&#xe302;","icon-wordpress":"&#xe303;","icon-wordpress-2":"&#xe304;","icon-joomla":"&#xe305;","icon-blogger":"&#xe306;","icon-blogger-2":"&#xe307;","icon-tumblr-3":"&#xe308;","icon-tumblr-4":"&#xe309;","icon-yahoo":"&#xe30a;","icon-tux":"&#xe30b;","icon-apple":"&#xe30c;","icon-finder":"&#xe30d;","icon-android":"&#xe30e;","icon-windows":"&#xe30f;","icon-windows8":"&#xe310;","icon-soundcloud-2":"&#xe311;","icon-soundcloud-3":"&#xe312;","icon-skype-3":"&#xe313;","icon-reddit":"&#xe314;","icon-linkedin-3":"&#xe315;","icon-lastfm-3":"&#xe316;","icon-lastfm-4":"&#xe317;","icon-delicious":"&#xe318;","icon-stumbleupon-3":"&#xe319;","icon-stumbleupon-4":"&#xe31a;","icon-stackoverflow":"&#xe31b;","icon-pinterest-3":"&#xe31c;","icon-pinterest-4":"&#xe31d;","icon-xing":"&#xe31e;","icon-xing-2":"&#xe31f;","icon-flattr-2":"&#xe320;","icon-foursquare":"&#xe321;","icon-foursquare-2":"&#xe322;","icon-paypal-2":"&#xe323;","icon-paypal-3":"&#xe324;","icon-paypal-4":"&#xe325;","icon-yelp":"&#xe326;","icon-libreoffice":"&#xe327;","icon-file-pdf":"&#xe328;","icon-file-openoffice":"&#xe329;","icon-file-word":"&#xe32a;","icon-file-excel":"&#xe32b;","icon-file-zip":"&#xe32c;","icon-file-powerpoint":"&#xe32d;","icon-file-xml":"&#xe32e;","icon-file-css":"&#xe32f;","icon-html5":"&#xe330;","icon-html5-2":"&#xe331;","icon-css3":"&#xe332;","icon-chrome":"&#xe333;","icon-firefox":"&#xe334;","icon-IE":"&#xe335;","icon-opera":"&#xe336;","icon-safari":"&#xe337;","icon-IcoMoon":"&#xe338;","icon-warning-4":"&#xe339;","icon-cloud-3":"&#xe33a;","icon-locked-2":"&#xe33b;","icon-inbox":"&#xe33c;","icon-comment-3":"&#xe33d;","icon-mic":"&#xe33e;","icon-envelope":"&#xe33f;","icon-briefcase-3":"&#xe340;","icon-cart-5":"&#xe341;","icon-contrast-3":"&#xe342;","icon-clock-5":"&#xe343;","icon-user-7":"&#xe344;","icon-cog-5":"&#xe345;","icon-music-6":"&#xe346;","icon-twitter-6":"&#xe347;","icon-pencil-6":"&#xe348;","icon-frame":"&#xe349;","icon-switch-3":"&#xe34a;","icon-star-7":"&#xe34b;","icon-key-5":"&#xe34c;","icon-chart-2":"&#xe34d;","icon-apple-2":"&#xe34e;","icon-file-5":"&#xe34f;","icon-plus-6":"&#xe350;","icon-minus-6":"&#xe351;","icon-picture":"&#xe352;","icon-folder-3":"&#xe353;","icon-camera-5":"&#xe354;","icon-search-4":"&#xe355;","icon-dribbble-6":"&#xe356;","icon-forrst-3":"&#xe357;","icon-feed-6":"&#xe358;","icon-blocked-3":"&#xe359;","icon-target-3":"&#xe35a;","icon-play-5":"&#xe35b;","icon-pause-4":"&#xe35c;","icon-bug-2":"&#xe35d;","icon-console-2":"&#xe35e;","icon-film-2":"&#xe35f;","icon-type":"&#xe360;","icon-home-5":"&#xe361;","icon-earth-3":"&#xe362;","icon-location-6":"&#xe363;","icon-info-6":"&#xe364;","icon-eye-5":"&#xe365;","icon-heart-6":"&#xe366;","icon-bookmark-4":"&#xe367;","icon-wrench-3":"&#xe368;","icon-calendar-5":"&#xe369;","icon-window":"&#xe36a;","icon-monitor":"&#xe36b;","icon-mobile-5":"&#xe36c;","icon-droplet-3":"&#xe36d;","icon-mouse-2":"&#xe36e;","icon-refresh-3":"&#xe36f;","icon-location-7":"&#xe370;","icon-tag-4":"&#xe371;","icon-phone-4":"&#xe372;","icon-star-8":"&#xe373;","icon-pointer":"&#xe374;","icon-thumbs-up-5":"&#xe375;","icon-thumbs-down-3":"&#xe376;","icon-headphones-2":"&#xe377;","icon-move-2":"&#xe378;","icon-checkmark-5":"&#xe379;","icon-cancel-2":"&#xe37a;","icon-skype-4":"&#xe37b;","icon-gift-2":"&#xe37c;","icon-cone-2":"&#xe37d;","icon-alarm-3":"&#xe37e;","icon-coffee":"&#xe37f;","icon-basket":"&#xe380;","icon-flag-4":"&#xe381;","icon-ipod":"&#xe382;","icon-trashcan-2":"&#xe383;","icon-bolt-2":"&#xe384;","icon-ampersand":"&#xe385;","icon-compass-4":"&#xe386;","icon-list-7":"&#xe387;","icon-grid-2":"&#xe388;","icon-volume-3":"&#xe389;","icon-volume-4":"&#xe38a;","icon-stats-3":"&#xe38b;","icon-target-4":"&#xe38c;","icon-forward-6":"&#xe38d;","icon-paperclip-2":"&#xe38e;","icon-keyboard-3":"&#xe38f;","icon-crop-2":"&#xe390;","icon-floppy":"&#xe391;","icon-filter-3":"&#xe392;","icon-trophy-3":"&#xe393;","icon-diary":"&#xe394;","icon-address-book-2":"&#xe395;","icon-stop-4":"&#xe396;","icon-smiley-3":"&#xe397;","icon-shit":"&#xe398;","icon-bookmark-5":"&#xe399;","icon-camera-6":"&#xe39a;","icon-lamp":"&#xe39b;","icon-disk-3":"&#xe39c;","icon-button":"&#xe39d;","icon-database-2":"&#xe39e;","icon-credit-card-2":"&#xe39f;","icon-atom":"&#xe3a0;","icon-winsows":"&#xe3a1;","icon-target-5":"&#xe3a2;","icon-battery-3":"&#xe3a3;","icon-code-3":"&#xe3a4;","icon-sunrise":"&#xe3a5;","icon-sun-4":"&#xe3a6;","icon-moon-2":"&#xe3a7;","icon-sun-5":"&#xe3a8;","icon-windy":"&#xe3a9;","icon-wind":"&#xe3aa;","icon-snowflake":"&#xe3ab;","icon-cloudy":"&#xe3ac;","icon-cloud-4":"&#xe3ad;","icon-weather":"&#xe3ae;","icon-weather-2":"&#xe3af;","icon-weather-3":"&#xe3b0;","icon-lines":"&#xe3b1;","icon-cloud-5":"&#xe3b2;","icon-lightning-2":"&#xe3b3;","icon-lightning-3":"&#xe3b4;","icon-rainy":"&#xe3b5;","icon-rainy-2":"&#xe3b6;","icon-windy-2":"&#xe3b7;","icon-windy-3":"&#xe3b8;","icon-snowy":"&#xe3b9;","icon-snowy-2":"&#xe3ba;","icon-snowy-3":"&#xe3bb;","icon-weather-4":"&#xe3bc;","icon-cloudy-2":"&#xe3bd;","icon-cloud-6":"&#xe3be;","icon-lightning-4":"&#xe3bf;","icon-sun-6":"&#xe3c0;","icon-moon-3":"&#xe3c1;","icon-cloudy-3":"&#xe3c2;","icon-cloud-7":"&#xe3c3;","icon-cloud-8":"&#xe3c4;","icon-lightning-5":"&#xe3c5;","icon-rainy-3":"&#xe3c6;","icon-rainy-4":"&#xe3c7;","icon-windy-4":"&#xe3c8;","icon-windy-5":"&#xe3c9;","icon-snowy-4":"&#xe3ca;","icon-snowy-5":"&#xe3cb;","icon-weather-5":"&#xe3cc;","icon-cloudy-4":"&#xe3cd;","icon-lightning-6":"&#xe3ce;","icon-thermometer-2":"&#xe3cf;","icon-compass-5":"&#xe3d0;","icon-none":"&#xe3d1;","icon-Celsius":"&#xe3d2;","icon-Fahrenheit":"&#xe3d3;","icon-chat-3":"&#xe3d4;","icon-chat-alt-stroke":"&#xe3d5;","icon-chat-alt-fill":"&#xe3d6;","icon-comment-alt1-stroke":"&#xe3d7;","icon-comment-alt1-fill":"&#xe3d8;","icon-comment-stroke":"&#xe3d9;","icon-comment-fill":"&#xe3da;","icon-comment-alt2-stroke":"&#xe3db;","icon-comment-alt2-fill":"&#xe3dc;","icon-checkmark-6":"&#xe3dd;","icon-check-alt":"&#xe3de;","icon-x":"&#xe3df;","icon-x-altx-alt":"&#xe3e0;","icon-denied":"&#xe3e1;","icon-cursor":"&#xe3e2;","icon-rss-2":"&#xe3e3;","icon-rss-alt":"&#xe3e4;","icon-wrench-4":"&#xe3e5;","icon-dial":"&#xe3e6;","icon-cog-6":"&#xe3e7;","icon-calendar-6":"&#xe3e8;","icon-calendar-alt-stroke":"&#xe3e9;","icon-calendar-alt-fill":"&#xe3ea;","icon-share-3":"&#xe3eb;","icon-mail-7":"&#xe3ec;","icon-heart-stroke":"&#xe3ed;","icon-heart-fill":"&#xe3ee;","icon-movie":"&#xe3ef;","icon-document-alt-stroke":"&#xe3f0;","icon-document-alt-fill":"&#xe3f1;","icon-document-stroke":"&#xe3f2;","icon-document-fill":"&#xe3f3;","icon-plus-7":"&#xe3f4;","icon-plus-alt":"&#xe3f5;","icon-minus-7":"&#xe3f6;","icon-minus-alt":"&#xe3f7;","icon-pin-2":"&#xe3f8;","icon-link-3":"&#xe3f9;","icon-bolt-3":"&#xe3fa;","icon-move-3":"&#xe3fb;","icon-move-alt1":"&#xe3fc;","icon-move-alt2":"&#xe3fd;","icon-equalizer-2":"&#xe3fe;","icon-award-fill":"&#xe3ff;","icon-award-stroke":"&#xe400;","icon-magnifying-glass":"&#xe401;","icon-trash-stroke":"&#xe402;","icon-trash-fill":"&#xe403;","icon-beaker-alt":"&#xe404;","icon-beaker":"&#xe405;","icon-key-stroke":"&#xe406;","icon-key-fill":"&#xe407;","icon-new-window":"&#xe408;","icon-lightbulb":"&#xe409;","icon-spin-alt":"&#xe40a;","icon-spin":"&#xe40b;","icon-curved-arrow":"&#xe40c;","icon-undo-3":"&#xe40d;","icon-reload":"&#xe40e;","icon-reload-alt":"&#xe40f;","icon-loop-6":"&#xe410;","icon-loop-alt1":"&#xe411;","icon-loop-alt2":"&#xe412;","icon-loop-alt3":"&#xe413;","icon-loop-alt4":"&#xe414;","icon-transfer":"&#xe415;","icon-move-vertical":"&#xe416;","icon-move-vertical-alt1":"&#xe417;","icon-move-vertical-alt2":"&#xe418;","icon-move-horizontal":"&#xe419;","icon-move-horizontal-alt1":"&#xe41a;","icon-move-horizontal-alt2":"&#xe41b;","icon-arrow-left-14":"&#xe41c;","icon-arrow-left-alt1":"&#xe41d;","icon-arrow-left-alt2":"&#xe41e;","icon-arrow-right-13":"&#xe41f;","icon-arrow-right-alt1":"&#xe420;","icon-arrow-right-alt2":"&#xe421;","icon-arrow-up-12":"&#xe422;","icon-arrow-up-alt1":"&#xe423;","icon-arrow-up-alt2":"&#xe424;","icon-arrow-down-13":"&#xe425;","icon-arrow-down-alt1":"&#xe426;","icon-arrow-down-alt2":"&#xe427;","icon-cd-2":"&#xe428;","icon-steering-wheel":"&#xe429;","icon-microphone-3":"&#xe42a;","icon-headphones-3":"&#xe42b;","icon-volume-5":"&#xe42c;","icon-volume-mute-3":"&#xe42d;","icon-play-6":"&#xe42e;","icon-pause-5":"&#xe42f;","icon-stop-5":"&#xe430;","icon-eject-3":"&#xe431;","icon-first-3":"&#xe432;","icon-last-3":"&#xe433;","icon-play-alt":"&#xe434;","icon-fullscreen-exit":"&#xe435;","icon-fullscreen-exit-alt":"&#xe436;","icon-fullscreen":"&#xe437;","icon-fullscreen-alt":"&#xe438;","icon-iphone":"&#xe439;","icon-battery-empty":"&#xe43a;","icon-battery-half":"&#xe43b;","icon-battery-full-2":"&#xe43c;","icon-battery-charging-2":"&#xe43d;","icon-compass-6":"&#xe43e;","icon-box-2":"&#xe43f;","icon-folder-stroke":"&#xe440;","icon-folder-fill":"&#xe441;","icon-at":"&#xe442;","icon-ampersand-2":"&#xe443;","icon-info-7":"&#xe444;","icon-question-mark":"&#xe445;","icon-pilcrow-2":"&#xe446;","icon-hash":"&#xe447;","icon-left-quote":"&#xe448;","icon-right-quote":"&#xe449;","icon-left-quote-alt":"&#xe44a;","icon-right-quote-alt":"&#xe44b;","icon-article":"&#xe44c;","icon-read-more":"&#xe44d;","icon-list-8":"&#xe44e;","icon-list-nested":"&#xe44f;","icon-book-4":"&#xe450;","icon-book-alt":"&#xe451;","icon-book-alt2":"&#xe452;","icon-pen-2":"&#xe453;","icon-pen-alt-stroke":"&#xe454;","icon-pen-alt-fill":"&#xe455;","icon-pen-alt2":"&#xe456;","icon-brush-2":"&#xe457;","icon-brush-alt":"&#xe458;","icon-eyedropper":"&#xe459;","icon-layers-alt":"&#xe45a;","icon-layers":"&#xe45b;","icon-image-3":"&#xe45c;","icon-camera-7":"&#xe45d;","icon-aperture":"&#xe45e;","icon-aperture-alt":"&#xe45f;","icon-chart-3":"&#xe460;","icon-chart-alt":"&#xe461;","icon-bars-5":"&#xe462;","icon-bars-alt":"&#xe463;","icon-eye-6":"&#xe464;","icon-user-8":"&#xe465;","icon-home-6":"&#xe466;","icon-clock-6":"&#xe467;","icon-lock-stroke":"&#xe468;","icon-lock-fill":"&#xe469;","icon-unlock-stroke":"&#xe46a;","icon-unlock-fill":"&#xe46b;","icon-tag-stroke":"&#xe46c;","icon-tag-fill":"&#xe46d;","icon-sun-stroke":"&#xe46e;","icon-sun-fill":"&#xe46f;","icon-moon-stroke":"&#xe470;","icon-moon-fill":"&#xe471;","icon-cloud-9":"&#xe472;","icon-rain":"&#xe473;","icon-umbrella":"&#xe474;","icon-star-9":"&#xe475;","icon-map-pin-stroke":"&#xe476;","icon-map-pin-fill":"&#xe477;","icon-map-pin-alt":"&#xe478;","icon-target-6":"&#xe479;","icon-download-6":"&#xe47a;","icon-upload-6":"&#xe47b;","icon-cloud-download-2":"&#xe47c;","icon-cloud-upload-2":"&#xe47d;","icon-fork":"&#xe47e;","icon-paperclip-3":"&#xe47f;"},e=document.getElementsByTagName("*"),r,n,t,i=0;i<e.length;i+=1)t=e[i],r=t.getAttribute("data-icon"),r&&u(t,r),n=t.className,n=n.match(/icon-[^\s'"]+/),n&&f[n[0]]&&u(t,f[n[0]])};!function(n){"use strict";var t=function(t,i){this.$element=n(t);this.options=i;this.$groups=n(".panorama-sections .panorama-section");this.$current=0;this.init()};t.prototype={init:function(){var t=this,i;if(this.$element.height(this.$element.parent().height()-n("#nav-bar").outerHeight()),t.resize(),this.options.mousewheel&&n(".panorama-sections").mousewheel(function(n,i){i>0?t.prev():t.next()}),this.options.arrangetiles&&n(".panorama-sections .panorama-section").each(function(){}),this.options.parallax&&n("body").addClass("panorama-parallax"),this.options.showscrollbuttons?(i=n(".panorama-sections"),n("#panorama-scroll-prev").click(function(n){n.preventDefault();t.prev()}),n("#panorama-scroll-next").click(function(n){n.preventDefault();t.next()})):(n("#panorama-scroll-prev").hide(),n("#panorama-scroll-next").hide()),n(".panorama").swipe({swipe:function(n,i){i=="right"&&t.prev();i=="left"&&t.next()},threshold:0}),t.setButtons(),this.options.keyboard)n(document).on("keyup",function(n){n.which==37&&t.prev();n.which==39&&t.next()})},next:function(){var r=this,i,t;this.$current++;this.$current>=this.$groups.length&&(this.$current=this.$groups.length-1);i=n(".panorama-sections");t=n(this.$groups[this.$current]).position().left;this.options.parallax&&n.support.transition&&n("body").css("background-position",t/2+"px 0px");i.animate({marginLeft:-t},{duration:200,easing:"swing",complete:function(){r.setButtons()}})},prev:function(){var r=this,i,t;this.$current--;this.$current<0&&(this.$current=0);i=n(".panorama-sections");t=n(this.$groups[this.$current]).position().left;this.options.parallax&&n.support.transition&&n("body").css("background-position",t/2+"px 0px");i.animate({marginLeft:-t},{duration:200,easing:"swing",complete:function(){r.setButtons()}})},resize:function(){var t=0;n(".panorama-sections .panorama-section").each(function(i,r){t+=n(r).outerWidth(!0)});n(".panorama-sections").width(t).height(this.$element.parent().height())},setButtons:function(){if(!this.options.showscrollbuttons)return!1;this.$current===0?n("#panorama-scroll-prev").hide():n("#panorama-scroll-prev").show();this.$current===this.$groups.length-1?n("#panorama-scroll-next").hide():n("#panorama-scroll-next").show()}};n.fn.panorama=function(i){return this.each(function(){var u=n(this),r=u.data("panorama"),f=n.extend({},n.fn.panorama.defaults,typeof i=="object"&&i),e=typeof i=="string"?i:f.slide;r?e&&r[e]():u.data("panorama",r=new t(this,f))})};n.fn.panorama.defaults={showscrollbuttons:!0,parallax:!1,keyboard:!0,mousewheel:!0,arrangetiles:!0};n.fn.panorama.Constructor=t}(window.jQuery);!function(n){"use strict";var t=function(t,i){this.$element=n(t);this.options=i;this.options.slide&&this.slide(this.options.slide)};t.prototype={to:function(t){var r=this.$element.find("> .pivot-items > .pivot-item.active").eq(0),i=r.parent().children(),u=i.index(r),f=this;if(!(t>i.length-1)&&!(t<0))return this.sliding?this.$element.one("slid",function(){f.to(t)}):t===u?void 0:this.slide(t>u?"next":"prev",n(i[t]))},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,i){var f=this.$element.find("> .pivot-items > .pivot-item.active").eq(0),r=i||f[t](),e=t=="next"?"left":"right",s=t=="next"?"first":"last",o=this,u;if(this.sliding=!0,r=r.length?r:this.$element.find("> .pivot-items > .pivot-item")[s](),u=n.Event("slide",{relatedTarget:r[0]}),r.hasClass("active")){o.sliding=!1;return}if(n.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(u),u.isDefaultPrevented())return;r.addClass(t);r[0].offsetWidth;f.addClass(e);r.addClass(e);this.$element.one(n.support.transition.end,function(){r.removeClass([t,e].join(" ")).addClass("active");f.removeClass(["active",e].join(" "));o.sliding=!1;setTimeout(function(){o.$element.trigger("slid")},0)})}else{if(this.$element.trigger(u),u.isDefaultPrevented())return;f.removeClass("active");r.addClass("active");this.sliding=!1;this.$element.trigger("slid")}return this}};n.fn.pivot=function(i){return this.each(function(){var u=n(this),r=u.data("pivot"),f=n.extend({},n.fn.pivot.defaults,typeof i=="object"&&i),e=typeof i=="string"?i:f.slide;r||u.data("pivot",r=new t(this,f));typeof i=="number"?r.to(i):e&&r[e]()})};n.fn.pivot.defaults={};n.fn.pivot.Constructor=t;n(document).on("click.pivot.data-api","[data-pivot-index]",function(t){var i=n(this),r,u=n(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),e=n.extend({},u.data(),i.data()),f=parseInt(i.attr("data-pivot-index"),10);n("[data-pivot-index].active").removeClass("active");i.addClass("active");u.pivot(f);t.preventDefault()})}(window.jQuery);window.onload=function(){function u(n,t){var i=n.innerHTML;n.innerHTML="<span style=\"font-family: 'icomoon'\">"+t+"<\/span>"+i}for(var f={"icon-battery-low":"&#xe000;","icon-battery":"&#xe001;","icon-battery-full":"&#xe002;","icon-battery-charging":"&#xe003;","icon-plus":"&#xe004;","icon-cross":"&#xe005;","icon-arrow-right":"&#xe006;","icon-arrow-left":"&#xe007;","icon-pencil":"&#xe008;","icon-search":"&#xe009;","icon-grid":"&#xe00a;","icon-list":"&#xe00b;","icon-star":"&#xe00c;","icon-heart":"&#xe00d;","icon-back":"&#xe00e;","icon-forward":"&#xe00f;","icon-map-marker":"&#xe010;","icon-phone":"&#xe011;","icon-home":"&#xe012;","icon-camera":"&#xe013;","icon-arrow-left-2":"&#xe014;","icon-arrow-right-2":"&#xe015;","icon-arrow-up":"&#xe016;","icon-arrow-down":"&#xe017;","icon-refresh":"&#xe018;","icon-refresh-2":"&#xe019;","icon-escape":"&#xe01a;","icon-repeat":"&#xe01b;","icon-loop":"&#xe01c;","icon-shuffle":"&#xe01d;","icon-feed":"&#xe01e;","icon-cog":"&#xe01f;","icon-wrench":"&#xe020;","icon-bars":"&#xe021;","icon-chart":"&#xe022;","icon-stats":"&#xe023;","icon-eye":"&#xe024;","icon-zoom-out":"&#xe025;","icon-zoom-in":"&#xe026;","icon-export":"&#xe027;","icon-user":"&#xe028;","icon-users":"&#xe029;","icon-microphone":"&#xe02a;","icon-mail":"&#xe02b;","icon-comment":"&#xe02c;","icon-trashcan":"&#xe02d;","icon-delete":"&#xe02e;","icon-infinity":"&#xe02f;","icon-key":"&#xe030;","icon-globe":"&#xe031;","icon-thumbs-up":"&#xe032;","icon-thumbs-down":"&#xe033;","icon-tag":"&#xe034;","icon-views":"&#xe035;","icon-warning":"&#xe036;","icon-beta":"&#xe037;","icon-unlocked":"&#xe038;","icon-locked":"&#xe039;","icon-eject":"&#xe03a;","icon-move":"&#xe03b;","icon-expand":"&#xe03c;","icon-cancel":"&#xe03d;","icon-electricity":"&#xe03e;","icon-compass":"&#xe03f;","icon-location":"&#xe040;","icon-directions":"&#xe041;","icon-pin":"&#xe042;","icon-mute":"&#xe043;","icon-volume":"&#xe044;","icon-globe-2":"&#xe045;","icon-pencil-2":"&#xe046;","icon-minus":"&#xe047;","icon-equals":"&#xe048;","icon-list-2":"&#xe049;","icon-flag":"&#xe04a;","icon-info":"&#xe04b;","icon-question":"&#xe04c;","icon-chat":"&#xe04d;","icon-clock":"&#xe04e;","icon-calendar":"&#xe04f;","icon-sun":"&#xe050;","icon-contrast":"&#xe051;","icon-mobile":"&#xe052;","icon-download":"&#xe053;","icon-puzzle":"&#xe054;","icon-music":"&#xe055;","icon-scissors":"&#xe056;","icon-bookmark":"&#xe057;","icon-anchor":"&#xe058;","icon-checkmark":"&#xe059;","icon-phone-2":"&#xe05a;","icon-mobile-2":"&#xe05b;","icon-mouse":"&#xe05c;","icon-directions-2":"&#xe05d;","icon-mail-2":"&#xe05e;","icon-paperplane":"&#xe05f;","icon-pencil-3":"&#xe060;","icon-feather":"&#xe061;","icon-paperclip":"&#xe062;","icon-drawer":"&#xe063;","icon-reply":"&#xe064;","icon-reply-all":"&#xe065;","icon-forward-2":"&#xe066;","icon-user-2":"&#xe067;","icon-users-2":"&#xe068;","icon-user-add":"&#xe069;","icon-vcard":"&#xe06a;","icon-export-2":"&#xe06b;","icon-location-2":"&#xe06c;","icon-map":"&#xe06d;","icon-compass-2":"&#xe06e;","icon-location-3":"&#xe06f;","icon-target":"&#xe070;","icon-share":"&#xe071;","icon-sharable":"&#xe072;","icon-heart-2":"&#xe073;","icon-heart-3":"&#xe074;","icon-star-2":"&#xe075;","icon-star-3":"&#xe076;","icon-thumbs-up-2":"&#xe077;","icon-thumbs-down-2":"&#xe078;","icon-chat-2":"&#xe079;","icon-comment-2":"&#xe07a;","icon-quote":"&#xe07b;","icon-house":"&#xe07c;","icon-popup":"&#xe07d;","icon-search-2":"&#xe07e;","icon-flashlight":"&#xe07f;","icon-printer":"&#xe080;","icon-bell":"&#xe081;","icon-link":"&#xe082;","icon-flag-2":"&#xe083;","icon-cog-2":"&#xe084;","icon-tools":"&#xe085;","icon-trophy":"&#xe086;","icon-tag-2":"&#xe087;","icon-camera-2":"&#xe088;","icon-megaphone":"&#xe089;","icon-moon":"&#xe08a;","icon-palette":"&#xe08b;","icon-leaf":"&#xe08c;","icon-music-2":"&#xe08d;","icon-music-3":"&#xe08e;","icon-new":"&#xe08f;","icon-graduation":"&#xe090;","icon-book":"&#xe091;","icon-newspaper":"&#xe092;","icon-bag":"&#xe093;","icon-airplane":"&#xe094;","icon-lifebuoy":"&#xe095;","icon-eye-2":"&#xe096;","icon-clock-2":"&#xe097;","icon-microphone-2":"&#xe098;","icon-calendar-2":"&#xe099;","icon-bolt":"&#xe09a;","icon-thunder":"&#xe09b;","icon-droplet":"&#xe09c;","icon-cd":"&#xe09d;","icon-briefcase":"&#xe09e;","icon-air":"&#xe09f;","icon-hourglass":"&#xe0a0;","icon-gauge":"&#xe0a1;","icon-language":"&#xe0a2;","icon-network":"&#xe0a3;","icon-key-2":"&#xe0a4;","icon-battery-2":"&#xe0a5;","icon-bucket":"&#xe0a6;","icon-magnet":"&#xe0a7;","icon-drive":"&#xe0a8;","icon-cup":"&#xe0a9;","icon-rocket":"&#xe0aa;","icon-brush":"&#xe0ab;","icon-suitcase":"&#xe0ac;","icon-cone":"&#xe0ad;","icon-earth":"&#xe0ae;","icon-keyboard":"&#xe0af;","icon-browser":"&#xe0b0;","icon-publish":"&#xe0b1;","icon-progress-3":"&#xe0b2;","icon-progress-2":"&#xe0b3;","icon-brogress-1":"&#xe0b4;","icon-progress-0":"&#xe0b5;","icon-sun-2":"&#xe0b6;","icon-sun-3":"&#xe0b7;","icon-adjust":"&#xe0b8;","icon-code":"&#xe0b9;","icon-screen":"&#xe0ba;","icon-infinity-2":"&#xe0bb;","icon-light-bulb":"&#xe0bc;","icon-credit-card":"&#xe0bd;","icon-database":"&#xe0be;","icon-voicemail":"&#xe0bf;","icon-clipboard":"&#xe0c0;","icon-cart":"&#xe0c1;","icon-box":"&#xe0c2;","icon-ticket":"&#xe0c3;","icon-rss":"&#xe0c4;","icon-signal":"&#xe0c5;","icon-thermometer":"&#xe0c6;","icon-droplets":"&#xe0c7;","icon-untitled":"&#xe0c8;","icon-statistics":"&#xe0c9;","icon-pie":"&#xe0ca;","icon-bars-2":"&#xe0cb;","icon-graph":"&#xe0cc;","icon-lock":"&#xe0cd;","icon-lock-open":"&#xe0ce;","icon-logout":"&#xe0cf;","icon-login":"&#xe0d0;","icon-checkmark-2":"&#xe0d1;","icon-cross-2":"&#xe0d2;","icon-minus-2":"&#xe0d3;","icon-plus-2":"&#xe0d4;","icon-cross-3":"&#xe0d5;","icon-minus-3":"&#xe0d6;","icon-plus-3":"&#xe0d7;","icon-cross-4":"&#xe0d8;","icon-minus-4":"&#xe0d9;","icon-plus-4":"&#xe0da;","icon-erase":"&#xe0db;","icon-blocked":"&#xe0dc;","icon-info-2":"&#xe0dd;","icon-info-3":"&#xe0de;","icon-question-2":"&#xe0df;","icon-help":"&#xe0e0;","icon-warning-2":"&#xe0e1;","icon-cycle":"&#xe0e2;","icon-cw":"&#xe0e3;","icon-ccw":"&#xe0e4;","icon-shuffle-2":"&#xe0e5;","icon-arrow":"&#xe0e6;","icon-arrow-2":"&#xe0e7;","icon-retweet":"&#xe0e8;","icon-loop-2":"&#xe0e9;","icon-history":"&#xe0ea;","icon-back-2":"&#xe0eb;","icon-switch":"&#xe0ec;","icon-list-3":"&#xe0ed;","icon-add-to-list":"&#xe0ee;","icon-layout":"&#xe0ef;","icon-list-4":"&#xe0f0;","icon-text":"&#xe0f1;","icon-text-2":"&#xe0f2;","icon-document":"&#xe0f3;","icon-docs":"&#xe0f4;","icon-landscape":"&#xe0f5;","icon-pictures":"&#xe0f6;","icon-video":"&#xe0f7;","icon-music-4":"&#xe0f8;","icon-folder":"&#xe0f9;","icon-archive":"&#xe0fa;","icon-trash":"&#xe0fb;","icon-upload":"&#xe0fc;","icon-download-2":"&#xe0fd;","icon-disk":"&#xe0fe;","icon-install":"&#xe0ff;","icon-cloud":"&#xe100;","icon-upload-2":"&#xe101;","icon-bookmark-2":"&#xe102;","icon-bookmarks":"&#xe103;","icon-book-2":"&#xe104;","icon-play":"&#xe105;","icon-pause":"&#xe106;","icon-record":"&#xe107;","icon-stop":"&#xe108;","icon-next":"&#xe109;","icon-previous":"&#xe10a;","icon-first":"&#xe10b;","icon-last":"&#xe10c;","icon-resize-enlarge":"&#xe10d;","icon-resize-shrink":"&#xe10e;","icon-volume-2":"&#xe10f;","icon-sound":"&#xe110;","icon-mute-2":"&#xe111;","icon-flow-cascade":"&#xe112;","icon-flow-branch":"&#xe113;","icon-flow-tree":"&#xe114;","icon-flow-line":"&#xe115;","icon-flow-parallel":"&#xe116;","icon-arrow-left-3":"&#xe117;","icon-arrow-down-2":"&#xe118;","icon-arrow-up--upload":"&#xe119;","icon-arrow-right-3":"&#xe11a;","icon-arrow-left-4":"&#xe11b;","icon-arrow-down-3":"&#xe11c;","icon-arrow-up-2":"&#xe11d;","icon-arrow-right-4":"&#xe11e;","icon-arrow-left-5":"&#xe11f;","icon-arrow-down-4":"&#xe120;","icon-arrow-up-3":"&#xe121;","icon-arrow-right-5":"&#xe122;","icon-arrow-left-6":"&#xe123;","icon-arrow-down-5":"&#xe124;","icon-arrow-up-4":"&#xe125;","icon-arrow-right-6":"&#xe126;","icon-arrow-left-7":"&#xe127;","icon-arrow-down-6":"&#xe128;","icon-arrow-up-5":"&#xe129;","icon-arrow-right-7":"&#xe12a;","icon-arrow-left-8":"&#xe12b;","icon-arrow-down-7":"&#xe12c;","icon-arrow-up-6":"&#xe12d;","icon-arrow-right-8":"&#xe12e;","icon-arrow-left-9":"&#xe12f;","icon-arrow-down-8":"&#xe130;","icon-arrow-up-7":"&#xe131;","icon-untitled-2":"&#xe132;","icon-arrow-left-10":"&#xe133;","icon-arrow-down-9":"&#xe134;","icon-arrow-up-8":"&#xe135;","icon-arrow-right-9":"&#xe136;","icon-menu":"&#xe137;","icon-ellipsis":"&#xe138;","icon-dots":"&#xe139;","icon-dot":"&#xe13a;","icon-cc":"&#xe13b;","icon-cc-by":"&#xe13c;","icon-cc-nc":"&#xe13d;","icon-cc-nc-eu":"&#xe13e;","icon-cc-nc-jp":"&#xe13f;","icon-cc-sa":"&#xe140;","icon-cc-nd":"&#xe141;","icon-cc-pd":"&#xe142;","icon-cc-zero":"&#xe143;","icon-cc-share":"&#xe144;","icon-cc-share-2":"&#xe145;","icon-daniel-bruce":"&#xe146;","icon-daniel-bruce-2":"&#xe147;","icon-github":"&#xe148;","icon-github-2":"&#xe149;","icon-flickr":"&#xe14a;","icon-flickr-2":"&#xe14b;","icon-vimeo":"&#xe14c;","icon-vimeo-2":"&#xe14d;","icon-twitter":"&#xe14e;","icon-twitter-2":"&#xe14f;","icon-facebook":"&#xe150;","icon-facebook-2":"&#xe151;","icon-facebook-3":"&#xe152;","icon-googleplus":"&#xe153;","icon-googleplus-2":"&#xe154;","icon-pinterest":"&#xe155;","icon-pinterest-2":"&#xe156;","icon-tumblr":"&#xe157;","icon-tumblr-2":"&#xe158;","icon-linkedin":"&#xe159;","icon-linkedin-2":"&#xe15a;","icon-dribbble":"&#xe15b;","icon-dribbble-2":"&#xe15c;","icon-stumbleupon":"&#xe15d;","icon-stumbleupon-2":"&#xe15e;","icon-lastfm":"&#xe15f;","icon-lastfm-2":"&#xe160;","icon-rdio":"&#xe161;","icon-rdio-2":"&#xe162;","icon-spotify":"&#xe163;","icon-spotify-2":"&#xe164;","icon-qq":"&#xe165;","icon-instagram":"&#xe166;","icon-dropbox":"&#xe167;","icon-evernote":"&#xe168;","icon-flattr":"&#xe169;","icon-skype":"&#xe16a;","icon-skype-2":"&#xe16b;","icon-renren":"&#xe16c;","icon-sina-weibo":"&#xe16d;","icon-paypal":"&#xe16e;","icon-picasa":"&#xe16f;","icon-soundcloud":"&#xe170;","icon-mixi":"&#xe171;","icon-behance":"&#xe172;","icon-circles":"&#xe173;","icon-vk":"&#xe174;","icon-smashing":"&#xe175;","icon-home-2":"&#xe176;","icon-home-3":"&#xe177;","icon-home-4":"&#xe178;","icon-office":"&#xe179;","icon-newspaper-2":"&#xe17a;","icon-pencil-4":"&#xe17b;","icon-pencil-5":"&#xe17c;","icon-quill":"&#xe17d;","icon-pen":"&#xe17e;","icon-blog":"&#xe17f;","icon-droplet-2":"&#xe180;","icon-paint-format":"&#xe181;","icon-image":"&#xe182;","icon-image-2":"&#xe183;","icon-images":"&#xe184;","icon-camera-3":"&#xe185;","icon-music-5":"&#xe186;","icon-headphones":"&#xe187;","icon-play-2":"&#xe188;","icon-film":"&#xe189;","icon-camera-4":"&#xe18a;","icon-dice":"&#xe18b;","icon-pacman":"&#xe18c;","icon-spades":"&#xe18d;","icon-clubs":"&#xe18e;","icon-diamonds":"&#xe18f;","icon-pawn":"&#xe190;","icon-bullhorn":"&#xe191;","icon-connection":"&#xe192;","icon-podcast":"&#xe193;","icon-feed-2":"&#xe194;","icon-book-3":"&#xe195;","icon-books":"&#xe196;","icon-library":"&#xe197;","icon-file":"&#xe198;","icon-profile":"&#xe199;","icon-file-2":"&#xe19a;","icon-file-3":"&#xe19b;","icon-file-4":"&#xe19c;","icon-copy":"&#xe19d;","icon-copy-2":"&#xe19e;","icon-copy-3":"&#xe19f;","icon-paste":"&#xe1a0;","icon-paste-2":"&#xe1a1;","icon-paste-3":"&#xe1a2;","icon-stack":"&#xe1a3;","icon-folder-2":"&#xe1a4;","icon-folder-open":"&#xe1a5;","icon-tag-3":"&#xe1a6;","icon-tags":"&#xe1a7;","icon-barcode":"&#xe1a8;","icon-qrcode":"&#xe1a9;","icon-ticket-2":"&#xe1aa;","icon-cart-2":"&#xe1ab;","icon-cart-3":"&#xe1ac;","icon-cart-4":"&#xe1ad;","icon-coin":"&#xe1ae;","icon-credit":"&#xe1af;","icon-calculate":"&#xe1b0;","icon-support":"&#xe1b1;","icon-phone-3":"&#xe1b2;","icon-phone-hang-up":"&#xe1b3;","icon-address-book":"&#xe1b4;","icon-notebook":"&#xe1b5;","icon-envelop":"&#xe1b6;","icon-pushpin":"&#xe1b7;","icon-location-4":"&#xe1b8;","icon-location-5":"&#xe1b9;","icon-compass-3":"&#xe1ba;","icon-map-2":"&#xe1bb;","icon-map-3":"&#xe1bc;","icon-history-2":"&#xe1bd;","icon-clock-3":"&#xe1be;","icon-clock-4":"&#xe1bf;","icon-alarm":"&#xe1c0;","icon-alarm-2":"&#xe1c1;","icon-bell-2":"&#xe1c2;","icon-stopwatch":"&#xe1c3;","icon-calendar-3":"&#xe1c4;","icon-calendar-4":"&#xe1c5;","icon-print":"&#xe1c6;","icon-keyboard-2":"&#xe1c7;","icon-screen-2":"&#xe1c8;","icon-laptop":"&#xe1c9;","icon-mobile-3":"&#xe1ca;","icon-mobile-4":"&#xe1cb;","icon-tablet":"&#xe1cc;","icon-tv":"&#xe1cd;","icon-cabinet":"&#xe1ce;","icon-drawer-2":"&#xe1cf;","icon-drawer-3":"&#xe1d0;","icon-drawer-4":"&#xe1d1;","icon-box-add":"&#xe1d2;","icon-box-remove":"&#xe1d3;","icon-download-3":"&#xe1d4;","icon-upload-3":"&#xe1d5;","icon-disk-2":"&#xe1d6;","icon-storage":"&#xe1d7;","icon-undo":"&#xe1d8;","icon-redo":"&#xe1d9;","icon-flip":"&#xe1da;","icon-flip-2":"&#xe1db;","icon-undo-2":"&#xe1dc;","icon-redo-2":"&#xe1dd;","icon-forward-3":"&#xe1de;","icon-reply-2":"&#xe1df;","icon-bubble":"&#xe1e0;","icon-bubbles":"&#xe1e1;","icon-bubbles-2":"&#xe1e2;","icon-bubble-2":"&#xe1e3;","icon-bubbles-3":"&#xe1e4;","icon-bubbles-4":"&#xe1e5;","icon-user-3":"&#xe1e6;","icon-users-3":"&#xe1e7;","icon-user-4":"&#xe1e8;","icon-users-4":"&#xe1e9;","icon-user-5":"&#xe1ea;","icon-user-6":"&#xe1eb;","icon-quotes-left":"&#xe1ec;","icon-busy":"&#xe1ed;","icon-spinner":"&#xe1ee;","icon-spinner-2":"&#xe1ef;","icon-spinner-3":"&#xe1f0;","icon-spinner-4":"&#xe1f1;","icon-spinner-5":"&#xe1f2;","icon-spinner-6":"&#xe1f3;","icon-binoculars":"&#xe1f4;","icon-search-3":"&#xe1f5;","icon-zoom-in-2":"&#xe1f6;","icon-zoom-out-2":"&#xe1f7;","icon-expand-2":"&#xe1f8;","icon-contract":"&#xe1f9;","icon-expand-3":"&#xe1fa;","icon-contract-2":"&#xe1fb;","icon-key-3":"&#xe1fc;","icon-key-4":"&#xe1fd;","icon-lock-2":"&#xe1fe;","icon-lock-3":"&#xe1ff;","icon-unlocked-2":"&#xe200;","icon-wrench-2":"&#xe201;","icon-settings":"&#xe202;","icon-equalizer":"&#xe203;","icon-cog-3":"&#xe204;","icon-cogs":"&#xe205;","icon-cog-4":"&#xe206;","icon-hammer":"&#xe207;","icon-wand":"&#xe208;","icon-aid":"&#xe209;","icon-bug":"&#xe20a;","icon-pie-2":"&#xe20b;","icon-stats-2":"&#xe20c;","icon-bars-3":"&#xe20d;","icon-bars-4":"&#xe20e;","icon-gift":"&#xe20f;","icon-trophy-2":"&#xe210;","icon-glass":"&#xe211;","icon-mug":"&#xe212;","icon-food":"&#xe213;","icon-leaf-2":"&#xe214;","icon-rocket-2":"&#xe215;","icon-meter":"&#xe216;","icon-meter2":"&#xe217;","icon-dashboard":"&#xe218;","icon-hammer-2":"&#xe219;","icon-fire":"&#xe21a;","icon-lab":"&#xe21b;","icon-magnet-2":"&#xe21c;","icon-remove":"&#xe21d;","icon-remove-2":"&#xe21e;","icon-briefcase-2":"&#xe21f;","icon-airplane-2":"&#xe220;","icon-truck":"&#xe221;","icon-road":"&#xe222;","icon-accessibility":"&#xe223;","icon-target-2":"&#xe224;","icon-shield":"&#xe225;","icon-lightning":"&#xe226;","icon-switch-2":"&#xe227;","icon-power-cord":"&#xe228;","icon-signup":"&#xe229;","icon-list-5":"&#xe22a;","icon-list-6":"&#xe22b;","icon-numbered-list":"&#xe22c;","icon-menu-2":"&#xe22d;","icon-menu-3":"&#xe22e;","icon-tree":"&#xe22f;","icon-cloud-2":"&#xe230;","icon-cloud-download":"&#xe231;","icon-cloud-upload":"&#xe232;","icon-download-4":"&#xe233;","icon-upload-4":"&#xe234;","icon-download-5":"&#xe235;","icon-upload-5":"&#xe236;","icon-globe-3":"&#xe237;","icon-earth-2":"&#xe238;","icon-link-2":"&#xe239;","icon-flag-3":"&#xe23a;","icon-attachment":"&#xe23b;","icon-eye-3":"&#xe23c;","icon-eye-blocked":"&#xe23d;","icon-eye-4":"&#xe23e;","icon-bookmark-3":"&#xe23f;","icon-bookmarks-2":"&#xe240;","icon-brightness-medium":"&#xe241;","icon-brightness-contrast":"&#xe242;","icon-contrast-2":"&#xe243;","icon-star-4":"&#xe244;","icon-star-5":"&#xe245;","icon-star-6":"&#xe246;","icon-heart-4":"&#xe247;","icon-heart-5":"&#xe248;","icon-heart-broken":"&#xe249;","icon-thumbs-up-3":"&#xe24a;","icon-thumbs-up-4":"&#xe24b;","icon-happy":"&#xe24c;","icon-happy-2":"&#xe24d;","icon-smiley":"&#xe24e;","icon-smiley-2":"&#xe24f;","icon-tongue":"&#xe250;","icon-tongue-2":"&#xe251;","icon-sad":"&#xe252;","icon-sad-2":"&#xe253;","icon-wink":"&#xe254;","icon-wink-2":"&#xe255;","icon-grin":"&#xe256;","icon-grin-2":"&#xe257;","icon-cool":"&#xe258;","icon-cool-2":"&#xe259;","icon-angry":"&#xe25a;","icon-angry-2":"&#xe25b;","icon-evil":"&#xe25c;","icon-evil-2":"&#xe25d;","icon-shocked":"&#xe25e;","icon-shocked-2":"&#xe25f;","icon-confused":"&#xe260;","icon-confused-2":"&#xe261;","icon-neutral":"&#xe262;","icon-neutral-2":"&#xe263;","icon-wondering":"&#xe264;","icon-wondering-2":"&#xe265;","icon-point-up":"&#xe266;","icon-point-right":"&#xe267;","icon-point-down":"&#xe268;","icon-point-left":"&#xe269;","icon-warning-3":"&#xe26a;","icon-notification":"&#xe26b;","icon-question-3":"&#xe26c;","icon-info-4":"&#xe26d;","icon-info-5":"&#xe26e;","icon-blocked-2":"&#xe26f;","icon-cancel-circle":"&#xe270;","icon-checkmark-circle":"&#xe271;","icon-spam":"&#xe272;","icon-close":"&#xe273;","icon-checkmark-3":"&#xe274;","icon-checkmark-4":"&#xe275;","icon-spell-check":"&#xe276;","icon-minus-5":"&#xe277;","icon-plus-5":"&#xe278;","icon-enter":"&#xe279;","icon-exit":"&#xe27a;","icon-play-3":"&#xe27b;","icon-pause-2":"&#xe27c;","icon-stop-2":"&#xe27d;","icon-backward":"&#xe27e;","icon-forward-4":"&#xe27f;","icon-play-4":"&#xe280;","icon-pause-3":"&#xe281;","icon-stop-3":"&#xe282;","icon-backward-2":"&#xe283;","icon-forward-5":"&#xe284;","icon-first-2":"&#xe285;","icon-last-2":"&#xe286;","icon-previous-2":"&#xe287;","icon-next-2":"&#xe288;","icon-eject-2":"&#xe289;","icon-volume-high":"&#xe28a;","icon-volume-medium":"&#xe28b;","icon-volume-low":"&#xe28c;","icon-volume-mute":"&#xe28d;","icon-volume-mute-2":"&#xe28e;","icon-volume-increase":"&#xe28f;","icon-volume-decrease":"&#xe290;","icon-loop-3":"&#xe291;","icon-loop-4":"&#xe292;","icon-loop-5":"&#xe293;","icon-shuffle-3":"&#xe294;","icon-arrow-up-left":"&#xe295;","icon-arrow-up-9":"&#xe296;","icon-arrow-up-right":"&#xe297;","icon-arrow-right-10":"&#xe298;","icon-arrow-down-right":"&#xe299;","icon-arrow-down-10":"&#xe29a;","icon-arrow-down-left":"&#xe29b;","icon-arrow-left-11":"&#xe29c;","icon-arrow-up-left-2":"&#xe29d;","icon-arrow-up-10":"&#xe29e;","icon-arrow-up-right-2":"&#xe29f;","icon-arrow-right-11":"&#xe2a0;","icon-arrow-down-right-2":"&#xe2a1;","icon-arrow-down-11":"&#xe2a2;","icon-arrow-down-left-2":"&#xe2a3;","icon-arrow-left-12":"&#xe2a4;","icon-arrow-up-left-3":"&#xe2a5;","icon-arrow-up-11":"&#xe2a6;","icon-arrow-up-right-3":"&#xe2a7;","icon-arrow-right-12":"&#xe2a8;","icon-arrow-down-right-3":"&#xe2a9;","icon-arrow-down-12":"&#xe2aa;","icon-arrow-down-left-3":"&#xe2ab;","icon-arrow-left-13":"&#xe2ac;","icon-tab":"&#xe2ad;","icon-checkbox-checked":"&#xe2ae;","icon-checkbox-unchecked":"&#xe2af;","icon-checkbox-partial":"&#xe2b0;","icon-radio-checked":"&#xe2b1;","icon-radio-unchecked":"&#xe2b2;","icon-crop":"&#xe2b3;","icon-scissors-2":"&#xe2b4;","icon-filter":"&#xe2b5;","icon-filter-2":"&#xe2b6;","icon-font":"&#xe2b7;","icon-text-height":"&#xe2b8;","icon-text-width":"&#xe2b9;","icon-bold":"&#xe2ba;","icon-underline":"&#xe2bb;","icon-italic":"&#xe2bc;","icon-strikethrough":"&#xe2bd;","icon-omega":"&#xe2be;","icon-sigma":"&#xe2bf;","icon-table":"&#xe2c0;","icon-table-2":"&#xe2c1;","icon-insert-template":"&#xe2c2;","icon-pilcrow":"&#xe2c3;","icon-left-to-right":"&#xe2c4;","icon-right-to-left":"&#xe2c5;","icon-paragraph-left":"&#xe2c6;","icon-paragraph-center":"&#xe2c7;","icon-paragraph-right":"&#xe2c8;","icon-paragraph-justify":"&#xe2c9;","icon-paragraph-left-2":"&#xe2ca;","icon-paragraph-center-2":"&#xe2cb;","icon-paragraph-right-2":"&#xe2cc;","icon-paragraph-justify-2":"&#xe2cd;","icon-indent-increase":"&#xe2ce;","icon-indent-decrease":"&#xe2cf;","icon-new-tab":"&#xe2d0;","icon-embed":"&#xe2d1;","icon-code-2":"&#xe2d2;","icon-console":"&#xe2d3;","icon-share-2":"&#xe2d4;","icon-mail-3":"&#xe2d5;","icon-mail-4":"&#xe2d6;","icon-mail-5":"&#xe2d7;","icon-mail-6":"&#xe2d8;","icon-google":"&#xe2d9;","icon-google-plus":"&#xe2da;","icon-google-plus-2":"&#xe2db;","icon-google-plus-3":"&#xe2dc;","icon-google-plus-4":"&#xe2dd;","icon-google-drive":"&#xe2de;","icon-facebook-4":"&#xe2df;","icon-facebook-5":"&#xe2e0;","icon-facebook-6":"&#xe2e1;","icon-instagram-2":"&#xe2e2;","icon-twitter-3":"&#xe2e3;","icon-twitter-4":"&#xe2e4;","icon-twitter-5":"&#xe2e5;","icon-feed-3":"&#xe2e6;","icon-feed-4":"&#xe2e7;","icon-feed-5":"&#xe2e8;","icon-youtube":"&#xe2e9;","icon-youtube-2":"&#xe2ea;","icon-vimeo-3":"&#xe2eb;","icon-vimeo2":"&#xe2ec;","icon-vimeo-4":"&#xe2ed;","icon-lanyrd":"&#xe2ee;","icon-flickr-3":"&#xe2ef;","icon-flickr-4":"&#xe2f0;","icon-flickr-5":"&#xe2f1;","icon-flickr-6":"&#xe2f2;","icon-picassa":"&#xe2f3;","icon-picassa-2":"&#xe2f4;","icon-dribbble-3":"&#xe2f5;","icon-dribbble-4":"&#xe2f6;","icon-dribbble-5":"&#xe2f7;","icon-forrst":"&#xe2f8;","icon-forrst-2":"&#xe2f9;","icon-deviantart":"&#xe2fa;","icon-deviantart-2":"&#xe2fb;","icon-steam":"&#xe2fc;","icon-steam-2":"&#xe2fd;","icon-github-3":"&#xe2fe;","icon-github-4":"&#xe2ff;","icon-github-5":"&#xe300;","icon-github-6":"&#xe301;","icon-github-7":"&#xe302;","icon-wordpress":"&#xe303;","icon-wordpress-2":"&#xe304;","icon-joomla":"&#xe305;","icon-blogger":"&#xe306;","icon-blogger-2":"&#xe307;","icon-tumblr-3":"&#xe308;","icon-tumblr-4":"&#xe309;","icon-yahoo":"&#xe30a;","icon-tux":"&#xe30b;","icon-apple":"&#xe30c;","icon-finder":"&#xe30d;","icon-android":"&#xe30e;","icon-windows":"&#xe30f;","icon-windows8":"&#xe310;","icon-soundcloud-2":"&#xe311;","icon-soundcloud-3":"&#xe312;","icon-skype-3":"&#xe313;","icon-reddit":"&#xe314;","icon-linkedin-3":"&#xe315;","icon-lastfm-3":"&#xe316;","icon-lastfm-4":"&#xe317;","icon-delicious":"&#xe318;","icon-stumbleupon-3":"&#xe319;","icon-stumbleupon-4":"&#xe31a;","icon-stackoverflow":"&#xe31b;","icon-pinterest-3":"&#xe31c;","icon-pinterest-4":"&#xe31d;","icon-xing":"&#xe31e;","icon-xing-2":"&#xe31f;","icon-flattr-2":"&#xe320;","icon-foursquare":"&#xe321;","icon-foursquare-2":"&#xe322;","icon-paypal-2":"&#xe323;","icon-paypal-3":"&#xe324;","icon-paypal-4":"&#xe325;","icon-yelp":"&#xe326;","icon-libreoffice":"&#xe327;","icon-file-pdf":"&#xe328;","icon-file-openoffice":"&#xe329;","icon-file-word":"&#xe32a;","icon-file-excel":"&#xe32b;","icon-file-zip":"&#xe32c;","icon-file-powerpoint":"&#xe32d;","icon-file-xml":"&#xe32e;","icon-file-css":"&#xe32f;","icon-html5":"&#xe330;","icon-html5-2":"&#xe331;","icon-css3":"&#xe332;","icon-chrome":"&#xe333;","icon-firefox":"&#xe334;","icon-IE":"&#xe335;","icon-opera":"&#xe336;","icon-safari":"&#xe337;","icon-IcoMoon":"&#xe338;","icon-warning-4":"&#xe339;","icon-cloud-3":"&#xe33a;","icon-locked-2":"&#xe33b;","icon-inbox":"&#xe33c;","icon-comment-3":"&#xe33d;","icon-mic":"&#xe33e;","icon-envelope":"&#xe33f;","icon-briefcase-3":"&#xe340;","icon-cart-5":"&#xe341;","icon-contrast-3":"&#xe342;","icon-clock-5":"&#xe343;","icon-user-7":"&#xe344;","icon-cog-5":"&#xe345;","icon-music-6":"&#xe346;","icon-twitter-6":"&#xe347;","icon-pencil-6":"&#xe348;","icon-frame":"&#xe349;","icon-switch-3":"&#xe34a;","icon-star-7":"&#xe34b;","icon-key-5":"&#xe34c;","icon-chart-2":"&#xe34d;","icon-apple-2":"&#xe34e;","icon-file-5":"&#xe34f;","icon-plus-6":"&#xe350;","icon-minus-6":"&#xe351;","icon-picture":"&#xe352;","icon-folder-3":"&#xe353;","icon-camera-5":"&#xe354;","icon-search-4":"&#xe355;","icon-dribbble-6":"&#xe356;","icon-forrst-3":"&#xe357;","icon-feed-6":"&#xe358;","icon-blocked-3":"&#xe359;","icon-target-3":"&#xe35a;","icon-play-5":"&#xe35b;","icon-pause-4":"&#xe35c;","icon-bug-2":"&#xe35d;","icon-console-2":"&#xe35e;","icon-film-2":"&#xe35f;","icon-type":"&#xe360;","icon-home-5":"&#xe361;","icon-earth-3":"&#xe362;","icon-location-6":"&#xe363;","icon-info-6":"&#xe364;","icon-eye-5":"&#xe365;","icon-heart-6":"&#xe366;","icon-bookmark-4":"&#xe367;","icon-wrench-3":"&#xe368;","icon-calendar-5":"&#xe369;","icon-window":"&#xe36a;","icon-monitor":"&#xe36b;","icon-mobile-5":"&#xe36c;","icon-droplet-3":"&#xe36d;","icon-mouse-2":"&#xe36e;","icon-refresh-3":"&#xe36f;","icon-location-7":"&#xe370;","icon-tag-4":"&#xe371;","icon-phone-4":"&#xe372;","icon-star-8":"&#xe373;","icon-pointer":"&#xe374;","icon-thumbs-up-5":"&#xe375;","icon-thumbs-down-3":"&#xe376;","icon-headphones-2":"&#xe377;","icon-move-2":"&#xe378;","icon-checkmark-5":"&#xe379;","icon-cancel-2":"&#xe37a;","icon-skype-4":"&#xe37b;","icon-gift-2":"&#xe37c;","icon-cone-2":"&#xe37d;","icon-alarm-3":"&#xe37e;","icon-coffee":"&#xe37f;","icon-basket":"&#xe380;","icon-flag-4":"&#xe381;","icon-ipod":"&#xe382;","icon-trashcan-2":"&#xe383;","icon-bolt-2":"&#xe384;","icon-ampersand":"&#xe385;","icon-compass-4":"&#xe386;","icon-list-7":"&#xe387;","icon-grid-2":"&#xe388;","icon-volume-3":"&#xe389;","icon-volume-4":"&#xe38a;","icon-stats-3":"&#xe38b;","icon-target-4":"&#xe38c;","icon-forward-6":"&#xe38d;","icon-paperclip-2":"&#xe38e;","icon-keyboard-3":"&#xe38f;","icon-crop-2":"&#xe390;","icon-floppy":"&#xe391;","icon-filter-3":"&#xe392;","icon-trophy-3":"&#xe393;","icon-diary":"&#xe394;","icon-address-book-2":"&#xe395;","icon-stop-4":"&#xe396;","icon-smiley-3":"&#xe397;","icon-shit":"&#xe398;","icon-bookmark-5":"&#xe399;","icon-camera-6":"&#xe39a;","icon-lamp":"&#xe39b;","icon-disk-3":"&#xe39c;","icon-button":"&#xe39d;","icon-database-2":"&#xe39e;","icon-credit-card-2":"&#xe39f;","icon-atom":"&#xe3a0;","icon-winsows":"&#xe3a1;","icon-target-5":"&#xe3a2;","icon-battery-3":"&#xe3a3;","icon-code-3":"&#xe3a4;","icon-sunrise":"&#xe3a5;","icon-sun-4":"&#xe3a6;","icon-moon-2":"&#xe3a7;","icon-sun-5":"&#xe3a8;","icon-windy":"&#xe3a9;","icon-wind":"&#xe3aa;","icon-snowflake":"&#xe3ab;","icon-cloudy":"&#xe3ac;","icon-cloud-4":"&#xe3ad;","icon-weather":"&#xe3ae;","icon-weather-2":"&#xe3af;","icon-weather-3":"&#xe3b0;","icon-lines":"&#xe3b1;","icon-cloud-5":"&#xe3b2;","icon-lightning-2":"&#xe3b3;","icon-lightning-3":"&#xe3b4;","icon-rainy":"&#xe3b5;","icon-rainy-2":"&#xe3b6;","icon-windy-2":"&#xe3b7;","icon-windy-3":"&#xe3b8;","icon-snowy":"&#xe3b9;","icon-snowy-2":"&#xe3ba;","icon-snowy-3":"&#xe3bb;","icon-weather-4":"&#xe3bc;","icon-cloudy-2":"&#xe3bd;","icon-cloud-6":"&#xe3be;","icon-lightning-4":"&#xe3bf;","icon-sun-6":"&#xe3c0;","icon-moon-3":"&#xe3c1;","icon-cloudy-3":"&#xe3c2;","icon-cloud-7":"&#xe3c3;","icon-cloud-8":"&#xe3c4;","icon-lightning-5":"&#xe3c5;","icon-rainy-3":"&#xe3c6;","icon-rainy-4":"&#xe3c7;","icon-windy-4":"&#xe3c8;","icon-windy-5":"&#xe3c9;","icon-snowy-4":"&#xe3ca;","icon-snowy-5":"&#xe3cb;","icon-weather-5":"&#xe3cc;","icon-cloudy-4":"&#xe3cd;","icon-lightning-6":"&#xe3ce;","icon-thermometer-2":"&#xe3cf;","icon-compass-5":"&#xe3d0;","icon-none":"&#xe3d1;","icon-Celsius":"&#xe3d2;","icon-Fahrenheit":"&#xe3d3;","icon-chat-3":"&#xe3d4;","icon-chat-alt-stroke":"&#xe3d5;","icon-chat-alt-fill":"&#xe3d6;","icon-comment-alt1-stroke":"&#xe3d7;","icon-comment-alt1-fill":"&#xe3d8;","icon-comment-stroke":"&#xe3d9;","icon-comment-fill":"&#xe3da;","icon-comment-alt2-stroke":"&#xe3db;","icon-comment-alt2-fill":"&#xe3dc;","icon-checkmark-6":"&#xe3dd;","icon-check-alt":"&#xe3de;","icon-x":"&#xe3df;","icon-x-altx-alt":"&#xe3e0;","icon-denied":"&#xe3e1;","icon-cursor":"&#xe3e2;","icon-rss-2":"&#xe3e3;","icon-rss-alt":"&#xe3e4;","icon-wrench-4":"&#xe3e5;","icon-dial":"&#xe3e6;","icon-cog-6":"&#xe3e7;","icon-calendar-6":"&#xe3e8;","icon-calendar-alt-stroke":"&#xe3e9;","icon-calendar-alt-fill":"&#xe3ea;","icon-share-3":"&#xe3eb;","icon-mail-7":"&#xe3ec;","icon-heart-stroke":"&#xe3ed;","icon-heart-fill":"&#xe3ee;","icon-movie":"&#xe3ef;","icon-document-alt-stroke":"&#xe3f0;","icon-document-alt-fill":"&#xe3f1;","icon-document-stroke":"&#xe3f2;","icon-document-fill":"&#xe3f3;","icon-plus-7":"&#xe3f4;","icon-plus-alt":"&#xe3f5;","icon-minus-7":"&#xe3f6;","icon-minus-alt":"&#xe3f7;","icon-pin-2":"&#xe3f8;","icon-link-3":"&#xe3f9;","icon-bolt-3":"&#xe3fa;","icon-move-3":"&#xe3fb;","icon-move-alt1":"&#xe3fc;","icon-move-alt2":"&#xe3fd;","icon-equalizer-2":"&#xe3fe;","icon-award-fill":"&#xe3ff;","icon-award-stroke":"&#xe400;","icon-magnifying-glass":"&#xe401;","icon-trash-stroke":"&#xe402;","icon-trash-fill":"&#xe403;","icon-beaker-alt":"&#xe404;","icon-beaker":"&#xe405;","icon-key-stroke":"&#xe406;","icon-key-fill":"&#xe407;","icon-new-window":"&#xe408;","icon-lightbulb":"&#xe409;","icon-spin-alt":"&#xe40a;","icon-spin":"&#xe40b;","icon-curved-arrow":"&#xe40c;","icon-undo-3":"&#xe40d;","icon-reload":"&#xe40e;","icon-reload-alt":"&#xe40f;","icon-loop-6":"&#xe410;","icon-loop-alt1":"&#xe411;","icon-loop-alt2":"&#xe412;","icon-loop-alt3":"&#xe413;","icon-loop-alt4":"&#xe414;","icon-transfer":"&#xe415;","icon-move-vertical":"&#xe416;","icon-move-vertical-alt1":"&#xe417;","icon-move-vertical-alt2":"&#xe418;","icon-move-horizontal":"&#xe419;","icon-move-horizontal-alt1":"&#xe41a;","icon-move-horizontal-alt2":"&#xe41b;","icon-arrow-left-14":"&#xe41c;","icon-arrow-left-alt1":"&#xe41d;","icon-arrow-left-alt2":"&#xe41e;","icon-arrow-right-13":"&#xe41f;","icon-arrow-right-alt1":"&#xe420;","icon-arrow-right-alt2":"&#xe421;","icon-arrow-up-12":"&#xe422;","icon-arrow-up-alt1":"&#xe423;","icon-arrow-up-alt2":"&#xe424;","icon-arrow-down-13":"&#xe425;","icon-arrow-down-alt1":"&#xe426;","icon-arrow-down-alt2":"&#xe427;","icon-cd-2":"&#xe428;","icon-steering-wheel":"&#xe429;","icon-microphone-3":"&#xe42a;","icon-headphones-3":"&#xe42b;","icon-volume-5":"&#xe42c;","icon-volume-mute-3":"&#xe42d;","icon-play-6":"&#xe42e;","icon-pause-5":"&#xe42f;","icon-stop-5":"&#xe430;","icon-eject-3":"&#xe431;","icon-first-3":"&#xe432;","icon-last-3":"&#xe433;","icon-play-alt":"&#xe434;","icon-fullscreen-exit":"&#xe435;","icon-fullscreen-exit-alt":"&#xe436;","icon-fullscreen":"&#xe437;","icon-fullscreen-alt":"&#xe438;","icon-iphone":"&#xe439;","icon-battery-empty":"&#xe43a;","icon-battery-half":"&#xe43b;","icon-battery-full-2":"&#xe43c;","icon-battery-charging-2":"&#xe43d;","icon-compass-6":"&#xe43e;","icon-box-2":"&#xe43f;","icon-folder-stroke":"&#xe440;","icon-folder-fill":"&#xe441;","icon-at":"&#xe442;","icon-ampersand-2":"&#xe443;","icon-info-7":"&#xe444;","icon-question-mark":"&#xe445;","icon-pilcrow-2":"&#xe446;","icon-hash":"&#xe447;","icon-left-quote":"&#xe448;","icon-right-quote":"&#xe449;","icon-left-quote-alt":"&#xe44a;","icon-right-quote-alt":"&#xe44b;","icon-article":"&#xe44c;","icon-read-more":"&#xe44d;","icon-list-8":"&#xe44e;","icon-list-nested":"&#xe44f;","icon-book-4":"&#xe450;","icon-book-alt":"&#xe451;","icon-book-alt2":"&#xe452;","icon-pen-2":"&#xe453;","icon-pen-alt-stroke":"&#xe454;","icon-pen-alt-fill":"&#xe455;","icon-pen-alt2":"&#xe456;","icon-brush-2":"&#xe457;","icon-brush-alt":"&#xe458;","icon-eyedropper":"&#xe459;","icon-layers-alt":"&#xe45a;","icon-layers":"&#xe45b;","icon-image-3":"&#xe45c;","icon-camera-7":"&#xe45d;","icon-aperture":"&#xe45e;","icon-aperture-alt":"&#xe45f;","icon-chart-3":"&#xe460;","icon-chart-alt":"&#xe461;","icon-bars-5":"&#xe462;","icon-bars-alt":"&#xe463;","icon-eye-6":"&#xe464;","icon-user-8":"&#xe465;","icon-home-6":"&#xe466;","icon-clock-6":"&#xe467;","icon-lock-stroke":"&#xe468;","icon-lock-fill":"&#xe469;","icon-unlock-stroke":"&#xe46a;","icon-unlock-fill":"&#xe46b;","icon-tag-stroke":"&#xe46c;","icon-tag-fill":"&#xe46d;","icon-sun-stroke":"&#xe46e;","icon-sun-fill":"&#xe46f;","icon-moon-stroke":"&#xe470;","icon-moon-fill":"&#xe471;","icon-cloud-9":"&#xe472;","icon-rain":"&#xe473;","icon-umbrella":"&#xe474;","icon-star-9":"&#xe475;","icon-map-pin-stroke":"&#xe476;","icon-map-pin-fill":"&#xe477;","icon-map-pin-alt":"&#xe478;","icon-target-6":"&#xe479;","icon-download-6":"&#xe47a;","icon-upload-6":"&#xe47b;","icon-cloud-download-2":"&#xe47c;","icon-cloud-upload-2":"&#xe47d;","icon-fork":"&#xe47e;","icon-paperclip-3":"&#xe47f;"},e=document.getElementsByTagName("*"),r,n,t,i=0;i<e.length;i+=1)t=e[i],r=t.getAttribute("data-icon"),r&&u(t,r),n=t.className,n=n.match(/icon-[^\s'"]+/),n&&f[n[0]]&&u(t,f[n[0]])};
/*!
 * jQuery Charms Plugin
 * Original author: @aozora
 * Licensed under the MIT license
 */
(function(n,t,i,r){function f(t,i){this.element=t;this.options=n.extend({},e,i);this._defaults=e;this._name=u;this.init()}var u="charms",e={width:"320px",animateDuration:600};f.prototype={init:function(){},showSection:function(t,i){var f=this.options.width,u,e;return i!==r&&(f=i),u=n.support.transition&&n(this.element).hasClass("slide"),u&&(e=n(this.element).eq(0).offsetWidth),n(this.element).addClass("in"),!1},close:function(){return n(this.element).removeClass("in"),!1},toggleSection:function(t,i){n(this.element).hasClass("in")?this.close():this.showSection(t,i)}};n.fn[u]=function(t){var i=arguments;return t===r||typeof t=="object"?this.each(function(){n.data(this,"plugin_"+u)||n.data(this,"plugin_"+u,new f(this,t))}):typeof t=="string"&&t[0]!=="_"&&t!=="init"?this.each(function(){var r=n.data(this,"plugin_"+u);r instanceof f&&typeof r[t]=="function"&&r[t].apply(r,Array.prototype.slice.call(i,1))}):void 0}})(jQuery,window,document),function(n){n("#charms").charms();n(".close-charms").click(function(t){t.preventDefault();n("#charms").charms("close")})}(jQuery);!function(n){"use strict";var t=function(t,i){this.$element=n(t);this.options=i;this.$groups=n(".panorama-sections .panorama-section");this.$current=0;this.init()};t.prototype={init:function(){var t=this,i;if(this.$element.height(this.$element.parent().height()-n("#nav-bar").outerHeight()),t.resize(),this.options.mousewheel&&n(".panorama-sections").mousewheel(function(n,i){i>0?t.prev():t.next()}),this.options.arrangetiles&&n(".panorama-sections .panorama-section").each(function(){}),this.options.parallax&&n("body").addClass("panorama-parallax"),this.options.showscrollbuttons?(i=n(".panorama-sections"),n("#panorama-scroll-prev").click(function(n){n.stopImmediatePropagation();n.preventDefault();t.prev()}),n("#panorama-scroll-next").click(function(n){n.stopImmediatePropagation();n.preventDefault();t.next()})):(n("#panorama-scroll-prev").hide(),n("#panorama-scroll-next").hide()),n(".panorama").swipe({swipe:function(n,i){i=="right"&&t.prev();i=="left"&&t.next()},threshold:0}),t.setButtons(),this.options.keyboard)n(document).on("keyup",function(n){n.which==37&&t.prev();n.which==39&&t.next()})},next:function(){var r=this,i,t;this.$current++;this.$current>=this.$groups.length&&(this.$current=this.$groups.length-1);i=n(".panorama-sections");t=n(this.$groups[this.$current]).position().left;this.options.parallax&&n.support.transition&&n("body").css("background-position",t/2+"px 0px");i.animate({marginLeft:-t},{duration:200,easing:"swing",complete:function(){r.setButtons()}})},prev:function(){var r=this,i,t;this.$current--;this.$current<0&&(this.$current=0);i=n(".panorama-sections");t=n(this.$groups[this.$current]).position().left;this.options.parallax&&n.support.transition&&n("body").css("background-position",t/2+"px 0px");i.animate({marginLeft:-t},{duration:200,easing:"swing",complete:function(){r.setButtons()}})},resize:function(){var t=0;n(".panorama-sections .panorama-section").each(function(i,r){t+=n(r).outerWidth(!0)});n(".panorama-sections").width(t).height(this.$element.parent().height())},setButtons:function(){if(!this.options.showscrollbuttons)return!1;this.$current===0?n("#panorama-scroll-prev").hide():n("#panorama-scroll-prev").show();this.$current===this.$groups.length-1?n("#panorama-scroll-next").hide():n("#panorama-scroll-next").show()}};n.fn.panorama=function(i){return this.each(function(){var u=n(this),r=u.data("panorama"),f=n.extend({},n.fn.panorama.defaults,typeof i=="object"&&i),e=typeof i=="string"?i:f.slide;r?e&&r[e]():u.data("panorama",r=new t(this,f))})};n.fn.panorama.defaults={showscrollbuttons:!0,parallax:!1,keyboard:!0,mousewheel:!0,arrangetiles:!0};n.fn.panorama.Constructor=t}(window.jQuery);!function(n){"use strict";var t=function(t,i){this.$element=n(t);this.options=i;this.options.slide&&this.slide(this.options.slide)};t.prototype={to:function(t){var r=this.$element.find("> .pivot-items > .pivot-item.active").eq(0),i=r.parent().children(),u=i.index(r),f=this;if(!(t>i.length-1)&&!(t<0))return this.sliding?this.$element.one("slid",function(){f.to(t)}):t===u?void 0:this.slide(t>u?"next":"prev",n(i[t]))},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,i){var f=this.$element.find("> .pivot-items > .pivot-item.active").eq(0),r=i||f[t](),e=t=="next"?"left":"right",s=t=="next"?"first":"last",o=this,u;if(this.sliding=!0,r=r.length?r:this.$element.find("> .pivot-items > .pivot-item")[s](),u=n.Event("slide",{relatedTarget:r[0]}),r.hasClass("active")){o.sliding=!1;return}if(n.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(u),u.isDefaultPrevented())return;r.addClass(t);r[0].offsetWidth;f.addClass(e);r.addClass(e);this.$element.one(n.support.transition.end,function(){r.removeClass([t,e].join(" ")).addClass("active");f.removeClass(["active",e].join(" "));o.sliding=!1;setTimeout(function(){o.$element.trigger("slid")},0)})}else{if(this.$element.trigger(u),u.isDefaultPrevented())return;f.removeClass("active");r.addClass("active");this.sliding=!1;this.$element.trigger("slid")}return this}};n.fn.pivot=function(i){return this.each(function(){var u=n(this),r=u.data("pivot"),f=n.extend({},n.fn.pivot.defaults,typeof i=="object"&&i),e=typeof i=="string"?i:f.slide;r||u.data("pivot",r=new t(this,f));typeof i=="number"?r.to(i):e&&r[e]()})};n.fn.pivot.defaults={};n.fn.pivot.Constructor=t;n(document).on("click.pivot.data-api","[data-pivot-index]",function(t){var i=n(this),r,u=n(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),e=n.extend({},u.data(),i.data()),f=parseInt(i.attr("data-pivot-index"),10);n("[data-pivot-index].active").removeClass("active");i.addClass("active");u.pivot(f);t.preventDefault()})}(window.jQuery);
/*! Copyright (c) 2013 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.1.3
 *
 * Requires: 1.2.2+
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n:n(jQuery)})(function(n){function f(i){var u=i||window.event,l=[].slice.call(arguments,1),f=0,e=0,o=0,h=0,c=0,s;return i=n.event.fix(u),i.type="mousewheel",u.wheelDelta&&(f=u.wheelDelta),u.detail&&(f=u.detail*-1),u.deltaY&&(o=u.deltaY*-1,f=o),u.deltaX&&(e=u.deltaX,f=e*-1),u.wheelDeltaY!==undefined&&(o=u.wheelDeltaY),u.wheelDeltaX!==undefined&&(e=u.wheelDeltaX*-1),h=Math.abs(f),(!r||h<r)&&(r=h),c=Math.max(Math.abs(o),Math.abs(e)),(!t||c<t)&&(t=c),s=f>0?"floor":"ceil",f=Math[s](f/r),e=Math[s](e/t),o=Math[s](o/t),l.unshift(i,f,e,o),(n.event.dispatch||n.event.handle).apply(this,l)}var e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r,t,u;if(n.event.fixHooks)for(u=e.length;u;)n.event.fixHooks[e[--u]]=n.event.mouseHooks;n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var n=i.length;n;)this.addEventListener(i[--n],f,!1);else this.onmousewheel=f},teardown:function(){if(this.removeEventListener)for(var n=i.length;n;)this.removeEventListener(i[--n],f,!1);else this.onmousewheel=null}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}),function(n){"use strict";function rt(t){return t&&t.allowPageScroll===undefined&&(t.swipe!==undefined||t.swipeStatus!==undefined)&&(t.allowPageScroll=v),t.click!==undefined&&t.tap===undefined&&(t.tap=t.click),t||(t={}),t=n.extend({},n.fn.swipe.defaults,t),this.each(function(){var r=n(this),i=r.data(h);i||(i=new ut(this,t),r.data(h,i))})}function ut(rt,ut){function wi(t){if(!cu()&&!(n(t.target).closest(ut.excludedElements,ft).length>0)){var u=t.originalEvent?t.originalEvent:t,f,e=r?u.touches[0]:u;if(et=tt,r?ot=u.touches.length:t.preventDefault(),ht=0,ct=null,pt=null,st=0,wt=0,bt=0,at=1,yt=0,lt=au(),vi=yu(),yr(),!r||ot===ut.fingers||ut.fingers===c||ii()?(ir(0,e),yi=dt(),ot==2&&(ir(1,u.touches[1]),wt=bt=rr(lt[0].start,lt[1].start)),(ut.swipeStatus||ut.pinchStatus)&&(f=vt(u,et))):f=!1,f===!1)return et=i,vt(u,et),f;hi(!0)}}function bi(n){var u=n.originalEvent?n.originalEvent:n,o,h,f,e,l;et===t||et===i||pr()||(h=r?u.touches[0]:u,f=wr(h),ei=dt(),r&&(ot=u.touches.length),et=s,ot==2&&(wt==0?(ir(1,u.touches[1]),wt=bt=rr(lt[0].start,lt[1].start)):(wr(u.touches[1]),bt=rr(lt[0].end,lt[1].end),pt=wu(lt[0].end,lt[1].end)),at=pu(wt,bt),yt=Math.abs(wt-bt)),ot===ut.fingers||ut.fingers===c||!r||ii()?(ct=du(f.start,f.end),gr(n,ct),ht=bu(f.start,f.end),st=kr(),vu(ct,ht),(ut.swipeStatus||ut.pinchStatus)&&(o=vt(u,et)),(!ut.triggerOnTouchEnd||ut.triggerOnTouchLeave)&&(e=!0,ut.triggerOnTouchLeave&&(l=gu(this),e=nf(f.end,l)),!ut.triggerOnTouchEnd&&e?et=gi(s):ut.triggerOnTouchLeave&&!e&&(et=gi(t)),(et==i||et==t)&&vt(u,et))):(et=i,vt(u,et)),o===!1&&(et=i,vt(u,et)))}function ki(n){var u=n.originalEvent;if(r&&u.touches.length>0)return hu(),!0;pr()&&(ot=pi);n.preventDefault();ei=dt();st=kr();nr()?(et=i,vt(u,et)):ut.triggerOnTouchEnd||ut.triggerOnTouchEnd==!1&&et===s?(et=t,vt(u,et)):!ut.triggerOnTouchEnd&&ar()?(et=t,ti(u,et,y)):et===s&&(et=i,vt(u,et));hi(!1)}function ni(){ot=0;ei=0;yi=0;wt=0;bt=0;at=1;yr();hi(!1)}function di(n){var i=n.originalEvent;ut.triggerOnTouchLeave&&(et=gi(t),vt(i,et))}function ur(){ft.unbind(ui,wi);ft.unbind(fi,ni);ft.unbind(li,bi);ft.unbind(ai,ki);gt&&ft.unbind(gt,di);hi(!1)}function gi(n){var r=n,f=er(),u=fr(),e=nr();return!f||e?r=i:u&&n==s&&(!ut.triggerOnTouchEnd||ut.triggerOnTouchLeave)?r=t:!u&&n==t&&ut.triggerOnTouchLeave&&(r=i),r}function vt(n,u){var f=undefined;return tu()||hr()?f=ti(n,u,k):(nu()||ii())&&f!==!1&&(f=ti(n,u,d)),ou()&&f!==!1?f=ti(n,u,g):su()&&f!==!1?f=ti(n,u,nt):eu()&&f!==!1&&(f=ti(n,u,y)),u===i&&ni(n),u===t&&(r?n.touches.length==0&&ni(n):ni(n)),f}function ti(r,s,h){var c=undefined;if(h==k){if(ft.trigger("swipeStatus",[s,ct||null,ht||0,st||0,ot]),ut.swipeStatus&&(c=ut.swipeStatus.call(ft,r,s,ct||null,ht||0,st||0,ot),c===!1))return!1;if(s==t&&sr()){if(ft.trigger("swipe",[ct,ht,st,ot]),ut.swipe&&(c=ut.swipe.call(ft,r,ct,ht,st,ot),c===!1))return!1;switch(ct){case u:ft.trigger("swipeLeft",[ct,ht,st,ot]);ut.swipeLeft&&(c=ut.swipeLeft.call(ft,r,ct,ht,st,ot));break;case f:ft.trigger("swipeRight",[ct,ht,st,ot]);ut.swipeRight&&(c=ut.swipeRight.call(ft,r,ct,ht,st,ot));break;case e:ft.trigger("swipeUp",[ct,ht,st,ot]);ut.swipeUp&&(c=ut.swipeUp.call(ft,r,ct,ht,st,ot));break;case o:ft.trigger("swipeDown",[ct,ht,st,ot]);ut.swipeDown&&(c=ut.swipeDown.call(ft,r,ct,ht,st,ot))}}}if(h==d){if(ft.trigger("pinchStatus",[s,pt||null,yt||0,st||0,ot,at]),ut.pinchStatus&&(c=ut.pinchStatus.call(ft,r,s,pt||null,yt||0,st||0,ot,at),c===!1))return!1;if(s==t&&or())switch(pt){case l:ft.trigger("pinchIn",[pt||null,yt||0,st||0,ot,at]);ut.pinchIn&&(c=ut.pinchIn.call(ft,r,pt||null,yt||0,st||0,ot,at));break;case a:ft.trigger("pinchOut",[pt||null,yt||0,st||0,ot,at]);ut.pinchOut&&(c=ut.pinchOut.call(ft,r,pt||null,yt||0,st||0,ot,at))}}return h==y?(s===i||s===t)&&(clearTimeout(si),tr()&&!ru()?(kt=dt(),si=setTimeout(n.proxy(function(){kt=null;ft.trigger("tap",[r.target]);ut.tap&&(c=ut.tap.call(ft,r,r.target))},this),ut.doubleTapThreshold)):(kt=null,ft.trigger("tap",[r.target]),ut.tap&&(c=ut.tap.call(ft,r,r.target)))):h==g?(s===i||s===t)&&(clearTimeout(si),kt=null,ft.trigger("doubletap",[r.target]),ut.doubleTap&&(c=ut.doubleTap.call(ft,r,r.target))):h==nt&&(s===i||s===t)&&(clearTimeout(si),kt=null,ft.trigger("longtap",[r.target]),ut.longTap&&(c=ut.longTap.call(ft,r,r.target))),c}function fr(){var n=!0;return ut.threshold!==null&&(n=ht>=ut.threshold),n}function nr(){var n=!1;return ut.cancelThreshold!==null&&ct!==null&&(n=br(ct)-ht>=ut.cancelThreshold),n}function dr(){return ut.pinchThreshold!==null?yt>=ut.pinchThreshold:!0}function er(){return ut.maxTimeThreshold?st>=ut.maxTimeThreshold?!1:!0:!0}function gr(n,t){if(ut.allowPageScroll===v||ii())n.preventDefault();else{var i=ut.allowPageScroll===b;switch(t){case u:(ut.swipeLeft&&i||!i&&ut.allowPageScroll!=p)&&n.preventDefault();break;case f:(ut.swipeRight&&i||!i&&ut.allowPageScroll!=p)&&n.preventDefault();break;case e:(ut.swipeUp&&i||!i&&ut.allowPageScroll!=w)&&n.preventDefault();break;case o:(ut.swipeDown&&i||!i&&ut.allowPageScroll!=w)&&n.preventDefault()}}}function or(){var n=cr(),t=lr(),i=dr();return n&&t&&i}function ii(){return!!(ut.pinchStatus||ut.pinchIn||ut.pinchOut)}function nu(){return!!(or()&&ii())}function sr(){var n=er(),t=fr(),i=cr(),r=lr(),u=nr();return!u&&r&&i&&t&&n}function hr(){return!!(ut.swipe||ut.swipeStatus||ut.swipeLeft||ut.swipeRight||ut.swipeUp||ut.swipeDown)}function tu(){return!!(sr()&&hr())}function cr(){return ot===ut.fingers||ut.fingers===c||!r}function lr(){return lt[0].end.x!==0}function ar(){return!!ut.tap}function tr(){return!!ut.doubleTap}function iu(){return!!ut.longTap}function vr(){if(kt==null)return!1;var n=dt();return tr()&&n-kt<=ut.doubleTapThreshold}function ru(){return vr()}function uu(){return(ot===1||!r)&&(isNaN(ht)||ht===0)}function fu(){return st>ut.longTapThreshold&&ht<it}function eu(){return!!(uu()&&ar())}function ou(){return!!(vr()&&tr())}function su(){return!!(fu()&&iu())}function hu(){oi=dt();pi=event.touches.length+1}function yr(){oi=0;pi=0}function pr(){var n=!1,t;return oi&&(t=dt()-oi,t<=ut.fingerReleaseThreshold&&(n=!0)),n}function cu(){return!!(ft.data(h+"_intouch")===!0)}function hi(n){n===!0?(ft.bind(li,bi),ft.bind(ai,ki),gt&&ft.bind(gt,di)):(ft.unbind(li,bi,!1),ft.unbind(ai,ki,!1),gt&&ft.unbind(gt,di,!1));ft.data(h+"_intouch",n===!0)}function ir(n,t){var i=t.identifier!==undefined?t.identifier:0;return lt[n].identifier=i,lt[n].start.x=lt[n].end.x=t.pageX||t.clientX,lt[n].start.y=lt[n].end.y=t.pageY||t.clientY,lt[n]}function wr(n){var i=n.identifier!==undefined?n.identifier:0,t=lu(i);return t.end.x=n.pageX||n.clientX,t.end.y=n.pageY||n.clientY,t}function lu(n){for(var t=0;t<lt.length;t++)if(lt[t].identifier==n)return lt[t]}function au(){for(var n=[],t=0;t<=5;t++)n.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return n}function vu(n,t){t=Math.max(t,br(n));vi[n].distance=t}function br(n){return vi[n].distance}function yu(){var n={};return n[u]=ci(u),n[f]=ci(f),n[e]=ci(e),n[o]=ci(o),n}function ci(n){return{direction:n,distance:0}}function kr(){return ei-yi}function rr(n,t){var i=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y);return Math.round(Math.sqrt(i*i+r*r))}function pu(n,t){var i=t/n*1;return i.toFixed(2)}function wu(){return at<1?a:l}function bu(n,t){return Math.round(Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)))}function ku(n,t){var r=n.x-t.x,u=t.y-n.y,f=Math.atan2(u,r),i=Math.round(f*180/Math.PI);return i<0&&(i=360-Math.abs(i)),i}function du(n,t){var i=ku(n,t);return i<=45&&i>=0?u:i<=360&&i>=315?u:i>=135&&i<=225?f:i>45&&i<135?o:e}function dt(){var n=new Date;return n.getTime()}function gu(t){t=n(t);var i=t.offset();return{left:i.left,right:i.left+t.outerWidth(),top:i.top,bottom:i.top+t.outerHeight()}}function nf(n,t){return n.x>t.left&&n.x<t.right&&n.y>t.top&&n.y<t.bottom}var ri=r||!ut.fallbackToMouseEvents,ui=ri?"touchstart":"mousedown",li=ri?"touchmove":"mousemove",ai=ri?"touchend":"mouseup",gt=ri?null:"mouseleave",fi="touchcancel",ht=0,ct=null,st=0,wt=0,bt=0,at=1,yt=0,pt=0,vi=null,ft=n(rt),et="start",ot=0,lt=null,yi=0,ei=0,oi=0,pi=0,kt=0,si=null;try{ft.bind(ui,wi);ft.bind(fi,ni)}catch(tf){n.error("events not supported "+ui+","+fi+" on jQuery.swipe")}this.enable=function(){return ft.bind(ui,wi),ft.bind(fi,ni),ft};this.disable=function(){return ur(),ft};this.destroy=function(){return ur(),ft.data(h,null),ft};this.option=function(t,i){if(ut[t]!==undefined){if(i===undefined)return ut[t];ut[t]=i}else n.error("Option "+t+" does not exist on jQuery.swipe.options")}}var u="left",f="right",e="up",o="down",l="in",a="out",v="none",b="auto",k="swipe",d="pinch",y="tap",g="doubletap",nt="longtap",p="horizontal",w="vertical",c="all",it=10,tt="start",s="move",t="end",i="cancel",r="ontouchstart"in window,h="TouchSwipe";n.fn.swipe=function(t){var r=n(this),i=r.data(h);if(i&&typeof t=="string"){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));n.error("Method "+t+" does not exist on jQuery.swipe")}else if(!i&&(typeof t=="object"||!t))return rt.apply(this,arguments);return r};n.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"};n.fn.swipe.phases={PHASE_START:tt,PHASE_MOVE:s,PHASE_END:t,PHASE_CANCEL:i};n.fn.swipe.directions={LEFT:u,RIGHT:f,UP:e,DOWN:o,IN:l,OUT:a};n.fn.swipe.pageScroll={NONE:v,HORIZONTAL:p,VERTICAL:w,AUTO:b};n.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:c}}(jQuery);
/*! X-editable - v1.5.1 
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
(function(n){"use strict";var t=function(t,i){this.options=n.extend({},n.fn.editableform.defaults,i);this.$div=n(t);this.options.scope||(this.options.scope=this)};t.prototype={constructor:t,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=n(n.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append(n.fn.editableform.buttons);this.options.showbuttons==="bottom"&&t.addClass("editable-buttons-bottom")},render:function(){this.$loading=n(n.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove();this.showLoading();this.isSaving=!1;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);n.when(this.input.render()).then(n.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(n.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(n){n.preventDefault()});else{this.error(!1);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");var t=this.value===null||this.value===undefined||this.value===""?this.options.defaultValue:this.value;this.input.value2input(t);this.$form.submit(n.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var n,t;this.$form?(n=this.$form.outerWidth(),t=this.$form.outerHeight(),n&&this.$loading.width(n),t&&this.$loading.height(t),this.$form.hide()):(n=this.$loading.parent().width(),n&&this.$loading.width(n));this.$loading.show()},showForm:function(n){this.$loading.hide();this.$form.show();n!==!1&&this.input.activate();this.$div.triggerHandler("show")},error:function(t){var u=this.$form.find(".control-group"),f=this.$form.find(".editable-error-block"),i,r;if(t===!1)u.removeClass(n.fn.editableform.errorGroupClass),f.removeClass(n.fn.editableform.errorBlockClass).empty().hide();else{if(t){for(i=(""+t).split("\n"),r=0;r<i.length;r++)i[r]=n("<div>").text(i[r]).html();t=i.join("<br>")}u.addClass(n.fn.editableform.errorGroupClass);f.addClass(n.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){var i,r,u;if(t.stopPropagation(),t.preventDefault(),i=this.input.input2value(),r=this.validate(i),n.type(r)==="object"&&r.newValue!==undefined){if(i=r.newValue,this.input.value2input(i),typeof r.msg=="string"){this.error(r.msg);this.showForm();return}}else if(r){this.error(r);this.showForm();return}if(!this.options.savenochange&&this.input.value2str(i)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}u=this.input.value2submit(i);this.isSaving=!0;n.when(this.save(u)).done(n.proxy(function(n){this.isSaving=!1;var t=typeof this.options.success=="function"?this.options.success.call(this.options.scope,n,i):null;if(t===!1){this.error(!1);this.showForm(!1);return}if(typeof t=="string"){this.error(t);this.showForm();return}t&&typeof t=="object"&&t.hasOwnProperty("newValue")&&(i=t.newValue);this.error(!1);this.value=i;this.$div.triggerHandler("save",{newValue:i,submitValue:u,response:n})},this)).fail(n.proxy(function(n){this.isSaving=!1;var t;t=typeof this.options.error=="function"?this.options.error.call(this.options.scope,n,i):typeof n=="string"?n:n.responseText||n.statusText||"Unknown error!";this.error(t);this.showForm()},this))},save:function(t){this.options.pk=n.fn.editableutils.tryParseJson(this.options.pk,!0);var r=typeof this.options.pk=="function"?this.options.pk.call(this.options.scope):this.options.pk,u=!!(typeof this.options.url=="function"||this.options.url&&(this.options.send==="always"||this.options.send==="auto"&&r!==null&&r!==undefined)),i;if(u)return this.showLoading(),i={name:this.options.name||"",value:t,pk:r},typeof this.options.params=="function"?i=this.options.params.call(this.options.scope,i):(this.options.params=n.fn.editableutils.tryParseJson(this.options.params,!0),n.extend(i,this.options.params)),typeof this.options.url=="function"?this.options.url.call(this.options.scope,i):n.ajax(n.extend({url:this.options.url,data:i,type:"POST"},this.options.ajaxOptions))},validate:function(n){return n===undefined&&(n=this.value),typeof this.options.validate=="function"?this.options.validate.call(this.options.scope,n):void 0},option:function(n,t){n in this.options&&(this.options[n]=t);n==="value"&&this.setValue(t)},setValue:function(n,t){this.value=t?this.input.str2value(n):n;this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}};n.fn.editableform=function(i){var r=arguments;return this.each(function(){var f=n(this),u=f.data("editableform"),e=typeof i=="object"&&i;u||f.data("editableform",u=new t(this,e));typeof i=="string"&&u[i].apply(u,Array.prototype.slice.call(r,1))})};n.fn.editableform.Constructor=t;n.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1};n.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"><\/div><div class="editable-buttons"><\/div><\/div><div class="editable-error-block"><\/div><\/div><\/form>';n.fn.editableform.loading='<div class="editableform-loading"><\/div>';n.fn.editableform.buttons='<button type="submit" class="editable-submit">ok<\/button><button type="button" class="editable-cancel">cancel<\/button>';n.fn.editableform.errorGroupClass=null;n.fn.editableform.errorBlockClass="editable-error";n.fn.editableform.engine="jquery"})(window.jQuery),function(n){"use strict";n.fn.editableutils={inherit:function(n,t){var i=function(){};i.prototype=t.prototype;n.prototype=new i;n.prototype.constructor=n;n.superclass=t.prototype},setCursorPosition:function(n,t){if(n.setSelectionRange)n.setSelectionRange(t,t);else if(n.createTextRange){var i=n.createTextRange();i.collapse(!0);i.moveEnd("character",t);i.moveStart("character",t);i.select()}},tryParseJson:function(n,t){if(typeof n=="string"&&n.length&&n.match(/^[\{\[].*[\}\]]$/))if(t)try{n=new Function("return "+n)()}catch(i){}finally{return n}else n=new Function("return "+n)();return n},sliceObj:function(t,i,r){var u,o,f={},e;if(!n.isArray(i)||!i.length)return f;for(e=0;e<i.length;e++)(u=i[e],t.hasOwnProperty(u)&&(f[u]=t[u]),r!==!0)&&(o=u.toLowerCase(),t.hasOwnProperty(o)&&(f[u]=t[o]));return f},getConfigData:function(t){var i={};return n.each(t.data(),function(n,t){(typeof t!="object"||t&&typeof t=="object"&&(t.constructor===Object||t.constructor===Array))&&(i[n]=t)}),i},objectKeys:function(n){if(Object.keys)return Object.keys(n);if(n!==Object(n))throw new TypeError("Object.keys called on a non-object");var t=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(i);return t},escape:function(t){return n("<div>").text(t).html()},itemsByValue:function(t,i,r){var f;if(!i||t===null)return[];typeof r!="function"&&(f=r||"value",r=function(n){return n[f]});var e=n.isArray(t),u=[],o=this;return n.each(i,function(i,f){if(f.children)u=u.concat(o.itemsByValue(t,f.children,r));else if(e)n.grep(t,function(n){return n==(f&&typeof f=="object"?r(f):f)}).length&&u.push(f);else{var s=f&&typeof f=="object"?r(f):f;t==s&&u.push(f)}}),u},createInput:function(t){var r,u,i=t.type;return i==="date"&&(t.mode==="inline"?n.fn.editabletypes.datefield?i="datefield":n.fn.editabletypes.dateuifield&&(i="dateuifield"):n.fn.editabletypes.date?i="date":n.fn.editabletypes.dateui&&(i="dateui"),i!=="date"||n.fn.editabletypes.date||(i="combodate")),i==="datetime"&&t.mode==="inline"&&(i="datetimefield"),i!=="wysihtml5"||n.fn.editabletypes[i]||(i="textarea"),typeof n.fn.editabletypes[i]=="function"?(r=n.fn.editabletypes[i],u=this.sliceObj(t,this.objectKeys(r.defaults)),new r(u)):(n.error("Unknown type: "+i),!1)},supportsTransitions:function(){var u=document.body||document.documentElement,i=u.style,n="transition",r=["Moz","Webkit","Khtml","O","ms"],t;if(typeof i[n]=="string")return!0;for(n=n.charAt(0).toUpperCase()+n.substr(1),t=0;t<r.length;t++)if(typeof i[r[t]+n]=="string")return!0;return!1}}}(window.jQuery),function(n){"use strict";var t=function(n,t){this.init(n,t)},i=function(n,t){this.init(n,t)};t.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,r){this.$element=n(i);this.options=n.extend({},n.fn.editableContainer.defaults,r);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=!1;this.$element.on("destroyed",n.proxy(function(){this.destroy()},this));if(!n(document).data("editable-handlers-attached")){n(document).on("keyup.editable",function(t){t.which===27&&n(".editable-open").editableContainer("hide")});n(document).on("click.editable",function(i){var u=n(i.target),r,f=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(n.contains(document.documentElement,i.target)&&!u.is(document)){for(r=0;r<f.length;r++)if(u.is(f[r])||u.parents(f[r]).length)return;t.prototype.closeOthers(i.target)}});n(document).data("editable-handlers-attached",!0)}},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!n.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var t in this.options)t in this.defaults?this.containerOptions[t]=this.options[t]:this.formOptions[t]=this.options[t]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var n;return this.containerDataName&&(n=this.$element.data(this.containerDataName))?n:this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:n.proxy(this.save,this),nochange:n.proxy(function(){this.hide("nochange")},this),cancel:n.proxy(function(){this.hide("cancel")},this),show:n.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:n.proxy(this.setPosition,this),resize:n.proxy(this.setPosition,this),rendered:n.proxy(function(){this.$element.triggerHandler("shown",n(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open");t!==!1&&this.closeOthers(this.$element[0]);this.innerShow();this.tip().addClass(this.containerClass);this.$form;this.$form=n("<div>");this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form);this.renderForm()},hide:function(n){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving){this.delayedHide={reason:n};return}this.delayedHide=!1;this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",n||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(n){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(n)},setPosition:function(){},save:function(n,t){this.$element.triggerHandler("save",t);this.hide("save")},option:function(n,t){this.options[n]=t;n in this.containerOptions?(this.containerOptions[n]=t,this.setContainerOption(n,t)):(this.formOptions[n]=t,this.$form&&this.$form.editableform("option",n,t))},setContainerOption:function(n,t){this.call("option",n,t)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(t){n(".editable-open").each(function(i,r){if(r!==t&&!n(r).find(t).length){var u=n(r),f=u.data("editableContainer");f&&(f.options.onblur==="cancel"?u.data("editableContainer").hide("onblur"):f.options.onblur==="submit"&&u.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}};n.fn.editableContainer=function(r){var u=arguments;return this.each(function(){var e=n(this),o="editableContainer",f=e.data(o),s=typeof r=="object"&&r,h=s.mode==="inline"?i:t;f||e.data(o,f=new h(this,s));typeof r=="string"&&f[r].apply(f,Array.prototype.slice.call(u,1))})};n.fn.editableContainer.Popup=t;n.fn.editableContainer.Inline=i;n.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"};jQuery.event.special.destroyed={remove:function(n){n.handler&&n.handler()}}}(window.jQuery),function(n){"use strict";n.extend(n.fn.editableContainer.Inline.prototype,n.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=n("<span><\/span>");this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,n.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(n){"use strict";var t=function(t,i){this.$element=n(t);this.options=n.extend({},n.fn.editable.defaults,i,n.fn.editableutils.getConfigData(this.$element));this.options.selector?this.initLive():this.init();this.options.highlight&&!n.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};t.prototype={constructor:t,init:function(){var i=!1,t;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=n.fn.editableutils.createInput(this.options),this.input){if(this.options.value===undefined||this.options.value===null?(this.value=this.input.html2value(n.trim(this.$element.html())),i=!0):(this.options.value=n.fn.editableutils.tryParseJson(this.options.value,!0),this.value=typeof this.options.value=="string"?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),this.input.type==="textarea"&&this.$element.addClass("editable-pre-wrapped"),this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",n.proxy(function(n){if(this.options.disabled||n.preventDefault(),this.options.toggle==="mouseenter")this.show();else{var t=this.options.toggle!=="click";this.toggle(t)}},this))}else this.$element.attr("tabindex",-1);typeof this.options.display=="function"&&(this.options.autotext="always");switch(this.options.autotext){case"always":t=!0;break;case"auto":t=!n.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!i;break;default:t=!1}n.when(t?this.render():!0).then(n.proxy(function(){this.options.disabled?this.disable():this.enable();this.$element.triggerHandler("init",this)},this))}},initLive:function(){var t=this.options.selector;this.options.selector=!1;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",t,n.proxy(function(t){var i=n(t.target);i.data("editable")||(i.hasClass(this.options.emptyclass)&&i.empty(),i.editable(this.options).trigger(t))},this))},render:function(n){if(this.options.display!==!1)return this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,n):typeof this.options.display=="function"?this.options.display.call(this.$element[0],this.value,n):this.input.value2html(this.value,this.$element[0])},enable:function(){this.options.disabled=!1;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);this.options.toggle!=="manual"&&this.$element.attr("tabindex")==="-1"&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(t,i){if(t&&typeof t=="object"){n.each(t,n.proxy(function(t,i){this.option(n.trim(t),i)},this));return}if(this.options[t]=i,t==="disabled")return i?this.disable():this.enable();t==="value"&&this.setValue(i);this.container&&this.container.option(t,i);this.input.option&&this.input.option(t,i)},handleEmpty:function(t){this.options.display!==!1&&(this.isEmpty=t!==undefined?t:typeof this.input.isEmpty=="function"?this.input.isEmpty(this.$element):n.trim(this.$element.html())==="",this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(t){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var i=n.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i);this.$element.on("save.internal",n.proxy(this.save,this));this.container=this.$element.data("editableContainer")}this.container.show(t)}},hide:function(){this.container&&this.container.hide()},toggle:function(n){this.container&&this.container.tip().is(":visible")?this.hide():this.show(n)},save:function(n,t){var i,r,u;this.options.unsavedclass&&(i=!1,i=i||typeof this.options.url=="function",i=i||this.options.display===!1,i=i||t.response!==undefined,i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(t.newValue),i?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass));this.options.highlight&&(r=this.$element,u=r.css("background-color"),r.css("background-color",this.options.highlight),setTimeout(function(){u==="transparent"&&(u="");r.css("background-color",u);r.addClass("editable-bg-transition");setTimeout(function(){r.removeClass("editable-bg-transition")},1700)},10));this.setValue(t.newValue,!1,t.response)},validate:function(){if(typeof this.options.validate=="function")return this.options.validate.call(this,this.value)},setValue:function(t,i,r){this.value=i?this.input.str2value(t):t;this.container&&this.container.option("value",this.value);n.when(this.render(r)).then(n.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable();this.container&&this.container.destroy();this.input.destroy();this.options.toggle!=="manual"&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable"));this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};n.fn.editable=function(i){var e={},a=arguments,o="editable",f,r,h,l;switch(i){case"validate":return this.each(function(){var r=n(this),t=r.data(o),i;t&&(i=t.validate())&&(e[t.options.name]=i)}),e;case"getValue":return arguments.length===2&&arguments[1]===!0?e=this.eq(0).data(o).value:this.each(function(){var i=n(this),t=i.data(o);t&&t.value!==undefined&&t.value!==null&&(e[t.options.name]=t.input.value2submit(t.value))}),e;case"submit":var u=arguments[1]||{},s=this,c=this.editable("validate");return n.isEmptyObject(c)?(f={},s.length===1?(r=s.data("editable"),h={name:r.options.name||"",value:r.input.value2submit(r.value),pk:typeof r.options.pk=="function"?r.options.pk.call(r.options.scope):r.options.pk},typeof r.options.params=="function"?h=r.options.params.call(r.options.scope,h):(r.options.params=n.fn.editableutils.tryParseJson(r.options.params,!0),n.extend(h,r.options.params)),f={url:r.options.url,data:h,type:"POST"},u.success=u.success||r.options.success,u.error=u.error||r.options.error):(l=this.editable("getValue"),f={url:u.url,data:l,type:"POST"}),f.success=typeof u.success=="function"?function(n){u.success.call(s,n,u)}:n.noop,f.error=typeof u.error=="function"?function(){u.error.apply(s,arguments)}:n.noop,u.ajaxOptions&&n.extend(f,u.ajaxOptions),u.data&&n.extend(f.data,u.data),n.ajax(f)):typeof u.error=="function"&&u.error.call(s,c),this}return this.each(function(){var f=n(this),r=f.data(o),u=typeof i=="object"&&i;if(u&&u.selector){r=new t(this,u);return}r||f.data(o,r=new t(this,u));typeof i=="string"&&r[i].apply(r,Array.prototype.slice.call(a,1))})};n.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(n){"use strict";n.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,i,r){this.type=t;this.options=n.extend({},r,i)},prerender:function(){this.$tpl=n(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(t,i){n(i)[this.options.escape?"text":"html"](n.trim(t))},html2value:function(t){return n("<div>").html(t).text()},value2str:function(n){return n},str2value:function(n){return n},value2submit:function(n){return n},value2input:function(n){this.$input.val(n)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(t){return n("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(n){this.options[n]!==undefined&&this.options[n]!==null&&this.$input.attr(n,this.options[n])},option:function(n,t){this.options[n]=t}};t.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0};n.extend(n.fn.editabletypes,{abstractinput:t})}(window.jQuery),function(n){"use strict";var t=function(){};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){var t=n.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();t.resolve()},function(){this.error=this.options.sourceError;t.resolve()});return t.promise()},html2value:function(){return null},value2html:function(t,i,r,u){var f=n.Deferred(),e=function(){typeof r=="function"?r.call(i,t,this.sourceData,u):this.value2htmlFinal(t,i);f.resolve()};if(t===null)e.call(this);else this.onSourceReady(e,function(){f.resolve()});return f.promise()},onSourceReady:function(t,i){var u,f,r,e;if(n.isFunction(this.options.source)?(u=this.options.source.call(this.options.scope),this.sourceData=null):u=this.options.source,this.options.sourceCache&&n.isArray(this.sourceData)){t.call(this);return}try{u=n.fn.editableutils.tryParseJson(u,!1)}catch(o){i.call(this);return}if(typeof u=="string"){if(this.options.sourceCache){if(f=u,n(document).data(f)||n(document).data(f,{}),r=n(document).data(f),r.loading===!1&&r.sourceData){this.sourceData=r.sourceData;this.doPrepend();t.call(this);return}if(r.loading===!0){r.callbacks.push(n.proxy(function(){this.sourceData=r.sourceData;this.doPrepend();t.call(this)},this));r.err_callbacks.push(n.proxy(i,this));return}r.loading=!0;r.callbacks=[];r.err_callbacks=[]}e=n.extend({url:u,type:"get",cache:!1,dataType:"json",success:n.proxy(function(u){r&&(r.loading=!1);this.sourceData=this.makeArray(u);n.isArray(this.sourceData)?(r&&(r.sourceData=this.sourceData,n.each(r.callbacks,function(){this.call()})),this.doPrepend(),t.call(this)):(i.call(this),r&&n.each(r.err_callbacks,function(){this.call()}))},this),error:n.proxy(function(){i.call(this);r&&(r.loading=!1,n.each(r.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);n.ajax(e)}else this.sourceData=this.makeArray(u),n.isArray(this.sourceData)?(this.doPrepend(),t.call(this)):i.call(this)},doPrepend:function(){this.options.prepend!==null&&this.options.prepend!==undefined&&(n.isArray(this.prependData)||(n.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=n.fn.editableutils.tryParseJson(this.options.prepend,!0),typeof this.options.prepend=="string"&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),n.isArray(this.prependData)&&n.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(t){var u,e,r=[],i,o,f;if(!t||typeof t=="string")return null;if(n.isArray(t))for(o=function(n,t){return e={value:n,text:t},u++>=2?!1:void 0},f=0;f<t.length;f++)i=t[f],typeof i=="object"?(u=0,n.each(i,o),u===1?r.push(e):u>1&&(i.children&&(i.children=this.makeArray(i.children)),r.push(i))):r.push({value:i,text:i});else n.each(t,function(n,t){r.push({value:n,text:t})});return r},option:function(n,t){this.options[n]=t;n==="source"&&(this.sourceData=null);n==="prepend"&&(this.prependData=null)}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null});n.fn.editabletypes.list=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("text",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),n.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=n('<span class="editable-clear-x"><\/span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(n.proxy(function(t){if(!~n.inArray(t.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(t)},100)}},this)).parent().css("position","relative"),this.$clear.click(n.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var n=this.$input.val().length,t=this.$clear.is(":visible");n&&!t&&this.$clear.show();!n&&t&&this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0});n.fn.editabletypes.text=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("textarea",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(t){t.ctrlKey&&t.which===13&&n(this).closest("form").submit()})},activate:function(){n.fn.editabletypes.text.prototype.activate.call(this)}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea><\/textarea>",inputclass:"input-large",placeholder:null,rows:7});n.fn.editabletypes.textarea=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("select",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.list);n.extend(t.prototype,{renderList:function(){this.$input.empty();var t=function(i,r){var f,u;if(n.isArray(r))for(u=0;u<r.length;u++)f={},r[u].children?(f.label=r[u].text,i.append(t(n("<optgroup>",f),r[u].children))):(f.value=r[u].value,r[u].disabled&&(f.disabled=!0),i.append(n("<option>",f).text(r[u].text)));return i};t(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(t){t.which===13&&n(this).closest("form").submit()})},value2htmlFinal:function(t,i){var r="",u=n.fn.editableutils.itemsByValue(t,this.sourceData);u.length&&(r=u[0].text);n.fn.editabletypes.abstractinput.prototype.value2html.call(this,r,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){n(this).closest("form").submit()})}});t.defaults=n.extend({},n.fn.editabletypes.list.defaults,{tpl:"<select><\/select>"});n.fn.editabletypes.select=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("checklist",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.list);n.extend(t.prototype,{renderList:function(){var i,t;if(this.$tpl.empty(),n.isArray(this.sourceData)){for(t=0;t<this.sourceData.length;t++)i=n("<label>").append(n("<input>",{type:"checkbox",value:this.sourceData[t].value})).append(n("<span>").text(" "+this.sourceData[t].text)),n("<div>").append(i).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()}},value2str:function(t){return n.isArray(t)?t.sort().join(n.trim(this.options.separator)):""},str2value:function(t){var r,i=null;return typeof t=="string"&&t.length?(r=new RegExp("\\s*"+n.trim(this.options.separator)+"\\s*"),i=t.split(r)):i=n.isArray(t)?t:[t],i},value2input:function(t){this.$input.prop("checked",!1);n.isArray(t)&&t.length&&this.$input.each(function(i,r){var u=n(r);n.each(t,function(n,t){u.val()==t&&u.prop("checked",!0)})})},input2value:function(){var t=[];return this.$input.filter(":checked").each(function(i,r){t.push(n(r).val())}),t},value2htmlFinal:function(t,i){var r=[],u=n.fn.editableutils.itemsByValue(t,this.sourceData),f=this.options.escape;u.length?(n.each(u,function(t,i){var u=f?n.fn.editableutils.escape(i.text):i.text;r.push(u)}),n(i).html(r.join("<br>"))):n(i).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){t.which===13&&n(this).closest("form").submit()})}});t.defaults=n.extend({},n.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"><\/div>',inputclass:null,separator:","});n.fn.editabletypes.checklist=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("password",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);n.extend(t.prototype,{value2html:function(t,i){t?n(i).text("[hidden]"):n(i).empty()},html2value:function(){return null}});t.defaults=n.extend({},n.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});n.fn.editabletypes.password=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("email",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);t.defaults=n.extend({},n.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});n.fn.editabletypes.email=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("url",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);t.defaults=n.extend({},n.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});n.fn.editabletypes.url=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("tel",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);t.defaults=n.extend({},n.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});n.fn.editabletypes.tel=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("number",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);n.extend(t.prototype,{render:function(){t.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}});t.defaults=n.extend({},n.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});n.fn.editabletypes.number=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("range",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.number);n.extend(t.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){n(this).siblings("output").text(n(this).val())})},activate:function(){this.$input.focus()}});t.defaults=n.extend({},n.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"><\/output>',inputclass:"input-medium"});n.fn.editabletypes.range=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("time",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){this.setClass()}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});n.fn.editabletypes.time=t}(window.jQuery),function(n){"use strict";var t=function(i){var r,u;this.init("select2",i,t.defaults);i.select2=i.select2||{};this.sourceData=null;i.placeholder&&(i.select2.placeholder=i.placeholder);!i.select2.tags&&i.source&&(r=i.source,n.isFunction(i.source)&&(r=i.source.call(i.scope)),typeof r=="string"?(i.select2.ajax=i.select2.ajax||{},i.select2.ajax.data||(i.select2.ajax.data=function(n){return{query:n}}),i.select2.ajax.results||(i.select2.ajax.results=function(n){return{results:n}}),i.select2.ajax.url=r):(this.sourceData=this.convertSource(r),i.select2.data=this.sourceData));this.options.select2=n.extend({},t.defaults.select2,i.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote="ajax"in this.options.select2;this.idFunc=this.options.select2.id;typeof this.idFunc!="function"&&(u=this.idFunc||"id",this.idFunc=function(n){return n[u]});this.formatSelection=this.options.select2.formatSelection;typeof this.formatSelection!="function"&&(this.formatSelection=function(n){return n.text})};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){if(this.setClass(),this.isRemote)this.$input.on("select2-loaded",n.proxy(function(n){this.sourceData=n.items.results},this));if(this.isMultiple)this.$input.on("change",function(){n(this).closest("form").parent().triggerHandler("resize")})},value2html:function(i,r){var u="",f,e=this;this.options.select2.tags?f=i:this.sourceData&&(f=n.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc));n.isArray(f)?(u=[],n.each(f,function(n,t){u.push(t&&typeof t=="object"?e.formatSelection(t):t)})):f&&(u=e.formatSelection(f));u=n.isArray(u)?u.join(this.options.viewseparator):u;t.superclass.value2html.call(this,u,r)},html2value:function(n){return this.options.select2.tags?this.str2value(n,this.options.viewseparator):null},value2input:function(t){var r,u,i,f;n.isArray(t)&&(t=t.join(this.getSeparator()));this.$input.data("select2")?this.$input.val(t).trigger("change",!0):(this.$input.val(t),this.$input.select2(this.options.select2));!this.isRemote||this.isMultiple||this.options.select2.initSelection||(r=this.options.select2.id,u=this.options.select2.formatSelection,r||u||(i=n(this.options.scope),i.data("editable").isEmpty||(f={id:t,text:i.text()},this.$input.select2("data",f))))},input2value:function(){return this.$input.select2("val")},str2value:function(t,i){if(typeof t!="string"||!this.isMultiple)return t;i=i||this.getSeparator();var u,r,f;if(t===null||t.length<1)return null;for(u=t.split(i),r=0,f=u.length;r<f;r=r+1)u[r]=n.trim(u[r]);return u},autosubmit:function(){this.$input.on("change",function(t,i){i||n(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||n.fn.select2.defaults.separator},convertSource:function(t){if(n.isArray(t)&&t.length&&t[0].value!==undefined)for(var i=0;i<t.length;i++)t[i].value!==undefined&&(t[i].id=t[i].value,delete t[i].value);return t},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});n.fn.editabletypes.select2=t}(window.jQuery),function(n){var t=function(t,i){if(this.$element=n(t),!this.$element.is("input")){n.error("Combodate should be applied to INPUT element");return}this.options=n.extend({},n.fn.combodate.defaults,i,this.$element.data());this.init()};t.prototype={constructor:t,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=n('<span class="combodate"><\/span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",n.proxy(function(t){this.$element.val(this.getValue()).change();this.options.smartDays&&(n(t.target).is(".month")||n(t.target).is(".year"))&&this.fillCombo("day")},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var t=this.options.template;return n.each(this.map,function(n,i){i=i[0];var r=new RegExp(i+"+"),u=i.length>1?i.substring(1,2):i;t=t.replace(r,"{"+u+"}")}),t=t.replace(/ /g,"&nbsp;"),n.each(this.map,function(n,i){i=i[0];var r=i.length>1?i.substring(1,2):i;t=t.replace("{"+r+"}",'<select class="'+n+'"><\/select>')}),t},initCombos:function(){var n,t;for(n in this.map)t=this.$widget.find("."+n),this["$"+n]=t.length?t:null,this.fillCombo(n)},fillCombo:function(n){var t=this["$"+n],i;if(t){var u="fill"+n.charAt(0).toUpperCase()+n.slice(1),r=this[u](),f=t.val();for(t.empty(),i=0;i<r.length;i++)t.append('<option value="'+r[i][0]+'">'+r[i][1]+"<\/option>");t.val(f)}},fillCommon:function(n){var r=[],t,i;return this.options.firstItem==="name"?(t=moment.relativeTime||moment.langData()._relativeTime,i=typeof t[n]=="function"?t[n](1,!0,n,!1):t[n],i=i.split(" ").reverse()[0],r.push(["",i])):this.options.firstItem==="empty"&&r.push(["",""]),r},fillDay:function(){var r=this.fillCommon("d"),u,n,e=this.options.template.indexOf("DD")!==-1,f=31,t,i;for(this.options.smartDays&&this.$month&&this.$year&&(t=parseInt(this.$month.val(),10),i=parseInt(this.$year.val(),10),isNaN(t)||isNaN(i)||(f=moment([i,t]).daysInMonth())),n=1;n<=f;n++)u=e?this.leadZero(n):n,r.push([n,u]);return r},fillMonth:function(){for(var t=this.fillCommon("M"),i,r=this.options.template.indexOf("MMMM")!==-1,u=this.options.template.indexOf("MMM")!==-1,f=this.options.template.indexOf("MM")!==-1,n=0;n<=11;n++)i=r?moment().date(1).month(n).format("MMMM"):u?moment().date(1).month(n).format("MMM"):f?this.leadZero(n+1):n+1,t.push([n,i]);return t},fillYear:function(){for(var t=[],i,r=this.options.template.indexOf("YYYY")!==-1,n=this.options.maxYear;n>=this.options.minYear;n--)i=r?n:(n+"").substring(2),t[this.options.yearDescending?"push":"unshift"]([n,i]);return this.fillCommon("y").concat(t)},fillHour:function(){for(var t=this.fillCommon("h"),i,r=this.options.template.indexOf("h")!==-1,o=this.options.template.indexOf("H")!==-1,u=this.options.template.toLowerCase().indexOf("hh")!==-1,f=r?1:0,e=r?12:23,n=f;n<=e;n++)i=u?this.leadZero(n):n,t.push([n,i]);return t},fillMinute:function(){for(var t=this.fillCommon("m"),i,r=this.options.template.indexOf("mm")!==-1,n=0;n<=59;n+=this.options.minuteStep)i=r?this.leadZero(n):n,t.push([n,i]);return t},fillSecond:function(){for(var t=this.fillCommon("s"),i,r=this.options.template.indexOf("ss")!==-1,n=0;n<=59;n+=this.options.secondStep)i=r?this.leadZero(n):n,t.push([n,i]);return t},fillAmpm:function(){var n=this.options.template.indexOf("a")!==-1,t=this.options.template.indexOf("A")!==-1;return[["am",n?"am":"AM"],["pm",n?"pm":"PM"]]},getValue:function(t){var r,i={},u=this,f=!1;return(n.each(this.map,function(n){if(n!=="ampm"){var t=n==="day"?1:0;return i[n]=u["$"+n]?parseInt(u["$"+n].val(),10):t,isNaN(i[n])?(f=!0,!1):void 0}}),f)?"":(this.$ampm&&(i.hour=i.hour===12?this.$ampm.val()==="am"?0:12:this.$ampm.val()==="am"?i.hour:i.hour+12),r=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(r),t=t===undefined?this.options.format:t,t===null?r.isValid()?r:null:r.isValid()?r.format(t):"")},setValue:function(t){function f(t,i){var r={};return t.children("option").each(function(t,u){var f=n(u).attr("value"),e;f!==""&&(e=Math.abs(f-i),(typeof r.distance=="undefined"||e<r.distance)&&(r={value:f,distance:e}))}),r.value}if(t){var u=typeof t=="string"?moment(t,this.options.format):moment(t),r=this,i={};u.isValid()&&(n.each(this.map,function(n,t){n!=="ampm"&&(i[n]=u[t[1]]())}),this.$ampm&&(i.hour>=12?(i.ampm="pm",i.hour>12&&(i.hour-=12)):(i.ampm="am",i.hour===0&&(i.hour=12))),n.each(i,function(n,t){r["$"+n]&&(n==="minute"&&r.options.minuteStep>1&&r.options.roundTime&&(t=f(r["$"+n],t)),n==="second"&&r.options.secondStep>1&&r.options.roundTime&&(t=f(r["$"+n],t)),r["$"+n].val(t))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(u.format(this.options.format)).change())}},highlight:function(n){n.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(n){return n<=9?"0"+n:n},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};n.fn.combodate=function(i){var r,u=Array.apply(null,arguments);return(u.shift(),i==="getValue"&&this.length&&(r=this.eq(0).data("combodate")))?r.getValue.apply(r,u):this.each(function(){var f=n(this),r=f.data("combodate"),e=typeof i=="object"&&i;r||f.data("combodate",r=new t(this,e));typeof i=="string"&&typeof r[i]=="function"&&r[i].apply(r,u)})};n.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(n){"use strict";var t=function(i){this.init("combodate",i,t.defaults);this.options.viewformat||(this.options.viewformat=this.options.format);i.combodate=n.fn.editableutils.tryParseJson(i.combodate,!0);this.options.combodate=n.extend({},t.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){this.$input.combodate(this.options.combodate);n.fn.editableform.engine==="bs3"&&this.$input.siblings().find("select").addClass("form-control");this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(n,i){var r=n?n.format(this.options.viewformat):"";t.superclass.value2html.call(this,r,i)},html2value:function(n){return n?moment(n,this.options.viewformat):null},value2str:function(n){return n?n.format(this.options.format):""},str2value:function(n){return n?moment(n,this.options.format):null},value2submit:function(n){return this.value2str(n)},value2input:function(n){this.$input.combodate("setValue",n)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});n.fn.editabletypes.combodate=t}(window.jQuery),function(n){"use strict";var t=n.fn.editableform.Constructor.prototype.initInput;n.extend(n.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=n(n.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){var e,u,i;t.apply(this);var f=this.input.options.inputclass===null||this.input.options.inputclass===!1,r="input-sm",o="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");for(~n.inArray(this.input.type,o)&&(this.input.$input.addClass("form-control"),f&&(this.input.options.inputclass=r,this.input.$input.addClass(r))),e=this.$form.find(".editable-buttons"),u=f?[r]:this.input.options.inputclass.split(" "),i=0;i<u.length;i++)u[i].toLowerCase()==="input-lg"&&e.find("button").removeClass("btn-sm").addClass("btn-lg")}});n.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"><\/i><\/button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"><\/i><\/button>';n.fn.editableform.errorGroupClass="has-error";n.fn.editableform.errorBlockClass=null;n.fn.editableform.engine="bs3"}(window.jQuery),function(n){"use strict";n.extend(n.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:n.fn.popover.Constructor.DEFAULTS,initContainer:function(){n.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var t;this.$element.data("template")&&(t=this.$element.data("template"),this.$element.removeData("template"));this.call(this.containerOptions);t&&this.$element.data("template",t)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(n,t){this.container().options[n]=t},setPosition:function(){(function(){var i=this.tip(),n=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,o=e.test(n),h;o&&(n=n.replace(e,"")||"top");var t=this.getPosition(),r=i[0].offsetWidth,u=i[0].offsetHeight;if(o){var f=this.$element.parent(),c=n,s=document.documentElement.scrollTop||document.body.scrollTop,l=this.options.container=="body"?window.innerWidth:f.outerWidth(),a=this.options.container=="body"?window.innerHeight:f.outerHeight(),v=this.options.container=="body"?0:f.offset().left;n=n=="bottom"&&t.top+t.height+u-s>a?"top":n=="top"&&t.top-s-u<0?"bottom":n=="right"&&t.right+r>l?"left":n=="left"&&t.left-r<v?"right":n;i.removeClass(c).addClass(n)}h=this.getCalculatedOffset(n,t,r,u);this.applyPlacement(h,n)}).call(this.container())}})}(window.jQuery),function(n){function r(){return new Date(Date.UTC.apply(Date,arguments))}function s(t,i){var u=n(t).data(),f={},e,o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var r in u)i.test(r)&&(e=r.replace(o,function(n,t){return t.toLowerCase()}),f[e]=u[r]);return f}function h(t){var u={},r;if(i[t]||(t=t.split("-")[0],i[t]))return r=i[t],n.each(l,function(n,t){t in r&&(u[t]=r[t])}),u}var u=function(i,r){var u=this;this._process_options(r);this.element=n(i);this.isInline=!1;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1;this.hasInput=this.component&&this.element.find("input").length;this.component&&this.component.length===0&&(this.component=!1);this.picker=n(t.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right"));this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},f,i,t;u.prototype={constructor:u,_process_options:function(r){var u,f,o;this._o=n.extend({},this._o,r);u=this.o=n.extend({},this._o);f=u.language;i[f]||(f=f.split("-")[0],i[f]||(f=e.language));u.language=f;switch(u.startView){case 2:case"decade":u.startView=2;break;case 1:case"year":u.startView=1;break;default:u.startView=0}switch(u.minViewMode){case 1:case"months":u.minViewMode=1;break;case 2:case"years":u.minViewMode=2;break;default:u.minViewMode=0}u.startView=Math.max(u.startView,u.minViewMode);u.weekStart%=7;u.weekEnd=(u.weekStart+6)%7;o=t.parseFormat(u.format);u.startDate!==-Infinity&&(u.startDate=t.parseDate(u.startDate,o,u.language));u.endDate!==Infinity&&(u.endDate=t.parseDate(u.endDate,o,u.language));u.daysOfWeekDisabled=u.daysOfWeekDisabled||[];n.isArray(u.daysOfWeekDisabled)||(u.daysOfWeekDisabled=u.daysOfWeekDisabled.split(/[,\s]*/));u.daysOfWeekDisabled=n.map(u.daysOfWeekDisabled,function(n){return parseInt(n,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var t=0,i,r;t<n.length;t++){i=n[t][0];r=n[t][1];i.on(r)}},_unapplyEvents:function(n){for(var t=0,i,r;t<n.length;t++)i=n[t][0],r=n[t][1],i.off(r)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:n.proxy(this.show,this),keyup:n.proxy(this.update,this),keydown:n.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:n.proxy(this.show,this),keyup:n.proxy(this.update,this),keydown:n.proxy(this.keydown,this)}],[this.component,{click:n.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:n.proxy(this.show,this)}]];this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{mousedown:n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).size()||this.picker.is(n.target)||this.picker.find(n.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(i,r){var u=r||this.date,f=new Date(u.getTime()+u.getTimezoneOffset()*6e4);this.element.trigger({type:i,date:f,format:n.proxy(function(n){var i=n||this.o.format;return t.formatDate(u,i,this.o.language)},this)})},show:function(n){this.isInline||this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();n&&n.preventDefault();this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date},getDate:function(){var n=this.getUTCDate();return new Date(n.getTime()+n.getTimezoneOffset()*6e4)},getUTCDate:function(){return this.date},setDate:function(n){this.setUTCDate(new Date(n.getTime()-n.getTimezoneOffset()*6e4))},setUTCDate:function(n){this.date=n;this.setValue()},setValue:function(){var n=this.getFormattedDate();this.isInput?this.element.val(n):this.component&&this.element.find("input").val(n)},getFormattedDate:function(n){return n===undefined&&(n=this.o.format),t.formatDate(this.date,n,this.o.language)},setStartDate:function(n){this._process_options({startDate:n});this.update();this.updateNavArrows()},setEndDate:function(n){this._process_options({endDate:n});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(n){this._process_options({daysOfWeekDisabled:n});this.update();this.updateNavArrows()},place:function(){if(!this.isInline){var i=parseInt(this.element.parents().filter(function(){return n(this).css("z-index")!="auto"}).first().css("z-index"))+10,t=this.component?this.component.parent().offset():this.element.offset(),r=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:t.top+r,left:t.left,zIndex:i})}},_allow_update:!0,update:function(){if(this._allow_update){var n,i=!1;arguments&&arguments.length&&(typeof arguments[0]=="string"||arguments[0]instanceof Date)?(n=arguments[0],i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date);this.date=t.parseDate(n,this.o.format,this.o.language);i&&this.setValue();this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date);this.fill()}},fillDow:function(){var r=this.o.weekStart,n="<tr>",t;for(this.o.calendarWeeks&&(t='<th class="cw">&nbsp;<\/th>',n+=t,this.picker.find(".datepicker-days thead tr:first-child").prepend(t));r<this.o.weekStart+7;)n+='<th class="dow">'+i[this.o.language].daysMin[r++%7]+"<\/th>";n+="<\/tr>";this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var n="",t=0;t<12;)n+='<span class="month">'+i[this.o.language].monthsShort[t++]+"<\/span>";this.picker.find(".datepicker-months td").html(n)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),e=this.date.valueOf(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()==r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()==r&&t.getUTCMonth()>f)&&i.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==u.getFullYear()&&t.getUTCMonth()==u.getMonth()&&t.getUTCDate()==u.getDate()&&i.push("today"),e&&t.valueOf()==e&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&i.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!=-1&&i.push("selected")),i},fill:function(){var k=new Date(this.viewDate),u=k.getUTCFullYear(),d=k.getUTCMonth(),v=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,it=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,y=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,rt=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,ft=this.date&&this.date.valueOf(),p,f,w,h,o,s,e,a,c,tt,l;for(this.picker.find(".datepicker-days thead th.datepicker-switch").text(i[this.o.language].months[d]+" "+u),this.picker.find("tfoot th.today").text(i[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(i[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths(),f=r(u,d-1,28,0,0,0,0),w=t.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),f.setUTCDate(w),f.setUTCDate(w-(f.getUTCDay()-this.o.weekStart+7)%7),h=new Date(f),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),o=[];f.valueOf()<h;){if(f.getUTCDay()==this.o.weekStart&&(o.push("<tr>"),this.o.calendarWeeks)){var g=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),nt=new Date(+g+(11-g.getUTCDay())%7*864e5),b=new Date(+(b=r(nt.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ut=(nt-b)/6048e5+1;o.push('<td class="cw">'+ut+"<\/td>")}s=this.getClassNames(f);s.push("day");e=this.o.beforeShowDay(f);e===undefined?e={}:typeof e=="boolean"?e={enabled:e}:typeof e=="string"&&(e={classes:e});e.enabled===!1&&s.push("disabled");e.classes&&(s=s.concat(e.classes.split(/\s+/)));e.tooltip&&(p=e.tooltip);s=n.unique(s);o.push('<td class="'+s.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+f.getUTCDate()+"<\/td>");f.getUTCDay()==this.o.weekEnd&&o.push("<\/tr>");f.setUTCDate(f.getUTCDate()+1)}for(this.picker.find(".datepicker-days tbody").empty().append(o.join("")),a=this.date&&this.date.getUTCFullYear(),c=this.picker.find(".datepicker-months").find("th:eq(1)").text(u).end().find("span").removeClass("active"),a&&a==u&&c.eq(this.date.getUTCMonth()).addClass("active"),(u<v||u>y)&&c.addClass("disabled"),u==v&&c.slice(0,it).addClass("disabled"),u==y&&c.slice(rt+1).addClass("disabled"),o="",u=parseInt(u/10,10)*10,tt=this.picker.find(".datepicker-years").find("th:eq(1)").text(u+"-"+(u+9)).end().find("td"),u-=1,l=-1;l<11;l++)o+='<span class="year'+(l==-1?" old":l==10?" new":"")+(a==u?" active":"")+(u<v||u>y?" disabled":"")+'">'+u+"<\/span>",u+=1;tt.html(o)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){var u,h,e,l,s;if(i.preventDefault(),u=n(i.target).closest("span, td, th"),u.length==1)switch(u[0].nodeName.toLowerCase()){case"th":switch(u[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":h=t.modes[this.viewMode].navStep*(u[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,h);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,h)}this.fill();break;case"today":e=new Date;e=r(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);this.showMode(-2);l=this.o.todayBtn=="linked"?null:"view";this._setDate(e,l);break;case"clear":this.isInput?s=this.element:this.component&&(s=this.element.find("input"));s&&s.val("").change();this._trigger("changeDate");this.update();this.o.autoclose&&this.hide()}break;case"span":if(!u.is(".disabled")){if(this.viewDate.setUTCDate(1),u.is(".month")){var c=1,f=u.parent().find("span").index(u),o=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(f);this._trigger("changeMonth",this.viewDate);this.o.minViewMode===1&&this._setDate(r(o,f,c,0,0,0,0))}else{var o=parseInt(u.text(),10)||0,c=1,f=0;this.viewDate.setUTCFullYear(o);this._trigger("changeYear",this.viewDate);this.o.minViewMode===2&&this._setDate(r(o,f,c,0,0,0,0))}this.showMode(-1);this.fill()}break;case"td":if(u.is(".day")&&!u.is(".disabled")){var c=parseInt(u.text(),10)||1,o=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth();u.is(".old")?f===0?(f=11,o-=1):f-=1:u.is(".new")&&(f==11?(f=0,o+=1):f+=1);this._setDate(r(o,f,c,0,0,0,0))}}},_setDate:function(n,t){t&&t!="date"||(this.date=new Date(n));t&&t!="view"||(this.viewDate=new Date(n));this.fill();this.setValue();this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input"));i&&(i.change(),this.o.autoclose&&(!t||t=="date")&&this.hide())},moveMonth:function(n,t){var f;if(!t)return n;var i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t),r,u;if(t=t>0?1:-1,s==1)u=t==-1?function(){return i.getUTCMonth()==o}:function(){return i.getUTCMonth()!=r},r=o+t,i.setUTCMonth(r),(r<0||r>11)&&(r=(r+12)%12);else{for(f=0;f<s;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);u=function(){return r!=i.getUTCMonth()}}while(u())i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,t*12)},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){var u,t,i,r,f;if(this.picker.is(":not(:visible)")){n.keyCode==27&&this.show();return}u=!1;switch(n.keyCode){case 27:this.hide();n.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=n.keyCode==37?-1:1;n.ctrlKey?(i=this.moveYear(this.date,t),r=this.moveYear(this.viewDate,t)):n.shiftKey?(i=this.moveMonth(this.date,t),r=this.moveMonth(this.viewDate,t)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+t),r=new Date(this.viewDate),r.setUTCDate(this.viewDate.getUTCDate()+t));this.dateWithinRange(i)&&(this.date=i,this.viewDate=r,this.setValue(),this.update(),n.preventDefault(),u=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=n.keyCode==38?-1:1;n.ctrlKey?(i=this.moveYear(this.date,t),r=this.moveYear(this.viewDate,t)):n.shiftKey?(i=this.moveMonth(this.date,t),r=this.moveMonth(this.viewDate,t)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+t*7),r=new Date(this.viewDate),r.setUTCDate(this.viewDate.getUTCDate()+t*7));this.dateWithinRange(i)&&(this.date=i,this.viewDate=r,this.setValue(),this.update(),n.preventDefault(),u=!0);break;case 13:this.hide();n.preventDefault();break;case 9:this.hide()}u&&(this._trigger("changeDate"),this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+n)));this.picker.find(">div").hide().filter(".datepicker-"+t.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};f=function(t,i){this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;n(this.inputs).datepicker(i).bind("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};f.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.date});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){var u=n(t.target).data("datepicker"),r=u.getUTCDate(),i=n.inArray(t.target,this.inputs),f=this.inputs.length;if(i!=-1){if(r<this.dates[i])while(i>=0&&r<this.dates[i])this.pickers[i--].setUTCDate(r);else if(r>this.dates[i])while(i<f&&r>this.dates[i])this.pickers[i++].setUTCDate(r);this.updateDates()}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};var c=n.fn.datepicker,o=n.fn.datepicker=function(t){var r=Array.apply(null,arguments),i;return r.shift(),this.each(function(){var c=n(this),o=c.data("datepicker"),a=typeof t=="object"&&t,y;if(!o){var v=s(this,"date"),p=n.extend({},e,v,a),w=h(p.language),l=n.extend({},e,w,v,a);c.is(".input-daterange")||l.inputs?(y={inputs:l.inputs||c.find("input").toArray()},c.data("datepicker",o=new f(this,n.extend(l,y)))):c.data("datepicker",o=new u(this,l))}if(typeof t=="string"&&typeof o[t]=="function"&&(i=o[t].apply(o,r),i!==undefined))return!1}),i!==undefined?i:this},e=n.fn.datepicker.defaults={autoclose:!1,beforeShowDay:n.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},l=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=u;i=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};t={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,i){return[31,t.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][i]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(n){var t=n.replace(this.validParts,'\0').split('\0'),i=n.match(this.validParts);if(!t||!t.length||!i||i.length===0)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(f,e,o){var d,h,a,v,l,g,s,p;if(f instanceof Date)return f;if(typeof e=="string"&&(e=t.parseFormat(e)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(f)){for(d=/([\-+]\d+)([dmwy])/,h=f.match(/([\-+]\d+)([dmwy])/g),f=new Date,s=0;s<h.length;s++){a=d.exec(h[s]);v=parseInt(a[1]);switch(a[2]){case"d":f.setUTCDate(f.getUTCDate()+v);break;case"m":f=u.prototype.moveMonth.call(u.prototype,f,v);break;case"w":f.setUTCDate(f.getUTCDate()+v*7);break;case"y":f=u.prototype.moveYear.call(u.prototype,f,v)}}return r(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),0,0,0)}var h=f&&f.match(this.nonpunctuation)||[],f=new Date,w={},k=["yyyy","yy","M","MM","m","mm","d","dd"],c={yyyy:function(n,t){return n.setUTCFullYear(t)},yy:function(n,t){return n.setUTCFullYear(2e3+t)},m:function(n,t){for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!=t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}},y,b,a;if(c.M=c.MM=c.mm=c.m,c.dd=c.d,f=r(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0),l=e.parts.slice(),h.length!=l.length&&(l=n(l).filter(function(t,i){return n.inArray(i,k)!==-1}).toArray()),h.length==l.length){for(s=0,g=l.length;s<g;s++){if(y=parseInt(h[s],10),a=l[s],isNaN(y))switch(a){case"MM":b=n(i[o].months).filter(function(){var n=this.slice(0,h[s].length),t=h[s].slice(0,n.length);return n==t});y=n.inArray(b[0],i[o].months)+1;break;case"M":b=n(i[o].monthsShort).filter(function(){var n=this.slice(0,h[s].length),t=h[s].slice(0,n.length);return n==t});y=n.inArray(b[0],i[o].monthsShort)+1}w[a]=y}for(s=0;s<k.length;s++)p=k[s],p in w&&!isNaN(w[p])&&c[p](f,w[p])}return f},formatDate:function(r,u,f){var e,r,s,o,h;for(typeof u=="string"&&(u=t.parseFormat(u)),e={d:r.getUTCDate(),D:i[f].daysShort[r.getUTCDay()],DD:i[f].days[r.getUTCDay()],m:r.getUTCMonth()+1,M:i[f].monthsShort[r.getUTCMonth()],MM:i[f].months[r.getUTCMonth()],yy:r.getUTCFullYear().toString().substring(2),yyyy:r.getUTCFullYear()},e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,r=[],s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&r.push(s.shift()),r.push(e[u.parts[o]]);return r.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/><\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next"><i class="icon-arrow-right"/><\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};t.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+t.headTemplate+"<tbody><\/tbody>"+t.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+t.headTemplate+t.contTemplate+t.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+t.headTemplate+t.contTemplate+t.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=t;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=c,this};n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),o.call(i,"show"))});n(function(){o.call(n('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(n){"use strict";n.fn.bdatepicker=n.fn.datepicker.noConflict();n.fn.datepicker||(n.fn.datepicker=n.fn.bdatepicker);var t=function(n){this.init("date",n,t.defaults);this.initPicker(n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{initPicker:function(t,i){this.options.viewformat||(this.options.viewformat=this.options.format);t.datepicker=n.fn.editableutils.tryParseJson(t.datepicker,!0);this.options.datepicker=n.extend({},i.datepicker,t.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=n.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);this.options.clear&&(this.$clear=n('<a href="#"><\/a>').html(this.options.clear).click(n.proxy(function(n){n.preventDefault();n.stopPropagation();this.clear()},this)),this.$tpl.parent().append(n('<div class="editable-clear">').append(this.$clear)))},value2html:function(n,i){var r=n?this.dpg.formatDate(n,this.parsedViewFormat,this.options.datepicker.language):"";t.superclass.value2html.call(this,r,i)},html2value:function(n){return this.parseDate(n,this.parsedViewFormat)},value2str:function(n){return n?this.dpg.formatDate(n,this.parsedFormat,this.options.datepicker.language):""},str2value:function(n){return this.parseDate(n,this.parsedFormat)},value2submit:function(n){return this.value2str(n)},value2input:function(n){this.$input.bdatepicker("update",n)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(t){if(!n(t.currentTarget).is(".old")&&!n(t.currentTarget).is(".new")){var i=n(this).closest("form");setTimeout(function(){i.submit()},200)}})},parseDate:function(n,t){var i=null,r;return n&&(i=this.dpg.parseDate(n,t,this.options.datepicker.language),typeof n=="string"&&(r=this.dpg.formatDate(i,t,this.options.datepicker.language),n!==r&&(i=null))),i}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"><\/div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"});n.fn.editabletypes.date=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("datefield",n,t.defaults);this.initPicker(n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.date);n.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(n.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(n){this.$input.val(n?this.dpg.formatDate(n,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){n.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});t.defaults=n.extend({},n.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"><\/i><\/span><\/div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}});n.fn.editabletypes.datefield=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("datetime",n,t.defaults);this.initPicker(n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{initPicker:function(t,i){this.options.viewformat||(this.options.viewformat=this.options.format);t.datetimepicker=n.fn.editableutils.tryParseJson(t.datetimepicker,!0);this.options.datetimepicker=n.extend({},i.datetimepicker,t.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=n.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(){var t=n(this).closest("form").parent();setTimeout(function(){t.triggerHandler("resize")},0)});this.options.clear&&(this.$clear=n('<a href="#"><\/a>').html(this.options.clear).click(n.proxy(function(n){n.preventDefault();n.stopPropagation();this.clear()},this)),this.$tpl.parent().append(n('<div class="editable-clear">').append(this.$clear)))},value2html:function(n,i){var r=n?this.dpg.formatDate(this.toUTC(n),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(i)t.superclass.value2html.call(this,r,i);else return r},html2value:function(n){var t=this.parseDate(n,this.parsedViewFormat);return t?this.fromUTC(t):null},value2str:function(n){return n?this.dpg.formatDate(this.toUTC(n),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(n){var t=this.parseDate(n,this.parsedFormat);return t?this.fromUTC(t):null},value2submit:function(n){return this.value2str(n)},value2input:function(n){n&&this.$input.data("datetimepicker").setDate(n)},input2value:function(){var n=this.$input.data("datetimepicker");return n.date?n.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var t=n(this).closest("form");setTimeout(function(){t.submit()},200)})},toUTC:function(n){return n?new Date(n.valueOf()-n.getTimezoneOffset()*6e4):n},fromUTC:function(n){return n?new Date(n.valueOf()+n.getTimezoneOffset()*6e4):n},parseDate:function(n,t){var i=null,r;return n&&(i=this.dpg.parseDate(n,t,this.options.datetimepicker.language,this.options.formatType),typeof n=="string"&&(r=this.dpg.formatDate(i,t,this.options.datetimepicker.language,this.options.formatType),n!==r&&(i=null))),i}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"><\/div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"});n.fn.editabletypes.datetime=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("datetimefield",n,t.defaults);this.initPicker(n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.datetime);n.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(n.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(n){this.$input.val(this.value2html(n));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){n.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});t.defaults=n.extend({},n.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"><\/i><\/span><\/div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}});n.fn.editabletypes.datetimefield=t}(window.jQuery),function(n){"use strict";function h(t){n(t).on("click"+s,this.toggle)}function w(n,t){n.hasClass("pull-center")&&n.css("margin-right",n.outerWidth()/-2);n.hasClass("pull-middle")&&n.css("margin-top",n.outerHeight()/-2-t.outerHeight()/2)}function c(r,u){if(i){u||(u=[i]);var f;i[0]!==u[0][0]?f=i:(f=u[u.length-1],f.parent().hasClass(o)&&(f=f.parent()));f.find("."+t).removeClass(t);f.hasClass(t)&&f.removeClass(t);f===i&&(i=null,n(e).remove())}}function b(n){for(var i=[n],t;!t||t.hasClass(a);)t=(t||n).parent(),t.hasClass(o)&&(t=t.parent()),t.children(r)&&i.unshift(t);return i}function l(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}var r='[data-toggle="dropdown"]',y=".disabled, :disabled",e=".dropdown-backdrop",o="dropdown-menu",a="dropdown-submenu",u=".bs.dropdown.data-api",s=".bs.dropdown",t="open",p="ontouchstart"in document.documentElement,i,f=h.prototype,v;f.toggle=function(r){var h=n(this),f,v;if(!h.is(y)){var s=l(h),k=s.hasClass(t),d=s.hasClass(a),u=d?b(s):null;if(c(r,u),!k){if(u||(u=[s]),p&&!s.closest(".navbar-nav").length&&!u[0].find(e).length)n('<div class="'+e.substr(1)+'"/>').appendTo(u[0]).on("click",c);for(f=0,v=u.length;f<v;f++)u[f].hasClass(t)||(u[f].addClass(t),w(u[f].children("."+o),u[f]));i=u[0]}return!1}};f.keydown=function(t){var f,e,o,i;if(/(38|40|27)/.test(t.keyCode)&&(f=n(this),t.preventDefault(),t.stopPropagation(),!f.is(".disabled, :disabled"))){if(e=l(f),o=e.hasClass("open"),!o||o&&t.keyCode==27)return t.which==27&&e.find(r).trigger("focus"),f.trigger("click");var s=" li:not(.divider):visible a",u=e.find('li:not(.divider):visible > input:not(disabled) ~ label, [role="menu"]'+s+', [role="listbox"]'+s);u.length&&(i=u.index(u.filter(":focus")),t.keyCode==38&&i>0&&i--,t.keyCode==40&&i<u.length-1&&i++,~i||(i=0),u.eq(i).trigger("focus"))}};f.change=function(){var u,t,i="",f,e;(u=n(this).closest("."+o),t=u.parent().find("[data-label-placement]"),t&&t.length||(t=u.parent().find(r)),t&&t.length&&t.data("placeholder")!==!1)&&(t.data("placeholder")==undefined&&t.data("placeholder",n.trim(t.text())),i=n.data(t[0],"placeholder"),f=u.find("li > input:checked"),f.length&&(i=[],f.each(function(){var t=n(this).parent().find("label").eq(0),u=t.find(".data-label"),r;u.length?(r=n("<p><\/p>"),r.append(u.clone()),t=r.html()):t=t.html();t&&i.push(n.trim(t))}),i=i.length<4?i.join(", "):i.length+" selected"),e=t.find(".caret"),t.html(i||"&nbsp;"),e.length&&t.append(" ")&&e.appendTo(t))};v=n.fn.dropdown;n.fn.dropdown=function(t){return this.each(function(){var i=n(this),r=i.data("bs.dropdown");r||i.data("bs.dropdown",r=new h(this));typeof t=="string"&&r[t].call(i)})};n.fn.dropdown.Constructor=h;n.fn.dropdown.clearMenus=function(i){return n(e).remove(),n("."+t+" "+r).each(function(){var t=l(n(this)),r={relatedTarget:this};t.hasClass("open")&&((t.trigger(i=n.Event("hide"+s,r)),i.isDefaultPrevented())||t.removeClass("open").trigger("hidden"+s,r))}),this};n.fn.dropdown.noConflict=function(){return n.fn.dropdown=v,this};n(document).off(u).on("click"+u,c).on("click"+u,r,f.toggle).on("click"+u,'.dropdown-menu > li > input[type="checkbox"] ~ label, .dropdown-menu > li > input[type="checkbox"], .dropdown-menu.noclose > li',function(n){n.stopPropagation()}).on("change"+u,'.dropdown-menu > li > input[type="checkbox"], .dropdown-menu > li > input[type="radio"]',f.change).on("keydown"+u,r+', [role="menu"], [role="listbox"]',f.keydown)}(jQuery);
/*!
 * Bootstrap-select v1.6.3 (http://silviomoreto.github.io/bootstrap-select/)
 *
 * Copyright 2013-2014 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
(function(n){"use strict";function u(n,t){return n.toUpperCase().indexOf(t.toUpperCase())>-1}function i(t){return n.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t.replace(this.re,this.ch)}),t}function r(n){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r="(?:"+Object.keys(i).join("|")+")",u=new RegExp(r),f=new RegExp(r,"g"),t=n==null?"":""+n;return u.test(t)?t.replace(f,function(n){return i[n]}):t}function f(i,r){var u=arguments,o=i,i=u[0],r=u[1],f,e;return[].shift.apply(u),typeof i=="undefined"&&(i=o),e=this.each(function(){var s=n(this),e,o,c,h;if(s.is("select")){if(e=s.data("selectpicker"),o=typeof i=="object"&&i,e){if(o)for(h in o)o.hasOwnProperty(h)&&(e.options[h]=o[h])}else c=n.extend({},t.DEFAULTS,n.fn.selectpicker.defaults||{},s.data(),o),s.data("selectpicker",e=new t(this,c,r));typeof i=="string"&&(f=e[i]instanceof Function?e[i].apply(e,u):e.options[i])}}),typeof f!="undefined"?f:e}var t,e;n.expr[":"].icontains=function(t,i,r){return u(n(t).text(),r[3])};n.expr[":"].aicontains=function(t,i,r){return u(n(t).data("normalizedText")||n(t).text(),r[3])};t=function(i,r,u){u&&(u.stopPropagation(),u.preventDefault());this.$element=n(i);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=r;this.options.title===null&&(this.options.title=this.$element.attr("title"));this.val=t.prototype.val;this.render=t.prototype.render;this.refresh=t.prototype.refresh;this.setStyle=t.prototype.setStyle;this.selectAll=t.prototype.selectAll;this.deselectAll=t.prototype.deselectAll;this.destroy=t.prototype.remove;this.remove=t.prototype.remove;this.show=t.prototype.show;this.hide=t.prototype.hide;this.init()};t.VERSION="1.6.3";t.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(n){return n==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(n,t){var i=[];return i[0]=n==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)",i[1]=t==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",i},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1};t.prototype={constructor:t,init:function(){var i=this,t=this.$element.attr("id");this.$element.hide();this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$menu=this.$newElement.find("> .dropdown-menu");this.$button=this.$newElement.find("> button");this.$searchbox=this.$newElement.find("input");this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right");typeof t!="undefined"&&(this.$button.attr("data-id",t),n('label[for="'+t+'"]').click(function(n){n.preventDefault();i.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.liHeight();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&this.mobile()},createDropdown:function(){var t=this.multiple?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",r=this.autofocus?" autofocus":"",u=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",f=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;<\/button>'+this.options.header+"<\/div>":"",e=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /><\/div>':"",o=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'<\/button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"<\/button><\/div><\/div>":"",s='<div class="btn-group bootstrap-select'+t+i+'"><button type="button" class="btn dropdown-toggle selectpicker'+u+'" data-toggle="dropdown"'+r+'><span class="filter-option pull-left"><\/span>&nbsp;<span class="caret"><\/span><\/button><div class="dropdown-menu open">'+f+e+o+'<ul class="dropdown-menu inner selectpicker" role="menu"><\/ul><\/div><\/div>';return n(s)},createView:function(){var n=this.createDropdown(),t=this.createLi();return n.find("ul").append(t),n},reloadLi:function(){this.destroyLi();var n=this.createLi();this.$menu.find("ul").append(n)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var f=this,t=[],o=0,u=function(n,t,i){return"<li"+(typeof i!="undefined"?' class="'+i+'"':"")+(typeof t!="undefined"|null===t?' data-original-index="'+t+'"':"")+">"+n+"<\/li>"},e=function(n,t,u,e){var o=i(r(n));return'<a tabindex="0"'+(typeof t!="undefined"?' class="'+t+'"':"")+(typeof u!="undefined"?' style="'+u+'"':"")+(typeof e!="undefined"?'data-optgroup="'+e+'"':"")+' data-normalized-text="'+o+'">'+n+'<span class="'+f.options.iconBase+" "+f.options.tickIcon+' check-mark"><\/span><\/a>'};return this.$element.find("option").each(function(){var i=n(this),c=i.attr("class")||"",l=i.attr("style"),r=i.data("content")?i.data("content"):i.html(),y=typeof i.data("subtext")!="undefined"?'<small class="muted text-muted">'+i.data("subtext")+"<\/small>":"",h=typeof i.data("icon")!="undefined"?'<span class="'+f.options.iconBase+" "+i.data("icon")+'"><\/span> ':"",v=i.is(":disabled")||i.parent().is(":disabled"),s=i[0].index;if(h!==""&&v&&(h="<span>"+h+"<\/span>"),i.data("content")||(r=h+'<span class="text">'+r+y+"<\/span>"),!f.options.hideDisabled||!v)if(i.parent().is("optgroup")&&i.data("divider")!==!0){if(i.index()===0){o+=1;var a=i.parent().attr("label"),p=typeof i.parent().data("subtext")!="undefined"?'<small class="muted text-muted">'+i.parent().data("subtext")+"<\/small>":"",w=i.parent().data("icon")?'<span class="'+f.options.iconBase+" "+i.parent().data("icon")+'"><\/span> ':"";a=w+'<span class="text">'+a+p+"<\/span>";s!==0&&t.length>0&&t.push(u("",null,"divider"));t.push(u(a,null,"dropdown-header"))}t.push(u(e(r,"opt "+c,l,o),s))}else i.data("divider")===!0?t.push(u("",s,"divider")):i.data("hidden")===!0?t.push(u(e(r,c,l),s,"hide is-hidden")):t.push(u(e(r,c,l),s))}),this.multiple||this.$element.find("option:selected").length!==0||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),n(t.join(""))},findLis:function(){return this.$lis==null&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var i=this,e,s,h;t!==!1&&this.$element.find("option").each(function(t){i.setDisabled(t,n(this).is(":disabled")||n(this).parent().is(":disabled"));i.setSelected(t,n(this).is(":selected"))});this.tabIndex();var o=this.options.hideDisabled?":not([disabled])":"",u=this.$element.find("option:selected"+o).map(function(){var t=n(this),u=t.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+t.data("icon")+'"><\/i> ':"",r;return r=i.options.showSubtext&&t.attr("data-subtext")&&!i.multiple?' <small class="muted text-muted">'+t.data("subtext")+"<\/small>":"",t.data("content")&&i.options.showContent?t.data("content"):typeof t.attr("title")!="undefined"?t.attr("title"):u+t.html()+r}).toArray(),f=this.multiple?u.join(this.options.multipleSeparator):u[0];this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1&&(e=this.options.selectedTextFormat.split(">"),(e.length>1&&u.length>e[1]||e.length==1&&u.length>=2)&&(o=this.options.hideDisabled?", [disabled]":"",s=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+o).length,h=typeof this.options.countSelectedText=="function"?this.options.countSelectedText(u.length,s):this.options.countSelectedText,f=h.replace("{0}",u.length.toString()).replace("{1}",s.toString())));this.options.title=this.$element.attr("title");this.options.selectedTextFormat=="static"&&(f=this.options.title);f||(f=typeof this.options.title!="undefined"?this.options.title:this.options.noneSelectedText);this.$button.attr("title",r(f));this.$newElement.find(".filter-option").html(f)},setStyle:function(n,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var i=n?n:this.options.style;t=="add"?this.$button.addClass(i):t=="remove"?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){if(this.options.size!==!1){var t=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),n=t.addClass("open").find("> .dropdown-menu"),i=n.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),r=this.options.header?n.find(".popover-title").outerHeight():0,u=this.options.liveSearch?n.find(".bs-searchbox").outerHeight():0,f=this.options.actionsBox?n.find(".bs-actionsbox").outerHeight():0;t.remove();this.$newElement.data("liHeight",i).data("headerHeight",r).data("searchHeight",u).data("actionsHeight",f)}},setSize:function(){var e,b,k;this.findLis();var r=this,t=this.$menu,a=t.find(".inner"),d=this.$newElement.outerHeight(),v=this.$newElement.data("liHeight"),h=this.$newElement.data("headerHeight"),c=this.$newElement.data("searchHeight"),l=this.$newElement.data("actionsHeight"),g=this.$lis.filter(".divider").outerHeight(!0),u=parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom"))+parseInt(t.css("border-top-width"))+parseInt(t.css("border-bottom-width")),y=this.options.hideDisabled?", .disabled":"",p=n(window),o=u+parseInt(t.css("margin-top"))+parseInt(t.css("margin-bottom"))+2,i,f,s,w=function(){f=r.$newElement.offset().top-p.scrollTop();s=p.height()-f-d};if(w(),this.options.header&&t.css("padding-top",0),this.options.size=="auto"){e=function(){var n,e=r.$lis.not(".hide");w();i=s-o;r.options.dropupAuto&&r.$newElement.toggleClass("dropup",f>s&&i-o<t.height());r.$newElement.hasClass("dropup")&&(i=f-o);n=e.length+e.filter(".dropdown-header").length>3?v*3+o-2:0;t.css({"max-height":i+"px",overflow:"hidden","min-height":n+h+c+l+"px"});a.css({"max-height":i-h-c-l-u+"px","overflow-y":"auto","min-height":Math.max(n-u,0)+"px"})};e();this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",e);n(window).off("resize.getSize").on("resize.getSize",e);n(window).off("scroll.getSize").on("scroll.getSize",e)}else this.options.size&&this.options.size!="auto"&&t.find("li"+y).length>this.options.size&&(b=this.$lis.not(".divider"+y).find(" > *").slice(0,this.options.size).last().parent().index(),k=this.$lis.slice(0,b+1).filter(".divider").length,i=v*this.options.size+k*g+u,r.options.dropupAuto&&this.$newElement.toggleClass("dropup",f>s&&i<t.height()),t.css({"max-height":i+h+c+l+"px",overflow:"hidden"}),a.css({"max-height":i-u+"px","overflow-y":"auto"}))},setWidth:function(){if(this.options.width=="auto"){this.$menu.css("min-width","0");var n=this.$newElement.clone().appendTo("body"),t=n.find("> .dropdown-menu").css("width"),i=n.css("width","auto").find("> button").css("width");n.remove();this.$newElement.css("width",Math.max(parseInt(t),parseInt(i))+"px")}else this.options.width=="fit"?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var t=this,i=n("<div />"),r,f,u=function(n){i.addClass(n.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",n.hasClass("dropup"));r=n.offset();f=n.hasClass("dropup")?0:n[0].offsetHeight;i.css({top:r.top+f,left:r.left,width:n[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){t.isDisabled()||(u(n(this)),i.appendTo(t.options.container),i.toggleClass("open",!n(this).hasClass("open")),i.append(t.$menu))});n(window).resize(function(){u(t.$newElement)});n(window).on("scroll",function(){u(t.$newElement)});n("html").on("click",function(r){n(r.target).closest(t.$newElement).length<1&&i.removeClass("open")})},setSelected:function(n,t){this.findLis();this.$lis.filter('[data-original-index="'+n+'"]').toggleClass("selected",t)},setDisabled:function(n,t){this.findLis();t?this.$lis.filter('[data-original-index="'+n+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+n+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var n=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),this.$button.attr("tabindex")==-1&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex")));this.$button.click(function(){return!n.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var t=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(n){n.stopPropagation()});this.$newElement.on("click",function(){t.setSize();t.options.liveSearch||t.multiple||setTimeout(function(){t.$menu.find(".selected a").focus()},10)});this.$menu.on("click","li a",function(i){var s=n(this),e=s.parent().data("originalIndex"),k=t.$element.val(),d=t.$element.prop("selectedIndex"),a,v,b;if(t.multiple&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!s.parent().hasClass("disabled")){var h=t.$element.find("option"),f=h.eq(e),w=f.prop("selected"),l=f.parent("optgroup"),r=t.options.maxOptions,u=l.data("maxOptions")||!1;if(t.multiple){if(f.prop("selected",!w),t.setSelected(e,!w),s.blur(),(r!==!1||u!==!1)&&(a=r<h.filter(":selected").length,v=u<l.find("option:selected").length,r&&a||u&&v))if(r&&r==1)h.prop("selected",!1),f.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(e,!0);else if(u&&u==1)l.find("option:selected").prop("selected",!1),f.prop("selected",!0),b=s.data("optgroup"),t.$menu.find(".selected").has('a[data-optgroup="'+b+'"]').removeClass("selected"),t.setSelected(e,!0);else{var o=typeof t.options.maxOptionsText=="function"?t.options.maxOptionsText(r,u):t.options.maxOptionsText,y=o[0].replace("{n}",r),p=o[1].replace("{n}",u),c=n('<div class="notify"><\/div>');o[2]&&(y=y.replace("{var}",o[2][r>1?0:1]),p=p.replace("{var}",o[2][u>1?0:1]));f.prop("selected",!1);t.$menu.append(c);r&&a&&(c.append(n("<div>"+y+"<\/div>")),t.$element.trigger("maxReached.bs.select"));u&&v&&(c.append(n("<div>"+p+"<\/div>")),t.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){t.setSelected(e,!1)},10);c.delay(750).fadeOut(300,function(){n(this).remove()})}}else h.prop("selected",!1),f.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(e,!0);t.multiple?t.options.liveSearch&&t.$searchbox.focus():t.$button.focus();(k!=t.$element.val()&&t.multiple||d!=t.$element.prop("selectedIndex")&&!t.multiple)&&t.$element.change()}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(n){n.target==this&&(n.preventDefault(),n.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus())});this.$menu.on("click","li.divider, li.dropdown-header",function(n){n.preventDefault();n.stopPropagation();t.options.liveSearch?t.$searchbox.focus():t.$button.focus()});this.$menu.on("click",".popover-title .close",function(){t.$button.focus()});this.$searchbox.on("click",function(n){n.stopPropagation()});this.$menu.on("click",".actions-btn",function(i){t.options.liveSearch?t.$searchbox.focus():t.$button.focus();i.preventDefault();i.stopPropagation();n(this).is(".bs-select-all")?t.selectAll():t.deselectAll();t.$element.change()});this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var t=this,u=n('<li class="no-results"><\/li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){t.$menu.find(".active").removeClass("active");!t.$searchbox.val()||(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hide"),!u.parent().length||u.remove());t.multiple||t.$menu.find(".selected").addClass("active");setTimeout(function(){t.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(n){n.stopPropagation()});this.$searchbox.on("input propertychange",function(){t.$searchbox.val()?(t.options.searchAccentInsensitive?t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+i(t.$searchbox.val())+")").parent().addClass("hide"):t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+t.$searchbox.val()+")").parent().addClass("hide"),t.$menu.find("li").filter(":visible:not(.no-results)").length?!u.parent().length||u.remove():(!u.parent().length||u.remove(),u.html(t.options.noneResultsText+' "'+r(t.$searchbox.val())+'"').show(),t.$menu.find("li").last().after(u))):(t.$lis.not(".is-hidden").removeClass("hide"),!u.parent().length||u.remove());t.$menu.find("li.active").removeClass("active");t.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus();n(this).focus()})},val:function(n){return typeof n!="undefined"?(this.$element.val(n),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis();this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis();this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(t){var e=n(this),c=e.is("input")?e.parent().parent():e.parent(),f,r=c.data("this"),u,h,l,a,y,p,b,s,w={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},v,o,k;(r.options.liveSearch&&(c=e.parent().parent()),r.options.container&&(c=r.$menu),f=n("[role=menu] li a",c),s=r.$menu.parent().hasClass("open"),!s&&/([0-9]|[A-z])/.test(String.fromCharCode(t.keyCode))&&(r.options.container?r.$newElement.trigger("click"):(r.setSize(),r.$menu.parent().addClass("open"),s=!0),r.$searchbox.focus()),r.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&s&&r.$menu.find(".active").length===0&&(t.preventDefault(),r.$menu.parent().removeClass("open"),r.$button.focus()),f=n("[role=menu] li:not(.divider):not(.dropdown-header):visible",c),e.val()||/(38|40)/.test(t.keyCode.toString(10))||f.filter(".active").length===0&&(f=r.options.searchAccentInsensitive?r.$newElement.find("li").filter(":aicontains("+i(w[t.keyCode])+")"):r.$newElement.find("li").filter(":icontains("+w[t.keyCode]+")"))),f.length)&&(/(38|40)/.test(t.keyCode.toString(10))?(u=f.index(f.filter(":focus")),l=f.parent(":not(.disabled):visible").first().index(),a=f.parent(":not(.disabled):visible").last().index(),h=f.eq(u).parent().nextAll(":not(.disabled):visible").eq(0).index(),y=f.eq(u).parent().prevAll(":not(.disabled):visible").eq(0).index(),p=f.eq(h).parent().prevAll(":not(.disabled):visible").eq(0).index(),r.options.liveSearch&&(f.each(function(t){n(this).is(":not(.disabled)")&&n(this).data("index",t)}),u=f.index(f.filter(".active")),l=f.filter(":not(.disabled):visible").first().data("index"),a=f.filter(":not(.disabled):visible").last().data("index"),h=f.eq(u).nextAll(":not(.disabled):visible").eq(0).data("index"),y=f.eq(u).prevAll(":not(.disabled):visible").eq(0).data("index"),p=f.eq(h).prevAll(":not(.disabled):visible").eq(0).data("index")),b=e.data("prevIndex"),t.keyCode==38&&(r.options.liveSearch&&(u-=1),u!=p&&u>y&&(u=y),u<l&&(u=l),u==b&&(u=a)),t.keyCode==40&&(r.options.liveSearch&&(u+=1),u==-1&&(u=0),u!=p&&u<h&&(u=h),u>a&&(u=a),u==b&&(u=l)),e.data("prevIndex",u),r.options.liveSearch?(t.preventDefault(),e.is(".dropdown-toggle")||(f.removeClass("active"),f.eq(u).addClass("active").find("a").focus(),e.focus())):f.eq(u).focus()):e.is("input")||(v=[],f.each(function(){n(this).parent().is(":not(.disabled)")&&n.trim(n(this).text().toLowerCase()).substring(0,1)==w[t.keyCode]&&v.push(n(this).parent().index())}),o=n(document).data("keycount"),o++,n(document).data("keycount",o),k=n.trim(n(":focus").text().toLowerCase()).substring(0,1),k!=w[t.keyCode]?(o=1,n(document).data("keycount",o)):o>=v.length&&(n(document).data("keycount",0),o>v.length&&(o=1)),f.eq(v[o-1]).focus()),(/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&r.options.selectOnTab)&&s&&(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),r.options.liveSearch?/(32)/.test(t.keyCode.toString(10))||(r.$menu.find(".active a").click(),e.focus()):n(":focus").click(),n(document).data("keycount",0)),(/(^9$|27)/.test(t.keyCode.toString(10))&&s&&(r.multiple||r.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!s)&&(r.$menu.parent().removeClass("open"),r.$button.focus()))},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null;this.reloadLi();this.render();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},update:function(){this.reloadLi();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()}};e=n.fn.selectpicker;n.fn.selectpicker=f;n.fn.selectpicker.Constructor=t;n.fn.selectpicker.noConflict=function(){return n.fn.selectpicker=e,this};n(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",t.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(n){n.stopPropagation()});n(window).on("load.bs.select.data-api",function(){n(".selectpicker").each(function(){var t=n(this);f.call(t,t.data())})})})(jQuery),function(n,t){function f(n){return n&&n.toLowerCase?n.toLowerCase():n}function c(n,t){for(var r=0,u=n.length;r<u;r++)if(n[r]==t)return!i;return i}var i=!1,r=null,e=parseFloat,l=Math.min,a=/(-?\d+\.?\d*)$/g,v=/(\d+\.?\d*)$/g,o=[],s=[],u=function(n){return typeof n=="string"},h=Array.prototype.indexOf||function(n){var i=this.length,t=Number(arguments[1])||0;for(t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=i);t<i;t++)if(t in this&&this[t]===n)return t;return-1};n.tinysort={id:"TinySort",version:"1.5.2",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(){var n=function(n,t){o.push(n);s.push(t)};return n.indexOf=h,n}(),defaults:{order:"asc",attr:r,data:r,useVal:i,place:"start",returns:i,cases:i,forceStrings:i,ignoreDashes:i,sortFunction:r}};n.fn.extend({tinysort:function(){for(var d=this,ft=[],nt=[],et=[],ut=[],p=0,g,w=[],k=[],ht=function(t){n.each(o,function(n,i){i.call(i,t)})},ct=function(t,r){var c=0,y,w,tt,it;for(p!==0&&(p=0);c===0&&p<g;){var k=ut[p],l=k.oSettings,d=l.ignoreDashes?v:a;if(ht(l),l.sortFunction)c=l.sortFunction(t,r);else if(l.order=="rand")c=Math.random()<.5?1:-1;else{var nt=i,o=l.cases?t.s[p]:f(t.s[p]),h=l.cases?r.s[p]:f(r.s[p]);o=o.replace(/^\s*/i,"").replace(/\s*$/i,"");h=h.replace(/^\s*/i,"").replace(/\s*$/i,"");b.forceStrings||(y=u(o)?o&&o.match(d):i,w=u(h)?h&&h.match(d):i,y&&w&&(tt=o.substr(0,o.length-y[0].length),it=h.substr(0,h.length-w[0].length),tt==it&&(nt=!i,o=e(y[0]),h=e(w[0]))));c=k.iAsc*(o<h?-1:o>h?1:0)}n.each(s,function(n,t){c=t.call(t,nt,o,h,c)});c===0&&p++}return c},rt,y=0,it=arguments.length;y<it;y++)rt=arguments[y],u(rt)?w.push(rt)-1>k.length&&(k.length=w.length-1):k.push(rt)>w.length&&(w.length=k.length);for(w.length>k.length&&(k.length=w.length),g=w.length,g===0&&(g=w.length=1,k.push({})),y=0,it=g;y<it;y++){var tt=w[y],b=n.extend({},n.tinysort.defaults,k[y]),ot=!(!tt||tt==""),st=ot&&tt[0]==":";ut.push({sFind:tt,oSettings:b,bFind:ot,bAttr:!(b.attr===r||b.attr==""),bData:b.data!==r,bFilter:st,$Filter:st?d.filter(tt):d,fnSort:b.sortFunction,iAsc:b.order=="asc"?1:-1})}return d.each(function(i,r){var o=n(r),c=o.parent().get(0),s,l=[],u,f,e;for(j=0;j<g;j++)u=ut[j],f=u.bFind?u.bFilter?u.$Filter.filter(r):o.find(u.sFind):o,l.push(u.bData?f.data(u.oSettings.data):u.bAttr?f.attr(u.oSettings.attr):u.oSettings.useVal?f.val():f.text()),s===t&&(s=f);e=h.call(et,c);e<0&&(e=et.push(c)-1,nt[e]={s:[],n:[]});s.length>0?nt[e].s.push({s:l,e:o,n:i}):nt[e].n.push({e:o,n:i})}),n.each(nt,function(n,t){t.s.sort(ct)}),n.each(nt,function(t,r){var o=r.s.length,s=[],u=o,h=[0,0],f,e;switch(b.place){case"first":n.each(r.s,function(n,t){u=l(u,t.n)});break;case"org":n.each(r.s,function(n,t){s.push(t.n)});break;case"end":u=r.n.length;break;default:u=0}for(y=0;y<o;y++)f=c(s,y)?!i:y>=u&&y<u+r.s.length,e=(f?r.s:r.n)[h[f?0:1]].e,e.parent().append(e),(f||!b.returns)&&ft.push(e.get(0)),h[f?0:1]++}),d.length=0,Array.prototype.push.apply(d,ft),d}});n.fn.TinySort=n.fn.Tinysort=n.fn.tsort=n.fn.tinysort}(jQuery),function(n){function u(n){var t=n.data("bootstrap-sortable-context");return t==null&&(t={bsSort:[],lastSort:null},n.data("bootstrap-sortable-context",t)),t}function t(i,f){var e=i.attr("data-sortcolumn"),w=u(f),h=w.bsSort,b=i.attr("colspan"),l,c,a,v,y,s,o,k,p;if(b){for(c=parseFloat(e);c<parseFloat(e)+parseFloat(b);c++)l=l+', [data-sortcolumn="'+c+'"]';a=n(l).not("[colspan]");v=a.filter("[data-mainsort]").eq(0);e=v.length?v:a.eq(0);t(e,f);return}y=i.attr("data-defaultsign")||r;f.find("th").each(function(){n(this).removeClass("up").removeClass("down").addClass("nosort")});n.browser.mozilla?(s=f.find("div.mozilla"),s!==undefined&&(s.find(".sign").remove(),s.parent().html(s.html())),i.wrapInner('<div class="mozilla"><\/div>'),i.children().eq(0).append('<span class="sign '+y+'"><\/span>')):(f.find("span.sign").remove(),i.append('<span class="sign '+y+'"><\/span>'));o=i.attr("data-sortkey");k=i.attr("data-firstsort")!=="desc"?"desc":"asc";w.lastSort=o;h[o]=(h[o]||k)==="asc"?"desc":"asc";h[o]==="desc"?(i.find("span.sign").addClass("up"),i.addClass("up").removeClass("down nosort")):i.addClass("down").removeClass("up nosort");p=f.children("tbody").children("tr");p.tsort("td:eq("+e+")",{order:h[o],attr:"data-value"});f.find("td.sorted, th.sorted").removeClass("sorted");p.find("td:eq("+e+")").addClass("sorted");i.addClass("sorted")}var f=n(document),r,i;n.bootstrapSortable=function(i,f){var e=typeof moment!="undefined";r=f?f:"arrow";n("table.sortable").each(function(){var r=n(this),o=u(r),f=o.bsSort;i=i===!0;r.find("span.sign").remove();r.find("thead tr").each(function(t){var i=0;n(this).find("th").each(function(r){var u=n(this);u.addClass("nosort").removeClass("up down");u.attr("data-sortcolumn",r+i);u.attr("data-sortkey",r+"-"+t);u.attr("colspan")!==undefined&&(i+=parseInt(u.attr("colspan"))-1)})});r.find("td").each(function(){var t=n(this);t.attr("data-dateformat")!==undefined&&e?t.attr("data-value",moment(t.text(),t.attr("data-dateformat")).format("YYYY/MM/DD/HH/mm/ss")):t.attr("data-value")===undefined&&t.attr("data-value",t.text())});r.find('thead th[data-defaultsort!="disabled"]').each(function(){var u=n(this),e=u.closest("table.sortable"),r,s;u.data("sortTable",e);r=u.attr("data-sortkey");s=i?o.lastSort:-1;f[r]=i?f[r]:u.attr("data-defaultsort");f[r]!==undefined&&i===(r===s)&&(f[r]=f[r]==="asc"?"desc":"asc",t(u,e))});r.trigger("sorted")})};f.on("click",'table.sortable thead th[data-defaultsort!="disabled"]',function(){var i=n(this),r=i.data("sortTable")||i.closest("table.sortable");r.trigger("before-sort");t(i,r);r.trigger("sorted")});n.browser||(n.browser={chrome:!1,mozilla:!1,opera:!1,msie:!1,safari:!1},i=navigator.userAgent,n.each(n.browser,function(t){n.browser[t]=new RegExp(t,"i").test(i)?!0:!1;n.browser.mozilla&&t==="mozilla"&&(n.browser.mozilla=new RegExp("firefox","i").test(i)?!0:!1);n.browser.chrome&&t==="safari"&&(n.browser.safari=!1)}));n(n.bootstrapSortable)}(jQuery),function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function e(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function v(n,t){return n.getUTCFullYear()===t.getUTCFullYear()&&n.getUTCMonth()===t.getUTCMonth()&&n.getUTCDate()===t.getUTCDate()}function h(n){return function(){return this[n].apply(this,arguments)}}function y(t,i){function s(n,t){return t.toLowerCase()}var u=n(t).data(),f={},e,o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in u)i.test(r)&&(e=r.replace(o,s),f[e]=u[r]);return f}function p(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(a,function(n,t){t in i&&(u[t]=i[t])}),u}var c=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;t<r;t++)if(this[t].valueOf()===i)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new c;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),f=function(t,r){this._process_options(r);this.dates=new c;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInline=!1;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1;this.hasInput=this.component&&this.element.find("input").length;this.component&&this.component.length===0&&(this.component=!1);this.picker=n(i.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today, tfoot th.clear").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},s,l,o,a,r,i;f.prototype={constructor:f,_process_options:function(f){var s,c,a,v,h,l;this._o=n.extend({},this._o,f);s=this.o=n.extend({},this._o);c=s.language;r[c]||(c=c.split("-")[0],r[c]||(c=o.language));s.language=c;switch(s.startView){case 2:case"decade":s.startView=2;break;case 1:case"year":s.startView=1;break;default:s.startView=0}switch(s.minViewMode){case 1:case"months":s.minViewMode=1;break;case 2:case"years":s.minViewMode=2;break;default:s.minViewMode=0}if(s.startView=Math.max(s.startView,s.minViewMode),s.multidate!==!0&&(s.multidate=Number(s.multidate)||!1,s.multidate!==!1&&(s.multidate=Math.max(0,s.multidate))),s.multidateSeparator=String(s.multidateSeparator),s.weekStart%=7,s.weekEnd=(s.weekStart+6)%7,a=i.parseFormat(s.format),s.startDate!==-Infinity&&(s.startDate=s.startDate?s.startDate instanceof Date?this._local_to_utc(this._zero_time(s.startDate)):i.parseDate(s.startDate,a,s.language):-Infinity),s.endDate!==Infinity&&(s.endDate=s.endDate?s.endDate instanceof Date?this._local_to_utc(this._zero_time(s.endDate)):i.parseDate(s.endDate,a,s.language):Infinity),s.daysOfWeekDisabled=s.daysOfWeekDisabled||[],n.isArray(s.daysOfWeekDisabled)||(s.daysOfWeekDisabled=s.daysOfWeekDisabled.split(/[,\s]*/)),s.daysOfWeekDisabled=n.map(s.daysOfWeekDisabled,function(n){return parseInt(n,10)}),s.datesDisabled=s.datesDisabled||[],n.isArray(s.datesDisabled)||(v=[],v.push(i.parseDate(s.datesDisabled,a,s.language)),s.datesDisabled=v),s.datesDisabled=n.map(s.datesDisabled,function(n){return i.parseDate(n,a,s.language)}),h=String(s.orientation).toLowerCase().split(/\s+/g),l=s.orientation.toLowerCase(),h=n.grep(h,function(n){return/^auto|left|right|top|bottom$/.test(n)}),s.orientation={x:"auto",y:"auto"},l&&l!=="auto")if(h.length===1)switch(h[0]){case"top":case"bottom":s.orientation.y=h[0];break;case"left":case"right":s.orientation.x=h[0]}else l=n.grep(h,function(n){return/^left|right$/.test(n)}),s.orientation.x=l[0]||"auto",l=n.grep(h,function(n){return/^top|bottom$/.test(n)}),s.orientation.y=l[0]||"auto";if(s.defaultViewDate){var y=s.defaultViewDate.year||(new Date).getFullYear(),p=s.defaultViewDate.month||0,w=s.defaultViewDate.day||1;s.defaultViewDate=u(y,p,w)}else s.defaultViewDate=e();s.showOnFocus=s.showOnFocus!==t?s.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++){f=n[i][0];n[i].length===2?(r=t,u=n[i][1]):n[i].length===3&&(r=n[i][1],u=n[i][2]);f.on(u,r)}},_unapplyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++)f=n[i][0],n[i].length===2?(u=t,r=n[i][1]):n[i].length===3&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(t.focus=n.proxy(this.show,this));this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:n.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:n.proxy(this.show,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{"mousedown touchstart":n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){arguments.length===0?(n=this.dates.length-1,t=this.o.format):typeof n=="string"&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){if(!this.element.attr("readonly"))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(n){return n&&new Date(n.getTime()+n.getTimezoneOffset()*6e4)},_local_to_utc:function(n){return n&&new Date(n.getTime()-n.getTimezoneOffset()*6e4)},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return typeof n!="undefined"?new Date(n):null},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,n.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:h("setDates"),setUTCDate:h("setUTCDates"),setValue:function(){var n=this.getFormattedDate();return this.isInput?this.element.val(n).change():this.component&&this.element.find("input").val(n).change(),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(n){this._process_options({datesDisabled:n});this.update();this.updateNavArrows()},place:function(){var u,p,h,w;if(this.isInline)return this;var f=this.picker.outerWidth(),e=this.picker.outerHeight(),c=n(this.o.container).width(),b=n(this.o.container).height(),o=n(this.o.container).scrollTop(),l=n(this.o.container).offset(),a=[];this.element.parents().each(function(){var t=n(this).css("z-index");t!=="auto"&&t!==0&&a.push(parseInt(t))});var v=Math.max.apply(Math,a)+10,r=this.component?this.component.parent().offset():this.element.offset(),y=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),s=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=r.left-l.left,i=r.top-l.top+o+54;return this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(t-=f-s)):r.left<0?(this.picker.addClass("datepicker-orient-left"),t-=r.left-10):t+f>c?(this.picker.addClass("datepicker-orient-right"),t=r.left+s-f):this.picker.addClass("datepicker-orient-left"),u=this.o.orientation.y,u==="auto"&&(p=-o+i-e,h=o+b-(i+y+e),u=Math.max(p,h)===h?"top":"bottom"),this.picker.addClass("datepicker-orient-"+u),u==="top"?i+=y:i-=e+parseInt(this.picker.css("padding-top")),this.o.rtl?(w=c-(t+s),this.picker.css({top:i,right:w,zIndex:v})):this.picker.css({top:i,left:t,zIndex:v}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var r=this.dates.copy(),t=[],u=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),u=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language)},this)),t=n.grep(t,n.proxy(function(n){return n<this.o.startDate||n>this.o.endDate||!n},this),!0),this.dates.replace(t),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),u?this.setValue():t.length&&String(r)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&r.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,n="<tr>",i;for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days thead tr:first-child th.datepicker-switch").attr("colspan",function(n,t){return parseInt(t)+1}),i='<th class="cw">&#160;<\/th>',n+=i);t<this.o.weekStart+7;)n+='<th class="dow">'+r[this.o.language].daysMin[t++%7]+"<\/th>";n+="<\/tr>";this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var n="",t=0;t<12;)n+='<span class="month">'+r[this.o.language].monthsShort[t++]+"<\/span>";this.picker.find(".datepicker-months td").html(n)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&i.push("disabled"),this.o.datesDisabled.length>0&&n.grep(this.o.datesDisabled,function(n){return v(t,n)}).length>0&&i.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!==-1&&i.push("selected")),i},fill:function(){var g=new Date(this.viewDate),f=g.getUTCFullYear(),p=g.getUTCMonth(),w=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,ft=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,b=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,et=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,ot=r[this.o.language].today||r.en.today||"",st=r[this.o.language].clear||r.en.clear||"",y,e,k,c,s,h,o,l,it,rt,ut,a,v;if(!isNaN(f)&&!isNaN(p)){for(this.picker.find(".datepicker-days thead th.datepicker-switch").text(r[this.o.language].months[p]+" "+f),this.picker.find("tfoot th.today").text(ot).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(st).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths(),e=u(f,p-1,28),k=i.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),e.setUTCDate(k),e.setUTCDate(k-(e.getUTCDay()-this.o.weekStart+7)%7),c=new Date(e),c.setUTCDate(c.getUTCDate()+42),c=c.valueOf(),s=[];e.valueOf()<c;){if(e.getUTCDay()===this.o.weekStart&&(s.push("<tr>"),this.o.calendarWeeks)){var nt=new Date(+e+(this.o.weekStart-e.getUTCDay()-7)%7*864e5),tt=new Date(Number(nt)+(11-nt.getUTCDay())%7*864e5),d=new Date(Number(d=u(tt.getUTCFullYear(),0,1))+(11-d.getUTCDay())%7*864e5),ht=(tt-d)/6048e5+1;s.push('<td class="cw">'+ht+"<\/td>")}h=this.getClassNames(e);h.push("day");this.o.beforeShowDay!==n.noop&&(o=this.o.beforeShowDay(this._utc_to_local(e)),o===t?o={}:typeof o=="boolean"?o={enabled:o}:typeof o=="string"&&(o={classes:o}),o.enabled===!1&&h.push("disabled"),o.classes&&(h=h.concat(o.classes.split(/\s+/))),o.tooltip&&(y=o.tooltip));h=n.unique(h);s.push('<td class="'+h.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+e.getUTCDate()+"<\/td>");y=null;e.getUTCDay()===this.o.weekEnd&&s.push("<\/tr>");e.setUTCDate(e.getUTCDate()+1)}for(this.picker.find(".datepicker-days tbody").empty().append(s.join("")),l=this.picker.find(".datepicker-months").find("th:eq(1)").text(f).end().find("span").removeClass("active"),n.each(this.dates,function(n,t){t.getUTCFullYear()===f&&l.eq(t.getUTCMonth()).addClass("active")}),(f<w||f>b)&&l.addClass("disabled"),f===w&&l.slice(0,ft).addClass("disabled"),f===b&&l.slice(et+1).addClass("disabled"),this.o.beforeShowMonth!==n.noop&&(it=this,n.each(l,function(t,i){if(!n(i).hasClass("disabled")){var r=new Date(f,t,1),u=it.o.beforeShowMonth(r);u===!1&&n(i).addClass("disabled")}})),s="",f=parseInt(f/10,10)*10,rt=this.picker.find(".datepicker-years").find("th:eq(1)").text(f+"-"+(f+9)).end().find("td"),f-=1,ut=n.map(this.dates,function(n){return n.getUTCFullYear()}),v=-1;v<11;v++)a=["year"],v===-1?a.push("old"):v===10&&a.push("new"),n.inArray(f,ut)!==-1&&a.push("active"),(f<w||f>b)&&a.push("disabled"),s+='<span class="'+a.join(" ")+'">'+f+"<\/span>",f+=1;rt.html(s)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var r,e,f,o,c,s,l,h;if(t.preventDefault(),r=n(t.target).closest("span, td, th"),r.length===1)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":c=i.modes[this.viewMode].navStep*(r[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,c);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,c);this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":s=new Date;s=u(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0);this.showMode(-2);l=this.o.todayBtn==="linked"?null:"view";this._setDate(s,l);break;case"clear":this.isInput?h=this.element:this.component&&(h=this.element.find("input"));h&&h.val("").change();this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(o=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1&&this._setDate(u(e,f,o))):(o=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(u(e,f,o))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(o=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.is(".old")?f===0?(f=11,e-=1):f-=1:r.is(".new")&&(f===11?(f=0,e+=1):f+=1),this._setDate(u(e,f,o)))}this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(n)):this.dates.push(n),typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(n,t){t&&t!=="date"||this._toggle_multidate(n&&new Date(n));t&&t!=="view"||(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&t==="view"||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input"));i&&i.change();this.o.autoclose&&(!t||t==="date")&&this.hide()},moveMonth:function(n,i){var e;if(!n)return t;if(!i)return n;var r=new Date(n.valueOf()),o=r.getUTCDate(),s=r.getUTCMonth(),h=Math.abs(i),u,f;if(i=i>0?1:-1,h===1)f=i===-1?function(){return r.getUTCMonth()===s}:function(){return r.getUTCMonth()!==u},u=s+i,r.setUTCMonth(u),(u<0||u>11)&&(u=(u+12)%12);else{for(e=0;e<h;e++)r=this.moveMonth(r,i);u=r.getUTCMonth();r.setUTCDate(o);f=function(){return u!==r.getUTCMonth()}}while(f())r.setUTCDate(--o),r.setUTCMonth(u);return r},moveYear:function(n,t){return this.moveMonth(n,t*12)},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){var o,t,u,i,r,f;if(this.picker.is(":not(:visible)")){n.keyCode===27&&this.show();return}o=!1;r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=n.keyCode===37?-1:1;n.ctrlKey?(u=this.moveYear(this.dates.get(-1)||e(),t),i=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):n.shiftKey?(u=this.moveMonth(this.dates.get(-1)||e(),t),i=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(u=new Date(this.dates.get(-1)||e()),u.setUTCDate(u.getUTCDate()+t),i=new Date(r),i.setUTCDate(r.getUTCDate()+t));this.dateWithinRange(i)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),n.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=n.keyCode===38?-1:1;n.ctrlKey?(u=this.moveYear(this.dates.get(-1)||e(),t),i=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):n.shiftKey?(u=this.moveMonth(this.dates.get(-1)||e(),t),i=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(u=new Date(this.dates.get(-1)||e()),u.setUTCDate(u.getUTCDate()+t*7),i=new Date(r),i.setUTCDate(r.getUTCDate()+t*7));this.dateWithinRange(i)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),n.preventDefault());break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(r),o=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),typeof n.stopPropagation=="function"?n.stopPropagation():n.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}o&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+n)));this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};s=function(t,i){this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;n(this.inputs).datepicker(i).bind("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};s.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var e=n(t.target).data("datepicker"),i=e.getUTCDate(),f=n.inArray(t.target,this.inputs),r=f-1,u=f+1,o=this.inputs.length;if(f!==-1){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])while(r>=0&&i<this.dates[r])this.pickers[r--].setUTCDate(i);else if(i>this.dates[u])while(u<o&&i>this.dates[u])this.pickers[u++].setUTCDate(i);this.updateDates();delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};l=n.fn.datepicker;n.fn.datepicker=function(i){var u=Array.apply(null,arguments),r;return u.shift(),this.each(function(){var h=n(this),e=h.data("datepicker"),l=typeof i=="object"&&i,v;if(!e){var a=y(this,"date"),w=n.extend({},o,a,l),b=p(w.language),c=n.extend({},o,b,a,l);h.is(".input-daterange")||c.inputs?(v={inputs:c.inputs||h.find("input").toArray()},h.data("datepicker",e=new s(this,n.extend(c,v)))):h.data("datepicker",e=new f(this,c))}if(typeof i=="string"&&typeof e[i]=="function"&&(r=e[i].apply(e,u),r!==t))return!1}),r!==t?r:this};o=n.fn.datepicker.defaults={autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,container:"body"};a=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=f;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(n){var t=n.replace(this.validParts,'\0').split('\0'),i=n.match(this.validParts);if(!t||!t.length||!i||i.length===0)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,o,s){function tt(){var n=this.slice(0,c[h].length),t=c[h].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var nt,c,v,y,h,a,it,d,w;if(!e)return t;if(e instanceof Date)return e;if(typeof o=="string"&&(o=i.parseFormat(o)),nt=/([\-+]\d+)([dmwy])/,c=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,h=0;h<c.length;h++){v=nt.exec(c[h]);y=parseInt(v[1]);switch(v[2]){case"d":e.setUTCDate(e.getUTCDate()+y);break;case"m":e=f.prototype.moveMonth.call(f.prototype,e,y);break;case"w":e.setUTCDate(e.getUTCDate()+y*7);break;case"y":e=f.prototype.moveYear.call(f.prototype,e,y)}}return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}c=e&&e.match(this.nonpunctuation)||[];e=new Date;var b={},g=["yyyy","yy","M","MM","m","mm","d","dd"],l={yyyy:function(n,t){return n.setUTCFullYear(t)},yy:function(n,t){return n.setUTCFullYear(2e3+t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}},p,k;if(l.M=l.MM=l.mm=l.m,l.dd=l.d,e=u(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),a=o.parts.slice(),c.length!==a.length&&(a=n(a).filter(function(t,i){return n.inArray(i,g)!==-1}).toArray()),c.length===a.length){for(h=0,it=a.length;h<it;h++){if(p=parseInt(c[h],10),v=a[h],isNaN(p))switch(v){case"MM":k=n(r[s].months).filter(tt);p=n.inArray(k[0],r[s].months)+1;break;case"M":k=n(r[s].monthsShort).filter(tt);p=n.inArray(k[0],r[s].monthsShort)+1}b[v]=p}for(h=0;h<g.length;h++)w=g[h],w in b&&!isNaN(b[w])&&(d=new Date(e),l[w](d,b[w]),isNaN(d)||(e=d))}return e},formatDate:function(t,u,f){var e,s,o,h;if(!t)return"";for(typeof u=="string"&&(u=i.parseFormat(u)),e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()},e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,t=[],s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">&#187;<\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=l,this};n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),i.datepicker("show"))});n(function(){n('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery);$.navAsAjax=!1;$.sound_path="../../sound/";$.sound_on=!0;var throttle_delay=350,menu_speed=235,enableJarvisWidgets=!0,enableMobileWidgets=!1,fastClick=!0,ignore_key_elms=["#header, #left-panel, #main, div.page-footer, #shortcut, #divSmallBoxes, #divMiniIcons, #divbigBoxes, #voiceModal, script"],voice_command=!0,voice_command_auto=!1,voice_command_lang="en-US",voice_localStorage=!0;voice_command&&(commands={"show dashboard":function(){$('nav a[href="dashboard.html"]').trigger("click")},"show inbox":function(){$('nav a[href="inbox.html"]').trigger("click")},"show graphs":function(){$('nav a[href="flot.html"]').trigger("click")},"show flotchart":function(){$('nav a[href="flot.html"]').trigger("click")},"show morris chart":function(){$('nav a[href="morris.html"]').trigger("click")},"show inline chart":function(){$('nav a[href="inline-charts.html"]').trigger("click")},"show dygraphs":function(){$('nav a[href="dygraphs.html"]').trigger("click")},"show tables":function(){$('nav a[href="table.html"]').trigger("click")},"show data table":function(){$('nav a[href="datatables.html"]').trigger("click")},"show jquery grid":function(){$('nav a[href="jqgrid.html"]').trigger("click")},"show form":function(){$('nav a[href="form-elements.html"]').trigger("click")},"show form layouts":function(){$('nav a[href="form-templates.html"]').trigger("click")},"show form validation":function(){$('nav a[href="validation.html"]').trigger("click")},"show form elements":function(){$('nav a[href="bootstrap-forms.html"]').trigger("click")},"show form plugins":function(){$('nav a[href="plugins.html"]').trigger("click")},"show form wizards":function(){$('nav a[href="wizards.html"]').trigger("click")},"show bootstrap editor":function(){$('nav a[href="other-editors.html"]').trigger("click")},"show dropzone":function(){$('nav a[href="dropzone.html"]').trigger("click")},"show image cropping":function(){$('nav a[href="image-editor.html"]').trigger("click")},"show general elements":function(){$('nav a[href="general-elements.html"]').trigger("click")},"show buttons":function(){$('nav a[href="buttons.html"]').trigger("click")},"show fontawesome":function(){$('nav a[href="fa.html"]').trigger("click")},"show glyph icons":function(){$('nav a[href="glyph.html"]').trigger("click")},"show flags":function(){$('nav a[href="flags.html"]').trigger("click")},"show grid":function(){$('nav a[href="grid.html"]').trigger("click")},"show tree view":function(){$('nav a[href="treeview.html"]').trigger("click")},"show nestable lists":function(){$('nav a[href="nestable-list.html"]').trigger("click")},"show jquery U I":function(){$('nav a[href="jqui.html"]').trigger("click")},"show typography":function(){$('nav a[href="typography.html"]').trigger("click")},"show calendar":function(){$('nav a[href="calendar.html"]').trigger("click")},"show widgets":function(){$('nav a[href="widgets.html"]').trigger("click")},"show gallery":function(){$('nav a[href="gallery.html"]').trigger("click")},"show maps":function(){$('nav a[href="gmap-xml.html"]').trigger("click")},"show pricing tables":function(){$('nav a[href="pricing-table.html"]').trigger("click")},"show invoice":function(){$('nav a[href="invoice.html"]').trigger("click")},"show search page":function(){$('nav a[href="search.html"]').trigger("click")},"go back":function(){history.back(1)},"scroll up":function(){$("html, body").animate({scrollTop:0},100)},"scroll down":function(){$("html, body").animate({scrollTop:$(document).height()},100)},"hide navigation":function(){$.root_.hasClass("container")&&!$.root_.hasClass("menu-on-top")?$("span.minifyme").trigger("click"):$("#hide-menu > span > a").trigger("click")},"show navigation":function(){$.root_.hasClass("container")&&!$.root_.hasClass("menu-on-top")?$("span.minifyme").trigger("click"):$("#hide-menu > span > a").trigger("click")},mute:function(){$.sound_on=!1;$.smallBox({title:"MUTE",content:"All sounds have been muted!",color:"#a90329",timeout:4e3,icon:"fa fa-volume-off"})},"sound on":function(){$.sound_on=!0;$.speechApp.playConfirmation();$.smallBox({title:"UNMUTE",content:"All sounds have been turned on!",color:"#40ac2b",sound_file:"voice_alert",timeout:5e3,icon:"fa fa-volume-up"})},stop:function(){smartSpeechRecognition.abort();$.root_.removeClass("voice-command-active");$.smallBox({title:"VOICE COMMAND OFF",content:"Your voice commands has been successfully turned off. Click on the <i class='fa fa-microphone fa-lg fa-fw'><\/i> icon to turn it back on.",color:"#40ac2b",sound_file:"voice_off",timeout:8e3,icon:"fa fa-microphone-slash"});$("#speech-btn .popover").is(":visible")&&$("#speech-btn .popover").fadeOut(250)},help:function(){$("#voiceModal").removeData("modal").modal({remote:"ajax/modal-content/modal-voicecommand.html",show:!0});$("#speech-btn .popover").is(":visible")&&$("#speech-btn .popover").fadeOut(250)},"got it":function(){$("#voiceModal").modal("hide")},logout:function(){$.speechApp.stop();window.location=$("#logout > span > a").attr("href")}});$.sound_path="sound/";$.sound_on=!0;jQuery(document).ready(function(){$("body").append("<div id='divSmallBoxes'><\/div>");$("body").append("<div id='divMiniIcons'><\/div><div id='divbigBoxes'><\/div>")});var ExistMsg=0,SmartMSGboxCount=0,PrevTop=0;$.SmartMessageBox=function(n,t){var h,r,c,e,f,s,u,o,i;if(n=$.extend({title:"",content:"",NormalButton:undefined,ActiveButton:undefined,buttons:undefined,input:undefined,inputValue:undefined,placeholder:"",options:undefined},n),c=0,c=1,isIE8orlower()==0&&(e=document.createElement("audio"),e.setAttribute("src",$.sound_path+"messagebox.mp3"),$.get(),e.addEventListener("load",function(){e.play()},!0),$.sound_on&&(e.pause(),e.play())),SmartMSGboxCount=SmartMSGboxCount+1,ExistMsg==0&&(ExistMsg=1,h="<div class='divMessageBox animated fadeIn fast' id='MsgBoxBack'><\/div>",$("body").append(h),isIE8orlower()==1&&$("#MsgBoxBack").addClass("MessageIE")),f="",s=0,n.input!=undefined){s=1;n.input=n.input.toLowerCase();switch(n.input){case"text":n.inputValue=$.type(n.inputValue)==="string"?n.inputValue.replace(/'/g,"&#x27;"):n.inputValue;f="<input class='form-control' type='"+n.input+"' id='txt"+SmartMSGboxCount+"' placeholder='"+n.placeholder+"' value='"+n.inputValue+"'/><br/><br/>";break;case"password":f="<input class='form-control' type='"+n.input+"' id='txt"+SmartMSGboxCount+"' placeholder='"+n.placeholder+"'/><br/><br/>";break;case"select":if(n.options==undefined)alert("For this type of input, the options parameter is required.");else{for(f="<select class='form-control' id='txt"+SmartMSGboxCount+"'>",i=0;i<=n.options.length-1;i++)n.options[i]=="["?u="":n.options[i]=="]"?(o=o+1,u="<option>"+u+"<\/option>",f+=u):u+=n.options[i];f+="<\/select>"}break;default:alert("That type of input is not handled yet")}}for(r="<div class='MessageBoxContainer animated fadeIn fast' id='Msg"+SmartMSGboxCount+"'>",r+="<div class='MessageBoxMiddle'>",r+="<span class='MsgTitle'>"+n.title+"<\/span class='MsgTitle'>",r+="<p class='pText'>"+n.content+"<\/p>",r+=f,r+="<div class='MessageBoxButtonSection'>",n.buttons==undefined&&(n.buttons="[Accept]"),n.buttons=$.trim(n.buttons),n.buttons=n.buttons.split(""),u="",o=0,n.NormalButton==undefined&&(n.NormalButton="#232323"),n.ActiveButton==undefined&&(n.ActiveButton="#ed145b"),i=0;i<=n.buttons.length-1;i++)n.buttons[i]=="["?u="":n.buttons[i]=="]"?(o=o+1,u="<button id='bot"+o+"-Msg"+SmartMSGboxCount+"' class='btn btn-default btn-sm botTempo'> "+u+"<\/button>",r+=u):u+=n.buttons[i];r+="<\/div>";r+="<\/div>";r+="<\/div>";SmartMSGboxCount>1&&($(".MessageBoxContainer").hide(),$(".MessageBoxContainer").css("z-index",99999));$(".divMessageBox").append(r);s==1&&$("#txt"+SmartMSGboxCount).focus();$(".botTempo").hover(function(){var n=$(this).attr("id")},function(){var n=$(this).attr("id")});$(".botTempo").click(function(){var n=$(this).attr("id"),i=n.substr(n.indexOf("-")+1),r=$.trim($(this).text()),u,f;s==1?typeof t=="function"&&(u=i.replace("Msg",""),f=$("#txt"+u).val(),t&&t(r,f)):typeof t=="function"&&t&&t(r);$("#"+i).addClass("animated fadeOut fast");SmartMSGboxCount=SmartMSGboxCount-1;SmartMSGboxCount==0&&$("#MsgBoxBack").removeClass("fadeIn").addClass("fadeOut").delay(300).queue(function(){ExistMsg=0;$(this).remove()})})};BigBoxes=0;$.bigBox=function(n,t){var i,r,f;n=$.extend({title:"",content:"",icon:undefined,number:undefined,color:undefined,sound:$.sound_on,sound_file:"bigbox",timeout:undefined,colortime:1500,colors:undefined},n);n.sound==!0&&isIE8orlower()==0&&(r=document.createElement("audio"),navigator.userAgent.match("Firefox/")?r.setAttribute("src",$.sound_path+n.sound_file+".ogg"):r.setAttribute("src",$.sound_path+n.sound_file+".mp3"),$.get(),r.addEventListener("load",function(){r.play()},!0),$.sound_on&&(r.pause(),r.play()));BigBoxes=BigBoxes+1;i="<div id='bigBox"+BigBoxes+"' class='bigBox animated fadeIn fast'><div id='bigBoxColor"+BigBoxes+"'><i class='botClose fa fa-times' id='botClose"+BigBoxes+"'><\/i>";i+="<span>"+n.title+"<\/span>";i+="<p>"+n.content+"<\/p>";i+="<div class='bigboxicon'>";n.icon==undefined&&(n.icon="fa fa-cloud");i+="<i class='"+n.icon+"'><\/i>";i+="<\/div>";i+="<div class='bigboxnumber'>";n.number!=undefined&&(i+=n.number);i+="<\/div><\/div>";i+="<\/div>";$("#divbigBoxes").append(i);n.color==undefined&&(n.color="#004d60");$("#bigBox"+BigBoxes).css("background-color",n.color);$("#divMiniIcons").append("<div id='miniIcon"+BigBoxes+"' class='cajita animated fadeIn' style='background-color: "+n.color+";'><i class='"+n.icon+"'/><\/i><\/div>");$("#miniIcon"+BigBoxes).bind("click",function(){var n=$(this).attr("id"),t=n.replace("miniIcon","bigBox"),i=n.replace("miniIcon","bigBoxColor");$(".cajita").each(function(){var n=$(this).attr("id"),t=n.replace("miniIcon","bigBox");$("#"+t).css("z-index",9998)});$("#"+t).css("z-index",9999);$("#"+i).removeClass("animated fadeIn").delay(1).queue(function(){$(this).show();$(this).addClass("animated fadeIn");$(this).clearQueue()})});var u=$("#botClose"+BigBoxes),o=$("#bigBox"+BigBoxes),s=$("#miniIcon"+BigBoxes),e;n.colors!=undefined&&n.colors.length>0&&(u.attr("colorcount","0"),e=setInterval(function(){var t=u.attr("colorcount");u.animate({backgroundColor:n.colors[t].color});o.animate({backgroundColor:n.colors[t].color});s.animate({backgroundColor:n.colors[t].color});t<n.colors.length-1?u.attr("colorcount",t*1+1):u.attr("colorcount",0)},n.colortime));u.bind("click",function(){clearInterval(e);typeof t=="function"&&t&&t();var n=$(this).attr("id"),i=n.replace("botClose","bigBox"),r=n.replace("botClose","miniIcon");$("#"+i).removeClass("fadeIn fast");$("#"+i).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue();$(this).remove()});$("#"+r).removeClass("fadeIn fast");$("#"+r).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue();$(this).remove()})});n.timeout!=undefined&&(f=BigBoxes,setTimeout(function(){clearInterval(e);$("#bigBox"+f).removeClass("fadeIn fast");$("#bigBox"+f).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue();$(this).remove()});$("#miniIcon"+f).removeClass("fadeIn fast");$("#miniIcon"+f).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue();$(this).remove()})},n.timeout))};var SmallBoxes=0,SmallCount=0,SmallBoxesAnchos=0;$.smallBox=function(n,t){var f,r,e,u,s,i,o;n=$.extend({title:"",content:"",icon:undefined,iconSmall:undefined,sound:$.sound_on,sound_file:"smallbox",color:undefined,timeout:undefined,colortime:1500,colors:undefined},n);n.sound==!0&&isIE8orlower()==0&&(r=document.createElement("audio"),navigator.userAgent.match("Firefox/")?r.setAttribute("src",$.sound_path+n.sound_file+".ogg"):r.setAttribute("src",$.sound_path+n.sound_file+".mp3"),$.get(),r.addEventListener("load",function(){r.play()},!0),$.sound_on&&(r.pause(),r.play()));SmallBoxes=SmallBoxes+1;f="";e="";u="smallbox"+SmallBoxes;e=n.iconSmall==undefined?"<div class='miniIcono'><\/div>":"<div class='miniIcono'><i class='miniPic "+n.iconSmall+"'><\/i><\/div>";f=n.icon==undefined?"<div id='smallbox"+SmallBoxes+"' class='SmallBox animated fadeInRight fast'><div class='textoFull'><span>"+n.title+"<\/span><p>"+n.content+"<\/p><\/div>"+e+"<\/div>":"<div id='smallbox"+SmallBoxes+"' class='SmallBox animated fadeInRight fast'><div class='foto'><i class='"+n.icon+"'><\/i><\/div><div class='textoFoto'><span>"+n.title+"<\/span><p>"+n.content+"<\/p><\/div>"+e+"<\/div>";SmallBoxes==1?($("#divSmallBoxes").append(f),SmallBoxesAnchos=$("#smallbox"+SmallBoxes).height()+40):(s=$(".SmallBox").size(),s==0?($("#divSmallBoxes").append(f),SmallBoxesAnchos=$("#smallbox"+SmallBoxes).height()+40):($("#divSmallBoxes").append(f),$("#smallbox"+SmallBoxes).css("top",SmallBoxesAnchos),SmallBoxesAnchos=SmallBoxesAnchos+$("#smallbox"+SmallBoxes).height()+20,$(".SmallBox").each(function(n){n==0?($(this).css("top",20),heightPrev=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).css("top",heightPrev),heightPrev=heightPrev+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})));i=$("#smallbox"+SmallBoxes);n.color==undefined?i.css("background-color","#004d60"):i.css("background-color",n.color);n.colors!=undefined&&n.colors.length>0&&(i.attr("colorcount","0"),o=setInterval(function(){var t=i.attr("colorcount");i.animate({backgroundColor:n.colors[t].color});t<n.colors.length-1?i.attr("colorcount",t*1+1):i.attr("colorcount",0)},n.colortime));n.timeout!=undefined&&setTimeout(function(){clearInterval(o);var n=$(this).height()+20,i=u,r=$("#"+u).css("top");if($("#"+u+":hover").length!=0)$("#"+u).on("mouseleave",function(){SmallBoxesAnchos=SmallBoxesAnchos-n;$("#"+u).remove();typeof t=="function"&&t&&t();var i=0;$(".SmallBox").each(function(n){n==0?($(this).animate({top:20},300),i=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({top:i},350),i=i+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})});else clearInterval(o),SmallBoxesAnchos=SmallBoxesAnchos-n,typeof t=="function"&&t&&t(),$("#"+u).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){$(this).remove();var n=0;$(".SmallBox").each(function(t){t==0?($(this).animate({top:20},300),n=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({top:n}),n=n+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})})},n.timeout);$("#smallbox"+SmallBoxes).bind("click",function(){clearInterval(o);typeof t=="function"&&t&&t();var n=$(this).height()+20,i=$(this).attr("id"),r=$(this).css("top");SmallBoxesAnchos=SmallBoxesAnchos-n;$(this).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){$(this).remove();var n=0;$(".SmallBox").each(function(t){t==0?($(this).animate({top:20},300),n=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({top:n},350),n=n+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})})})},function(n,t,i,r){function f(t,i){this.obj=n(t);this.o=n.extend({},n.fn[u].defaults,i);this.objId=this.obj.attr("id");this.pwCtrls=".jarviswidget-ctrls";this.widget=this.obj.find(this.o.widgets);this.toggleClass=this.o.toggleClass.split("|");this.editClass=this.o.editClass.split("|");this.fullscreenClass=this.o.fullscreenClass.split("|");this.customClass=this.o.customClass.split("|");this.init()}var u="jarvisWidgets";f.prototype={_settings:function(){var n=this;storage=!!function(){var t,n=+new Date;try{return localStorage.setItem(n,n),t=localStorage.getItem(n)==n,localStorage.removeItem(n),t}catch(i){}}()&&localStorage;storage&&n.o.localStorage&&(n.o.ajaxnav===!0?(widget_url=location.hash.replace(/^#/,""),keySettings="Plugin_settings_"+widget_url+"_"+n.objId,getKeySettings=localStorage.getItem(keySettings),keyPosition="Plugin_position_"+widget_url+"_"+n.objId,getKeyPosition=localStorage.getItem(keyPosition)):(keySettings="jarvisWidgets_settings_"+location.pathname+"_"+n.objId,getKeySettings=localStorage.getItem(keySettings),keyPosition="jarvisWidgets_position_"+location.pathname+"_"+n.objId,getKeyPosition=localStorage.getItem(keyPosition)));clickEvent="ontouchstart"in t||t.DocumentTouch&&i instanceof DocumentTouch?"touchstart":"click"},_runLoaderWidget:function(n){var t=this;t.o.indicator===!0&&n.parents(t.o.widgets).find(".jarviswidget-loader").stop(!0,!0).fadeIn(100).delay(t.o.indicatorTime).fadeOut(100)},_getPastTimestamp:function(n){var o=this,t=new Date(n),i=t.getMonth()+1,r=t.getDate(),s=t.getFullYear(),u=t.getHours(),f=t.getMinutes(),e=t.getUTCSeconds();return i<10&&(i="0"+i),r<10&&(r="0"+r),u<10&&(u="0"+u),f<10&&(f="0"+f),e<10&&(e="0"+e),o.o.timestampFormat.replace(/%d%/g,r).replace(/%m%/g,i).replace(/%y%/g,s).replace(/%h%/g,u).replace(/%i%/g,f).replace(/%s%/g,e)},_loadAjaxFile:function(t,i,r){var u=this;t.find(".widget-body").load(i,function(i,r,f){var o=n(this),e;r=="error"&&o.html('<h4 class="alert alert-danger">'+u.o.labelError+"<b> "+f.status+" "+f.statusText+"<\/b><\/h4>");r=="success"&&(e=t.find(u.o.timestampPlaceholder),e.length&&e.html(u._getPastTimestamp(new Date)),typeof u.o.afterLoad=="function"&&u.o.afterLoad.call(this,t))});u._runLoaderWidget(r)},_saveSettingsWidget:function(){var t=this,i;t._settings();storage&&t.o.localStorage&&(i=[],t.obj.find(t.o.widgets).each(function(){var t={};t.id=n(this).attr("id");t.style=n(this).attr("data-widget-attstyle");t.title=n(this).children("header").children("h2").text();t.hidden=n(this).is(":hidden")?1:0;t.collapsed=n(this).hasClass("jarviswidget-collapsed")?1:0;i.push(t)}),storeSettingsObj=JSON.stringify({widget:i}),getKeySettings!=storeSettingsObj&&localStorage.setItem(keySettings,storeSettingsObj));typeof t.o.onSave=="function"&&t.o.onSave.call(this,null,storeSettingsObj)},_savePositionWidget:function(){var t=this,r,i;t._settings();storage&&t.o.localStorage&&(r=[],t.obj.find(t.o.grid+".sortable-grid").each(function(){var i=[],u;n(this).children(t.o.widgets).each(function(){var t={};t.id=n(this).attr("id");i.push(t)});u={section:i};r.push(u)}),i=JSON.stringify({grid:r}),getKeyPosition!=i&&localStorage.setItem(keyPosition,i,null));typeof t.o.onSave=="function"&&t.o.onSave.call(this,i)},init:function(){var t=this,e,s,h,u,i,f,o;if(t._settings(),n("#"+t.objId).length||alert("It looks like your using a class instead of an ID, dont do that!"),t.o.rtl===!0&&n("body").addClass("rtl"),n(t.o.grid).each(function(){n(this).find(t.o.widgets).length&&n(this).addClass("sortable-grid")}),storage&&t.o.localStorage&&getKeyPosition){e=JSON.parse(getKeyPosition);for(i in e.grid){s=t.obj.find(t.o.grid+".sortable-grid").eq(i);for(h in e.grid[i].section)s.append(n("#"+e.grid[i].section[h].id))}}if(storage&&t.o.localStorage&&getKeySettings){u=JSON.parse(getKeySettings);for(i in u.widget)f=n("#"+u.widget[i].id),u.widget[i].style&&f.removeClassPrefix("jarviswidget-color-").addClass(u.widget[i].style).attr("data-widget-attstyle",""+u.widget[i].style+""),u.widget[i].hidden==1?f.hide(1):f.show(1).removeAttr("data-widget-hidden"),u.widget[i].collapsed==1&&f.addClass("jarviswidget-collapsed").children("div").hide(1),f.children("header").children("h2").text()!=u.widget[i].title&&f.children("header").children("h2").text(u.widget[i].title)}t.widget.each(function(){var i=n(this),u=n(this).children("header"),e,o,s,h,c,f,a,l,v;u.parent().attr("role")||(i.data("widget-hidden")===!0&&i.hide(),i.data("widget-collapsed")===!0&&i.addClass("jarviswidget-collapsed").children("div").hide(),e=t.o.customButton===!0&&i.data("widget-custombutton")===r&&t.customClass[0].length!==0?'<a href="javascript:void(0);" class="button-icon jarviswidget-custom-btn"><i class="'+t.customClass[0]+'"><\/i><\/a>':"",o=t.o.deleteButton===!0&&i.data("widget-deletebutton")===r?'<a href="javascript:void(0);" class="button-icon jarviswidget-delete-btn" rel="tooltip" title="Delete" data-placement="bottom"><i class="'+t.o.deleteClass+'"><\/i><\/a>':"",s=t.o.editButton===!0&&i.data("widget-editbutton")===r?'<a href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit Title" data-placement="bottom"><i class="'+t.editClass[0]+'"><\/i><\/a>':"",h=t.o.fullscreenButton===!0&&i.data("widget-fullscreenbutton")===r?'<a href="javascript:void(0);" class="button-icon jarviswidget-fullscreen-btn" rel="tooltip" title="Fullscreen" data-placement="bottom"><i class="'+t.fullscreenClass[0]+'"><\/i><\/a>':"",t.o.colorButton===!0&&i.data("widget-colorbutton")===r?(c='<a data-toggle="dropdown" class="dropdown-toggle color-box selector" href="javascript:void(0);"><\/a><ul class="dropdown-menu arrow-box-up-right color-select pull-right"><li><span class="bg-color-green" data-widget-setstyle="jarviswidget-color-green" rel="tooltip" data-placement="left" data-original-title="Green Grass"><\/span><\/li><li><span class="bg-color-greenDark" data-widget-setstyle="jarviswidget-color-greenDark" rel="tooltip" data-placement="top" data-original-title="Dark Green"><\/span><\/li><li><span class="bg-color-greenLight" data-widget-setstyle="jarviswidget-color-greenLight" rel="tooltip" data-placement="top" data-original-title="Light Green"><\/span><\/li><li><span class="bg-color-purple" data-widget-setstyle="jarviswidget-color-purple" rel="tooltip" data-placement="top" data-original-title="Purple"><\/span><\/li><li><span class="bg-color-magenta" data-widget-setstyle="jarviswidget-color-magenta" rel="tooltip" data-placement="top" data-original-title="Magenta"><\/span><\/li><li><span class="bg-color-pink" data-widget-setstyle="jarviswidget-color-pink" rel="tooltip" data-placement="right" data-original-title="Pink"><\/span><\/li><li><span class="bg-color-pinkDark" data-widget-setstyle="jarviswidget-color-pinkDark" rel="tooltip" data-placement="left" data-original-title="Fade Pink"><\/span><\/li><li><span class="bg-color-blueLight" data-widget-setstyle="jarviswidget-color-blueLight" rel="tooltip" data-placement="top" data-original-title="Light Blue"><\/span><\/li><li><span class="bg-color-teal" data-widget-setstyle="jarviswidget-color-teal" rel="tooltip" data-placement="top" data-original-title="Teal"><\/span><\/li><li><span class="bg-color-blue" data-widget-setstyle="jarviswidget-color-blue" rel="tooltip" data-placement="top" data-original-title="Ocean Blue"><\/span><\/li><li><span class="bg-color-blueDark" data-widget-setstyle="jarviswidget-color-blueDark" rel="tooltip" data-placement="top" data-original-title="Night Sky"><\/span><\/li><li><span class="bg-color-darken" data-widget-setstyle="jarviswidget-color-darken" rel="tooltip" data-placement="right" data-original-title="Night"><\/span><\/li><li><span class="bg-color-yellow" data-widget-setstyle="jarviswidget-color-yellow" rel="tooltip" data-placement="left" data-original-title="Day Light"><\/span><\/li><li><span class="bg-color-orange" data-widget-setstyle="jarviswidget-color-orange" rel="tooltip" data-placement="bottom" data-original-title="Orange"><\/span><\/li><li><span class="bg-color-orangeDark" data-widget-setstyle="jarviswidget-color-orangeDark" rel="tooltip" data-placement="bottom" data-original-title="Dark Orange"><\/span><\/li><li><span class="bg-color-red" data-widget-setstyle="jarviswidget-color-red" rel="tooltip" data-placement="bottom" data-original-title="Red Rose"><\/span><\/li><li><span class="bg-color-redLight" data-widget-setstyle="jarviswidget-color-redLight" rel="tooltip" data-placement="bottom" data-original-title="Light Red"><\/span><\/li><li><span class="bg-color-white" data-widget-setstyle="jarviswidget-color-white" rel="tooltip" data-placement="right" data-original-title="Purity"><\/span><\/li><li><a href="javascript:void(0);" class="jarviswidget-remove-colors" data-widget-setstyle="" rel="tooltip" data-placement="bottom" data-original-title="Reset widget color to default">Remove<\/a><\/li><\/ul>',u.prepend('<div class="widget-toolbar">'+c+"<\/div>")):c="",t.o.toggleButton===!0&&i.data("widget-togglebutton")===r?(a=i.data("widget-collapsed")===!0||i.hasClass("jarviswidget-collapsed")?t.toggleClass[1]:t.toggleClass[0],f='<a href="javascript:void(0);" class="button-icon jarviswidget-toggle-btn" rel="tooltip" title="Collapse" data-placement="bottom"><i class="'+a+'"><\/i><\/a>'):f="",l=t.o.refreshButton===!0&&i.data("widget-refreshbutton")!==!1&&i.data("widget-load")?'<a href="javascript:void(0);" class="button-icon jarviswidget-refresh-btn" data-loading-text="&nbsp;&nbsp;Loading...&nbsp;" rel="tooltip" title="Refresh" data-placement="bottom"><i class="'+t.o.refreshButtonClass+'"><\/i><\/a>':"",v=t.o.buttonOrder.replace(/%refresh%/g,l).replace(/%delete%/g,o).replace(/%custom%/g,e).replace(/%fullscreen%/g,h).replace(/%edit%/g,s).replace(/%toggle%/g,f),(l!==""||o!==""||e!==""||h!==""||s!==""||f!=="")&&u.prepend('<div class="jarviswidget-ctrls">'+v+"<\/div>"),t.o.sortable===!0&&i.data("widget-sortable")===r&&i.addClass("jarviswidget-sortable"),i.find(t.o.editPlaceholder).length&&i.find(t.o.editPlaceholder).find("input").val(n.trim(u.children("h2").text())),u.append('<span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"><\/i><\/span>'),i.attr("role","widget").children("div").attr("role","content").prev("header").attr("role","heading").children("div").attr("role","menu"))});t.o.buttonsHidden===!0&&n(t.o.pwCtrls).hide();n(".jarviswidget header [rel=tooltip]").tooltip();t.obj.find("[data-widget-load]").each(function(){var i=n(this),r=i.children(),u=i.data("widget-load"),f=i.data("widget-refresh")*1e3,e=i.children();i.find(".jarviswidget-ajax-placeholder").length||(i.children("widget-body").append('<div class="jarviswidget-ajax-placeholder">'+t.o.loadingLabel+"<\/div>"),i.data("widget-refresh")>0?(t._loadAjaxFile(i,u,r),n.intervalArr.push(setInterval(function(){t._loadAjaxFile(i,u,r)},f))):t._loadAjaxFile(i,u,r))});t.o.sortable===!0&&jQuery.ui&&(o=t.obj.find(".sortable-grid").not("[data-widget-excludegrid]"),o.sortable({items:o.find(".jarviswidget-sortable"),connectWith:o,placeholder:t.o.placeholderClass,cursor:"move",revert:!0,opacity:t.o.opacity,delay:200,cancel:".button-icon, #jarviswidget-fullscreen-mode > div",zIndex:1e4,handle:t.o.dragHandle,forcePlaceholderSize:!0,forceHelperSize:!0,update:function(n,i){t._runLoaderWidget(i.item.children());t._savePositionWidget();typeof t.o.onChange=="function"&&t.o.onChange.call(this,i.item)}}));t.o.buttonsHidden===!0&&t.widget.children("header").hover(function(){n(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,1)},function(){n(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,0)});t._clickEvents();n(t.o.deleteSettingsKey).on(clickEvent,this,function(n){if(storage&&t.o.localStorage){var i=confirm(t.o.settingsKeyLabel);i&&localStorage.removeItem(keySettings)}n.preventDefault()});n(t.o.deletePositionKey).on(clickEvent,this,function(n){if(storage&&t.o.localStorage){var i=confirm(t.o.positionKeyLabel);i&&localStorage.removeItem(keyPosition)}n.preventDefault()});storage&&t.o.localStorage&&((getKeySettings===null||getKeySettings.length<1)&&t._saveSettingsWidget(),(getKeyPosition===null||getKeyPosition.length<1)&&t._savePositionWidget())},_clickEvents:function(){function r(){if(n("#jarviswidget-fullscreen-mode").length){var r=n(t).height(),u=n("#jarviswidget-fullscreen-mode").find(i.o.widgets).children("header").height();n("#jarviswidget-fullscreen-mode").find(i.o.widgets).children("div").height(r-u-15)}}var i=this;i._settings();i.widget.on(clickEvent,".jarviswidget-toggle-btn",function(t){var r=n(this),u=r.parents(i.o.widgets);i._runLoaderWidget(r);u.hasClass("jarviswidget-collapsed")?r.children().removeClass(i.toggleClass[1]).addClass(i.toggleClass[0]).parents(i.o.widgets).removeClass("jarviswidget-collapsed").children("[role=content]").slideDown(i.o.toggleSpeed,function(){i._saveSettingsWidget()}):r.children().removeClass(i.toggleClass[0]).addClass(i.toggleClass[1]).parents(i.o.widgets).addClass("jarviswidget-collapsed").children("[role=content]").slideUp(i.o.toggleSpeed,function(){i._saveSettingsWidget()});typeof i.o.onToggle=="function"&&i.o.onToggle.call(this,u);t.preventDefault()});i.widget.on(clickEvent,".jarviswidget-fullscreen-btn",function(t){var u=n(this).parents(i.o.widgets),f=u.children("div");i._runLoaderWidget(n(this));n("#jarviswidget-fullscreen-mode").length?(n(".nooverflow").removeClass("nooverflow"),u.unwrap("<div>").children("div").removeAttr("style").end().find(".jarviswidget-fullscreen-btn").children().removeClass(i.fullscreenClass[1]).addClass(i.fullscreenClass[0]).parents(i.pwCtrls).children("a").show(),f.hasClass("jarviswidget-visible")&&f.hide().removeClass("jarviswidget-visible")):(n("body").addClass("nooverflow"),u.wrap('<div id="jarviswidget-fullscreen-mode"/>').parent().find(".jarviswidget-fullscreen-btn").children().removeClass(i.fullscreenClass[0]).addClass(i.fullscreenClass[1]).parents(i.pwCtrls).children("a:not(.jarviswidget-fullscreen-btn)").hide(),f.is(":hidden")&&f.show().addClass("jarviswidget-visible"));r();typeof i.o.onFullscreen=="function"&&i.o.onFullscreen.call(this,u);t.preventDefault()});n(t).resize(function(){r()});i.widget.on(clickEvent,".jarviswidget-edit-btn",function(t){var r=n(this).parents(i.o.widgets);i._runLoaderWidget(n(this));r.find(i.o.editPlaceholder).is(":visible")?n(this).children().removeClass(i.editClass[1]).addClass(i.editClass[0]).parents(i.o.widgets).find(i.o.editPlaceholder).slideUp(i.o.editSpeed,function(){i._saveSettingsWidget()}):n(this).children().removeClass(i.editClass[0]).addClass(i.editClass[1]).parents(i.o.widgets).find(i.o.editPlaceholder).slideDown(i.o.editSpeed);typeof i.o.onEdit=="function"&&i.o.onEdit.call(this,r);t.preventDefault()});n(i.o.editPlaceholder).find("input").keyup(function(){n(this).parents(i.o.widgets).children("header").children("h2").text(n(this).val())});i.widget.on(clickEvent,"[data-widget-setstyle]",function(t){var r=n(this).data("widget-setstyle"),u="";n(this).parents(i.o.editPlaceholder).find("[data-widget-setstyle]").each(function(){u+=n(this).data("widget-setstyle")+" "});n(this).parents(i.o.widgets).attr("data-widget-attstyle",""+r+"").removeClassPrefix("jarviswidget-color-").addClass(r);i._runLoaderWidget(n(this));i._saveSettingsWidget();t.preventDefault()});i.widget.on(clickEvent,".jarviswidget-custom-btn",function(t){var r=n(this).parents(i.o.widgets);i._runLoaderWidget(n(this));n(this).children("."+i.customClass[0]).length?(n(this).children().removeClass(i.customClass[0]).addClass(i.customClass[1]),typeof i.o.customStart=="function"&&i.o.customStart.call(this,r)):(n(this).children().removeClass(i.customClass[1]).addClass(i.customClass[0]),typeof i.o.customEnd=="function"&&i.o.customEnd.call(this,r));i._saveSettingsWidget();t.preventDefault()});i.widget.on(clickEvent,".jarviswidget-delete-btn",function(t){var r=n(this).parents(i.o.widgets),u=r.attr("id"),f=r.children("header").children("h2").text();n.SmartMessageBox?n.SmartMessageBox({title:"<i class='fa fa-times' style='color:#ed1c24'><\/i> "+i.o.labelDelete+' "'+f+'"',content:"Warning: This action cannot be undone",buttons:"[No][Yes]"},function(t){t=="Yes"&&(i._runLoaderWidget(n(this)),n("#"+u).fadeOut(i.o.deleteSpeed,function(){n(this).remove();typeof i.o.onDelete=="function"&&i.o.onDelete.call(this,r)}))}):n("#"+u).fadeOut(i.o.deleteSpeed,function(){n(this).remove();typeof i.o.onDelete=="function"&&i.o.onDelete.call(this,r)});t.preventDefault()});i.widget.on(clickEvent,".jarviswidget-refresh-btn",function(t){var r=n(this).parents(i.o.widgets),e=r.data("widget-load"),u=r.children(),f=n(this);f.button("loading");u.addClass("widget-body-ajax-loading");setTimeout(function(){f.button("reset");u.removeClass("widget-body-ajax-loading");i._loadAjaxFile(r,e,u)},1e3);t.preventDefault()})},destroy:function(){var n=this;n.widget.off("click",n._clickEvents());n.obj.removeData(u)}};n.fn[u]=function(t){return this.each(function(){var r=n(this),i=r.data(u),e=typeof t=="object"&&t;i||r.data(u,i=new f(this,e));typeof t=="string"&&i[t]()})};n.fn[u].defaults={grid:"section",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"",settingsKeyLabel:"Reset settings?",deletePositionKey:"",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"min-10 | plus-10",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteClass:"trashcan-10",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"pencil-10 | delete-10",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fullscreen-10 | normalscreen-10",fullscreenDiff:3,onFullscreen:function(){},customButton:!0,customClass:"",customStart:function(){},customEnd:function(){},buttonOrder:"%refresh% %delete% %custom% %edit% %fullscreen% %toggle%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,loadingLabel:"loading...",timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"refresh-10",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:!0};n.fn.removeClassPrefix=function(t){return this.each(function(i,r){var u=r.className.split(" ").map(function(n){return n.indexOf(t)===0?"":n});r.className=n.trim(u.join(" "))}),this}}(jQuery,window,document);$.root_=$("body");$.intervalArr=[];var calc_navbar_height=function(){var n=null;return($("#header").length&&(n=$("#header").height()),n===null&&(n=$('<div id="header"><\/div>').height()),n===null)?49:n},navbar_height=calc_navbar_height,shortcut_dropdown=$("#shortcut"),bread_crumb=$("#ribbon ol.breadcrumb"),topmenu=!1,thisDevice=null,ismobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()),jsArray={},initApp=function(n){return n.addDeviceType=function(){if(ismobile){if($.root_.addClass("mobile-detected"),thisDevice="mobile",fastClick)return $.root_.addClass("needsclick"),FastClick.attach(document.body),!1}else return $.root_.addClass("desktop-detected"),thisDevice="desktop",!1},n.menuPos=function(){($.root_.hasClass("menu-on-top")||localStorage.getItem("sm-setmenu")=="top")&&(topmenu=!0,$.root_.addClass("menu-on-top"))},n.SmartActions=function(){var n={userLogout:function(n){function t(){window.location=n.attr("href")}$.SmartMessageBox({title:"<i class='fa fa-sign-out txt-color-orangeDark'><\/i> Logout <span class='txt-color-orangeDark'><strong>"+$("#show-shortcut").text()+"<\/strong><\/span> ?",content:n.data("logout-msg")||"You can improve your security further after logging out by closing this opened browser",buttons:"[No][Yes]"},function(n){n=="Yes"&&($.root_.addClass("animated fadeOutUp"),setTimeout(t,1e3))})},resetWidgets:function(n){$.widresetMSG=n.data("reset-msg");$.SmartMessageBox({title:"<i class='fa fa-refresh' style='color:green'><\/i> Clear Local Storage",content:$.widresetMSG||"Would you like to RESET all your saved widgets and clear LocalStorage?",buttons:"[No][Yes]"},function(n){n=="Yes"&&localStorage&&(localStorage.clear(),location.reload())})},launchFullscreen:function(n){$.root_.hasClass("full-screen")?($.root_.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):($.root_.addClass("full-screen"),n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen())},minifyMenu:function(n){$.root_.hasClass("menu-on-top")||($.root_.toggleClass("minified"),$.root_.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"),n.effect("highlight",{},500))},toggleMenu:function(){$.root_.hasClass("menu-on-top")?$.root_.hasClass("menu-on-top")&&$.root_.hasClass("mobile-view-activated")&&($("html").toggleClass("hidden-menu-mobile-lock"),$.root_.toggleClass("hidden-menu"),$.root_.removeClass("minified")):($("html").toggleClass("hidden-menu-mobile-lock"),$.root_.toggleClass("hidden-menu"),$.root_.removeClass("minified"))},toggleShortcut:function(){function n(){shortcut_dropdown.animate({height:"hide"},300,"easeOutCirc");$.root_.removeClass("shortcut-on")}function t(){shortcut_dropdown.animate({height:"show"},200,"easeOutCirc");$.root_.addClass("shortcut-on")}shortcut_dropdown.is(":visible")?n():t();shortcut_dropdown.find("a").click(function(t){t.preventDefault();window.location=$(this).attr("href");setTimeout(n,300)});$(document).mouseup(function(t){shortcut_dropdown.is(t.target)||shortcut_dropdown.has(t.target).length!==0||n()})}};$.root_.on("click",'[data-action="userLogout"]',function(t){var i=$(this);n.userLogout(i);t.preventDefault();i=null});$.root_.on("click",'[data-action="resetWidgets"]',function(t){var i=$(this);n.resetWidgets(i);t.preventDefault();i=null});$.root_.on("click",'[data-action="launchFullscreen"]',function(t){n.launchFullscreen(document.documentElement);t.preventDefault()});$.root_.on("click",'[data-action="minifyMenu"]',function(t){var i=$(this);n.minifyMenu(i);t.preventDefault();i=null});$.root_.on("click",'[data-action="toggleMenu"]',function(t){n.toggleMenu();t.preventDefault()});$.root_.on("click",'[data-action="toggleShortcut"]',function(t){n.toggleShortcut();t.preventDefault()})},n.leftNav=function(){topmenu||$("nav ul").jarvismenu({accordion:!0,speed:menu_speed,closedSign:'<em class="fa fa-plus-square-o"><\/em>',openedSign:'<em class="fa fa-minus-square-o"><\/em>'})},n.domReadyMisc=function(){$("[rel=tooltip]").length&&$("[rel=tooltip]").tooltip();$("#search-mobile").click(function(){$.root_.addClass("search-mobile")});$("#cancel-search-js").click(function(){$.root_.removeClass("search-mobile")});$("#activity").click(function(n){var t=$(this),i;t.find(".badge").hasClass("bg-color-red")&&(t.find(".badge").removeClassPrefix("bg-color-"),t.find(".badge").text("0"));t.next(".ajax-dropdown").is(":visible")?(t.next(".ajax-dropdown").fadeOut(150),t.removeClass("active")):(t.next(".ajax-dropdown").fadeIn(150),t.addClass("active"));i=t.next(".ajax-dropdown").find(".btn-group > .active > input").attr("id");t=null;i=null;n.preventDefault()});$('input[name="activity"]').change(function(){var n=$(this);url=n.attr("id");container=$(".ajax-notifications");loadURL(url,container);n=null});$(document).mouseup(function(n){$(".ajax-dropdown").is(n.target)||$(".ajax-dropdown").has(n.target).length!==0||($(".ajax-dropdown").fadeOut(150),$(".ajax-dropdown").prev().removeClass("active"))});$("button[data-btn-loading]").on("click",function(){var n=$(this);n.button("loading");setTimeout(function(){n.button("reset")},3e3);$this=null});$this=$("#activity > .badge");parseInt($this.text())>0&&($this.addClass("bg-color-red bounceIn animated"),$this=null)},n}({});if(function(n,t,i){function l(){h=t[e](function(){r.each(function(){var i,r,t=n(this),u=n.data(this,f);try{i=t.width()}catch(e){i=t.width}try{r=t.height()}catch(e){r=t.height}(i!==u.w||r!==u.h)&&t.trigger(s,[u.w=i,u.h=r])});l()},u[c])}var r=n([]),u=n.resize=n.extend(n.resize,{}),h,e="setTimeout",s="resize",f=s+"-special-event",c="delay",o="throttleWindow";u[c]=throttle_delay;u[o]=!0;n.event.special[s]={setup:function(){if(!u[o]&&this[e])return!1;var t=n(this);r=r.add(t);try{n.data(this,f,{w:t.width(),h:t.height()})}catch(i){n.data(this,f,{w:t.width,h:t.height})}r.length===1&&l()},teardown:function(){if(!u[o]&&this[e])return!1;var t=n(this);r=r.not(t);t.removeData(f);r.length||clearTimeout(h)},add:function(t){function s(t,u,e){var o=n(this),s=n.data(this,f);s.w=u!==i?u:o.width();s.h=e!==i?e:o.height();r.apply(this,arguments)}if(!u[o]&&this[e])return!1;var r;if(n.isFunction(t))return r=t,s;r=t.handler;t.handler=s}}}(jQuery,this),$("#main").resize(function(){$(window).width()<979?($.root_.addClass("mobile-view-activated"),$.root_.removeClass("minified")):$.root_.hasClass("mobile-view-activated")&&$.root_.removeClass("mobile-view-activated")}),ie=function(){for(var i,n=3,t=document.createElement("div"),r=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",r[0];);return n>4?n:i}(),$.fn.extend({jarvismenu:function(n){var t=$.extend({accordion:"true",speed:200,closedSign:"[+]",openedSign:"[-]"},n),i=$(this);i.find("li").each(function(){$(this).find("ul").size()!==0&&($(this).find("a:first").append("<b class='collapse-sign'>"+t.closedSign+"<\/b>"),$(this).find("a:first").attr("href")=="#"&&$(this).find("a:first").click(function(){return!1}))});i.find("li.active").each(function(){$(this).parents("ul").slideDown(t.speed);$(this).parents("ul").parent("li").find("b:first").html(t.openedSign);$(this).parents("ul").parent("li").addClass("open")});i.find("li a").click(function(){$(this).parent().find("ul").size()!==0&&(t.accordion&&($(this).parent().find("ul").is(":visible")||(parents=$(this).parent().parents("ul"),visible=i.find("ul:visible"),visible.each(function(n){var i=!0;parents.each(function(t){if(parents[t]==visible[n])return i=!1,!1});i&&$(this).parent().find("ul")!=visible[n]&&$(visible[n]).slideUp(t.speed,function(){$(this).parent("li").find("b:first").html(t.closedSign);$(this).parent("li").removeClass("open")})}))),$(this).parent().find("ul:first").is(":visible")&&!$(this).parent().find("ul:first").hasClass("active")?$(this).parent().find("ul:first").slideUp(t.speed,function(){$(this).parent("li").removeClass("open");$(this).parent("li").find("b:first").delay(t.speed).html(t.closedSign)}):$(this).parent().find("ul:first").slideDown(t.speed,function(){$(this).parent("li").addClass("open");$(this).parent("li").find("b:first").delay(t.speed).html(t.openedSign)}))})}}),jQuery.fn.doesExist=function(){return jQuery(this).length>0},($.navAsAjax||$(".google_maps"))&&(gMapsLoaded=!1,window.gMapsCallback=function(){gMapsLoaded=!0;$(window).trigger("gMapsLoaded")},window.loadGoogleMaps=function(){if(gMapsLoaded)return window.gMapsCallback();var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("src","http://maps.google.com/maps/api/js?sensor=false&callback=gMapsCallback");(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(n)}),$.navAsAjax){$("nav").length&&checkURL();$(document).on("click",'nav a[href!="#"]',function(n){n.preventDefault();var t=$(n.currentTarget);t.parent().hasClass("active")||t.attr("target")||($.root_.hasClass("mobile-view-activated")?($.root_.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"),window.setTimeout(function(){window.location.search?window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+t.attr("href"):window.location.hash=t.attr("href")},150)):window.location.search?window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+t.attr("href"):window.location.hash=t.attr("href"))});$(document).on("click",'nav a[target="_blank"]',function(n){n.preventDefault();var t=$(n.currentTarget);window.open(t.attr("href"))});$(document).on("click",'nav a[target="_top"]',function(n){n.preventDefault();var t=$(n.currentTarget);window.location=t.attr("href")});$(document).on("click",'nav a[href="#"]',function(n){n.preventDefault()});$(window).on("hashchange",function(){checkURL()})}$("body").on("click",function(n){$('[rel="popover"]').each(function(){$(this).is(n.target)||$(this).has(n.target).length!==0||$(".popover").has(n.target).length!==0||$(this).popover("hide")})});
/*! SmartAdmin - v1.4.1 - 2014-06-22 */
!function(n){var t=function(t,i){var r,u;this.element=n(t);this.picker=n('<div class="slider"><div class="slider-track"><div class="slider-selection"><\/div><div class="slider-handle"><\/div><div class="slider-handle"><\/div><\/div><div class="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div><\/div>').insertBefore(this.element).prepend(this.element);this.id=this.element.data("slider-id")||i.id;this.id&&(this.picker[0].id=this.id);"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);r=this.element.data("slider-tooltip")||i.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||i.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight";this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth());this.orientation="horizontal";this.stylePos="left";this.mousePos="pageX";this.sizePos="offsetWidth";this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||i.min;this.max=this.element.data("slider-max")||i.max;this.step=this.element.data("slider-step")||i.step;this.value=this.element.data("slider-value")||i.value;this.value[1]&&(this.range=!0);this.selection=this.element.data("slider-selection")||i.selection;this.selectionEl=this.picker.find(".slider-selection");"none"===this.selection&&this.selectionEl.addClass("hide");this.selectionElStyle=this.selectionEl[0].style;this.handle1=this.picker.find(".slider-handle:first");this.handle1Stype=this.handle1[0].style;this.handle2=this.picker.find(".slider-handle:last");this.handle2Stype=this.handle2[0].style;u=this.element.data("slider-handle")||i.handle;switch(u){case"round":this.handle1.addClass("round");this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle");this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min);this.diff=this.max-this.min;this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff];this.offset=this.picker.offset();this.size=this.picker[0][this.sizePos];this.formater=i.formater;this.layout();this.picker.on(this.touchCapable?{touchstart:n.proxy(this.mousedown,this)}:{mousedown:n.proxy(this.mousedown,this)});"show"===r?this.picker.on({mouseenter:n.proxy(this.showTooltip,this),mouseleave:n.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};t.prototype={constructor:t,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in");this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in");this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%";this.handle2Stype[this.stylePos]=this.percentage[1]+"%";"vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%");this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(t){var i,u,f,r;return this.touchCapable&&"touchstart"===t.type&&(t=t.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],i=this.getPercentage(t),this.range?(u=Math.abs(this.percentage[0]-i),f=Math.abs(this.percentage[1]-i),this.dragged=f>u?0:1):this.dragged=0,this.percentage[this.dragged]=i,this.layout(),n(document).on(this.touchCapable?{touchmove:n.proxy(this.mousemove,this),touchend:n.proxy(this.mouseup,this)}:{mousemove:n.proxy(this.mousemove,this),mouseup:n.proxy(this.mouseup,this)}),this.inDrag=!0,r=this.calculateValue(),this.element.trigger({type:"slideStart",value:r}).trigger({type:"slide",value:r}),!1},mousemove:function(n){var t,i;return this.touchCapable&&"touchmove"===n.type&&(n=n.originalEvent),t=this.getPercentage(n),this.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=t,this.layout(),i=this.calculateValue(),this.element.trigger({type:"slide",value:i}).data("value",i).prop("value",i),!1},mouseup:function(){n(document).off(this.touchCapable?{touchmove:this.mousemove,touchend:this.mouseup}:{mousemove:this.mousemove,mouseup:this.mouseup});this.inDrag=!1;0==this.over&&this.hideTooltip();this.element;var t=this.calculateValue();return this.element.trigger({type:"slideStop",value:t}).data("value",t).prop("value",t),!1},calculateValue:function(){var n;return this.range?(n=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=n):(n=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[n,this.value[1]]),n},getPercentage:function(n){this.touchCapable&&(n=n.touches[0]);var t=100*(n[this.mousePos]-this.offset[this.stylePos])/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(n){this.value=n;this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min);this.diff=this.max-this.min;this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff];this.layout()}};n.fn.slider=function(i,r){return this.each(function(){var f=n(this),u=f.data("slider"),e="object"==typeof i&&i;u||f.data("slider",u=new t(this,n.extend({},n.fn.slider.defaults,e)));"string"==typeof i&&u[i](r)})};n.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(n){return n}};n.fn.slider.Constructor=t}(window.jQuery);
/*! SmartAdmin - v1.4.1 - 2014-06-22 */
!function(n){var t=function(t,i){var t=n(t),u=this,e='li:has([data-toggle="tab"])',f=n.extend({},n.fn.bootstrapWizard.defaults,i),o=null,r=null;this.rebindClick=function(n,t){n.unbind("click",t).bind("click",t);(n.selector==".pager.wizard li.next"||n.selector==".pager.wizard li.previous")&&$(".pager.wizard li.next").bind("click",t)};this.fixNavigationButtons=function(){return o.length||(r.find("a:first").tab("show"),o=r.find(e+":first")),n(f.previousSelector,t).toggleClass("disabled",u.firstIndex()>=u.currentIndex()),n(f.nextSelector,t).toggleClass("disabled",u.currentIndex()>=u.navigationLength()),u.rebindClick(n(f.nextSelector,t),u.next),u.rebindClick(n(f.previousSelector,t),u.previous),u.rebindClick(n(f.lastSelector,t),u.last),u.rebindClick(n(f.firstSelector,t),u.first),f.onTabShow&&"function"==typeof f.onTabShow&&f.onTabShow(o,r,u.currentIndex())===!1?!1:void 0};this.currentIndex=function(){return r.find(e).index(o)};this.firstIndex=function(){return 0};this.lastIndex=function(){return u.navigationLength()};this.getIndex=function(n){return r.find(e).index(n)};this.nextIndex=function(){return r.find(e).index(o)+1};this.previousIndex=function(){return r.find(e).index(o)-1};this.navigationLength=function(){return r.find(e).length-1};this.activeTab=function(){return o};this.nextTab=function(){return r.find(e+":eq("+(u.currentIndex()+1)+")").length?r.find(e+":eq("+(u.currentIndex()+1)+")"):null};this.previousTab=function(){return u.currentIndex()<=0?null:r.find(e+":eq("+parseInt(u.currentIndex()-1)+")")};this.show=function(n){return t.find(e+":eq("+n+") a").tab("show")};this.disable=function(n){r.find(e+":eq("+n+")").addClass("disabled")};this.enable=function(n){r.find(e+":eq("+n+")").removeClass("disabled")};this.hide=function(n){r.find(e+":eq("+n+")").hide()};this.display=function(n){r.find(e+":eq("+n+")").show()};this.remove=function(t){var f=t[0],o="undefined"!=typeof t[1]?t[1]:!1,i=r.find(e+":eq("+f+")"),u;o&&(u=i.find("a").attr("href"),n(u).remove());i.remove()};r=t.find("ul:first",t);o=r.find(e+".active",t);r.hasClass(f.tabClass)||r.addClass(f.tabClass);f.onInit&&"function"==typeof f.onInit&&f.onInit(o,r,0);f.onShow&&"function"==typeof f.onShow&&f.onShow(o,r,u.nextIndex());u.fixNavigationButtons();n('a[data-toggle="tab"]',r).on("click",function(t){var i=r.find(e).index(n(t.currentTarget).parent(e));if(f.onTabClick&&"function"==typeof f.onTabClick&&f.onTabClick(o,r,u.currentIndex(),i)===!1)return!1});n('a[data-toggle="tab"]',r).on("shown shown.bs.tab",function(t){$element=n(t.target).parent();var i=r.find(e).index($element);return $element.hasClass("disabled")?!1:f.onTabChange&&"function"==typeof f.onTabChange&&f.onTabChange(o,r,u.currentIndex(),i)===!1?!1:(o=$element,void u.fixNavigationButtons())})};n.fn.bootstrapWizard=function(i){if("string"==typeof i){var r=Array.prototype.slice.call(arguments,1);return 1===r.length&&r.toString(),this.data("bootstrapWizard")[i](r)}return this.each(function(){var r=n(this),u;r.data("bootstrapWizard")||(u=new t(r,i),r.data("bootstrapWizard",u))})};n.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabChange:null,onTabClick:null,onTabShow:null}}(jQuery);
/*! SmartAdmin - v1.4.1 - 2014-06-22 */
!function(){var n,r,t,i;jQuery.browser||(jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.msie=!1,n=navigator.userAgent,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10),-1!=(t=n.indexOf("Opera"))?(jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=n.substring(t+6),-1!=(t=n.indexOf("Version"))&&(jQuery.browser.fullVersion=n.substring(t+8))):-1!=(t=n.indexOf("MSIE"))?(jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=n.substring(t+5)):-1!=(t=n.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=n.substring(t+7)):-1!=(t=n.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=n.substring(t+7),-1!=(t=n.indexOf("Version"))&&(jQuery.browser.fullVersion=n.substring(t+8))):-1!=(t=n.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=n.substring(t+8)):(r=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))&&(jQuery.browser.name=n.substring(r,t),jQuery.browser.fullVersion=n.substring(t+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName)),-1!=(i=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,i)),-1!=(i=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,i)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion)}(jQuery);
/*! SmartAdmin - v1.4.1 - 2014-06-22 */
FastClick.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android");FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(n){switch(n.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(n.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===n.type||n.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(n.className)};FastClick.prototype.needsFocus=function(n){switch(n.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(n.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!n.disabled&&!n.readOnly;default:return/\bneedsfocus\b/.test(n.className)}};FastClick.prototype.sendClick=function(n,t){var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();i=t.changedTouches[0];r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.forwardedTouchEvent=!0;n.dispatchEvent(r)};FastClick.prototype.focus=function(n){var t;this.deviceIsIOS&&n.setSelectionRange?(t=n.value.length,n.setSelectionRange(t,t)):n.focus()};FastClick.prototype.updateScrollParent=function(n){var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t;n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)};FastClick.prototype.getTargetElementFromEventTarget=function(n){return n.nodeType===Node.TEXT_NODE?n.parentNode:n};FastClick.prototype.onTouchStart=function(n){var i,t,r;if(1<n.targetTouches.length)return!0;if(i=this.getTargetElementFromEventTarget(n.target),t=n.targetTouches[0],this.deviceIsIOS){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!this.deviceIsIOS4){if(t.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=t.identifier;this.updateScrollParent(i)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=i,this.touchStartX=t.pageX,this.touchStartY=t.pageY,200>n.timeStamp-this.lastClickTime&&n.preventDefault(),!0};FastClick.prototype.touchHasMoved=function(n){return n=n.changedTouches[0],10<Math.abs(n.pageX-this.touchStartX)||10<Math.abs(n.pageY-this.touchStartY)?!0:!1};FastClick.prototype.findControl=function(n){return void 0!==n.control?n.control:n.htmlFor?document.getElementById(n.htmlFor):n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(n){var i,r,t;if(t=this.targetElement,this.touchHasMoved(n)&&(this.trackingClick=!1,this.targetElement=null),!this.trackingClick)return!0;if(200>n.timeStamp-this.lastClickTime)return this.cancelNextClick=!0;if(this.lastClickTime=n.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(t=n.changedTouches[0],t=document.elementFromPoint(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset)),r=t.tagName.toLowerCase(),"label"===r){if(i=this.findControl(t)){if(this.focus(t),this.deviceIsAndroid)return!1;t=i}}else if(this.needsFocus(t))return 100<n.timeStamp-i||this.deviceIsIOS&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(t),this.deviceIsIOS4&&"select"===r||(this.targetElement=null,n.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(i=t.fastClickScrollParent)&&i.fastClickLastScrollTop!==i.scrollTop?!0:(this.needsClick(t)||(n.preventDefault(),this.sendClick(t,n)),!1)};FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};FastClick.prototype.onMouse=function(n){return this.targetElement&&!n.forwardedTouchEvent&&n.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(n.stopImmediatePropagation?n.stopImmediatePropagation():n.propagationStopped=!0,n.stopPropagation(),n.preventDefault(),!1):!0};FastClick.prototype.onClick=function(n){return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===n.target.type&&0===n.detail?!0:(n=this.onMouse(n),n||(this.targetElement=null),n)};FastClick.prototype.destroy=function(){var n=this.layer;this.deviceIsAndroid&&(n.removeEventListener("mouseover",this.onMouse,!0),n.removeEventListener("mousedown",this.onMouse,!0),n.removeEventListener("mouseup",this.onMouse,!0));n.removeEventListener("click",this.onClick,!0);n.removeEventListener("touchstart",this.onTouchStart,!1);n.removeEventListener("touchend",this.onTouchEnd,!1);n.removeEventListener("touchcancel",this.onTouchCancel,!1)};FastClick.notNeeded=function(n){var t;return"undefined"==typeof ontouchstart?!0:/Chrome\/[0-9]+/.test(navigator.userAgent)&&(!FastClick.prototype.deviceIsAndroid||(t=document.querySelector("meta[name=viewport]"))&&-1!==t.content.indexOf("user-scalable=no"))?!0:"none"===n.style.msTouchAction?!0:!1};FastClick.attach=function(n){return new FastClick(n)};"undefined"!=typeof define&&define.amd?define(function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick;
/*! SmartAdmin - v1.4.1 - 2014-06-22 */
!function(n){"use strict";var o=navigator.appVersion.indexOf("Mac")>-1,e=navigator.userAgent.indexOf("MSIE")>-1,r=function(){var n=function(n){return function(t){return n===t}},t=function(n,t){return n===t},i=function(){return!1},r=function(n){return function(){return!n.apply(n,arguments)}},u=function(n){return n};return{eq:n,eq2:t,fail:i,not:r,self:u}}(),u=function(){var t=function(n){return n[0]},n=function(n){return n[n.length-1]},u=function(n){return n.slice(0,n.length-1)},i=function(n){return n.slice(1)},f=function(n,t){return t=t||r.self,n.reduce(function(n,i){return n+t(i)},0)},e=function(n){for(var i=[],t=-1,r=n.length;++t<r;)i[t]=n[t];return i},o=function(r,u){if(0===r.length)return[];var f=i(r);return f.reduce(function(t,i){var r=n(t);return u(n(r),i)?r[r.length]=i:t[t.length]=[i],t},[[t(r)]])},s=function(n){for(var i=[],t=0,r=n.length;r>t;t++)n[t]&&i.push(n[t]);return i};return{head:t,last:n,initial:u,tail:i,sum:f,from:e,compact:s,clusterBy:o}}(),t=function(){var i=function(n){return function(t){return t&&t.nodeName===n}},y=function(n){return n&&/^P|^LI|^H[1-7]/.test(n.nodeName)},p=function(n){return n&&/^UL|^OL/.test(n.nodeName)},w=function(t){return t&&n(t).hasClass("note-editable")},b=function(t){return t&&n(t).hasClass("note-control-sizing")},h=function(n,t){for(;n;){if(t(n))return n;n=n.parentNode}return null},f=function(n,t){t=t||r.fail;var i=[];return h(n,function(n){return i.push(n),t(n)}),i},c=function(t,i){for(var u=f(t),r=i;r;r=r.parentNode)if(n.inArray(r,u)>-1)return r;return null},k=function(n,t){var i=[],r=!1,u=!1,f=function(e){if(e){if(e===n&&(r=!0),r&&!u&&i.push(e),e===t)return void(u=!0);for(var o=0,s=e.childNodes.length;s>o;o++)f(e.childNodes[o])}};return f(c(n,t)),i},d=function(n,t){t=t||r.fail;for(var i=[];n&&(i.push(n),!t(n));)n=n.previousSibling;return i},e=function(n,t){t=t||r.fail;for(var i=[];n&&(i.push(n),!t(n));)n=n.nextSibling;return i},o=function(n,t){var i=t.nextSibling,r=t.parentNode;return i?r.insertBefore(n,i):r.appendChild(n),n},l=function(t,i){return n.each(i,function(n,i){t.appendChild(i)}),t},s=i("#text"),g=function(n){return s(n)?n.nodeValue.length:n.childNodes.length},a=function(n){for(var t=0;n=n.previousSibling;)t+=1;return t},nt=function(t,i){var e=u.initial(f(i,r.eq(t)));return n.map(e,a).reverse()},tt=function(n,t){for(var i=n,r=0,u=t.length;u>r;r++)i=i.childNodes[t[r]];return i},v=function(n,t){if(0===t)return n;if(t>=g(n))return n.nextSibling;if(s(n))return n.splitText(t);var i=n.childNodes[t];return n=o(n.cloneNode(!1),n),l(n,e(i))},it=function(n,t,i){var u=f(t,r.eq(n));return 1===u.length?v(t,i):u.reduce(function(n,r){var u=r.cloneNode(!1);return o(u,r),n===t&&(n=v(n,i)),l(u,e(n)),u})},rt=function(n,t){var r,i,f;if(n&&n.parentNode){if(n.removeNode)return n.removeNode(t);if(r=n.parentNode,!t){for(var u=[],i=0,f=n.childNodes.length;f>i;i++)u.push(n.childNodes[i]);for(i=0,f=u.length;f>i;i++)r.insertBefore(u[i],n)}r.removeChild(n)}},ut=function(t){return n("<div/>").html(t).text()},ft=function(n){return t.isTextarea(n[0])?ut(n.val()):n.html()};return{isText:s,isPara:y,isList:p,isEditable:w,isControlSizing:b,isAnchor:i("A"),isDiv:i("DIV"),isSpan:i("SPAN"),isB:i("B"),isU:i("U"),isS:i("S"),isI:i("I"),isImg:i("IMG"),isTextarea:i("TEXTAREA"),ancestor:h,listAncestor:f,listNext:e,listPrev:d,commonAncestor:c,listBetween:k,insertAfter:o,position:a,makeOffsetPath:nt,fromOffsetPath:tt,split:it,remove:rt,html:ft}}(),i=function(){var i=!!document.createRange,f=function(n,i){for(var o,s=n.parentElement(),a=document.body.createTextRange(),h=u.from(s.childNodes),c,r,l,e,f=0;f<h.length;f++)if(!t.isText(h[f])){if(a.moveToElementText(h[f]),a.compareEndPoints("StartToStart",n)>=0)break;o=h[f]}if(0!=f&&t.isText(h[f-1])){for(c=document.body.createTextRange(),r=null,c.moveToElementText(o||s),c.collapse(!o),r=o?o.nextSibling:s.firstChild,l=n.duplicate(),l.setEndPoint("StartToStart",c),e=l.text.replace(/[\r\n]/g,"").length;e>r.nodeValue.length&&r.nextSibling;)e-=r.nodeValue.length,r=r.nextSibling;r.nodeValue;i&&r.nextSibling&&t.isText(r.nextSibling)&&e==r.nodeValue.length&&(e-=r.nodeValue.length,r=r.nextSibling);s=r;f=e}return{cont:s,offset:f}},e=function(n){var e=function(n,i){var f,o,s,h;if(t.isText(n))s=t.listPrev(n,r.not(t.isText)),h=u.last(s).previousSibling,f=h||n.parentNode,i+=u.sum(u.tail(s),t.length),o=!h;else{if(f=n.childNodes[i]||n,t.isText(f))return e(f,i);i=0;o=!1}return{cont:f,collapseToStart:o,offset:i}},i=document.body.createTextRange(),f=e(n.cont,n.offset);return i.moveToElementText(f.cont),i.collapse(f.collapseToStart),i.moveStart("character",f.offset),i},o=function(f,o,s,h){var c,l;this.sc=f;this.so=o;this.ec=s;this.eo=h;c=function(){var n,t;return i?(n=document.createRange(),n.setStart(f,o),n.setEnd(s,h),n):(t=e({cont:f,offset:o}),t.setEndPoint("EndToEnd",e({cont:s,offset:h})),t)};this.select=function(){var t=c(),n;i?(n=document.getSelection(),n.rangeCount>0&&n.removeAllRanges(),n.addRange(t)):t.select()};this.listPara=function(){var i=t.listBetween(f,s),e=u.compact(n.map(i,function(n){return t.ancestor(n,t.isPara)}));return n.map(u.clusterBy(e,r.eq2),u.head)};l=function(n){return function(){var i=t.ancestor(f,n);return i&&i===t.ancestor(s,n)}};this.isOnEditable=l(t.isEditable);this.isOnList=l(t.isList);this.isOnAnchor=l(t.isAnchor);this.isCollapsed=function(){return f===s&&o===h};this.insertNode=function(n){var t=c();i?t.insertNode(n):t.pasteHTML(n.outerHTML)};this.toString=function(){var n=c();return i?n.toString():n.text};this.bookmark=function(n){return{s:{path:t.makeOffsetPath(n,f),offset:o},e:{path:t.makeOffsetPath(n,s),offset:h}}}};return{create:function(n,t,r,u){var e,s,h,c,l,a;return 0===arguments.length?i?(e=document.getSelection().getRangeAt(0),n=e.startContainer,t=e.startOffset,r=e.endContainer,u=e.endOffset):(s=document.selection.createRange(),h=s.duplicate(),h.collapse(!1),c=s,c.collapse(!0),l=f(c,!0),a=f(h,!1),n=l.cont,t=l.offset,r=a.cont,u=a.offset):2===arguments.length&&(r=n,u=t),new o(n,t,r,u)},createFromBookmark:function(n,i){var r=t.fromOffsetPath(n,i.s.path),u=i.s.offset,f=t.fromOffsetPath(n,i.e.path),e=i.e.offset;return new o(r,u,f,e)}}}(),h=function(){this.stylePara=function(t,i){var r=t.listPara();n.each(r,function(t,r){n.each(i,function(n,t){r.style[n]=t})})};this.current=function(i,r){var h=n(t.isText(i.sc)?i.sc.parentNode:i.sc),u=h.css(["font-size","text-align","list-style-type","line-height"])||{},e,o,f,s;return(u["font-size"]=parseInt(u["font-size"]),u["font-bold"]=document.queryCommandState("bold")?"bold":"normal",u["font-italic"]=document.queryCommandState("italic")?"italic":"normal",u["font-underline"]=document.queryCommandState("underline")?"underline":"normal",i.isOnList())?(e=["circle","disc","disc-leading-zero","square"],o=n.inArray(u["list-style-type"],e)>-1,u["list-style"]=o?"unordered":"ordered"):u["list-style"]="none",f=t.ancestor(i.sc,t.isPara),f&&f.style["line-height"]?u["line-height"]=f.style.lineHeight:(s=parseInt(u["line-height"])/parseInt(u["font-size"]),u["line-height"]=s.toFixed(1)),u.image=t.isImg(r)&&r,u.anchor=i.isOnAnchor()&&t.ancestor(i.sc,t.isAnchor),u.aAncestor=t.listAncestor(i.sc,t.isEditable),u}},c=function(){var n=[],t=[],r=function(n){var t=n[0],r=i.create();return{contents:n.html(),bookmark:r.bookmark(t),scrollTop:n.scrollTop()}},u=function(n,t){n.html(t.contents).scrollTop(t.scrollTop);i.createFromBookmark(n[0],t.bookmark).select()};this.undo=function(i){var f=r(i);0!==n.length&&(u(i,n.pop()),t.push(f))};this.redo=function(i){var f=r(i);0!==t.length&&(u(i,t.pop()),n.push(f))};this.recordUndo=function(i){t=[];n.push(r(i))}},l=function(){var o=new h;this.currentStyle=function(n){var t=i.create();return t.isOnEditable()&&o.current(t,n)};this.tab=function(u){var f,o,e;r(u);f=i.create();o=new Array(u.data("tabsize")+1).join("&nbsp;");f.insertNode(n('<span id="noteTab">'+o+"<\/span>")[0]);e=n("#noteTab").removeAttr("id");f=i.create(e[0],1);f.select();t.remove(e[0])};this.undo=function(n){n.data("NoteHistory").undo(n)};this.redo=function(n){n.data("NoteHistory").redo(n)};for(var r=this.recordUndo=function(n){n.data("NoteHistory").recordUndo(n)},f=["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertImage","insertHorizontalRule"],u=0,s=f.length;s>u;u++)this[f[u]]=function(n){return function(t,i){r(t);document.execCommand(n,!1,i)}}(f[u]);this.formatBlock=function(n,t){t=e?"<"+t+">":t;document.execCommand("FormatBlock",!1,t)};this.fontSize=function(n,t){r(n);document.execCommand("fontSize",!1,3);var i=n.find("font[size=3]");i.removeAttr("size").css("font-size",t+"px")};this.lineHeight=function(n,t){r(n);o.stylePara(i.create(),{lineHeight:t})};this.unlink=function(n){var u=i.create(),f;u.isOnAnchor()&&(r(n),f=t.ancestor(u.sc,t.isAnchor),u=i.create(f,0,f,1),u.select(),document.execCommand("unlink"))};this.setLinkDialog=function(u,f){var o=i.create(),s;o.isOnAnchor()&&(s=t.ancestor(o.sc,t.isAnchor),o=i.create(s,0,s,1));f({range:o,text:o.toString(),url:o.isOnAnchor()?t.ancestor(o.sc,t.isAnchor).href:""},function(t){var h,f,s;o.select();r(u);h=-1!==t.toLowerCase().indexOf("://");f=h?t:"http://"+t;e&&o.isCollapsed()?(o.insertNode(n('<A id="linkAnchor">'+t+"<\/A>")[0]),s=n("#linkAnchor").removeAttr("id").attr("href",f),o=i.create(s[0],0,s[0],1),o.select()):document.execCommand("createlink",!1,f)})};this.color=function(n,t){var i=JSON.parse(t),u=i.foreColor,f=i.backColor;r(n);u&&document.execCommand("foreColor",!1,u);f&&document.execCommand("backColor",!1,f)};this.insertTable=function(t,u){var a,f,o,v;r(t);for(var s,h=u.split("x"),y=h[0],p=h[1],c=[],w=e?"&nbsp;":"<br/>",l=0;y>l;l++)c.push("<td>"+w+"<\/td>");for(s=c.join(""),f=[],o=0;p>o;o++)f.push("<tr>"+s+"<\/tr>");a=f.join("");v='<table class="table table-bordered">'+a+"<\/table>";i.create().insertNode(n(v)[0])};this.float=function(n,t,i){r(n);i.style.cssFloat=t};this.resize=function(n,t,i){r(n);i.style.width=n.width()*t+"px";i.style.height=""};this.resizeTo=function(n,t){var r=n.y/n.x,i=t.data("ratio");t.css({width:i>r?n.x:n.y/i,height:i>r?n.x*i:n.y})}},a=function(){this.update=function(t,i){var u=function(t,i){t.find(".dropdown-menu li a").each(function(){var t=n(this).attr("data-value")==i;this.className=t?"checked":""})},f=t.find(".note-fontsize"),e,r;f.find(".note-current-fontsize").html(i["font-size"]);u(f,parseFloat(i["font-size"]));e=t.find(".note-height");u(e,parseFloat(i["line-height"]));r=function(n,i){var r=t.find(n);r[i()?"addClass":"removeClass"]("active")};r('button[data-event="bold"]',function(){return"bold"===i["font-bold"]});r('button[data-event="italic"]',function(){return"italic"===i["font-italic"]});r('button[data-event="underline"]',function(){return"underline"===i["font-underline"]});r('button[data-event="justifyLeft"]',function(){return"left"===i["text-align"]||"start"===i["text-align"]});r('button[data-event="justifyCenter"]',function(){return"center"===i["text-align"]});r('button[data-event="justifyRight"]',function(){return"right"===i["text-align"]});r('button[data-event="justifyFull"]',function(){return"justify"===i["text-align"]});r('button[data-event="insertUnorderedList"]',function(){return"unordered"===i["list-style"]});r('button[data-event="insertOrderedList"]',function(){return"ordered"===i["list-style"]})};this.updateRecentColor=function(t,i,r){var o=n(t).closest(".note-color"),u=o.find(".note-recent-color"),f=JSON.parse(u.attr("data-value")),e;f[i]=r;u.attr("data-value",JSON.stringify(f));e="backColor"===i?"background-color":"color";u.find("i").css(e,r)};this.updateFullscreen=function(n,t){var i=n.find('button[data-event="fullscreen"]');i[t?"addClass":"removeClass"]("active")};this.updateCodeview=function(n,t){var i=n.find('button[data-event="codeview"]');i[t?"addClass":"removeClass"]("active")};this.enable=function(n){n.find("button").not('button[data-event="codeview"]').removeClass("disabled")};this.disable=function(n){n.find("button").not('button[data-event="codeview"]').addClass("disabled")}},v=function(){var t=function(t,i){var r=n(i),u=r.position(),f=r.height();t.css({display:"block",left:u.left,top:u.top+f})};this.update=function(n,i){var r=n.find(".note-link-popover"),u=n.find(".note-image-popover"),f;i.anchor?(f=r.find("a"),f.attr("href",i.anchor.href).html(i.anchor.href),t(r,i.anchor)):r.hide();i.image?t(u,i.image):u.hide()};this.hide=function(n){n.children().hide()}},y=function(){this.update=function(t,i){var u=t.find(".note-control-selection"),o;if(i.image){var f=n(i.image),e=f.position(),r={w:f.width(),h:f.height()};u.css({display:"block",left:e.left,top:e.top,width:r.w,height:r.h}).data("target",i.image);o=r.w+"x"+r.h;u.find(".note-control-selection-info").text(o)}else u.hide()};this.hide=function(n){n.children().hide()}},p=function(){this.showImageDialog=function(t,i,r){var u=t.find(".note-image-dialog"),f=t.find(".note-dropzone"),e=t.find(".note-image-input");u.on("shown.bs.modal",function(){f.on("dragenter dragover dragleave",!1);f.on("drop",function(n){i(n);u.modal("hide")});e.on("change",function(){r(this.files);n(this).val("");u.modal("hide")})}).on("hidden.bs.modal",function(){f.off("dragenter dragover dragleave drop");e.off("change");u.off("shown.bs.modal hidden.bs.modal")}).modal("show")};this.showLinkDialog=function(n,t,i){var r=n.find(".note-link-dialog"),e=r.find(".note-link-text"),u=r.find(".note-link-url"),f=r.find(".note-link-btn");r.on("shown.bs.modal",function(){e.html(t.text);u.val(t.url).keyup(function(){u.val()?f.removeClass("disabled").attr("disabled",!1):f.addClass("disabled").attr("disabled",!0);t.text||e.html(u.val())}).trigger("focus");f.click(function(n){r.modal("hide");i(u.val());n.preventDefault()})}).on("hidden.bs.modal",function(){u.off("keyup");f.off("click");r.off("shown.bs.modal hidden.bs.modal")}).modal("show")};this.showHelpDialog=function(n){n.find(".note-help-dialog").modal("show")}},w=function(){var i=new l,f=new a,s=new v,h=new y,e=new p,r={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLACH:220,RIGHTBRACKET:221},u=function(t){var i=n(t).closest(".note-editor");return{editor:function(){return i},toolbar:function(){return i.find(".note-toolbar")},editable:function(){return i.find(".note-editable")},codeable:function(){return i.find(".note-codeable")},statusbar:function(){return i.find(".note-statusbar")},popover:function(){return i.find(".note-popover")},handle:function(){return i.find(".note-handle")},dialog:function(){return i.find(".note-dialog")}}},nt=function(n){var s=o?n.metaKey:n.ctrlKey,h=n.shiftKey,t=n.keyCode,l=s||h||t===r.TAB,f=l?u(n.target):null,c;if(t===r.TAB&&f.editable().data("tabsize"))i.tab(f.editable());else if(s&&(h&&t===r.Z||t===r.Y))i.redo(f.editable());else if(s&&t===r.Z)i.undo(f.editable());else if(s&&t===r.B)i.bold(f.editable());else if(s&&t===r.I)i.italic(f.editable());else if(s&&t===r.U)i.underline(f.editable());else if(s&&h&&t===r.S)i.strikethrough(f.editable());else if(s&&t===r.BACKSLACH)i.removeFormat(f.editable());else if(s&&t===r.K)i.setLinkDialog(f.editable(),function(n,t){e.showLinkDialog(f.dialog(),n,t)});else if(s&&t===r.SLASH)e.showHelpDialog(f.dialog());else if(s&&h&&t===r.L)i.justifyLeft(f.editable());else if(s&&h&&t===r.E)i.justifyCenter(f.editable());else if(s&&h&&t===r.R)i.justifyRight(f.editable());else if(s&&h&&t===r.J)i.justifyFull(f.editable());else if(s&&h&&t===r.NUM7)i.insertUnorderedList(f.editable());else if(s&&h&&t===r.NUM8)i.insertOrderedList(f.editable());else if(s&&t===r.LEFTBRACKET)i.outdent(f.editable());else if(s&&t===r.RIGHTBRACKET)i.indent(f.editable());else if(s&&t===r.NUM0)i.formatBlock(f.editable(),"P");else if(s&&r.NUM1<=t&&t<=r.NUM6)c="H"+String.fromCharCode(t),i.formatBlock(f.editable(),c);else{if(!s||t!==r.ENTER)return void((t===r.BACKSPACE||t===r.ENTER||t===r.SPACE)&&i.recordUndo(u(n.target).editable()));i.insertHorizontalRule(f.editable())}n.preventDefault()},c=function(t,r){t.trigger("focus");n.each(r,function(n,r){var u=new FileReader;u.onload=function(n){i.insertImage(t,n.target.result)};u.readAsDataURL(r)})},w=function(n){var t=n.originalEvent.dataTransfer,i;t&&t.files&&(i=u(n.currentTarget||n.target),c(i.editable(),t.files));n.stopPropagation();n.preventDefault()},tt=function(n){t.isImg(n.target)&&n.preventDefault()},b=function(n){var r=u(n.currentTarget||n.target),t=i.currentStyle(n.target);t&&(f.update(r.toolbar(),t),s.update(r.popover(),t),h.update(r.handle(),t))},it=function(n){var t=u(n.currentTarget||n.target);s.hide(t.popover());h.hide(t.handle())},rt=function(r){if(t.isControlSizing(r.target)){var c,e=u(r.target),l=e.handle(),y=e.popover(),p=e.editable(),a=e.editor(),o=l.find(".note-control-selection").data("target"),f=n(o),v=f.offset(),w=n(document).scrollTop();a.on("mousemove",function(n){c={x:n.clientX-v.left,y:n.clientY-(v.top-w)};i.resizeTo(c,f);h.update(l,{image:o});s.update(y,{image:o})}).on("mouseup",function(){a.off("mousemove").off("mouseup")});f.data("ratio")||f.data("ratio",f.height()/f.width());i.recordUndo(p);r.stopPropagation();r.preventDefault()}},k=function(t){var i=n(t.target).closest("[data-event]");i.length>0&&t.preventDefault()},d=function(t){var v=n(t.target).closest("[data-event]"),g,nt,h,a,p;if(v.length>0){var k,o=v.attr("data-event"),d=v.attr("data-value"),s=u(t.target),y=s.dialog(),r=s.editable(),l=s.codeable();if(-1!==n.inArray(o,["resize","float"])&&(g=s.handle(),nt=g.find(".note-control-selection"),k=nt.data("target")),i[o]&&(r.trigger("focus"),i[o](r,d,k)),-1!==n.inArray(o,["backColor","foreColor"]))f.updateRecentColor(v[0],o,d);else if("showLinkDialog"===o)i.setLinkDialog(r,function(n,t){e.showLinkDialog(y,n,t)});else if("showImageDialog"===o)e.showImageDialog(y,w,function(n){c(r,n)});else if("showHelpDialog"===o)e.showHelpDialog(y);else if("fullscreen"===o){h=s.editor();h.toggleClass("fullscreen");var a=s.toolbar(),it=function(){var t=n(window).height()-a.outerHeight();r.css("height",t)},tt=h.hasClass("fullscreen");tt?(r.data("orgHeight",r.css("height")),n(window).resize(it).trigger("resize")):(r.css("height",r.data("orgHeight")),n(window).off("resize"));f.updateFullscreen(a,tt)}else"codeview"===o&&(h=s.editor(),a=s.toolbar(),h.toggleClass("codeview"),p=h.hasClass("codeview"),p?(l.val(r.html()),l.height(r.height()),f.disable(a),l.focus()):(r.html(l.val()),r.height(l.height()),f.enable(a),r.focus()),f.updateCodeview(s.toolbar(),p));b(t)}},ut=24,ft=function(t){var i=n(document),r=u(t.target),f=r.editable(),s=(r.codeable(),f.offset().top-i.scrollTop()),e=function(n){f.height(n.clientY-(s+ut))},o=function(){i.unbind("mousemove",e).unbind("mouseup",o)};i.mousemove(e).mouseup(o);t.stopPropagation();t.preventDefault()},g=18,et=function(t){var r,u=n(t.target.parentNode),o=u.next(),s=u.find(".note-dimension-picker-mousecatcher"),h=u.find(".note-dimension-picker-highlighted"),e=u.find(".note-dimension-picker-unhighlighted"),f,i;void 0===t.offsetX?(f=n(t.target).offset(),r={x:t.pageX-f.left,y:t.pageY-f.top}):r={x:t.offsetX,y:t.offsetY};i={c:Math.ceil(r.x/g)||1,r:Math.ceil(r.y/g)||1};h.css({width:i.c+"em",height:i.r+"em"});s.attr("data-value",i.c+"x"+i.r);3<i.c&&i.c<10&&e.css({width:i.c+1+"em"});3<i.r&&i.r<10&&e.css({height:i.r+1+"em"});o.html(i.c+" x "+i.r)};this.attach=function(n,t){n.editable.on("keydown",nt);n.editable.on("mousedown",tt);n.editable.on("keyup mouseup",b);n.editable.on("scroll",it);n.editable.on("dragenter dragover dragleave",!1);n.editable.on("drop",w);n.handle.on("mousedown",rt);n.toolbar.on("click",d);n.popover.on("click",d);n.toolbar.on("mousedown",k);n.popover.on("mousedown",k);n.statusbar.on("mousedown",ft);var i=n.toolbar,u=i.find(".note-dimension-picker-mousecatcher");u.on("mousemove",et);t.onenter&&n.editable.keypress(function(n){n.keyCode===r.ENTER&&t.onenter(n)});t.onfocus&&n.editable.focus(t.onfocus);t.onblur&&n.editable.blur(t.onblur);t.onkeyup&&n.editable.keyup(t.onkeyup);t.onkeydown&&n.editable.keydown(t.onkeydown)};this.dettach=function(n){n.editable.off();n.toolbar.off();n.handle.off();n.popover.off()}},b=function(){var u={picture:'<button type="button" class="btn btn-default" title="Picture" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o"><\/i><\/button>',link:'<button type="button" class="btn btn-default" title="Link" data-event="showLinkDialog" data-shortcut="Ctrl+K" data-mac-shortcut="⌘+K" tabindex="-1"><i class="fa fa-link"><\/i><\/button>',table:'<button type="button" class="btn btn-default dropdown-toggle" title="Table" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table"><\/i> <span class="caret"><\/span><\/button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"><\/div><div class="note-dimension-picker-highlighted"><\/div><div class="note-dimension-picker-unhighlighted"><\/div><\/div><div class="note-dimension-display"> 1 x 1 <\/div><\/ul>',style:'<button type="button" class="btn btn-default dropdown-toggle" title="Style" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic"><\/i> <span class="caret"><\/span><\/button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">Normal<\/a><\/li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>Quote<\/blockquote><\/a><\/li><li><a data-event="formatBlock" data-value="pre">Code<\/a><\/li><li><a data-event="formatBlock" data-value="h1"><h1>Header 1<\/h1><\/a><\/li><li><a data-event="formatBlock" data-value="h2"><h2>Header 2<\/h2><\/a><\/li><li><a data-event="formatBlock" data-value="h3"><h3>Header 3<\/h3><\/a><\/li><li><a data-event="formatBlock" data-value="h4"><h4>Header 4<\/h4><\/a><\/li><li><a data-event="formatBlock" data-value="h5"><h5>Header 5<\/h5><\/a><\/li><li><a data-event="formatBlock" data-value="h6"><h6>Header 6<\/h6><\/a><\/li><\/ul>',fontsize:'<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Font Size" tabindex="-1"><span class="note-current-fontsize">11<\/span> <b class="caret"><\/b><\/button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check"><\/i> 8<\/a><\/li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check"><\/i> 9<\/a><\/li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check"><\/i> 10<\/a><\/li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check"><\/i> 11<\/a><\/li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check"><\/i> 12<\/a><\/li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check"><\/i> 14<\/a><\/li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check"><\/i> 18<\/a><\/li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check"><\/i> 24<\/a><\/li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check"><\/i> 36<\/a><\/li><\/ul>',color:'<button type="button" class="btn btn-default note-recent-color" title="Recent Color" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font" style="color:black;background-color:yellow;"><\/i><\/button><button type="button" class="btn btn-default dropdown-toggle" title="More Color" data-toggle="dropdown" tabindex="-1"><span class="caret"><\/span><\/button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">BackColor<\/div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="Transparent">Set transparent<\/div><div class="note-color-palette" data-target-event="backColor"><\/div><\/div><div class="btn-group"><div class="note-palette-title">FontColor<\/div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="Reset">Reset to default<\/div><div class="note-color-palette" data-target-event="foreColor"><\/div><\/div><\/li><\/ul>',bold:'<button type="button" class="btn btn-default" title="Bold" data-shortcut="Ctrl+B" data-mac-shortcut="⌘+B" data-event="bold" tabindex="-1"><i class="fa fa-bold"><\/i><\/button>',italic:'<button type="button" class="btn btn-default" title="Italic" data-shortcut="Ctrl+I" data-mac-shortcut="⌘+I" data-event="italic" tabindex="-1"><i class="fa fa-italic"><\/i><\/button>',underline:'<button type="button" class="btn btn-default" title="Underline" data-shortcut="Ctrl+U" data-mac-shortcut="⌘+U" data-event="underline" tabindex="-1"><i class="fa fa-underline"><\/i><\/button>',clear:'<button type="button" class="btn btn-default" title="Remove Font Style" data-shortcut="Ctrl+\\" data-mac-shortcut="⌘+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser"><\/i><\/button>',ul:'<button type="button" class="btn btn-default" title="Unordered list" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="⌘+⇧+7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul"><\/i><\/button>',ol:'<button type="button" class="btn btn-default" title="Ordered list" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="⌘+⇧+8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol"><\/i><\/button>',paragraph:'<button type="button" class="btn btn-default dropdown-toggle" title="Paragraph" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left"><\/i>  <span class="caret"><\/span><\/button><ul class="dropdown-menu"><li><div class="note-align btn-group"><button type="button" class="btn btn-default" title="Align left" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="⌘+⇧+L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left"><\/i><\/button><button type="button" class="btn btn-default" title="Align center" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="⌘+⇧+E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center"><\/i><\/button><button type="button" class="btn btn-default" title="Align right" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="⌘+⇧+R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right"><\/i><\/button><button type="button" class="btn btn-default" title="Justify full" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="⌘+⇧+J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify"><\/i><\/button><\/div><\/li><li><div class="note-list btn-group"><button type="button" class="btn btn-default" title="Outdent" data-shortcut="Ctrl+[" data-mac-shortcut="⌘+[" data-event="outdent" tabindex="-1"><i class="fa fa-indent"><\/i><\/button><button type="button" class="btn btn-default" title="Indent" data-shortcut="Ctrl+]" data-mac-shortcut="⌘+]" data-event="indent" tabindex="-1"><i class="fa fa-outdent"><\/i><\/button><\/li><\/ul>',height:'<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Line Height" tabindex="-1"><i class="fa fa-text-height"><\/i>&nbsp; <b class="caret"><\/b><\/button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check"><\/i> 1.0<\/a><\/li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check"><\/i> 1.2<\/a><\/li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check"><\/i> 1.4<\/a><\/li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check"><\/i> 1.5<\/a><\/li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check"><\/i> 1.6<\/a><\/li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check"><\/i> 1.8<\/a><\/li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check"><\/i> 2.0<\/a><\/li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check"><\/i> 3.0<\/a><\/li><\/ul>',help:'<button type="button" class="btn btn-default" title="Help" data-shortcut="Ctrl+/" data-mac-shortcut="⌘+/" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question"><\/i><\/button>',fullscreen:'<button type="button" class="btn btn-default" title="Full Screen" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt"><\/i><\/button>',codeview:'<button type="button" class="btn btn-default" title="Code View" data-event="codeview" tabindex="-1"><i class="fa fa-code"><\/i><\/button>'},f='<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"><\/div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com<\/a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-default" title="Edit" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit"><\/i><\/button><button type="button" class="btn btn-default" title="Unlink" data-event="unlink" tabindex="-1"><i class="fa fa-unlink"><\/i><\/button><\/div><\/div><\/div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"><\/div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default" title="Resize Full" data-event="resize" data-value="1" tabindex="-1"><i class="fa fa-resize-full"><\/i><\/button><button type="button" class="btn btn-default" title="Resize Half" data-event="resize" data-value="0.5" tabindex="-1">½<\/button><button type="button" class="btn btn-default" title="Resize Thrid" data-event="resize" data-value="0.33" tabindex="-1">⅓<\/button><button type="button" class="btn btn-default" title="Resize Quarter" data-event="resize" data-value="0.25" tabindex="-1">¼<\/button><\/div><div class="btn-group"><button type="button" class="btn btn-default" title="Float Left" data-event="float" data-value="left" tabindex="-1"><i class="fa fa-align-left"><\/i><\/button><button type="button" class="btn btn-default" title="Float Right" data-event="float" data-value="right" tabindex="-1"><i class="fa fa-align-right"><\/i><\/button><button type="button" class="btn btn-default" title="Float None" data-event="float" data-value="none" tabindex="-1"><i class="fa fa-reorder"><\/i><\/button><\/div><\/div><\/div><\/div>',e='<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"><\/div><div class="note-control-holder note-control-nw"><\/div><div class="note-control-holder note-control-ne"><\/div><div class="note-control-holder note-control-sw"><\/div><div class="note-control-sizing note-control-se"><\/div><div class="note-control-selection-info"><\/div><\/div><\/div>',s='<div class="note-dialog"><div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">×<\/button><h4>Insert Image<\/h4><\/div><div class="modal-body"><div class="row-fluid"><div class="note-dropzone span12">Drag an image here<\/div><div>or if you prefer...<\/div><input class="note-image-input" type="file" class="note-link-url" type="text" /><\/div><\/div><\/div><\/div><\/div><div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">×<\/button><h4>Edit Link<\/h4><\/div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>Text to display<\/label><span class="note-link-text form-control input-xlarge uneditable-input" /><\/div><div class="form-group"><label>To what URL should this link go?<\/label><input class="note-link-url form-control span12" type="text" /><\/div><\/div><\/div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">Link<\/button><\/div><\/div><\/div><\/div><div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="modal-background"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">Close<\/a><div class="title">Smart shortcuts<\/div><table class="note-shortcut-layout"><tbody><tr><td><table class="note-shortcut"><thead><tr><th><\/th><th>Action<\/th><\/tr><\/thead><tbody><tr><td>⌘ + Z<\/td><td>Undo<\/td><\/tr><tr><td>⌘ + ⇧ + Z<\/td><td>Redo<\/td><\/tr><tr><td>⌘ + ]<\/td><td>Indent<\/td><\/tr><tr><td>⌘ + [<\/td><td>Outdent<\/td><\/tr><tr><td>⌘ + K<\/td><td>Insert Link<\/td><\/tr><tr><td>⌘ + ENTER<\/td><td>Insert Horizontal Rule<\/td><\/tr><\/tbody><\/table><\/td><td><table class="note-shortcut"><thead><tr><th><\/th><th>Text formatting<\/th><\/tr><\/thead><tbody><tr><td>⌘ + B<\/td><td>Toggle Bold<\/td><\/tr><tr><td>⌘ + I<\/td><td>Toggle Italic<\/td><\/tr><tr><td>⌘ + U<\/td><td>Toggle Underline<\/td><\/tr><tr><td>⌘ + ⇧ + S<\/td><td>Toggle Strike<\/td><\/tr><tr><td>⌘ + \\<\/td><td>Remove Font Style<\/td><\/tr><\/tr><\/tbody><\/table><\/td><\/tr><tr><td><table class="note-shortcut"><thead><tr><th><\/th><th>Document Style<\/th><\/tr><\/thead><tbody><tr><td>⌘ + NUM0<\/td><td>Normal Text<\/td><\/tr><tr><td>⌘ + NUM1<\/td><td>Heading 1<\/td><\/tr><tr><td>⌘ + NUM2<\/td><td>Heading 2<\/td><\/tr><tr><td>⌘ + NUM3<\/td><td>Heading 3<\/td><\/tr><tr><td>⌘ + NUM4<\/td><td>Heading 4<\/td><\/tr><tr><td>⌘ + NUM5<\/td><td>Heading 5<\/td><\/tr><tr><td>⌘ + NUM6<\/td><td>Heading 6<\/td><\/tr><\/tbody><\/table><\/td><td><table class="note-shortcut"><thead><tr><th><\/th><th>Paragraph formatting<\/th><\/tr><\/thead><tbody><tr><td>⌘ + ⇧ + L<\/td><td>Align Left<\/td><\/tr><tr><td>⌘ + ⇧ + E<\/td><td>Align Center<\/td><\/tr><tr><td>⌘ + ⇧ + R<\/td><td>Align Right<\/td><\/tr><tr><td>⌘ + ⇧ + J<\/td><td>Justify Full<\/td><\/tr><tr><td>⌘ + ⇧ + NUM7<\/td><td>Ordered List<\/td><\/tr><tr><td>⌘ + ⇧ + NUM8<\/td><td>Unordered List<\/td><\/tr><\/tbody><\/table><\/td><\/tr><\/tbody><\/table><\/div><\/div><\/div><\/div><\/div>',i=function(t,i){t.find("button").each(function(t,i){var r=n(i),u=r.attr(o?"data-mac-shortcut":"data-shortcut");u&&r.attr("title",function(n,t){return t+" ("+u+")"})}).tooltip({container:"body",placement:i||"top"})},r=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#EFF7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],h=function(t){t.find(".note-color-palette").each(function(){for(var t,h,e=n(this),c=e.attr("data-target-event"),o="",i=0,l=r.length;l>i;i++){for(var s=r[i],u="<div>",f=0,a=s.length;a>f;f++)t=s[f],h=['<button type="button" class="note-color-btn" style="background-color:',t,';" data-event="',c,'" data-value="',t,'" title="',t,'" data-toggle="button" tabindex="-1"><\/button>'].join(""),u+=h;u+="<\/div>";o+=u}e.html(o)})},l=(this.createLayout=function(r,o,l,a){var v,p,w,b,g,d,nt,tt;if(!r.next().hasClass("note-editor")){v=n('<div class="note-editor"><\/div>');o>0&&n('<div class="note-statusbar"><div class="note-resizebar"><div class="note-icon-bar"><\/div><div class="note-icon-bar"><\/div><div class="note-icon-bar"><\/div><\/div><\/div>').prependTo(v);p=n('<div class="note-editable custom-scroll" contentEditable="true"><\/div>').prependTo(v);o&&p.height(o);l&&p.data("tabsize",l);p.html(t.html(r));p.data("NoteHistory",new c);n('<textarea class="note-codeable"><\/textarea>').prependTo(v);setTimeout(function(){try{document.execCommand("styleWithCSS",0,!1)}catch(n){try{document.execCommand("useCSS",0,!0)}catch(n){try{document.execCommand("styleWithCSS",!1,!1)}catch(n){}}}});for(var y="",k=0,it=a.length;it>k;k++){for(w=a[k],y+='<div class="note-'+w[0]+' btn-group">',b=0,g=w[1].length;g>b;b++)y+=u[w[1][b]];y+="<\/div>"}y='<div class="note-toolbar btn-toolbar">'+y+"<\/div>";d=n(y).prependTo(v);h(d);i(d,"bottom");nt=n(f).prependTo(v);i(nt);n(e).prependTo(v);tt=n(s).prependTo(v);tt.find("button.close, a.modal-close").click(function(){n(this).closest(".modal").modal("hide")});v.insertAfter(r);r.hide()}},this.layoutInfoFromHolder=function(n){var t=n.next();if(t.hasClass("note-editor"))return{editor:t,toolbar:t.find(".note-toolbar"),editable:t.find(".note-editable"),statusbar:t.find(".note-statusbar"),popover:t.find(".note-popover"),handle:t.find(".note-handle"),dialog:t.find(".note-dialog")}});this.removeLayout=function(n){var t=l(n);t&&(n.html(t.editable.html()),t.editor.remove(),n.show())}},f=new b,s=new w;n.fn.extend({summernote:function(t){if(t=n.extend({toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]],["help",["help"]]]},t),this.each(function(i,r){var u=n(r),e;f.createLayout(u,t.height,t.tabsize,t.toolbar);e=f.layoutInfoFromHolder(u);s.attach(e,t)}),this.first()&&t.focus){var i=f.layoutInfoFromHolder(this.first());i.editable.focus()}this.length>0&&t.oninit&&t.oninit()},code:function(t){var i,r,u;if(void 0===t)return(i=this.first(),0==i.length)?void 0:(r=f.layoutInfoFromHolder(i),u=!(!r||!r.editable),u?r.editable.html():i.html());this.each(function(i,r){var u=f.layoutInfoFromHolder(n(r));u&&u.editable&&u.editable.html(t)})},destroy:function(){this.each(function(t,i){var u=n(i),r=f.layoutInfoFromHolder(u);r&&r.editable&&(s.dettach(r),f.removeLayout(u))})},summernoteInner:function(){return{dom:t,list:u,func:r,range:i}}})}(window.jQuery);"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(n,t){"use strict";var i,r,f=this.length>>>0,u=!1;for(1<arguments.length&&(r=t,u=!0),i=0;f>i;++i)this.hasOwnProperty(i)&&(u?r=n(r,this[i],i,this):(r=this[i],u=!0));if(!u)throw new TypeError("Reduce of empty array with no initial value");return r});
/*!
 * Knockout JavaScript library v3.2.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(){(function(n){var i=this||eval("this"),r=i.document,f=i.navigator,t=i.jQuery,u=i.JSON;(function(n){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?n(module.exports||exports,require):"function"==typeof define&&define.amd?define(["exports","require"],n):n(i.ko={})})(function(e,o){function y(n,t){return null===n||typeof n in b?n===t:!1}function k(t,i){var r;return function(){r||(r=setTimeout(function(){r=n;t()},i))}}function d(n,t){var i;return function(){clearTimeout(i);i=setTimeout(n,t)}}function p(n,t,i,r){s.d[n]={init:function(n,u,f,e,o){var c,h;return s.s(function(){var l=s.a.c(u()),f=!i!=!l,e=!h;(e||t||f!==c)&&(e&&s.Y.la()&&(h=s.a.ia(s.f.childNodes(n),!0)),f?(e||s.f.T(n,s.a.ia(h)),s.Ca(r?r(o,l):o,n)):s.f.ja(n),c=f)},null,{o:n}),{controlsDescendantBindings:!0}}};s.h.ha[n]=!1;s.f.Q[n]=!0}var s="undefined"!=typeof e?e:{},b,l,h,c,a,w,v;s.b=function(n,t){for(var i=n.split("."),r=s,u=0;u<i.length-1;u++)r=r[i[u]];r[i[i.length-1]]=t};s.A=function(n,t,i){n[t]=i};s.version="3.2.0";s.b("version",s.version);s.a=function(){function o(n,t){for(var i in n)n.hasOwnProperty(i)&&t(i,n[i])}function c(n,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function l(n,t){return n.__proto__=t,n}var a={__proto__:[]}instanceof Array,h={},v={},y,e;return h[f&&/Firefox\/2/i.test(f.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],h.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(h,function(n,t){if(t.length)for(var i=0,r=t.length;i<r;i++)v[t[i]]=n}),y={propertychange:!0},e=r&&function(){for(var t=3,i=r.createElement("div"),u=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++t+"]><i><\/i><![endif]-->",u[0];);return 4<t?t:n}(),{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i],i)},m:function(n,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},qb:function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r],r))return n[r];return null},ua:function(n,t){var i=s.a.m(n,t);0<i?n.splice(i,1):0===i&&n.shift()},rb:function(n){n=n||[];for(var i=[],t=0,r=n.length;t<r;t++)0>s.a.m(i,n[t])&&i.push(n[t]);return i},Da:function(n,t){n=n||[];for(var r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i],i));return r},ta:function(n,t){n=n||[];for(var r=[],i=0,u=n.length;i<u;i++)t(n[i],i)&&r.push(n[i]);return r},ga:function(n,t){if(t instanceof Array)n.push.apply(n,t);else for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},ea:function(n,t,i){var r=s.a.m(s.a.Xa(n),t);0>r?i&&n.push(t):i||n.splice(r,1)},xa:a,extend:c,za:l,Aa:a?l:c,G:o,na:function(n,t){if(!n)return n;var r={};for(var i in n)n.hasOwnProperty(i)&&(r[i]=t(n[i],i,n));return r},Ka:function(n){for(;n.firstChild;)s.removeNode(n.firstChild)},oc:function(n){n=s.a.S(n);for(var i=r.createElement("div"),t=0,u=n.length;t<u;t++)i.appendChild(s.R(n[t]));return i},ia:function(n,t){for(var r,i=0,f=n.length,u=[];i<f;i++)r=n[i].cloneNode(!0),u.push(t?s.R(r):r);return u},T:function(n,t){if(s.a.Ka(n),t)for(var i=0,r=t.length;i<r;i++)n.appendChild(t[i])},Lb:function(n,t){var r=n.nodeType?[n]:n;if(0<r.length){for(var f=r[0],e=f.parentNode,i=0,u=t.length;i<u;i++)e.insertBefore(t[i],f);for(i=0,u=r.length;i<u;i++)s.removeNode(r[i])}},ka:function(n,t){if(n.length){for(t=8===t.nodeType&&t.parentNode||t;n.length&&n[0].parentNode!==t;)n.shift();if(1<n.length){var i=n[0],r=n[n.length-1];for(n.length=0;i!==r;)if(n.push(i),i=i.nextSibling,!i)return;n.push(r)}}return n},Nb:function(n,t){7>e?n.setAttribute("selected",t):n.selected=t},cb:function(t){return null===t||t===n?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(n,t){return n=n||"",t.length>n.length?!1:n.substring(0,t.length)===t},cc:function(n,t){if(n===t)return!0;if(11===n.nodeType)return!1;if(t.contains)return t.contains(3===n.nodeType?n.parentNode:n);if(t.compareDocumentPosition)return 16==(t.compareDocumentPosition(n)&16);for(;n&&n!=t;)n=n.parentNode;return!!n},Ja:function(n){return s.a.cc(n,n.ownerDocument.documentElement)},ob:function(n){return!!s.a.qb(n,s.a.Ja)},t:function(n){return n&&n.tagName&&n.tagName.toLowerCase()},n:function(n,i,r){var o=e&&y[i],u,f;if(!o&&t)t(n).bind(i,r);else if(o||"function"!=typeof n.addEventListener)if("undefined"!=typeof n.attachEvent)u=function(t){r.call(n,t)},f="on"+i,n.attachEvent(f,u),s.a.w.da(n,function(){n.detachEvent(f,u)});else throw Error("Browser doesn't support addEventListener or attachEvent");else n.addEventListener(i,r,!1)},oa:function(n,u){if(!n||!n.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var f;if("input"===s.a.t(n)&&n.type&&"click"==u.toLowerCase()?(f=n.type,f="checkbox"==f||"radio"==f):f=!1,t&&!f)t(n).trigger(u);else if("function"==typeof r.createEvent)if("function"==typeof n.dispatchEvent)f=r.createEvent(v[u]||"HTMLEvents"),f.initEvent(u,!0,!0,i,0,0,0,0,0,!1,!1,!1,!1,0,n),n.dispatchEvent(f);else throw Error("The supplied element doesn't support dispatchEvent");else if(f&&n.click)n.click();else if("undefined"!=typeof n.fireEvent)n.fireEvent("on"+u);else throw Error("Browser doesn't support triggering events");},c:function(n){return s.C(n)?n():n},Xa:function(n){return s.C(n)?n.v():n},Ba:function(n,t,i){if(t){var r=/\S+/g,u=n.className.match(r)||[];s.a.u(t.match(r),function(n){s.a.ea(u,n,i)});n.className=u.join(" ")}},bb:function(t,i){var r=s.a.c(i),u;(null===r||r===n)&&(r="");u=s.f.firstChild(t);!u||3!=u.nodeType||s.f.nextSibling(u)?s.f.T(t,[t.ownerDocument.createTextNode(r)]):u.data=r;s.a.fc(t)},Mb:function(n,t){if(n.name=t,7>=e)try{n.mergeAttributes(r.createElement("<input name='"+n.name+"'/>"),!1)}catch(i){}},fc:function(n){9<=e&&(n=1==n.nodeType?n:n.parentNode,n.style&&(n.style.zoom=n.style.zoom))},dc:function(n){if(e){var t=n.style.width;n.style.width=0;n.style.width=t}},sc:function(n,t){n=s.a.c(n);t=s.a.c(t);for(var r=[],i=n;i<=t;i++)r.push(i);return r},S:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i},yc:6===e,zc:7===e,L:e,xb:function(n,t){for(var r=s.a.S(n.getElementsByTagName("input")).concat(s.a.S(n.getElementsByTagName("textarea"))),f="string"==typeof t?function(n){return n.name===t}:function(n){return t.test(n.name)},u=[],i=r.length-1;0<=i;i--)f(r[i])&&u.push(r[i]);return u},pc:function(n){return"string"==typeof n&&(n=s.a.cb(n))?u&&u.parse?u.parse(n):new Function("return "+n)():null},eb:function(n,t,i){if(!u||!u.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return u.stringify(s.a.c(n),t,i)},qc:function(n,t,i){var v,e,h,f,u,c;i=i||{};var l=i.params||{},a=i.includeFields||this.vb,v=n;if("object"==typeof n&&"form"===s.a.t(n))for(v=n.action,e=a.length-1;0<=e;e--)for(h=s.a.xb(n,a[e]),f=h.length-1;0<=f;f--)l[h[f].name]=h[f].value;t=s.a.c(t);u=r.createElement("form");u.style.display="none";u.action=v;u.method="post";for(c in t)n=r.createElement("input"),n.type="hidden",n.name=c,n.value=s.a.eb(s.a.c(t[c])),u.appendChild(n);o(l,function(n,t){var i=r.createElement("input");i.type="hidden";i.name=n;i.value=t;u.appendChild(i)});r.body.appendChild(u);i.submitter?i.submitter(u):u.submit();setTimeout(function(){u.parentNode.removeChild(u)},0)}}}();s.b("utils",s.a);s.b("utils.arrayForEach",s.a.u);s.b("utils.arrayFirst",s.a.qb);s.b("utils.arrayFilter",s.a.ta);s.b("utils.arrayGetDistinctValues",s.a.rb);s.b("utils.arrayIndexOf",s.a.m);s.b("utils.arrayMap",s.a.Da);s.b("utils.arrayPushAll",s.a.ga);s.b("utils.arrayRemoveItem",s.a.ua);s.b("utils.extend",s.a.extend);s.b("utils.fieldsIncludedWithJsonPost",s.a.vb);s.b("utils.getFormFields",s.a.xb);s.b("utils.peekObservable",s.a.Xa);s.b("utils.postJson",s.a.qc);s.b("utils.parseJson",s.a.pc);s.b("utils.registerEventHandler",s.a.n);s.b("utils.stringifyJson",s.a.eb);s.b("utils.range",s.a.sc);s.b("utils.toggleDomNodeCssClass",s.a.Ba);s.b("utils.triggerEvent",s.a.oa);s.b("utils.unwrapObservable",s.a.c);s.b("utils.objectForEach",s.a.G);s.b("utils.addOrRemoveItem",s.a.ea);s.b("unwrap",s.a.c);Function.prototype.bind||(Function.prototype.bind=function(n){var i=this,t=Array.prototype.slice.call(arguments);return n=t.shift(),function(){return i.apply(n,t.concat(Array.prototype.slice.call(arguments)))}});s.a.e=new function(){function r(r,f){var e=r[t];if(!e||"null"===e||!i[e]){if(!f)return n;e=r[t]="ko"+u++;i[e]={}}return i[e]}var u=0,t="__ko__"+(new Date).getTime(),i={};return{get:function(t,i){var u=r(t,!1);return u===n?n:u[i]},set:function(t,i,u){(u!==n||r(t,!1)!==n)&&(r(t,!0)[i]=u)},clear:function(n){var r=n[t];return r?(delete i[r],n[t]=null,!0):!1},F:function(){return u+++t}}};s.b("utils.domData",s.a.e);s.b("utils.domData.clear",s.a.e.clear);s.a.w=new function(){function i(t,i){var r=s.a.e.get(t,u);return r===n&&i&&(r=[],s.a.e.set(t,u,r)),r}function r(n){var t=i(n,!1),u;if(t)for(t=t.slice(0),u=0;u<t.length;u++)t[u](n);if(s.a.e.clear(n),s.a.w.cleanExternalData(n),f[n.nodeType])for(t=n.firstChild;n=t;)t=n.nextSibling,8===n.nodeType&&r(n)}var u=s.a.e.F(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{da:function(n,t){if("function"!=typeof t)throw Error("Callback must be a function");i(n,!0).push(t)},Kb:function(t,r){var f=i(t,!1);f&&(s.a.ua(f,r),0==f.length&&s.a.e.set(t,u,n))},R:function(n){var t,i,u;if(e[n.nodeType]&&(r(n),f[n.nodeType]))for(t=[],s.a.ga(t,n.getElementsByTagName("*")),i=0,u=t.length;i<u;i++)r(t[i]);return n},removeNode:function(n){s.R(n);n.parentNode&&n.parentNode.removeChild(n)},cleanExternalData:function(n){t&&"function"==typeof t.cleanData&&t.cleanData([n])}}};s.R=s.a.w.R;s.removeNode=s.a.w.removeNode;s.b("cleanNode",s.R);s.b("removeNode",s.removeNode);s.b("utils.domNodeDisposal",s.a.w);s.b("utils.domNodeDisposal.addDisposeCallback",s.a.w.da);s.b("utils.domNodeDisposal.removeDisposeCallback",s.a.w.Kb),function(){s.a.ba=function(n){var u,f;if(t){if(t.parseHTML)u=t.parseHTML(n)||[];else if((u=t.clean([n]))&&u[0]){for(n=u[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}}else{for(f=s.a.cb(n).toLowerCase(),u=r.createElement("div"),f=f.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","<\/table>"]||!f.indexOf("<tr")&&[2,"<table><tbody>","<\/tbody><\/table>"]||(!f.indexOf("<td")||!f.indexOf("<th"))&&[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"]||[0,"",""],n="ignored<div>"+f[1]+n+f[2]+"<\/div>","function"==typeof i.innerShiv?u.appendChild(i.innerShiv(n)):u.innerHTML=n;f[0]--;)u=u.lastChild;u=s.a.S(u.lastChild.childNodes)}return u};s.a.$a=function(i,r){if(s.a.Ka(i),r=s.a.c(r),null!==r&&r!==n)if("string"!=typeof r&&(r=r.toString()),t)t(i).html(r);else for(var f=s.a.ba(r),u=0;u<f.length;u++)i.appendChild(f[u])}}();s.b("utils.parseHtmlFragment",s.a.ba);s.b("utils.setHtml",s.a.$a);s.D=function(){function i(n,t){var r;if(n)if(8==n.nodeType)r=s.D.Gb(n.nodeValue),null!=r&&t.push({bc:n,mc:r});else if(1==n.nodeType)for(var r=0,u=n.childNodes,f=u.length;r<f;r++)i(u[r],t)}var t={};return{Ua:function(n){if("function"!=typeof n)throw Error("You can only pass a function to ko.memoization.memoize()");var i=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return t[i]=n,"<!--[ko_memo:"+i+"]-->"},Rb:function(i,r){var u=t[i];if(u===n)throw Error("Couldn't find any memo with ID "+i+". Perhaps it's already been unmemoized.");try{return u.apply(null,r||[]),!0}finally{delete t[i]}},Sb:function(n,t){var f=[],u,o,r,e;for(i(n,f),u=0,o=f.length;u<o;u++)r=f[u].bc,e=[r],t&&s.a.ga(e,t),s.D.Rb(f[u].mc,e),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)},Gb:function(n){return(n=n.match(/^\[ko_memo\:(.*?)\]$/))?n[1]:null}}}();s.b("memoization",s.D);s.b("memoization.memoize",s.D.Ua);s.b("memoization.unmemoize",s.D.Rb);s.b("memoization.parseMemoText",s.D.Gb);s.b("memoization.unmemoizeDomNodeAndDescendants",s.D.Sb);s.La={throttle:function(n,t){n.throttleEvaluation=t;var i=null;return s.j({read:n,write:function(r){clearTimeout(i);i=setTimeout(function(){n(r)},t)}})},rateLimit:function(n,t){var i,r,u;"number"==typeof t?i=t:(i=t.timeout,r=t.method);u="notifyWhenChangesStop"==r?d:k;n.Ta(function(n){return u(n,i)})},notify:function(n,t){n.equalityComparer="always"==t?null:y}};b={undefined:1,boolean:1,number:1,string:1};s.b("extenders",s.La);s.Pb=function(n,t,i){this.target=n;this.wa=t;this.ac=i;this.Cb=!1;s.A(this,"dispose",this.K)};s.Pb.prototype.K=function(){this.Cb=!0;this.ac()};s.P=function(){s.a.Aa(this,s.P.fn);this.M={}};l="change";h={U:function(n,t,i){var r=this,u;return i=i||l,u=new s.Pb(r,t?n.bind(t):n,function(){s.a.ua(r.M[i],u);r.nb&&r.nb()}),r.va&&r.va(i),r.M[i]||(r.M[i]=[]),r.M[i].push(u),u},notifySubscribers:function(n,t){if(t=t||l,this.Ab(t))try{s.k.Ea();for(var u=this.M[t].slice(0),r=0,i;i=u[r];++r)i.Cb||i.wa(n)}finally{s.k.end()}},Ta:function(n){var t=this,e=s.C(t),r,u,i,f;t.qa||(t.qa=t.notifySubscribers,t.notifySubscribers=function(n,i){i&&i!==l?"beforeChange"===i?t.kb(n):t.qa(n,i):t.lb(n)});f=n(function(){e&&i===t&&(i=t());r=!1;t.Pa(u,i)&&t.qa(u=i)});t.lb=function(n){r=!0;i=n;f()};t.kb=function(n){r||(u=n,t.qa(n,"beforeChange"))}},Ab:function(n){return this.M[n]&&this.M[n].length},yb:function(){var n=0;return s.a.G(this.M,function(t,i){n+=i.length}),n},Pa:function(n,t){return!this.equalityComparer||!this.equalityComparer(n,t)},extend:function(n){var t=this;return n&&s.a.G(n,function(n,i){var r=s.La[n];"function"==typeof r&&(t=r(t,i)||t)}),t}};s.A(h,"subscribe",h.U);s.A(h,"extend",h.extend);s.A(h,"getSubscriptionsCount",h.yb);s.a.xa&&s.a.za(h,Function.prototype);s.P.fn=h;s.Db=function(n){return null!=n&&"function"==typeof n.U&&"function"==typeof n.notifySubscribers};s.b("subscribable",s.P);s.b("isSubscribable",s.Db);s.Y=s.k=function(){function t(t){r.push(n);n=t}function i(){n=r.pop()}var r=[],n,u=0;return{Ea:t,end:i,Jb:function(t){if(n){if(!s.Db(t))throw Error("Only subscribable things can act as dependencies");n.wa(t,t.Vb||(t.Vb=++u))}},B:function(n,r,u){try{return t(),n.apply(r,u||[])}finally{i()}},la:function(){if(n)return n.s.la()},ma:function(){if(n)return n.ma}}}();s.b("computedContext",s.Y);s.b("computedContext.getDependenciesCount",s.Y.la);s.b("computedContext.isInitial",s.Y.ma);s.b("computedContext.isSleeping",s.Y.Ac);s.p=function(n){function t(){return 0<arguments.length?(t.Pa(i,arguments[0])&&(t.X(),i=arguments[0],t.W()),this):(s.k.Jb(t),i)}var i=n;return s.P.call(t),s.a.Aa(t,s.p.fn),t.v=function(){return i},t.W=function(){t.notifySubscribers(i)},t.X=function(){t.notifySubscribers(i,"beforeChange")},s.A(t,"peek",t.v),s.A(t,"valueHasMutated",t.W),s.A(t,"valueWillMutate",t.X),t};s.p.fn={equalityComparer:y};c=s.p.rc="__ko_proto__";s.p.fn[c]=s.p;s.a.xa&&s.a.za(s.p.fn,s.P.fn);s.Ma=function(t,i){return null===t||t===n||t[c]===n?!1:t[c]===i?!0:s.Ma(t[c],i)};s.C=function(n){return s.Ma(n,s.p)};s.Ra=function(n){return"function"==typeof n&&n[c]===s.p||"function"==typeof n&&n[c]===s.j&&n.hc?!0:!1};s.b("observable",s.p);s.b("isObservable",s.C);s.b("isWriteableObservable",s.Ra);s.b("isWritableObservable",s.Ra);s.aa=function(n){if(n=n||[],"object"!=typeof n||!("length"in n))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return n=s.p(n),s.a.Aa(n,s.aa.fn),n.extend({trackArrayChanges:!0})};s.aa.fn={remove:function(n){for(var u,r=this.v(),i=[],f="function"!=typeof n||s.C(n)?function(t){return t===n}:n,t=0;t<r.length;t++)u=r[t],f(u)&&(0===i.length&&this.X(),i.push(u),r.splice(t,1),t--);return i.length&&this.W(),i},removeAll:function(t){if(t===n){var i=this.v(),r=i.slice(0);return this.X(),i.splice(0,i.length),this.W(),r}return t?this.remove(function(n){return 0<=s.a.m(t,n)}):[]},destroy:function(n){var i=this.v(),r="function"!=typeof n||s.C(n)?function(t){return t===n}:n,t;for(this.X(),t=i.length-1;0<=t;t--)r(i[t])&&(i[t]._destroy=!0);this.W()},destroyAll:function(t){return t===n?this.destroy(function(){return!0}):t?this.destroy(function(n){return 0<=s.a.m(t,n)}):[]},indexOf:function(n){var t=this();return s.a.m(t,n)},replace:function(n,t){var i=this.indexOf(n);0<=i&&(this.X(),this.v()[i]=t,this.W())}};s.a.u("pop push reverse shift sort splice unshift".split(" "),function(n){s.aa.fn[n]=function(){var t=this.v();return this.X(),this.sb(t,n,arguments),t=t[n].apply(t,arguments),this.W(),t}});s.a.u(["slice"],function(n){s.aa.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}});s.a.xa&&s.a.za(s.aa.fn,s.p.fn);s.b("observableArray",s.aa);a="arrayChange";s.La.trackArrayChanges=function(n){function u(){var f,u;r||(r=!0,f=n.notifySubscribers,n.notifySubscribers=function(n,t){return t&&t!==l||++i,f.apply(this,arguments)},u=[].concat(n.v()||[]),t=null,n.U(function(r){if(r=[].concat(r||[]),n.Ab(a)){var f;(!t||1<i)&&(t=s.a.Fa(u,r,{sparse:!0}));f=t;f.length&&n.notifySubscribers(f,a)}u=r;t=null;i=0}))}if(!n.sb){var r=!1,t=null,i=0,f=n.U;n.U=n.subscribe=function(n,t,i){return i===a&&u(),f.apply(this,arguments)};n.sb=function(n,u,f){function c(n,t,i){return l[l.length]={status:n,value:t,index:i}}if(r&&!i){var l=[],e=n.length,h=f.length,o=0;switch(u){case"push":o=e;case"unshift":for(u=0;u<h;u++)c("added",f[u],o+u);break;case"pop":o=e-1;case"shift":e&&c("deleted",n[o],o);break;case"splice":u=Math.min(Math.max(0,0>f[0]?e+f[0]:f[0]),e);for(var e=1===h?e:Math.min(u+(f[1]||0),e),h=u+h-2,o=Math.max(e,h),a=[],v=[],y=2;u<o;++u,++y)u<e&&v.push(c("deleted",n[u],u)),u<h&&a.push(c("added",f[y],u));s.a.wb(v,a);break;default:return}t=l}}}};s.s=s.j=function(t,i,r){function nt(){s.a.G(l,function(n,t){t.K()});l={}}function tt(){nt();f=0;b=!0;h=!1}function ot(){var n=u.throttleEvaluation;n&&0<=n?(clearTimeout(ft),ft=setTimeout(a,n)):u.ib?u.ib():a()}function a(t){var a,r,c,d;if(p){if(k)throw Error("A 'pure' computed must not be called recursively");}else if(!b){if(g&&g()){if(!w){y();return}}else w=!1;if(p=!0,v)try{a={};s.k.Ea({wa:function(n,t){a[t]||(a[t]=1,++f)},s:u,ma:n});f=0;o=e.call(i)}finally{s.k.end();p=!1}else try{r=l;c=f;s.k.Ea({wa:function(n,t){b||(c&&r[t]?(l[t]=r[t],++f,delete r[t],--c):l[t]||(l[t]=n.U(ot),++f))},s:u,ma:k?n:!f});l={};f=0;try{d=i?e.call(i):e()}finally{s.k.end();c&&s.a.G(r,function(n,t){t.K()});h=!1}u.Pa(o,d)&&(u.notifySubscribers(o,"beforeChange"),o=d,!0!==t&&u.notifySubscribers(o))}finally{p=!1}f||y()}}function u(){if(0<arguments.length){if("function"==typeof ut)ut.apply(i,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return s.k.Jb(u),h&&a(!0),o}function it(){return h&&!f&&a(!0),o}function rt(){return h||0<f}var o,h=!0,p=!1,w=!1,b=!1,e=t,k=!1,v=!1,et;if(e&&"object"==typeof e?(r=e,e=r.read):(r=r||{},e||(e=r.read)),"function"!=typeof e)throw Error("Pass a function that returns the value of the ko.computed");var ut=r.write,c=r.disposeWhenNodeIsRemoved||r.o||null,d=r.disposeWhen||r.Ia,g=d,y=tt,l={},f=0,ft=null;return i||(i=r.owner),s.P.call(u),s.a.Aa(u,s.j.fn),u.v=it,u.la=function(){return f},u.hc="function"==typeof r.write,u.K=function(){y()},u.Z=rt,et=u.Ta,u.Ta=function(n){et.call(u,n);u.ib=function(){u.kb(o);h=!0;u.lb(u)}},r.pure?(v=k=!0,u.va=function(){v&&(v=!1,a(!0))},u.nb=function(){u.yb()||(nt(),v=h=!0)}):r.deferEvaluation&&(u.va=function(){it();delete u.va}),s.A(u,"peek",u.v),s.A(u,"dispose",u.K),s.A(u,"isActive",u.Z),s.A(u,"getDependenciesCount",u.la),c&&(w=!0,c.nodeType&&(g=function(){return!s.a.Ja(c)||d&&d()})),v||r.deferEvaluation||a(),c&&rt()&&c.nodeType&&(y=function(){s.a.w.Kb(c,y);tt()},s.a.w.da(c,y)),u};s.jc=function(n){return s.Ma(n,s.j)};h=s.p.rc;s.j[h]=s.p;s.j.fn={equalityComparer:y};s.j.fn[h]=s.j;s.a.xa&&s.a.za(s.j.fn,s.P.fn);s.b("dependentObservable",s.j);s.b("computed",s.j);s.b("isComputed",s.jc);s.Ib=function(n,t){return"function"==typeof n?s.s(n,t,{pure:!0}):(n=s.a.extend({},n),n.pure=!0,s.s(n,t))};s.b("pureComputed",s.Ib),function(){function t(u,f,e){if(e=e||new i,u=f(u),"object"!=typeof u||null===u||u===n||u instanceof Date||u instanceof String||u instanceof Number||u instanceof Boolean)return u;var o=u instanceof Array?[]:{};return e.save(u,o),r(u,function(i){var r=f(u[i]),s;switch(typeof r){case"boolean":case"number":case"string":case"function":o[i]=r;break;case"object":case"undefined":s=e.get(r);o[i]=s!==n?s:t(r,f,e)}}),o}function r(n,t){if(n instanceof Array){for(var i=0;i<n.length;i++)t(i);"function"==typeof n.toJSON&&t("toJSON")}else for(i in n)t(i)}function i(){this.keys=[];this.hb=[]}s.Qb=function(n){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(n,function(n){for(var t=0;s.C(n)&&10>t;t++)n=n();return n})};s.toJSON=function(n,t,i){return n=s.Qb(n),s.a.eb(n,t,i)};i.prototype={save:function(n,t){var i=s.a.m(this.keys,n);0<=i?this.hb[i]=t:(this.keys.push(n),this.hb.push(t))},get:function(t){return t=s.a.m(this.keys,t),0<=t?this.hb[t]:n}}}();s.b("toJS",s.Qb);s.b("toJSON",s.toJSON),function(){s.i={q:function(t){switch(s.a.t(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?s.a.e.get(t,s.d.options.Va):7>=s.a.L?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?s.i.q(t.options[t.selectedIndex]):n;default:return t.value}},ca:function(t,i,r){switch(s.a.t(t)){case"option":switch(typeof i){case"string":s.a.e.set(t,s.d.options.Va,n);"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__;t.value=i;break;default:s.a.e.set(t,s.d.options.Va,i);t.__ko__hasDomDataOptionValue__=!0;t.value="number"==typeof i?i:""}break;case"select":(""===i||null===i)&&(i=n);for(var f=-1,u=0,o=t.options.length,e;u<o;++u)if(e=s.i.q(t.options[u]),e==i||""==e&&i===n){f=u;break}(r||0<=f||i===n&&1<t.size)&&(t.selectedIndex=f);break;default:(null===i||i===n)&&(i="");t.value=i}}}}();s.b("selectExtensions",s.i);s.b("selectExtensions.readValue",s.i.q);s.b("selectExtensions.writeValue",s.i.ca);s.h=function(){function n(n){var c,r,i;n=s.a.cb(n);123===n.charCodeAt(0)&&(n=n.slice(1,-1));var a=[],o=n.match(t),h,u,l=0;if(o)for(o.push(","),c=0;r=o[c];++c){if(i=r.charCodeAt(0),44===i){if(0>=l){h&&a.push(u?{key:h,value:u.join("")}:{unknown:h});h=u=l=0;continue}}else if(58===i){if(!u)continue}else if(47===i&&c&&1<r.length)(i=o[c-1].match(f))&&!e[i[0]]&&(n=n.substr(n.indexOf(r)+1),o=n.match(t),o.push(","),c=-1,r="/");else if(40===i||123===i||91===i)++l;else if(41===i||125===i||93===i)--l;else if(!h&&!u){h=34===i||39===i?r.slice(1,-1):r;continue}u?u.push(r):u=[r]}return a}var r=["true","false","null","undefined"],u=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,t=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,e={"in":1,"return":1,"typeof":1},i={};return{ha:[],V:i,Wa:n,ya:function(t,f){function e(n,t){var a,f;if(!l){if(f=s.getBindingHandler(n),f&&f.preprocess&&!(t=f.preprocess(t,n,e)))return;(f=i[n])&&(a=t,0<=s.a.m(r,a)?a=!1:(f=a.match(u),a=null===f?!1:f[1]?"Object("+f[1]+")"+f[2]:a),f=a);f&&o.push("'"+n+"':function(_z){"+a+"=_z}")}c&&(t="function(){return "+t+" }");h.push("'"+n+"':"+t)}f=f||{};var h=[],o=[],c=f.valueAccessors,l=f.bindingParams,a="string"==typeof t?n(t):t;return s.a.u(a,function(n){e(n.key||n.unknown,n.value)}),o.length&&e("_ko_property_writers","{"+o.join(",")+" }"),h.join(",")},lc:function(n,t){for(var i=0;i<n.length;i++)if(n[i].key==t)return!0;return!1},pa:function(n,t,i,r,u){n&&s.C(n)?!s.Ra(n)||u&&n.v()===r||n(r):(n=t.get("_ko_property_writers"))&&n[i]&&n[i](r)}}}();s.b("expressionRewriting",s.h);s.b("expressionRewriting.bindingRewriteValidators",s.h.ha);s.b("expressionRewriting.parseObjectLiteral",s.h.Wa);s.b("expressionRewriting.preProcessBindings",s.h.ya);s.b("expressionRewriting._twoWayBindings",s.h.V);s.b("jsonExpressionRewriting",s.h);s.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",s.h.ya),function(){function n(n){return 8==n.nodeType&&e.test(t?n.text:n.nodeValue)}function i(n){return 8==n.nodeType&&o.test(t?n.text:n.nodeValue)}function u(t,r){for(var u=t,f=1,e=[];u=u.nextSibling;){if(i(u)&&(f--,0===f))return e;e.push(u);n(u)&&f++}if(!r)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function f(n,t){var i=u(n,t);return i?0<i.length?i[i.length-1].nextSibling:n.nextSibling:null}var t=r&&"<!--test-->"===r.createComment("test").text,e=t?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,o=t?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,h={ul:!0,ol:!0};s.f={Q:{},childNodes:function(t){return n(t)?u(t):t.childNodes},ja:function(t){if(n(t)){t=s.f.childNodes(t);for(var i=0,r=t.length;i<r;i++)s.removeNode(t[i])}else s.a.Ka(t)},T:function(t,i){if(n(t)){s.f.ja(t);for(var u=t.nextSibling,r=0,f=i.length;r<f;r++)u.parentNode.insertBefore(i[r],u)}else s.a.T(t,i)},Hb:function(t,i){n(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},Bb:function(t,i,r){r?n(t)?t.parentNode.insertBefore(i,r.nextSibling):r.nextSibling?t.insertBefore(i,r.nextSibling):t.appendChild(i):s.f.Hb(t,i)},firstChild:function(t){return n(t)?!t.nextSibling||i(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return n(t)&&(t=f(t)),t.nextSibling&&i(t.nextSibling)?null:t.nextSibling},gc:n,xc:function(n){return(n=(t?n.text:n.nodeValue).match(e))?n[1]:null},Fb:function(t){var o,r,u,e;if(h[s.a.t(t)]&&(o=t.firstChild,o))do if(1===o.nodeType){if(r=o.firstChild,u=null,r)do u?u.push(r):n(r)?(e=f(r,!0),e?r=e:u=[r]):i(r)&&(u=[r]);while(r=r.nextSibling);if(r=u)for(u=o.nextSibling,e=0;e<r.length;e++)u?t.insertBefore(r[e],u):t.appendChild(r[e])}while(o=o.nextSibling)}}}();s.b("virtualElements",s.f);s.b("virtualElements.allowedBindings",s.f.Q);s.b("virtualElements.emptyNode",s.f.ja);s.b("virtualElements.insertAfter",s.f.Bb);s.b("virtualElements.prepend",s.f.Hb);s.b("virtualElements.setDomNodeChildren",s.f.T),function(){s.J=function(){this.Yb={}};s.a.extend(s.J.prototype,{nodeHasBindings:function(n){switch(n.nodeType){case 1:return null!=n.getAttribute("data-bind")||s.g.getComponentNameForNode(n);case 8:return s.f.gc(n);default:return!1}},getBindings:function(n,t){var i=this.getBindingsString(n,t),i=i?this.parseBindingsString(i,t,n):null;return s.g.mb(i,n,t,!1)},getBindingAccessors:function(n,t){var i=this.getBindingsString(n,t),i=i?this.parseBindingsString(i,t,n,{valueAccessors:!0}):null;return s.g.mb(i,n,t,!0)},getBindingsString:function(n){switch(n.nodeType){case 1:return n.getAttribute("data-bind");case 8:return s.f.xc(n);default:return null}},parseBindingsString:function(n,t,i,r){var u,f,e,h,c;try{return u=this.Yb,f=n+(r&&r.valueAccessors||""),(e=u[f])||(c="with($context){with($data||{}){return{"+s.h.ya(n,r)+"}}}",h=new Function("$context","$element",c),e=u[f]=h),e(t,i)}catch(o){throw o.message="Unable to parse bindings.\nBindings value: "+n+"\nMessage: "+o.message,o;}}});s.J.instance=new s.J}();s.b("bindingProvider",s.J),function(){function v(n){return function(){return n}}function u(n){return n()}function o(n){return s.a.na(s.k.B(n),function(t,i){return function(){return n()[i]}})}function y(n,t){return o(this.getBindings.bind(this,n,t))}function h(n,t,i){var r,u=s.f.firstChild(t),f=s.J.instance,e=f.preprocessNode;if(e){for(;r=u;)u=s.f.nextSibling(r),e.call(f,r);u=s.f.firstChild(t)}for(;r=u;)u=s.f.nextSibling(r),c(n,r,i)}function c(n,t,i){var u=!0,r=1===t.nodeType;r&&s.f.Fb(t);(r&&i||s.J.instance.nodeHasBindings(t))&&(u=l(t,null,n,i).shouldBindDescendants);u&&!a[s.a.t(t)]&&h(n,t,!r)}function p(n){var i=[],r={},t=[];return s.a.G(n,function u(f){if(!r[f]){var e=s.getBindingHandler(f);e&&(e.after&&(t.push(f),s.a.u(e.after,function(i){if(n[i]){if(-1!==s.a.m(t,i))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+t.join(", "));u(i)}}),t.length--),i.push({key:f,zb:e}));r[f]=!0}}),i}function l(t,i,r,e){var v=s.a.e.get(t,f),o,l,a,c;if(!i){if(v)throw Error("You cannot apply bindings multiple times to the same element.");s.a.e.set(t,f,!0)}if(!v&&e&&s.Ob(t,r),i&&"function"!=typeof i)o=i;else{var w=s.J.instance,b=w.getBindingAccessors||y,h=s.j(function(){return(o=i?i(r,t):b.call(w,t,r))&&r.I&&r.I(),o},null,{o:t});o&&h.Z()||(h=null)}return o&&(a=h?function(n){return function(){return u(h()[n])}}:function(n){return o[n]},c=function(){return s.a.na(h?h():o,u)},c.get=function(n){return o[n]&&u(a(n))},c.has=function(n){return n in o},e=p(o),s.a.u(e,function(i){var e=i.zb.init,h=i.zb.update,u=i.key;if(8===t.nodeType&&!s.f.Q[u])throw Error("The binding '"+u+"' cannot be used with virtual elements");try{"function"==typeof e&&s.k.B(function(){var i=e(t,a(u),c,r.$data,r);if(i&&i.controlsDescendantBindings){if(l!==n)throw Error("Multiple bindings ("+l+" and "+u+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");l=u}});"function"==typeof h&&s.j(function(){h(t,a(u),c,r.$data,r)},null,{o:t})}catch(f){throw f.message='Unable to process binding "'+u+": "+o[u]+'"\nMessage: '+f.message,f;}})),{shouldBindDescendants:l===n}}function r(n){return n&&n instanceof s.N?n:new s.N(n)}var a,f,e;s.d={};a={script:!0};s.getBindingHandler=function(n){return s.d[n]};s.N=function(t,i,r,u){var f=this,h="function"==typeof t&&!s.C(t),o,e=s.j(function(){var o=h?t():t,n=s.a.c(o);return i?(i.I&&i.I(),s.a.extend(f,i),e&&(f.I=e)):(f.$parents=[],f.$root=n,f.ko=s),f.$rawData=o,f.$data=n,r&&(f[r]=n),u&&u(f,i,n),f.$data},null,{Ia:function(){return o&&!s.a.ob(o)},o:!0});e.Z()&&(f.I=e,e.equalityComparer=null,o=[],e.Tb=function(t){o.push(t);s.a.w.da(t,function(t){s.a.ua(o,t);o.length||(e.K(),f.I=e=n)})})};s.N.prototype.createChildContext=function(n,t,i){return new s.N(n,this,t,function(n,t){n.$parentContext=t;n.$parent=t.$data;n.$parents=(t.$parents||[]).slice(0);n.$parents.unshift(n.$parent);i&&i(n)})};s.N.prototype.extend=function(n){return new s.N(this.I||this.$data,this,null,function(t,i){t.$rawData=i.$rawData;s.a.extend(t,"function"==typeof n?n():n)})};f=s.a.e.F();e=s.a.e.F();s.Ob=function(n,t){if(2==arguments.length)s.a.e.set(n,e,t),t.I&&t.I.Tb(n);else return s.a.e.get(n,e)};s.ra=function(n,t,i){return 1===n.nodeType&&s.f.Fb(n),l(n,t,r(i),!0)};s.Wb=function(n,t,i){return i=r(i),s.ra(n,"function"==typeof t?o(t.bind(null,i,n)):s.a.na(t,v),i)};s.Ca=function(n,t){1!==t.nodeType&&8!==t.nodeType||h(r(n),t,!0)};s.pb=function(n,u){if(!t&&i.jQuery&&(t=i.jQuery),u&&1!==u.nodeType&&8!==u.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");u=u||i.document.body;c(r(n),u,!0)};s.Ha=function(t){switch(t.nodeType){case 1:case 8:var i=s.Ob(t);if(i)return i;if(t.parentNode)return s.Ha(t.parentNode)}return n};s.$b=function(t){return(t=s.Ha(t))?t.$data:n};s.b("bindingHandlers",s.d);s.b("applyBindings",s.pb);s.b("applyBindingsToDescendants",s.Ca);s.b("applyBindingAccessorsToNode",s.ra);s.b("applyBindingsToNode",s.Wb);s.b("contextFor",s.Ha);s.b("dataFor",s.$b)}(),function(n){function u(t,u){var e=i.hasOwnProperty(t)?i[t]:n,o;e||(e=i[t]=new s.P,f(t,function(n){r[t]=n;delete i[t];o?e.notifySubscribers(n):setTimeout(function(){e.notifySubscribers(n)},0)}),o=!0);e.U(u)}function f(n,i){t("getConfig",[n],function(r){r?t("loadComponent",[n,r],function(n){i(n)}):i(null)})}function t(i,r,u,f){var e,o,h;if(f||(f=s.g.loaders.slice(0)),e=f.shift(),e)if(o=e[i],o){if(h=!1,o.apply(e,r.concat(function(n){h?u(null):null!==n?u(n):t(i,r,u,f)}))!==n&&(h=!0,!e.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else t(i,r,u,f);else u(null)}var i={},r={};s.g={get:function(t,i){var f=r.hasOwnProperty(t)?r[t]:n;f?setTimeout(function(){i(f)},0):u(t,i)},tb:function(n){delete r[n]},jb:t};s.g.loaders=[];s.b("components",s.g);s.b("components.get",s.g.get);s.b("components.clearCachedDefinition",s.g.tb)}(),function(){function l(n,i,r,f){function e(){0==--c&&f(o)}var o={},c=2,h=r.template;r=r.viewModel;h?u(i,h,function(t){s.g.jb("loadTemplate",[n,t],function(n){o.template=n;e()})}):e();r?u(i,r,function(i){s.g.jb("loadViewModel",[n,i],function(n){o[t]=n;e()})}):e()}function e(n,i,r){if("function"==typeof i)r(function(n){return new i(n)});else if("function"==typeof i[t])r(i[t]);else if("instance"in i){var u=i.instance;r(function(){return u})}else"viewModel"in i?e(n,i.viewModel,r):n("Unknown viewModel value: "+i)}function h(n){switch(s.a.t(n)){case"script":return s.a.ba(n.text);case"textarea":return s.a.ba(n.value);case"template":if(c(n.content))return s.a.ia(n.content.childNodes)}return s.a.ia(n.childNodes)}function c(n){return i.DocumentFragment?n instanceof DocumentFragment:n&&11===n.nodeType}function u(n,t,r){"string"==typeof t.require?o||i.require?(o||i.require)([t.require],r):n("Uses require, but no AMD loader is present"):r(t)}function f(n){return function(t){throw Error("Component '"+n+"': "+t);}}var n={},t;s.g.tc=function(t,i){if(!i)throw Error("Invalid configuration for "+t);if(s.g.Qa(t))throw Error("Component "+t+" is already registered");n[t]=i};s.g.Qa=function(t){return t in n};s.g.wc=function(t){delete n[t];s.g.tb(t)};s.g.ub={getConfig:function(t,i){i(n.hasOwnProperty(t)?n[t]:null)},loadComponent:function(n,t,i){var r=f(n);u(r,t,function(t){l(n,r,t,i)})},loadTemplate:function(n,t,u){if(n=f(n),"string"==typeof t)u(s.a.ba(t));else if(t instanceof Array)u(t);else if(c(t))u(s.a.S(t.childNodes));else if(t.element)if(t=t.element,i.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)u(h(t));else if("string"==typeof t){var e=r.getElementById(t);e?u(h(e)):n("Cannot find element with ID "+t)}else n("Unknown element type: "+t);else n("Unknown template value: "+t)},loadViewModel:function(n,t,i){e(f(n),t,i)}};t="createViewModel";s.b("components.register",s.g.tc);s.b("components.isRegistered",s.g.Qa);s.b("components.unregister",s.g.wc);s.b("components.defaultLoader",s.g.ub);s.g.loaders.push(s.g.ub);s.g.Ub=n}(),function(){function n(n,i){var r=n.getAttribute("params");if(r){var r=t.parseBindingsString(r,i,n,{valueAccessors:!0,bindingParams:!0}),r=s.a.na(r,function(t){return s.s(t,null,{o:n})}),u=s.a.na(r,function(t){return t.Z()?s.s(function(){return s.a.c(t())},null,{o:n}):t.v()});return u.hasOwnProperty("$raw")||(u.$raw=r),u}return{$raw:{}}}s.g.getComponentNameForNode=function(n){return n=s.a.t(n),s.g.Qa(n)&&n};s.g.mb=function(t,i,r,u){var f,e;if(1===i.nodeType&&(f=s.g.getComponentNameForNode(i),f)){if(t=t||{},t.component)throw Error('Cannot use the "component" binding on a custom element matching a component');e={name:f,params:n(i,r)};t.component=u?function(){return e}:e}return t};var t=new s.J;9>s.a.L&&(s.g.register=function(n){return function(t){return r.createElement(t),n.apply(this,arguments)}}(s.g.register),r.createDocumentFragment=function(n){return function(){var t=n(),i=s.g.Ub;for(var r in i)i.hasOwnProperty(r)&&t.createElement(r);return t}}(r.createDocumentFragment))}(),function(){var n=0;s.d.component={init:function(t,i,r,u,f){function h(){var n=e&&e.dispose;"function"==typeof n&&n.call(e);o=null}var e,o;return s.a.w.da(t,h),s.s(function(){var u=s.a.c(i()),r,c,l;if("string"==typeof u?r=u:(r=s.a.c(u.name),c=s.a.c(u.params)),!r)throw Error("No component name specified");l=o=++n;s.g.get(r,function(n){var i,u;if(o===l){if(h(),!n)throw Error("Unknown component '"+r+"'");if(i=n.template,!i)throw Error("Component '"+r+"' has no template");i=s.a.ia(i);s.f.T(t,i);i=c;u=n.createViewModel;n=u?u.call(n,i,{element:t}):i;i=f.createChildContext(n);e=n;s.Ca(i,t)}})},null,{o:t}),{controlsDescendantBindings:!0}}};s.f.Q.component=!0}();w={"class":"className","for":"htmlFor"};s.d.attr={update:function(t,i){var r=s.a.c(i())||{};s.a.G(r,function(i,r){r=s.a.c(r);var u=!1===r||null===r||r===n;u&&t.removeAttribute(i);8>=s.a.L&&i in w?(i=w[i],u?t.removeAttribute(i):t[i]=r):u||t.setAttribute(i,r.toString());"name"===i&&s.a.Mb(t,u?"":r.toString())})}},function(){s.d.checked={after:["value","attr"],init:function(t,i,r){function c(){var c=t.checked,n=a?u():c,o;s.Y.ma()||f&&!c||(o=s.k.B(i),e?h!==n?(c&&(s.a.ea(o,n,!0),s.a.ea(o,h,!1)),h=n):s.a.ea(o,n,c):s.h.pa(o,r,"checked",n,!0))}function l(){var n=s.a.c(i());t.checked=e?0<=s.a.m(n,u()):o?n:u()===n}var u=s.Ib(function(){return r.has("checkedValue")?s.a.c(r.get("checkedValue")):r.has("value")?s.a.c(r.get("value")):t.value}),o="checkbox"==t.type,f="radio"==t.type;if(o||f){var e=o&&s.a.c(i())instanceof Array,h=e?u():n,a=f||e;f&&!t.name&&s.d.uniqueName.init(t,function(){return!0});s.s(c,null,{o:t});s.a.n(t,"click",c);s.s(l,null,{o:t})}}};s.h.V.checked=!0;s.d.checkedValue={update:function(n,t){n.value=s.a.c(t())}}}();s.d.css={update:function(n,t){var i=s.a.c(t());"object"==typeof i?s.a.G(i,function(t,i){i=s.a.c(i);s.a.Ba(n,t,i)}):(i=String(i||""),s.a.Ba(n,n.__ko__cssValue,!1),n.__ko__cssValue=i,s.a.Ba(n,i,!0))}};s.d.enable={update:function(n,t){var i=s.a.c(t());i&&n.disabled?n.removeAttribute("disabled"):i||n.disabled||(n.disabled=!0)}};s.d.disable={update:function(n,t){s.d.enable.update(n,function(){return!s.a.c(t())})}};s.d.event={init:function(n,t,i,r,u){var f=t()||{};s.a.G(f,function(f){"string"==typeof f&&s.a.n(n,f,function(n){var o,h=t()[f],e;if(h){try{e=s.a.S(arguments);r=u.$data;e.unshift(r);o=h.apply(r,e)}finally{!0!==o&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}!1===i.get(f+"Bubble")&&(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation())}})})}};s.d.foreach={Eb:function(n){return function(){var i=n(),t=s.a.Xa(i);return!t||"number"==typeof t.length?{foreach:i,templateEngine:s.O.Oa}:(s.a.c(i),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:s.O.Oa})}},init:function(n,t){return s.d.template.init(n,s.d.foreach.Eb(t))},update:function(n,t,i,r,u){return s.d.template.update(n,s.d.foreach.Eb(t),i,r,u)}};s.h.ha.foreach=!1;s.f.Q.foreach=!0;s.d.hasfocus={init:function(n,t,i){function r(r){var u,f;if(n.__ko_hasfocusUpdating=!0,u=n.ownerDocument,"activeElement"in u){try{f=u.activeElement}catch(e){f=u.body}r=f===n}u=t();s.h.pa(u,i,"hasfocus",r,!0);n.__ko_hasfocusLastValue=r;n.__ko_hasfocusUpdating=!1}var u=r.bind(null,!0),f=r.bind(null,!1);s.a.n(n,"focus",u);s.a.n(n,"focusin",u);s.a.n(n,"blur",f);s.a.n(n,"focusout",f)},update:function(n,t){var i=!!s.a.c(t());n.__ko_hasfocusUpdating||n.__ko_hasfocusLastValue===i||(i?n.focus():n.blur(),s.k.B(s.a.oa,null,[n,i?"focusin":"focusout"]))}};s.h.V.hasfocus=!0;s.d.hasFocus=s.d.hasfocus;s.h.V.hasFocus=!0;s.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){s.a.$a(n,t())}};p("if");p("ifnot",!1,!0);p("with",!0,!1,function(n,t){return n.createChildContext(t)});v={};s.d.options={init:function(n){if("select"!==s.a.t(n))throw Error("options binding applies only to SELECT elements");for(;0<n.length;)n.remove(0);return{controlsDescendantBindings:!0}},update:function(t,i,r){function c(){return s.a.ta(t.options,function(n){return n.selected})}function l(n,t,i){var r=typeof t;return"function"==r?t(n):"string"==r?n[t]:i}function a(n,i){if(f.length){var r=0<=s.a.m(f,s.i.q(i[0]));s.a.Nb(i[0],r);h&&!r&&s.k.B(s.a.oa,null,[t,"change"])}}var e=0!=t.length&&t.multiple?t.scrollTop:null,u=s.a.c(i()),y=r.get("optionsIncludeDestroyed"),o,f,h;i={};f=t.multiple?s.a.Da(c(),s.i.q):0<=t.selectedIndex?[s.i.q(t.options[t.selectedIndex])]:[];u&&("undefined"==typeof u.length&&(u=[u]),o=s.a.ta(u,function(t){return y||t===n||null===t||!s.a.c(t._destroy)}),r.has("optionsCaption")&&(u=s.a.c(r.get("optionsCaption")),null!==u&&u!==n&&o.unshift(v)));h=!1;i.beforeRemove=function(n){t.removeChild(n)};u=a;r.has("optionsAfterRender")&&(u=function(t,i){a(0,i);s.k.B(r.get("optionsAfterRender"),null,[i[0],t!==v?t:n])});s.a.Za(t,o,function(i,u,e){return e.length&&(f=e[0].selected?[s.i.q(e[0])]:[],h=!0),u=t.ownerDocument.createElement("option"),i===v?(s.a.bb(u,r.get("optionsCaption")),s.i.ca(u,n)):(e=l(i,r.get("optionsValue"),i),s.i.ca(u,s.a.c(e)),i=l(i,r.get("optionsText"),e),s.a.bb(u,i)),[u]},i,u);s.k.B(function(){r.get("valueAllowUnset")&&r.has("value")?s.i.ca(t,s.a.c(r.get("value")),!0):(t.multiple?f.length&&c().length<f.length:f.length&&0<=t.selectedIndex?s.i.q(t.options[t.selectedIndex])!==f[0]:f.length||0<=t.selectedIndex)&&s.a.oa(t,"change")});s.a.dc(t);e&&20<Math.abs(e-t.scrollTop)&&(t.scrollTop=e)}};s.d.options.Va=s.a.e.F();s.d.selectedOptions={after:["options","foreach"],init:function(n,t,i){s.a.n(n,"change",function(){var u=t(),r=[];s.a.u(n.getElementsByTagName("option"),function(n){n.selected&&r.push(s.i.q(n))});s.h.pa(u,i,"selectedOptions",r)})},update:function(n,t){if("select"!=s.a.t(n))throw Error("values binding applies only to SELECT elements");var i=s.a.c(t());i&&"number"==typeof i.length&&s.a.u(n.getElementsByTagName("option"),function(n){var t=0<=s.a.m(i,s.i.q(n));s.a.Nb(n,t)})}};s.h.V.selectedOptions=!0;s.d.style={update:function(t,i){var r=s.a.c(i()||{});s.a.G(r,function(i,r){r=s.a.c(r);(null===r||r===n||!1===r)&&(r="");t.style[i]=r})}};s.d.submit={init:function(n,t,i,r,u){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");s.a.n(n,"submit",function(i){var r,f=t();try{r=f.call(u.$data,n)}finally{!0!==r&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}};s.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){s.a.bb(n,t())}};s.f.Q.text=!0,function(){if(i&&i.navigator)var t=function(n){if(n)return parseFloat(n[1])},e=i.opera&&i.opera.version&&parseInt(i.opera.version()),r=i.navigator.userAgent,o=t(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),h=t(r.match(/Firefox\/([^ ]*)/));if(10>s.a.L)var u=s.a.e.F(),f=s.a.e.F(),c=function(n){var t=this.activeElement;(t=t&&s.a.e.get(t,f))&&t(n)},l=function(n,t){var i=n.ownerDocument;s.a.e.get(i,u)||(s.a.e.set(i,u,!0),s.a.n(i,"selectionchange",c));s.a.e.set(n,f,t)};s.d.textInput={init:function(t,i,r){function u(n,i){s.a.n(t,n,i)}function p(){var r=s.a.c(i());(null===r||r===n)&&(r="");v!==n&&r===v?setTimeout(p,4):t.value!==r&&(y=r,t.value=r)}function c(){a||(v=t.value,a=setTimeout(f,4))}function f(){clearTimeout(a);v=a=n;var u=t.value;y!==u&&(y=u,s.h.pa(i(),r,"textInput",u))}var y=t.value,a,v;10>s.a.L?(u("propertychange",function(n){"value"===n.propertyName&&f()}),8==s.a.L&&(u("keyup",f),u("keydown",f)),8<=s.a.L&&(l(t,f),u("dragend",c))):(u("input",f),5>o&&"textarea"===s.a.t(t)?(u("keydown",c),u("paste",c),u("cut",c)):11>e?u("keydown",c):4>h&&(u("DOMAutoComplete",f),u("dragdrop",f),u("drop",f)));u("change",f);s.s(p,null,{o:t})}};s.h.V.textInput=!0;s.d.textinput={preprocess:function(n,t,i){i("textInput",n)}}}();s.d.uniqueName={init:function(n,t){if(t()){var i="ko_unique_"+ ++s.d.uniqueName.Zb;s.a.Mb(n,i)}}};s.d.uniqueName.Zb=0;s.d.value={after:["options","foreach"],init:function(n,t,i){var o,h;if("input"!=n.tagName.toLowerCase()||"checkbox"!=n.type&&"radio"!=n.type){var r=["change"],u=i.get("valueUpdate"),f=!1,e=null;u&&("string"==typeof u&&(u=[u]),s.a.ga(r,u),r=s.a.rb(r));o=function(){e=null;f=!1;var r=t(),u=s.i.q(n);s.h.pa(r,i,"value",u)};!s.a.L||"input"!=n.tagName.toLowerCase()||"text"!=n.type||"off"==n.autocomplete||n.form&&"off"==n.form.autocomplete||-1!=s.a.m(r,"propertychange")||(s.a.n(n,"propertychange",function(){f=!0}),s.a.n(n,"focus",function(){f=!1}),s.a.n(n,"blur",function(){f&&o()}));s.a.u(r,function(t){var i=o;s.a.vc(t,"after")&&(i=function(){e=s.i.q(n);setTimeout(o,0)},t=t.substring(5));s.a.n(n,t,i)});h=function(){var r=s.a.c(t()),u=s.i.q(n),f;null!==e&&r===e?setTimeout(h,0):r!==u&&("select"===s.a.t(n)?(f=i.get("valueAllowUnset"),u=function(){s.i.ca(n,r,f)},u(),f||r===s.i.q(n)?setTimeout(u,0):s.k.B(s.a.oa,null,[n,"change"])):s.i.ca(n,r))};s.s(h,null,{o:n})}else s.ra(n,{checkedValue:t})},update:function(){}};s.h.V.value=!0;s.d.visible={update:function(n,t){var i=s.a.c(t()),r="none"!=n.style.display;i&&!r?n.style.display="":!i&&r&&(n.style.display="none")}},function(n){s.d[n]={init:function(t,i,r,u,f){return s.d.event.init.call(this,t,function(){var t={};return t[n]=i(),t},r,u,f)}}}("click");s.H=function(){};s.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};s.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};s.H.prototype.makeTemplateSource=function(n,t){if("string"==typeof n){t=t||r;var i=t.getElementById(n);if(!i)throw Error("Cannot find template with ID "+n);return new s.r.l(i)}if(1==n.nodeType||8==n.nodeType)return new s.r.fa(n);throw Error("Unknown template type: "+n);};s.H.prototype.renderTemplate=function(n,t,i,r){return n=this.makeTemplateSource(n,r),this.renderTemplateSource(n,t,i)};s.H.prototype.isTemplateRewritten=function(n,t){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(n,t).data("isRewritten")};s.H.prototype.rewriteTemplate=function(n,t,i){n=this.makeTemplateSource(n,i);t=t(n.text());n.text(t);n.data("isRewritten",!0)};s.b("templateEngine",s.H);s.fb=function(){function n(n,t,i,r){var o,f,u,e;for(n=s.h.Wa(n),o=s.h.ha,f=0;f<n.length;f++)if(u=n[f].key,o.hasOwnProperty(u))if(e=o[u],"function"==typeof e){if(u=e(n[f].value))throw Error(u);}else if(!e)throw Error("This template engine does not support the '"+u+"' binding within its templates");return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+s.h.ya(n,{valueAccessors:!0})+" } })()},'"+i.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(i)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(n,t,i){t.isTemplateRewritten(n,i)||t.rewriteTemplate(n,function(n){return s.fb.nc(n,t)},i)},nc:function(r,u){return r.replace(t,function(t,i,r,f,e){return n(e,i,r,u)}).replace(i,function(t,i){return n(i,"<!-- ko -->","#comment",u)})},Xb:function(n,t){return s.D.Ua(function(i,r){var u=i.nextSibling;u&&u.nodeName.toLowerCase()===t&&s.ra(u,n,r)})}}}();s.b("__tr_ambtns",s.fb.Xb),function(){var i,t;s.r={};s.r.l=function(n){this.l=n};s.r.l.prototype.text=function(){var n=s.a.t(this.l),n="script"===n?"text":"textarea"===n?"value":"innerHTML",t;if(0==arguments.length)return this.l[n];t=arguments[0];"innerHTML"===n?s.a.$a(this.l,t):this.l[n]=t};i=s.a.e.F()+"_";s.r.l.prototype.data=function(n){if(1===arguments.length)return s.a.e.get(this.l,i+n);s.a.e.set(this.l,i+n,arguments[1])};t=s.a.e.F();s.r.fa=function(n){this.l=n};s.r.fa.prototype=new s.r.l;s.r.fa.prototype.text=function(){if(0==arguments.length){var i=s.a.e.get(this.l,t)||{};return i.gb===n&&i.Ga&&(i.gb=i.Ga.innerHTML),i.gb}s.a.e.set(this.l,t,{gb:arguments[0]})};s.r.l.prototype.nodes=function(){if(0==arguments.length)return(s.a.e.get(this.l,t)||{}).Ga;s.a.e.set(this.l,t,{Ga:arguments[0]})};s.b("templateSources",s.r);s.b("templateSources.domElement",s.r.l);s.b("templateSources.anonymousTemplate",s.r.fa)}(),function(){function t(n,t,i){var r;for(t=s.f.nextSibling(t);n&&(r=n)!==t;)n=s.f.nextSibling(r),i(r,n)}function f(n,i){if(n.length){var r=n[0],u=n[n.length-1],f=r.parentNode,e=s.J.instance,o=e.preprocessNode;if(o){if(t(r,u,function(n,t){var f=n.previousSibling,i=o.call(e,n);i&&(n===r&&(r=i[0]||t),n===u&&(u=i[i.length-1]||f))}),n.length=0,!r)return;r===u?n.push(r):(n.push(r,u),s.a.ka(n,f))}t(r,u,function(n){1!==n.nodeType&&8!==n.nodeType||s.pb(i,n)});t(r,u,function(n){1!==n.nodeType&&8!==n.nodeType||s.D.Sb(n,[i])});s.a.ka(n,f)}}function i(n){return n.nodeType?n:0<n.length?n[0]:null}function e(n,t,u,e,o){o=o||{};var h=n&&i(n),h=h&&h.ownerDocument,c=o.templateEngine||r;if(s.fb.ec(u,c,h),u=c.renderTemplate(u,e,o,h),"number"!=typeof u.length||0<u.length&&"number"!=typeof u[0].nodeType)throw Error("Template engine must return an array of DOM nodes");h=!1;switch(t){case"replaceChildren":s.f.T(n,u);h=!0;break;case"replaceNode":s.a.Lb(n,u);h=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t);}return h&&(f(u,e),o.afterRender&&s.k.B(o.afterRender,null,[u,e.$data])),u}var r,u;s.ab=function(t){if(t!=n&&!(t instanceof s.H))throw Error("templateEngine must inherit from ko.templateEngine");r=t};s.Ya=function(t,u,f,o,h){if(f=f||{},(f.templateEngine||r)==n)throw Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",o){var c=i(o);return s.j(function(){var n=u&&u instanceof s.N?u:new s.N(s.a.c(u)),r=s.C(t)?t():"function"==typeof t?t(n.$data,n):t,n=e(o,h,r,n,f);"replaceNode"==h&&(o=n,c=i(o))},null,{Ia:function(){return!c||!s.a.Ja(c)},o:c&&"replaceNode"==h?c.parentNode:c})}return s.D.Ua(function(n){s.Ya(t,u,f,n,"replaceNode")})};s.uc=function(t,i,r,u,o){function c(n,t){f(t,h);r.afterRender&&r.afterRender(t,n)}function l(n,i){h=o.createChildContext(n,r.as,function(n){n.$index=i});var u=s.C(t)?t():"function"==typeof t?t(n,h):t;return e(null,"ignoreTargetNode",u,h,r)}var h;return s.j(function(){var t=s.a.c(i)||[];"undefined"==typeof t.length&&(t=[t]);t=s.a.ta(t,function(t){return r.includeDestroyed||t===n||null===t||!s.a.c(t._destroy)});s.k.B(s.a.Za,null,[u,t,l,r,c])},null,{o:u})};u=s.a.e.F();s.d.template={init:function(n,t){var i=s.a.c(t());return"string"==typeof i||i.name?s.f.ja(n):(i=s.f.childNodes(n),i=s.a.oc(i),new s.r.fa(n).nodes(i)),{controlsDescendantBindings:!0}},update:function(t,i,r,f,e){var h=i(),o;i=s.a.c(h);r=!0;f=null;"string"==typeof i?i={}:(h=i.name,"if"in i&&(r=s.a.c(i["if"])),r&&"ifnot"in i&&(r=!s.a.c(i.ifnot)),o=s.a.c(i.data));"foreach"in i?f=s.uc(h||t,r&&i.foreach||[],i,t,e):r?(e="data"in i?e.createChildContext(o,i.as):e,f=s.Ya(h||t,e,i,t)):s.f.ja(t);e=f;(o=s.a.e.get(t,u))&&"function"==typeof o.K&&o.K();s.a.e.set(t,u,e&&e.Z()?e:n)}};s.h.ha.template=function(n){return n=s.h.Wa(n),1==n.length&&n[0].unknown||s.h.lc(n,"name")?null:"This template engine does not support anonymous templates nested within its templates"};s.f.Q.template=!0}();s.b("setTemplateEngine",s.ab);s.b("renderTemplate",s.Ya);s.a.wb=function(n,t,i){if(n.length&&t.length)for(var o,r,f,e,u=o=0;(!i||u<i)&&(f=n[o]);++o){for(r=0;e=t[r];++r)if(f.value===e.value){f.moved=e.index;e.moved=f.index;t.splice(r,1);u=r=0;break}u+=r}};s.a.Fa=function(){function n(n,t,i,r,u){for(var o=Math.min,l=Math.max,a=[],c=n.length,f,h=t.length,v=h-c||1,w=c+h+1,y,p,b,e=0;e<=c;e++)for(p=y,a.push(y=[]),b=o(h,e+v),f=l(0,e-1);f<=b;f++)y[f]=f?e?n[e-1]===t[f-1]?p[f-1]:o(p[f]||w,y[f-1]||w)+1:f+1:e+1;for(o=[],l=[],v=[],e=c,f=h;e||f;)h=a[e][f]-1,f&&h===a[e][f-1]?l.push(o[o.length]={status:i,value:t[--f],index:f}):e&&h===a[e-1][f]?v.push(o[o.length]={status:r,value:n[--e],index:e}):(--f,--e,u.sparse||o.push({status:"retained",value:t[f]}));return s.a.wb(l,v,10*c),o.reverse()}return function(t,i,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},t=t||[],i=i||[],t.length<=i.length?n(t,i,"added","deleted",r):n(i,t,"deleted","added",r)}}();s.b("utils.compareArrays",s.a.Fa),function(){function i(t,i,r,u,f){var e=[],o=s.j(function(){var n=i(r,f,s.a.ka(e,t))||[];0<e.length&&(s.a.Lb(e,n),u&&s.k.B(u,null,[r,n,f]));e.length=0;s.a.ga(e,n)},null,{o:t,Ia:function(){return!s.a.ob(e)}});return{$:e,j:o.Z()?o:n}}var t=s.a.e.F();s.a.Za=function(r,u,f,e,o){function rt(n,t){h=k[t];nt!==t&&(it[n]=h);h.Na(nt++);s.a.ka(h.$,r);g.push(h);p.push(h)}function v(n,t){if(n)for(var i=0,r=t.length;i<r;i++)t[i]&&s.a.u(t[i].$,function(r){n(r,i,t[i].sa)})}var c,y,ut;u=u||[];e=e||{};var y=s.a.e.get(r,t)===n,k=s.a.e.get(r,t)||[],d=s.a.Da(k,function(n){return n.sa}),l=s.a.Fa(d,u,e.dontLimitMoves),g=[],a=0,nt=0,tt=[],p=[];u=[];for(var it=[],d=[],h,c=0,w,b;w=l[c];c++)switch(b=w.moved,w.status){case"deleted":b===n&&(h=k[a],h.j&&h.j.K(),tt.push.apply(tt,s.a.ka(h.$,r)),e.beforeRemove&&(u[c]=h,p.push(h)));a++;break;case"retained":rt(c,a++);break;case"added":b!==n?rt(c,b):(h={sa:w.value,Na:s.p(nt++)},g.push(h),p.push(h),y||(d[c]=h))}for(v(e.beforeMove,it),s.a.u(tt,e.beforeRemove?s.R:s.removeNode),c=0,y=s.f.firstChild(r);h=p[c];c++){for(h.$||s.a.extend(h,i(r,f,h.sa,o,h.Na)),a=0;l=h.$[a];y=l.nextSibling,ut=l,a++)l!==y&&s.f.Bb(r,l,ut);!h.ic&&o&&(o(h.sa,h.$,h.Na),h.ic=!0)}v(e.beforeRemove,u);v(e.afterMove,it);v(e.afterAdd,d);s.a.e.set(r,t,g)}}();s.b("utils.setDomNodeChildrenFromArrayMapping",s.a.Za);s.O=function(){this.allowTemplateRewriting=!1};s.O.prototype=new s.H;s.O.prototype.renderTemplateSource=function(n){var t=(9>s.a.L?0:n.nodes)?n.nodes():null;return t?s.a.S(t.cloneNode(!0).childNodes):(n=n.text(),s.a.ba(n))};s.O.Oa=new s.O;s.ab(s.O.Oa);s.b("nativeTemplateEngine",s.O),function(){s.Sa=function(){var n=this.kc=function(){if(!t||!t.tmpl)return 0;try{if(0<=t.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(n){}return 1}();this.renderTemplateSource=function(i,u,f){if(f=f||{},2>n)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var e=i.data("precompiled");return e||(e=i.text()||"",e=t.template(null,"{{ko_with $item.koBindingContext}}"+e+"{{/ko_with}}"),i.data("precompiled",e)),i=[u.$data],u=t.extend({koBindingContext:u},f.templateOptions),u=t.tmpl(e,i,u),u.appendTo(r.createElement("div")),t.fragments={},u};this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function() { return "+n+" })()) }}"};this.addTemplate=function(n,t){r.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")};0<n&&(t.tmpl.tag.ko_code={open:"__.push($1 || '');"},t.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};s.Sa.prototype=new s.H;var n=new s.Sa;0<n.kc&&s.ab(n);s.b("jqueryTmplTemplateEngine",s.Sa)}()})})()})(),function(n){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?n(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],n):n(ko,ko.mapping={})}(function(n,t){function v(n,i){var o;for(var r in i)if(i.hasOwnProperty(r)&&i[r])if(o=t.getType(n[r]),r&&n[r]&&"array"!==o&&"string"!==o)v(n[r],i[r]);else if("array"===t.getType(n[r])&&"array"===t.getType(i[r])){o=n;for(var h=r,f=n[r],e=i[r],s={},u=f.length-1;0<=u;--u)s[f[u]]=f[u];for(u=e.length-1;0<=u;--u)s[e[u]]=e[u];f=[];e=void 0;for(e in s)f.push(s[e]);o[h]=f}else n[r]=i[r]}function e(n,t){var i={};return v(i,n),v(i,t),i}function y(n,t){for(var f,i=e({},n),o=nt.length-1;0<=o;o--)f=nt[o],i[f]&&(i[""]instanceof Object||(i[""]={}),i[""][f]=i[f],delete i[f]);return t&&(i.ignore=u(t.ignore,i.ignore),i.include=u(t.include,i.include),i.copy=u(t.copy,i.copy),i.observe=u(t.observe,i.observe)),i.ignore=u(i.ignore,r.ignore),i.include=u(i.include,r.include),i.copy=u(i.copy,r.copy),i.observe=u(i.observe,r.observe),i.mappedProperties=i.mappedProperties||{},i.copiedProperties=i.copiedProperties||{},i}function u(i,r){return"array"!==t.getType(i)&&(i="undefined"===t.getType(i)?[]:[i]),"array"!==t.getType(r)&&(r="undefined"===t.getType(r)?[]:[r]),n.utils.arrayGetDistinctValues(i.concat(r))}function o(r,u,a,v,y,p,b){var at="array"===t.getType(n.utils.unwrapObservable(u)),nt,it,rt,et,ht;p=p||"";t.isMapped(r)&&(nt=n.utils.unwrapObservable(r)[i],a=e(nt,a));var vt=b||y,ct=function(){return a[v]&&a[v].create instanceof Function},yt=function(t){var i=c,r=n.dependentObservable;return n.dependentObservable=function(t,r,u){var o,e,f;return u=u||{},t&&"object"==typeof t&&(u=t),f=u.deferEvaluation,o=!1,u.deferEvaluation=!0,t=new h(t,r,u),f||(e=t,f=n.dependentObservable,n.dependentObservable=h,t=n.isWriteableObservable(e),n.dependentObservable=f,f=h({read:function(){return o||(n.utils.arrayRemoveItem(i,e),o=!0),e.apply(e,arguments)},write:t&&function(n){return e(n)},deferEvaluation:!0}),f.__DO=e,t=f,i.push(t)),t},n.dependentObservable.fn=h.fn,n.computed=n.dependentObservable,t=n.utils.unwrapObservable(y)instanceof Array?a[v].create({data:t||u,parent:vt,skip:tt}):a[v].create({data:t||u,parent:vt}),n.dependentObservable=r,n.computed=n.dependentObservable,t},ft=function(){return a[v]&&a[v].update instanceof Function},ot=function(t,i){var r={data:i||u,parent:vt,target:n.utils.unwrapObservable(t)};return n.isWriteableObservable(t)&&(r.observable=t),a[v].update(r)};if(b=l.get(u))return b;if(v=v||"",at){var at=[],ut=!1,g=function(n){return n};a[v]&&a[v].key&&(g=a[v].key,ut=!0);n.isObservable(r)||(r=n.observableArray([]),r.mappedRemove=function(n){var t="function"==typeof n?n:function(t){return t===g(n)};return r.remove(function(n){return t(g(n))})},r.mappedRemoveAll=function(t){var i=f(t,g);return r.remove(function(t){return-1!=n.utils.arrayIndexOf(i,g(t))})},r.mappedDestroy=function(n){var t="function"==typeof n?n:function(t){return t===g(n)};return r.destroy(function(n){return t(g(n))})},r.mappedDestroyAll=function(t){var i=f(t,g);return r.destroy(function(t){return-1!=n.utils.arrayIndexOf(i,g(t))})},r.mappedIndexOf=function(t){var i=f(r(),g);return t=g(t),n.utils.arrayIndexOf(i,t)},r.mappedGet=function(n){return r()[r.mappedIndexOf(n)]},r.mappedCreate=function(t){if(-1!==r.mappedIndexOf(t))throw Error("There already is an object with the key that you specified.");var i=ct()?yt(t):t;return ft()&&(t=ot(i,t),n.isWriteableObservable(i)?i(t):i=t),r.push(i),i});b=f(n.utils.unwrapObservable(r),g).sort();nt=f(u,g);ut&&nt.sort();ut=n.utils.compareArrays(b,nt);b={};for(var st=n.utils.unwrapObservable(u),pt={},wt=!0,nt=0,lt=st.length;nt<lt;nt++){if(it=g(st[nt]),void 0===it||it instanceof Object){wt=!1;break}pt[it]=st[nt]}var st=[],bt=0,nt=0;for(lt=ut.length;nt<lt;nt++){it=ut[nt];et=p+"["+nt+"]";switch(it.status){case"added":ht=wt?pt[it.value]:s(n.utils.unwrapObservable(u),it.value,g);rt=o(void 0,ht,a,v,r,et,y);ct()||(rt=n.utils.unwrapObservable(rt));et=w(n.utils.unwrapObservable(u),ht,b);rt===tt?bt++:st[et-bt]=rt;b[et]=!0;break;case"retained":ht=wt?pt[it.value]:s(n.utils.unwrapObservable(u),it.value,g);rt=s(r,it.value,g);o(rt,ht,a,v,r,et,y);et=w(n.utils.unwrapObservable(u),ht,b);st[et]=rt;b[et]=!0;break;case"deleted":rt=s(r,it.value,g)}at.push({event:it.status,item:rt})}r(st);a[v]&&a[v].arrayChanged&&n.utils.arrayForEach(at,function(n){a[v].arrayChanged(n.event,n.item)})}else if(d(u)){if(r=n.utils.unwrapObservable(r),!r){if(ct())return ut=yt(),ft()&&(ut=ot(ut)),ut;if(ft())return ot(ut);r={}}if(ft()&&(r=ot(r)),l.save(u,r),ft())return r;k(u,function(t){var f=p.length?p+"."+t:t;if(-1==n.utils.arrayIndexOf(a.ignore,f))if(-1!=n.utils.arrayIndexOf(a.copy,f))r[t]=u[t];else if("object"!=typeof u[t]&&"array"!=typeof u[t]&&0<a.observe.length&&-1==n.utils.arrayIndexOf(a.observe,f))r[t]=u[t],a.copiedProperties[f]=!0;else{var i=l.get(u[t]),e=o(r[t],u[t],a,t,r,f,r),i=i||e;0<a.observe.length&&-1==n.utils.arrayIndexOf(a.observe,f)?(r[t]=i(),a.copiedProperties[f]=!0):(n.isWriteableObservable(r[t])?(i=n.utils.unwrapObservable(i),r[t]()!==i)&&r[t](i):(i=void 0===r[t]?i:n.utils.unwrapObservable(i),r[t]=i),a.mappedProperties[f]=!0)}})}else switch(t.getType(u)){case"function":ft()?n.isWriteableObservable(u)?(u(ot(u)),r=u):r=ot(u):r=u;break;default:if(n.isWriteableObservable(r))return rt=ft()?ot(r):n.utils.unwrapObservable(u),r(rt),rt;ct()||ft();r=ct()?yt():n.observable(n.utils.unwrapObservable(u));ft()&&r(ot(r))}return r}function w(n,t,i){for(var r=0,u=n.length;r<u;r++)if(!0!==i[r]&&n[r]===t)return r;return null}function b(i,r){var u;return r&&(u=r(i)),"undefined"===t.getType(u)&&(u=i),n.utils.unwrapObservable(u)}function s(t,i,r){var u,e,f;for(t=n.utils.unwrapObservable(t),u=0,e=t.length;u<e;u++)if(f=t[u],b(f,r)===i)return f;throw Error("When calling ko.update*, the key '"+i+"' was not found!");}function f(t,i){return n.utils.arrayMap(n.utils.unwrapObservable(t),function(n){return i?b(n,i):n})}function k(n,i){if("array"===t.getType(n))for(var r=0;r<n.length;r++)i(r);else for(r in n)i(r)}function d(n){var i=t.getType(n);return("object"===i||"array"===i)&&null!==n}function it(){var t=[],i=[];this.save=function(r,u){var f=n.utils.arrayIndexOf(t,r);0<=f?i[f]=u:(t.push(r),i.push(u))};this.get=function(r){return r=n.utils.arrayIndexOf(t,r),0<=r?i[r]:void 0}}function g(){var n={},t=function(t){var i;try{i=t}catch(r){i="$$$"}return t=n[i],void 0===t&&(t=new it,n[i]=t),t};this.save=function(n,i){t(n).save(n,i)};this.get=function(n){return t(n).get(n)}}var i="__ko_mapping__",h=n.dependentObservable,p=0,c,l,nt=["create","update","key","arrayChanged"],tt={},a={include:["_destroy"],ignore:[],copy:[],observe:[]},r=a;t.isMapped=function(t){return(t=n.utils.unwrapObservable(t))&&t[i]};t.fromJS=function(n){var t,r,u,f;if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{if(p++||(c=[],l=new g),2==arguments.length&&(arguments[1][i]?r=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],r=arguments[2]),r&&(t=e(t,r[i])),t=y(t),u=o(r,n,t),r&&(u=r),!--p)for(;c.length;)f=c.pop(),f&&(f(),f.__DO.throttleEvaluation=f.throttleEvaluation);return u[i]=e(u[i],t),u}catch(s){throw p=0,s;}};t.fromJSON=function(i){var r=n.utils.parseJson(i);return arguments[0]=r,t.fromJS.apply(this,arguments)};t.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};t.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};t.toJS=function(u,f){if(r||t.resetDefaultOptions(),0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(r.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(r.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(r.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");return f=y(f,u[i]),t.visitModel(u,function(t){return n.utils.unwrapObservable(t)},f)};t.toJSON=function(i,r){var u=t.toJS(i,r);return n.utils.stringifyJson(u)};t.defaultOptions=function(){if(0<arguments.length)r=arguments[0];else return r};t.resetDefaultOptions=function(){r={include:a.include.slice(0),ignore:a.ignore.slice(0),copy:a.copy.slice(0)}};t.getType=function(n){if(n&&"object"==typeof n){if(n.constructor===Date)return"date";if(n.constructor===Array)return"array"}return typeof n};t.visitModel=function(r,u,f){var o,e,s;if(f=f||{},f.visitedObjects=f.visitedObjects||new g,e=n.utils.unwrapObservable(r),d(e))f=y(f,e[i]),u(r,f.parentName),o="array"===t.getType(e)?[]:{};else return u(r,f.parentName);return f.visitedObjects.save(r,o),s=f.parentName,k(e,function(r){if(!(f.ignore&&-1!=n.utils.arrayIndexOf(f.ignore,r))){var h=e[r],c=f,l=s||"";if("array"===t.getType(e)?s&&(l+="["+r+"]"):(s&&(l+="."),l+=r),c.parentName=l,!(-1===n.utils.arrayIndexOf(f.copy,r)&&-1===n.utils.arrayIndexOf(f.include,r)&&e[i]&&e[i].mappedProperties&&!e[i].mappedProperties[r]&&e[i].copiedProperties&&!e[i].copiedProperties[r]&&"array"!==t.getType(e)))switch(t.getType(n.utils.unwrapObservable(h))){case"object":case"array":case"undefined":c=f.visitedObjects.get(h);o[r]="undefined"!==t.getType(c)?c:t.visitModel(h,u,f);break;default:o[r]=u(h,f.parentName)}}}),o}}),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){var e=!1,c=!1,w=5e3,b=2e3,r=0,a=["ms","moz","webkit","o"],t=window.requestAnimationFrame||!1,i=window.cancelAnimationFrame||!1,v,o,u,f;if(!t)for(v in a)o=a[v],t||(t=window[o+"RequestAnimationFrame"]),i||(i=window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"]);var s=window.MutationObserver||window.WebKitMutationObserver||!1,y={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var n=document.getElementsByTagName("script"),n=n[n.length-1].src.split("?")[0];return 0<n.split("/").length?n.split("/").slice(0,-1).join("/")+"/":""}()},l=!1,k=function(){var r,n,i,t;if(l)return l;for(r=document.createElement("DIV"),n={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document},n.isopera=("opera"in window),n.isopera12=n.isopera&&("getUserMedia"in navigator),n.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),n.isie=("all"in document)&&("attachEvent"in r)&&!n.isopera,n.isieold=n.isie&&!("msInterpolationMode"in r.style),n.isie7=n.isie&&!n.isieold&&(!("documentMode"in document)||7==document.documentMode),n.isie8=n.isie&&("documentMode"in document)&&8==document.documentMode,n.isie9=n.isie&&("performance"in window)&&9<=document.documentMode,n.isie10=n.isie&&("performance"in window)&&10<=document.documentMode,n.isie9mobile=/iemobile.9/i.test(navigator.userAgent),n.isie9mobile&&(n.isie9=!1),n.isie7mobile=!n.isie9mobile&&n.isie7&&/iemobile/i.test(navigator.userAgent),n.ismozilla=("MozAppearance"in r.style),n.iswebkit=("WebkitAppearance"in r.style),n.ischrome=("chrome"in window),n.ischrome22=n.ischrome&&n.haspointerlock,n.ischrome26=n.ischrome&&("transition"in r.style),n.cantouch=("ontouchstart"in document.documentElement)||("ontouchstart"in window),n.hasmstouch=window.navigator.msPointerEnabled||!1,n.ismac=/^mac$/i.test(navigator.platform),n.isios=n.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),n.isios4=n.isios&&!("seal"in Object),n.isandroid=/android/i.test(navigator.userAgent),n.trstyle=!1,n.hastransform=!1,n.hastranslate3d=!1,n.transitionstyle=!1,n.hastransition=!1,n.transitionend=!1,i=["transform","msTransform","webkitTransform","MozTransform","OTransform"],t=0;t<i.length;t++)if("undefined"!=typeof r.style[i[t]]){n.trstyle=i[t];break}n.hastransform=!1!=n.trstyle;n.hastransform&&(r.style[n.trstyle]="translate3d(1px,2px,3px)",n.hastranslate3d=/translate3d/.test(r.style[n.trstyle]));n.transitionstyle=!1;n.prefixstyle="";n.transitionend=!1;for(var i="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),u=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),f="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),t=0;t<i.length;t++)if(i[t]in r.style){n.transitionstyle=i[t];n.prefixstyle=u[t];n.transitionend=f[t];break}n.ischrome26&&(n.prefixstyle=u[1]);n.hastransition=n.transitionstyle;n:{for(i=["-moz-grab","-webkit-grab","grab"],(n.ischrome&&!n.ischrome22||n.isie)&&(i=[]),t=0;t<i.length;t++)if(u=i[t],r.style.cursor=u,r.style.cursor==u){i=u;break n}i="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return n.cursorgrabvalue=i,n.hasmousecapture="setCapture"in r,n.hasMutationObserver=!1!==s,l=n},d=function(u,f){function it(){var n=o.win,t;if("zIndex"in n)return n.zIndex();for(;0<n.length&&9!=n[0].nodeType;){if(t=n.css("zIndex"),!isNaN(t)&&0!=t)return parseInt(t);n=n.parent()}return!1}function l(n,t,i){return t=n.css(t),n=parseFloat(t),isNaN(n)?(n=tt[t]||0,i=3==n?i?o.win.outerHeight()-o.win.innerHeight():o.win.outerWidth()-o.win.innerWidth():1,o.isie8&&n&&(n+=1),i?n:0):n}function g(n,t,i,r){o._bind(n,t,function(r){r=r?r:window.event;var u={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return"mousewheel"==t?(u.deltaY=-.025*r.wheelDelta,r.wheelDeltaX&&(u.deltaX=-.025*r.wheelDeltaX)):u.deltaY=r.detail,i.call(n,u)},r)}function nt(n,t,i){var u,r;if(0==n.deltaMode?(u=-Math.floor(n.deltaX*(o.opt.mousescrollstep/54)),r=-Math.floor(n.deltaY*(o.opt.mousescrollstep/54))):1==n.deltaMode&&(u=-Math.floor(n.deltaX*o.opt.mousescrollstep),r=-Math.floor(n.deltaY*o.opt.mousescrollstep)),t&&o.opt.oneaxismousemode&&0==u&&r&&(u=r,r=0),u&&(o.scrollmom&&o.scrollmom.stop(),o.lastdeltax+=u,o.debounced("mousewheelx",function(){var n=o.lastdeltax;o.lastdeltax=0;o.rail.drag||o.doScrollLeftBy(n)},15)),r){if(o.opt.nativeparentscrolling&&i&&!o.ispage&&!o.zoomactive)if(0>r){if(o.getScrollTop()>=o.page.maxh)return!0}else if(0>=o.getScrollTop())return!0;o.scrollmom&&o.scrollmom.stop();o.lastdeltay+=r;o.debounced("mousewheely",function(){var n=o.lastdeltay;o.lastdeltay=0;o.rail.drag||o.doScrollBy(n)},15)}return n.stopImmediatePropagation(),n.preventDefault()}var o=this,a,h,v,d,tt;if(this.version="3.5.4",this.name="nicescroll",this.me=f,this.opt={doc:n("body"),win:!1},n.extend(this.opt,y),this.opt.snapbackspeed=80,u)for(a in o.opt)"undefined"!=typeof u[a]&&(o.opt[a]=u[a]);this.iddoc=(this.doc=o.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/^BODY|HTML/.test(o.opt.win?o.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==o.opt.win;this.win=o.opt.win||(this.ispage?n(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?n(window):this.win;this.body=n("body");this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.forcescreen=!1;this.canshowonmouseevent="scroll"!=o.opt.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.isrtlmode=!1;do this.id="ascrail"+b++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.hidden=this.locked=!1;this.cursoractive=!0;this.wheelprevented=!1;this.overflowx=o.opt.overflowx;this.overflowy=o.opt.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=k();h=n.extend({},this.detected);this.ishwscroll=(this.canhwscroll=h.hastransform&&o.opt.hwacceleration)&&o.haswrapper;this.istouchcapable=!1;h.cantouch&&h.ischrome&&!h.isios&&!h.isandroid&&(this.istouchcapable=!0,h.cantouch=!1);h.cantouch&&h.ismozilla&&!h.isios&&!h.isandroid&&(this.istouchcapable=!0,h.cantouch=!1);o.opt.enablemouselockapi||(h.hasmousecapture=!1,h.haspointerlock=!1);this.delayed=function(n,t,i,r){var u=o.delaylist[n],f=(new Date).getTime();if(!r&&u&&u.tt)return!1;u&&u.tt&&clearTimeout(u.tt);u&&u.last+i>f&&!u.tt?o.delaylist[n]={last:f+i,tt:setTimeout(function(){o&&(o.delaylist[n].tt=0,t.call())},i)}:u&&u.tt||(o.delaylist[n]={last:f,tt:0},setTimeout(function(){t.call()},0))};this.debounced=function(n,t,i){var r=o.delaylist[n];(new Date).getTime();o.delaylist[n]=t;r||setTimeout(function(){var t=o.delaylist[n];o.delaylist[n]=!1;t.call()},i)};v=!1;this.synched=function(n,i){return o.synclist[n]=i,function(){v||(t(function(){v=!1;for(n in o.synclist){var t=o.synclist[n];t&&t.call(o);o.synclist[n]=!1}}),v=!0)}(),n};this.unsynched=function(n){o.synclist[n]&&(o.synclist[n]=!1)};this.css=function(n,t){for(var i in t)o.saved.css.push([n,i,n.css(i)]),n.css(i,t[i])};this.scrollTop=function(n){return"undefined"==typeof n?o.getScrollTop():o.setScrollTop(n)};this.scrollLeft=function(n){return"undefined"==typeof n?o.getScrollLeft():o.setScrollLeft(n)};BezierClass=function(n,t,i,r,u,f,e){this.st=n;this.ed=t;this.spd=i;this.p1=r||0;this.p2=u||1;this.p3=f||0;this.p4=e||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(n){return 3*n*n*(1-n)},B3:function(n){return 3*n*(1-n)*(1-n)},B4:function(n){return(1-n)*(1-n)*(1-n)},getNow:function(){var n=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(n)+this.B3(n)+this.B4(n);return 0>n?this.ed:this.st+Math.round(this.df*t)},update:function(n,t){return this.st=this.getNow(),this.ed=n,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}};this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},h.hastranslate3d&&h.isios&&this.doc.css("-webkit-backface-visibility","hidden"),d=function(){var n=o.doc.css(h.trstyle);return n&&"matrix"==n.substr(0,6)?n.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1},this.getScrollTop=function(n){if(!n){if(n=d())return 16==n.length?-n[13]:-n[5];if(o.timerscroll&&o.timerscroll.bz)return o.timerscroll.bz.getNow()}return o.doc.translate.y},this.getScrollLeft=function(n){if(!n){if(n=d())return 16==n.length?-n[12]:-n[4];if(o.timerscroll&&o.timerscroll.bh)return o.timerscroll.bh.getNow()}return o.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(n){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1);n.dispatchEvent(t)}:document.fireEvent?function(n){var t=document.createEventObject();n.fireEvent("onscroll");t.cancelBubble=!0}:function(){},h.hastranslate3d&&o.opt.enabletranslate3d?(this.setScrollTop=function(n,t){o.doc.translate.y=n;o.doc.translate.ty=-1*n+"px";o.doc.css(h.trstyle,"translate3d("+o.doc.translate.tx+","+o.doc.translate.ty+",0px)");t||o.notifyScrollEvent(o.win[0])},this.setScrollLeft=function(n,t){o.doc.translate.x=n;o.doc.translate.tx=-1*n+"px";o.doc.css(h.trstyle,"translate3d("+o.doc.translate.tx+","+o.doc.translate.ty+",0px)");t||o.notifyScrollEvent(o.win[0])}):(this.setScrollTop=function(n,t){o.doc.translate.y=n;o.doc.translate.ty=-1*n+"px";o.doc.css(h.trstyle,"translate("+o.doc.translate.tx+","+o.doc.translate.ty+")");t||o.notifyScrollEvent(o.win[0])},this.setScrollLeft=function(n,t){o.doc.translate.x=n;o.doc.translate.tx=-1*n+"px";o.doc.css(h.trstyle,"translate("+o.doc.translate.tx+","+o.doc.translate.ty+")");t||o.notifyScrollEvent(o.win[0])})):(this.getScrollTop=function(){return o.docscroll.scrollTop()},this.setScrollTop=function(n){return o.docscroll.scrollTop(n)},this.getScrollLeft=function(){return o.docscroll.scrollLeft()},this.setScrollLeft=function(n){return o.docscroll.scrollLeft(n)});this.getTarget=function(n){return n?n.target?n.target:n.srcElement?n.srcElement:!1:!1};this.hasParent=function(n,t){if(!n)return!1;for(var i=n.target||n.srcElement||n||!1;i&&i.id!=t;)i=i.parentNode||!1;return!1!==i};tt={thin:1,medium:3,thick:5};this.getOffset=function(){if(o.isfixed)return{top:parseFloat(o.win.css("top")),left:parseFloat(o.win.css("left"))};if(!o.viewport)return o.win.offset();var n=o.win.offset(),t=o.viewport.offset();return{top:n.top-t.top+o.viewport.scrollTop(),left:n.left-t.left+o.viewport.scrollLeft()}};this.updateScrollBar=function(n){var t,r;if(o.ishwscroll)o.rail.css({height:o.win.innerHeight()}),o.railh&&o.railh.css({width:o.win.innerWidth()});else{var u=o.getOffset(),i=u.top,t=u.left,i=i+l(o.win,"border-top-width",!0);o.win.outerWidth();o.win.innerWidth();t=t+(o.rail.align?o.win.outerWidth()-l(o.win,"border-right-width")-o.rail.width:l(o.win,"border-left-width"));r=o.opt.railoffset;r&&(r.top&&(i+=r.top),o.rail.align&&r.left&&(t+=r.left));o.locked||o.rail.css({top:i,left:t,height:n?n.h:o.win.innerHeight()});o.zoom&&o.zoom.css({top:i+1,left:1==o.rail.align?t-20:t+o.rail.width+4});o.railh&&!o.locked&&(i=u.top,t=u.left,n=o.railh.align?i+l(o.win,"border-top-width",!0)+o.win.innerHeight()-o.railh.height:i+l(o.win,"border-top-width",!0),t+=l(o.win,"border-left-width"),o.railh.css({top:n,left:t,width:o.railh.width}))}};this.doRailClick=function(n,t,i){var r;o.locked||(o.cancelEvent(n),t?(t=i?o.doScrollLeft:o.doScrollTop,r=i?(n.pageX-o.railh.offset().left-o.cursorwidth/2)*o.scrollratio.x:(n.pageY-o.rail.offset().top-o.cursorheight/2)*o.scrollratio.y,t(r)):(t=i?o.doScrollLeftBy:o.doScrollBy,r=i?o.scroll.x:o.scroll.y,n=i?n.pageX-o.railh.offset().left:n.pageY-o.rail.offset().top,i=i?o.view.w:o.view.h,r>=n?t(i):t(-i)))};o.hasanimationframe=t;o.hascancelanimationframe=i;o.hasanimationframe?o.hascancelanimationframe||(i=function(){o.cancelAnimationFrame=!0}):(t=function(n){return setTimeout(n,15-Math.floor(+new Date/1e3)%16)},i=clearInterval);this.init=function(){var f,u,b,l,a,k,i,d,v,g,t,y;if(o.saved.css=[],h.isie7mobile||h.isoperamini)return!0;if(h.hasmstouch&&o.css(o.ispage?n("html"):o.win,{"-ms-touch-action":"none"}),o.zindex="auto",o.zindex=!o.ispage&&"auto"==o.opt.zindex?it()||"auto":o.opt.zindex,!o.ispage&&"auto"!=o.zindex&&o.zindex>r&&(r=o.zindex),o.isie&&0==o.zindex&&"auto"==o.opt.zindex&&(o.zindex="auto"),!o.ispage||!h.cantouch&&!h.isieold&&!h.isie9mobile){f=o.docscroll;o.ispage&&(f=o.haswrapper?o.win:o.doc);h.isie9mobile||o.css(f,{"overflow-y":"hidden"});o.ispage&&h.isie7&&("BODY"==o.doc[0].nodeName?o.css(n("html"),{"overflow-y":"hidden"}):"HTML"==o.doc[0].nodeName&&o.css(n("body"),{"overflow-y":"hidden"}));!h.isios||o.ispage||o.haswrapper||o.css(n("body"),{"-webkit-overflow-scrolling":"touch"});u=n(document.createElement("div"));u.css({position:"relative",top:0,float:"right",width:o.opt.cursorwidth,height:"0px","background-color":o.opt.cursorcolor,border:o.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":o.opt.cursorborderradius,"-moz-border-radius":o.opt.cursorborderradius,"border-radius":o.opt.cursorborderradius});u.hborder=parseFloat(u.outerHeight()-u.innerHeight());o.cursor=u;t=n(document.createElement("div"));t.attr("id",o.id);t.addClass("nicescroll-rails");a=["left","right"];for(k in a)l=a[k],(b=o.opt.railpadding[l])?t.css("padding-"+l,b+"px"):o.opt.railpadding[l]=0;t.append(u);t.width=Math.max(parseFloat(o.opt.cursorwidth),u.outerWidth())+o.opt.railpadding.left+o.opt.railpadding.right;t.css({width:t.width+"px",zIndex:o.zindex,background:o.opt.background,cursor:"default"});t.visibility=!0;t.scrollable=!0;t.align="left"==o.opt.railalign?0:1;o.rail=t;u=o.rail.drag=!1;!o.opt.boxzoom||o.ispage||h.isieold||(u=document.createElement("div"),o.bind(u,"click",o.doZoom),o.zoom=n(u),o.zoom.css({cursor:"pointer","z-index":o.zindex,backgroundImage:"url("+o.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),o.opt.dblclickzoom&&o.bind(o.win,"dblclick",o.doZoom),h.cantouch&&o.opt.gesturezoom&&(o.ongesturezoom=function(n){return 1.5<n.scale&&o.doZoomIn(n),.8>n.scale&&o.doZoomOut(n),o.cancelEvent(n)},o.bind(o.win,"gestureend",o.ongesturezoom)));o.railh=!1;o.opt.horizrailenabled&&(o.css(f,{"overflow-x":"hidden"}),u=n(document.createElement("div")),u.css({position:"relative",top:0,height:o.opt.cursorwidth,width:"0px","background-color":o.opt.cursorcolor,border:o.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":o.opt.cursorborderradius,"-moz-border-radius":o.opt.cursorborderradius,"border-radius":o.opt.cursorborderradius}),u.wborder=parseFloat(u.outerWidth()-u.innerWidth()),o.cursorh=u,i=n(document.createElement("div")),i.attr("id",o.id+"-hr"),i.addClass("nicescroll-rails"),i.height=Math.max(parseFloat(o.opt.cursorwidth),u.outerHeight()),i.css({height:i.height+"px",zIndex:o.zindex,background:o.opt.background}),i.append(u),i.visibility=!0,i.scrollable=!0,i.align="top"==o.opt.railvalign?0:1,o.railh=i,o.railh.drag=!1);o.ispage?(t.css({position:"fixed",top:"0px",height:"100%"}),t.align?t.css({right:"0px"}):t.css({left:"0px"}),o.body.append(t),o.railh&&(i.css({position:"fixed",left:"0px",width:"100%"}),i.align?i.css({bottom:"0px"}):i.css({top:"0px"}),o.body.append(i))):(o.ishwscroll?("static"==o.win.css("position")&&o.css(o.win,{position:"relative"}),f="HTML"==o.win[0].nodeName?o.body:o.win,o.zoom&&(o.zoom.css({position:"absolute",top:1,right:0,"margin-right":t.width+4}),f.append(o.zoom)),t.css({position:"absolute",top:0}),t.align?t.css({right:0}):t.css({left:0}),f.append(t),i&&(i.css({position:"absolute",left:0,bottom:0}),i.align?i.css({bottom:0}):i.css({top:0}),f.append(i))):(o.isfixed="fixed"==o.win.css("position"),f=o.isfixed?"fixed":"absolute",o.isfixed||(o.viewport=o.getViewport(o.win[0])),o.viewport&&(o.body=o.viewport,!1==/fixed|relative|absolute/.test(o.viewport.css("position"))&&o.css(o.viewport,{position:"relative"})),t.css({position:f}),o.zoom&&o.zoom.css({position:f}),o.updateScrollBar(),o.body.append(t),o.zoom&&o.body.append(o.zoom),o.railh&&(i.css({position:f}),o.body.append(i))),h.isios&&o.css(o.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),h.isie&&o.opt.disableoutline&&o.win.attr("hideFocus","true"),h.iswebkit&&o.opt.disableoutline&&o.win.css({outline:"none"}));!1===o.opt.autohidemode?(o.autohidedom=!1,o.rail.css({opacity:o.opt.cursoropacitymax}),o.railh&&o.railh.css({opacity:o.opt.cursoropacitymax})):!0===o.opt.autohidemode||"leave"===o.opt.autohidemode?(o.autohidedom=n().add(o.rail),h.isie8&&(o.autohidedom=o.autohidedom.add(o.cursor)),o.railh&&(o.autohidedom=o.autohidedom.add(o.railh)),o.railh&&h.isie8&&(o.autohidedom=o.autohidedom.add(o.cursorh))):"scroll"==o.opt.autohidemode?(o.autohidedom=n().add(o.rail),o.railh&&(o.autohidedom=o.autohidedom.add(o.railh))):"cursor"==o.opt.autohidemode?(o.autohidedom=n().add(o.cursor),o.railh&&(o.autohidedom=o.autohidedom.add(o.cursorh))):"hidden"==o.opt.autohidemode&&(o.autohidedom=!1,o.hide(),o.locked=!1);h.isie9mobile?(o.scrollmom=new p(o),o.onmangotouch=function(n){var t,i,r;if(n=o.getScrollTop(),t=o.getScrollLeft(),n==o.scrollmom.lastscrolly&&t==o.scrollmom.lastscrollx)return!0;if(i=n-o.mangotouch.sy,r=t-o.mangotouch.sx,0!=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(i,2)))){var f=0>i?-1:1,e=0>r?-1:1,u=+new Date;o.mangotouch.lazy&&clearTimeout(o.mangotouch.lazy);80<u-o.mangotouch.tm||o.mangotouch.dry!=f||o.mangotouch.drx!=e?(o.scrollmom.stop(),o.scrollmom.reset(t,n),o.mangotouch.sy=n,o.mangotouch.ly=n,o.mangotouch.sx=t,o.mangotouch.lx=t,o.mangotouch.dry=f,o.mangotouch.drx=e,o.mangotouch.tm=u):(o.scrollmom.stop(),o.scrollmom.update(o.mangotouch.sx-r,o.mangotouch.sy-i),o.mangotouch.tm=u,i=Math.max(Math.abs(o.mangotouch.ly-n),Math.abs(o.mangotouch.lx-t)),o.mangotouch.ly=n,o.mangotouch.lx=t,2<i&&(o.mangotouch.lazy=setTimeout(function(){o.mangotouch.lazy=!1;o.mangotouch.dry=0;o.mangotouch.drx=0;o.mangotouch.tm=0;o.scrollmom.doMomentum(30)},100)))}},t=o.getScrollTop(),i=o.getScrollLeft(),o.mangotouch={sy:t,ly:t,dry:0,sx:i,lx:i,drx:0,lazy:!1,tm:0},o.bind(o.docscroll,"scroll",o.onmangotouch)):((h.cantouch||o.istouchcapable||o.opt.touchbehavior||h.hasmstouch)&&(o.scrollmom=new p(o),o.ontouchstart=function(t){var i,r;if(t.pointerType&&2!=t.pointerType)return!1;if(o.hasmoving=!1,!o.locked){if(h.hasmstouch)for(i=t.target?t.target:!1;i;){if(r=n(i).getNiceScroll(),0<r.length&&r[0].me==o.me)break;if(0<r.length)return!1;if("DIV"==i.nodeName&&i.id==o.id)break;i=i.parentNode?i.parentNode:!1}if(o.cancelScroll(),(i=o.getTarget(t))&&/INPUT/i.test(i.nodeName)&&/range/i.test(i.type))return o.stopPropagation(t);if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),o.forcescreen&&(r=t,t={original:t.original?t.original:t},t.clientX=r.screenX,t.clientY=r.screenY),o.rail.drag={x:t.clientX,y:t.clientY,sx:o.scroll.x,sy:o.scroll.y,st:o.getScrollTop(),sl:o.getScrollLeft(),pt:2,dl:!1},o.ispage||!o.opt.directionlockdeadzone)o.rail.drag.dl="f";else{var r=n(window).width(),u=n(window).height(),f=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),u=Math.max(0,e-u),r=Math.max(0,f-r);o.rail.drag.ck=!o.rail.scrollable&&o.railh.scrollable?0<u?"v":!1:o.rail.scrollable&&!o.railh.scrollable?0<r?"h":!1:!1;o.rail.drag.ck||(o.rail.drag.dl="f")}if(o.opt.touchbehavior&&o.isiframe&&h.isie&&(r=o.win.position(),o.rail.drag.x+=r.left,o.rail.drag.y+=r.top),o.hasmoving=!1,o.lastmouseup=!1,o.scrollmom.reset(t.clientX,t.clientY),!h.cantouch&&!this.istouchcapable&&!h.hasmstouch){if(!i||!/INPUT|SELECT|TEXTAREA/i.test(i.nodeName))return!o.ispage&&h.hasmousecapture&&i.setCapture(),o.opt.touchbehavior?(i.onclick&&!i._onclick&&(i._onclick=i.onclick,i.onclick=function(n){if(o.hasmoving)return!1;i._onclick.call(this,n)}),o.cancelEvent(t)):o.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(n(i).attr("type"))&&(pc={tg:i,click:!1},o.preventclick=pc)}}},o.ontouchend=function(n){return n.pointerType&&2!=n.pointerType?!1:o.rail.drag&&2==o.rail.drag.pt&&(o.scrollmom.doMomentum(),o.rail.drag=!1,o.hasmoving&&(o.lastmouseup=!0,o.hideCursor(),h.hasmousecapture&&document.releaseCapture(),!h.cantouch))?o.cancelEvent(n):void 0},d=o.opt.touchbehavior&&o.isiframe&&!h.hasmousecapture,o.ontouchmove=function(t,i){var e,f,u;if(t.pointerType&&2!=t.pointerType)return!1;if(o.rail.drag&&2==o.rail.drag.pt){if(h.cantouch&&"undefined"==typeof t.original)return!0;o.hasmoving=!0;o.preventclick&&!o.preventclick.click&&(o.preventclick.click=o.preventclick.tg.onclick||!1,o.preventclick.tg.onclick=o.onpreventclick);t=n.extend({original:t},t);"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY);o.forcescreen&&(f=t,t={original:t.original?t.original:t},t.clientX=f.screenX,t.clientY=f.screenY);f=ofy=0;d&&!i&&(e=o.win.position(),f=-e.left,ofy=-e.top);var c=t.clientY+ofy,e=c-o.rail.drag.y,l=t.clientX+f,s=l-o.rail.drag.x,r=o.rail.drag.st-e;if(o.ishwscroll&&o.opt.bouncescroll?0>r?r=Math.round(r/2):r>o.page.maxh&&(r=o.page.maxh+Math.round((r-o.page.maxh)/2)):(0>r&&(c=r=0),r>o.page.maxh&&(r=o.page.maxh,c=0)),o.railh&&o.railh.scrollable&&(u=o.rail.drag.sl-s,o.ishwscroll&&o.opt.bouncescroll?0>u?u=Math.round(u/2):u>o.page.maxw&&(u=o.page.maxw+Math.round((u-o.page.maxw)/2)):(0>u&&(l=u=0),u>o.page.maxw&&(u=o.page.maxw,l=0))),f=!1,o.rail.drag.dl)f=!0,"v"==o.rail.drag.dl?u=o.rail.drag.sl:"h"==o.rail.drag.dl&&(r=o.rail.drag.st);else{var e=Math.abs(e),s=Math.abs(s),a=o.opt.directionlockdeadzone;if("v"==o.rail.drag.ck){if(e>a&&s<=.3*e)return o.rail.drag=!1,!0;s>a&&(o.rail.drag.dl="f",n("body").scrollTop(n("body").scrollTop()))}else if("h"==o.rail.drag.ck){if(s>a&&e<=.3*s)return o.rail.drag=!1,!0;e>a&&(o.rail.drag.dl="f",n("body").scrollLeft(n("body").scrollLeft()))}}if(o.synched("touchmove",function(){o.rail.drag&&2==o.rail.drag.pt&&(o.prepareTransition&&o.prepareTransition(0),o.rail.scrollable&&o.setScrollTop(r),o.scrollmom.update(l,c),o.railh&&o.railh.scrollable?(o.setScrollLeft(u),o.showCursor(r,u)):o.showCursor(r),h.isie10&&document.selection.clear())}),h.ischrome&&o.istouchcapable&&(f=!1),f)return o.cancelEvent(t)}}),o.onmousedown=function(n,t){if(!(o.rail.drag&&1!=o.rail.drag.pt)){if(o.locked)return o.cancelEvent(n);o.cancelScroll();o.rail.drag={x:n.clientX,y:n.clientY,sx:o.scroll.x,sy:o.scroll.y,pt:1,hr:!!t};var i=o.getTarget(n);return!o.ispage&&h.hasmousecapture&&i.setCapture(),o.isiframe&&!h.hasmousecapture&&(o.saved.csspointerevents=o.doc.css("pointer-events"),o.css(o.doc,{"pointer-events":"none"})),o.hasmoving=!1,o.cancelEvent(n)}},o.onmouseup=function(n){if(o.rail.drag&&(h.hasmousecapture&&document.releaseCapture(),o.isiframe&&!h.hasmousecapture&&o.doc.css("pointer-events",o.saved.csspointerevents),1==o.rail.drag.pt))return o.rail.drag=!1,o.hasmoving&&o.triggerScrollEnd(),o.cancelEvent(n)},o.onmousemove=function(n){if(o.rail.drag&&1==o.rail.drag.pt){if(h.ischrome&&0==n.which)return o.onmouseup(n);if(o.cursorfreezed=!0,o.hasmoving=!0,o.rail.drag.hr){o.scroll.x=o.rail.drag.sx+(n.clientX-o.rail.drag.x);0>o.scroll.x&&(o.scroll.x=0);var t=o.scrollvaluemaxw;o.scroll.x>t&&(o.scroll.x=t)}else o.scroll.y=o.rail.drag.sy+(n.clientY-o.rail.drag.y),0>o.scroll.y&&(o.scroll.y=0),t=o.scrollvaluemax,o.scroll.y>t&&(o.scroll.y=t);return o.synched("mousemove",function(){o.rail.drag&&1==o.rail.drag.pt&&(o.showCursor(),o.rail.drag.hr?o.doScrollLeft(Math.round(o.scroll.x*o.scrollratio.x),o.opt.cursordragspeed):o.doScrollTop(Math.round(o.scroll.y*o.scrollratio.y),o.opt.cursordragspeed))}),o.cancelEvent(n)}},h.cantouch||o.opt.touchbehavior?(o.onpreventclick=function(n){if(o.preventclick)return o.preventclick.tg.onclick=o.preventclick.click,o.preventclick=!1,o.cancelEvent(n)},o.bind(o.win,"mousedown",o.ontouchstart),o.onclick=h.isios?!1:function(n){return o.lastmouseup?(o.lastmouseup=!1,o.cancelEvent(n)):!0},o.opt.grabcursorenabled&&h.cursorgrabvalue&&(o.css(o.ispage?o.doc:o.win,{cursor:h.cursorgrabvalue}),o.css(o.rail,{cursor:h.cursorgrabvalue}))):(v=function(n){if(o.selectiondrag){if(n){var t=o.win.outerHeight();n=n.pageY-o.selectiondrag.top;0<n&&n<t&&(n=0);n>=t&&(n-=t);o.selectiondrag.df=n}0!=o.selectiondrag.df&&(o.doScrollBy(2*-Math.floor(o.selectiondrag.df/6)),o.debounced("doselectionscroll",function(){v()},50))}},o.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},o.onselectionstart=function(){o.ispage||(o.selectiondrag=o.win.offset())},o.onselectionend=function(){o.selectiondrag=!1},o.onselectiondrag=function(n){o.selectiondrag&&o.hasTextSelected()&&o.debounced("selectionscroll",function(){v(n)},250)}),h.hasmstouch&&(o.css(o.rail,{"-ms-touch-action":"none"}),o.css(o.cursor,{"-ms-touch-action":"none"}),o.bind(o.win,"MSPointerDown",o.ontouchstart),o.bind(document,"MSPointerUp",o.ontouchend),o.bind(document,"MSPointerMove",o.ontouchmove),o.bind(o.cursor,"MSGestureHold",function(n){n.preventDefault()}),o.bind(o.cursor,"contextmenu",function(n){n.preventDefault()})),this.istouchcapable&&(o.bind(o.win,"touchstart",o.ontouchstart),o.bind(document,"touchend",o.ontouchend),o.bind(document,"touchcancel",o.ontouchend),o.bind(document,"touchmove",o.ontouchmove)),o.bind(o.cursor,"mousedown",o.onmousedown),o.bind(o.cursor,"mouseup",o.onmouseup),o.railh&&(o.bind(o.cursorh,"mousedown",function(n){o.onmousedown(n,!0)}),o.bind(o.cursorh,"mouseup",o.onmouseup)),!o.opt.cursordragontouch&&(h.cantouch||o.opt.touchbehavior)||(o.rail.css({cursor:"default"}),o.railh&&o.railh.css({cursor:"default"}),o.jqbind(o.rail,"mouseenter",function(){if(!o.win.is(":visible"))return!1;o.canshowonmouseevent&&o.showCursor();o.rail.active=!0}),o.jqbind(o.rail,"mouseleave",function(){o.rail.active=!1;o.rail.drag||o.hideCursor()}),o.opt.sensitiverail&&(o.bind(o.rail,"click",function(n){o.doRailClick(n,!1,!1)}),o.bind(o.rail,"dblclick",function(n){o.doRailClick(n,!0,!1)}),o.bind(o.cursor,"click",function(n){o.cancelEvent(n)}),o.bind(o.cursor,"dblclick",function(n){o.cancelEvent(n)})),o.railh&&(o.jqbind(o.railh,"mouseenter",function(){if(!o.win.is(":visible"))return!1;o.canshowonmouseevent&&o.showCursor();o.rail.active=!0}),o.jqbind(o.railh,"mouseleave",function(){o.rail.active=!1;o.rail.drag||o.hideCursor()}),o.opt.sensitiverail&&(o.bind(o.railh,"click",function(n){o.doRailClick(n,!1,!0)}),o.bind(o.railh,"dblclick",function(n){o.doRailClick(n,!0,!0)}),o.bind(o.cursorh,"click",function(n){o.cancelEvent(n)}),o.bind(o.cursorh,"dblclick",function(n){o.cancelEvent(n)})))),!h.cantouch&&!o.opt.touchbehavior?(o.bind(h.hasmousecapture?o.win:document,"mouseup",o.onmouseup),o.bind(document,"mousemove",o.onmousemove),o.onclick&&o.bind(document,"click",o.onclick),!o.ispage&&o.opt.enablescrollonselection&&(o.bind(o.win[0],"mousedown",o.onselectionstart),o.bind(document,"mouseup",o.onselectionend),o.bind(o.cursor,"mouseup",o.onselectionend),o.cursorh&&o.bind(o.cursorh,"mouseup",o.onselectionend),o.bind(document,"mousemove",o.onselectiondrag)),o.zoom&&(o.jqbind(o.zoom,"mouseenter",function(){o.canshowonmouseevent&&o.showCursor();o.rail.active=!0}),o.jqbind(o.zoom,"mouseleave",function(){o.rail.active=!1;o.rail.drag||o.hideCursor()}))):(o.bind(h.hasmousecapture?o.win:document,"mouseup",o.ontouchend),o.bind(document,"mousemove",o.ontouchmove),o.onclick&&o.bind(document,"click",o.onclick),o.opt.cursordragontouch&&(o.bind(o.cursor,"mousedown",o.onmousedown),o.bind(o.cursor,"mousemove",o.onmousemove),o.cursorh&&o.bind(o.cursorh,"mousedown",function(n){o.onmousedown(n,!0)}),o.cursorh&&o.bind(o.cursorh,"mousemove",o.onmousemove))),o.opt.enablemousewheel&&(o.isiframe||o.bind(h.isie&&o.ispage?document:o.win,"mousewheel",o.onmousewheel),o.bind(o.rail,"mousewheel",o.onmousewheel),o.railh&&o.bind(o.railh,"mousewheel",o.onmousewheelhr)),o.ispage||h.cantouch||/HTML|^BODY/.test(o.win[0].nodeName)||(o.win.attr("tabindex")||o.win.attr({tabindex:w++}),o.jqbind(o.win,"focus",function(n){e=o.getTarget(n).id||!0;o.hasfocus=!0;o.canshowonmouseevent&&o.noticeCursor()}),o.jqbind(o.win,"blur",function(){e=!1;o.hasfocus=!1}),o.jqbind(o.win,"mouseenter",function(n){c=o.getTarget(n).id||!0;o.hasmousefocus=!0;o.canshowonmouseevent&&o.noticeCursor()}),o.jqbind(o.win,"mouseleave",function(){c=!1;o.hasmousefocus=!1;o.rail.drag||o.hideCursor()})));o.onkeypress=function(t){var r;if(o.locked&&0==o.page.maxh||(t=t?t:window.e,r=o.getTarget(t),r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!r.getAttribute("type")&&!r.type||!/submit|button|cancel/i.tp)||n(r).attr("contenteditable")))return!0;if(o.hasfocus||o.hasmousefocus&&!e||o.ispage&&!e&&!c){if(r=t.keyCode,o.locked&&27!=r)return o.cancelEvent(t);var u=t.ctrlKey||!1,f=t.shiftKey||!1,i=!1;switch(r){case 38:case 63233:o.doScrollBy(72);i=!0;break;case 40:case 63235:o.doScrollBy(-72);i=!0;break;case 37:case 63232:o.railh&&(u?o.doScrollLeft(0):o.doScrollLeftBy(72),i=!0);break;case 39:case 63234:o.railh&&(u?o.doScrollLeft(o.page.maxw):o.doScrollLeftBy(-72),i=!0);break;case 33:case 63276:o.doScrollBy(o.view.h);i=!0;break;case 34:case 63277:o.doScrollBy(-o.view.h);i=!0;break;case 36:case 63273:o.railh&&u?o.doScrollPos(0,0):o.doScrollTo(0);i=!0;break;case 35:case 63275:o.railh&&u?o.doScrollPos(o.page.maxw,o.page.maxh):o.doScrollTo(o.page.maxh);i=!0;break;case 32:o.opt.spacebarenabled&&(f?o.doScrollBy(o.view.h):o.doScrollBy(-o.view.h),i=!0);break;case 27:o.zoomactive&&(o.doZoom(),i=!0)}if(i)return o.cancelEvent(t)}};o.opt.enablekeyboard&&o.bind(document,h.isopera&&!h.isopera12?"keypress":"keydown",o.onkeypress);o.bind(document,"keydown",function(n){n.ctrlKey&&(o.wheelprevented=!0)});o.bind(document,"keyup",function(n){n.ctrlKey||(o.wheelprevented=!1)});o.bind(window,"resize",o.lazyResize);o.bind(window,"orientationchange",o.lazyResize);o.bind(window,"load",o.lazyResize);!h.ischrome||o.ispage||o.haswrapper||(g=o.win.attr("style"),t=parseFloat(o.win.css("width"))+1,o.win.css("width",t),o.synched("chromefix",function(){o.win.attr("style",g)}));o.onAttributeChange=function(){o.lazyResize(250)};o.ispage||o.haswrapper||(!1!==s?(o.observer=new s(function(n){n.forEach(o.onAttributeChange)}),o.observer.observe(o.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),o.observerremover=new s(function(n){n.forEach(function(n){if(0<n.removedNodes.length)for(var t in n.removedNodes)if(n.removedNodes[t]==o.win[0])return o.remove()})}),o.observerremover.observe(o.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(o.bind(o.win,h.isie&&!h.isie9?"propertychange":"DOMAttrModified",o.onAttributeChange),h.isie9&&o.win[0].attachEvent("onpropertychange",o.onAttributeChange),o.bind(o.win,"DOMNodeRemoved",function(n){n.target==o.win[0]&&o.remove()})));!o.ispage&&o.opt.boxzoom&&o.bind(window,"resize",o.resizeZoom);o.istextarea&&o.bind(o.win,"mouseup",o.lazyResize);o.lazyResize(30)}"IFRAME"==this.doc[0].nodeName&&(y=function(t){o.iframexd=!1;try{var i="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(r){o.iframexd=!0;i=!1}if(o.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;o.forcescreen=!0;o.isiframe&&(o.iframe={doc:n(i),html:o.doc.contents().find("html")[0],body:o.doc.contents().find("body")[0]},o.getContentSize=function(){return{w:Math.max(o.iframe.html.scrollWidth,o.iframe.body.scrollWidth),h:Math.max(o.iframe.html.scrollHeight,o.iframe.body.scrollHeight)}},o.docscroll=n(o.iframe.body));h.isios||!o.opt.iframeautoresize||o.isiframe||(o.win.scrollTop(0),o.doc.height(""),t=Math.max(i.getElementsByTagName("html")[0].scrollHeight,i.body.scrollHeight),o.doc.height(t));o.lazyResize(30);h.isie7&&o.css(n(o.iframe.html),{"overflow-y":"hidden"});o.css(n(o.iframe.body),{"overflow-y":"hidden"});h.isios&&o.haswrapper&&o.css(n(i.body),{"-webkit-transform":"translate3d(0,0,0)"});"contentWindow"in this?o.bind(this.contentWindow,"scroll",o.onscroll):o.bind(i,"scroll",o.onscroll);o.opt.enablemousewheel&&o.bind(i,"mousewheel",o.onmousewheel);o.opt.enablekeyboard&&o.bind(i,h.isopera?"keypress":"keydown",o.onkeypress);(h.cantouch||o.opt.touchbehavior)&&(o.bind(i,"mousedown",o.ontouchstart),o.bind(i,"mousemove",function(n){o.ontouchmove(n,!0)}),o.opt.grabcursorenabled&&h.cursorgrabvalue&&o.css(n(i.body),{cursor:h.cursorgrabvalue}));o.bind(i,"mouseup",o.ontouchend);o.zoom&&(o.opt.dblclickzoom&&o.bind(i,"dblclick",o.doZoom),o.ongesturezoom&&o.bind(i,"gestureend",o.ongesturezoom))},this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){y.call(o.doc[0],!1)},500),o.bind(this.doc,"load",y))};this.showCursor=function(n,t){o.cursortimeout&&(clearTimeout(o.cursortimeout),o.cursortimeout=0);o.rail&&(o.autohidedom&&(o.autohidedom.stop().css({opacity:o.opt.cursoropacitymax}),o.cursoractive=!0),o.rail.drag&&1==o.rail.drag.pt||("undefined"!=typeof n&&!1!==n&&(o.scroll.y=Math.round(1*n/o.scrollratio.y)),"undefined"!=typeof t&&(o.scroll.x=Math.round(1*t/o.scrollratio.x))),o.cursor.css({height:o.cursorheight,top:o.scroll.y}),o.cursorh&&(!o.rail.align&&o.rail.visibility?o.cursorh.css({width:o.cursorwidth,left:o.scroll.x+o.rail.width}):o.cursorh.css({width:o.cursorwidth,left:o.scroll.x}),o.cursoractive=!0),o.zoom&&o.zoom.stop().css({opacity:o.opt.cursoropacitymax}))};this.hideCursor=function(n){o.cursortimeout||!o.rail||!o.autohidedom||o.hasmousefocus&&"leave"==o.opt.autohidemode||(o.cursortimeout=setTimeout(function(){o.rail.active&&o.showonmouseevent||(o.autohidedom.stop().animate({opacity:o.opt.cursoropacitymin}),o.zoom&&o.zoom.stop().animate({opacity:o.opt.cursoropacitymin}),o.cursoractive=!1);o.cursortimeout=0},n||o.opt.hidecursordelay))};this.noticeCursor=function(n,t,i){o.showCursor(t,i);o.rail.active||o.hideCursor(n)};this.getContentSize=o.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:o.haswrapper?function(){return{w:o.doc.outerWidth()+parseInt(o.win.css("paddingLeft"))+parseInt(o.win.css("paddingRight")),h:o.doc.outerHeight()+parseInt(o.win.css("paddingTop"))+parseInt(o.win.css("paddingBottom"))}}:function(){return{w:o.docscroll[0].scrollWidth,h:o.docscroll[0].scrollHeight}};this.onResize=function(n,t){if(!o||!o.win)return!1;if(!o.haswrapper&&!o.ispage){if("none"==o.win.css("display"))return o.visibility&&o.hideRail().hideRailHr(),!1;o.hidden||o.visibility||o.showRail().showRailHr()}var i=o.page.maxh,r=o.page.maxw,u=o.view.w;if(o.view={w:o.ispage?o.win.width():parseInt(o.win[0].clientWidth),h:o.ispage?o.win.height():parseInt(o.win[0].clientHeight)},o.page=t?t:o.getContentSize(),o.page.maxh=Math.max(0,o.page.h-o.view.h),o.page.maxw=Math.max(0,o.page.w-o.view.w),o.page.maxh==i&&o.page.maxw==r&&o.view.w==u){if(o.ispage||(i=o.win.offset(),o.lastposition&&(r=o.lastposition,r.top==i.top&&r.left==i.left)))return o;o.lastposition=i}return(0==o.page.maxh?(o.hideRail(),o.scrollvaluemax=0,o.scroll.y=0,o.scrollratio.y=0,o.cursorheight=0,o.setScrollTop(0),o.rail.scrollable=!1):o.rail.scrollable=!0,0==o.page.maxw?(o.hideRailHr(),o.scrollvaluemaxw=0,o.scroll.x=0,o.scrollratio.x=0,o.cursorwidth=0,o.setScrollLeft(0),o.railh.scrollable=!1):o.railh.scrollable=!0,o.locked=0==o.page.maxh&&0==o.page.maxw,o.locked)?(o.ispage||o.updateScrollBar(o.view),!1):(!o.hidden&&!o.visibility?o.showRail().showRailHr():!o.hidden&&!o.railh.visibility&&o.showRailHr(),o.istextarea&&o.win.css("resize")&&"none"!=o.win.css("resize")&&(o.view.h-=20),o.cursorheight=Math.min(o.view.h,Math.round(o.view.h*(o.view.h/o.page.h))),o.cursorheight=o.opt.cursorfixedheight?o.opt.cursorfixedheight:Math.max(o.opt.cursorminheight,o.cursorheight),o.cursorwidth=Math.min(o.view.w,Math.round(o.view.w*(o.view.w/o.page.w))),o.cursorwidth=o.opt.cursorfixedheight?o.opt.cursorfixedheight:Math.max(o.opt.cursorminheight,o.cursorwidth),o.scrollvaluemax=o.view.h-o.cursorheight-o.cursor.hborder,o.railh&&(o.railh.width=0<o.page.maxh?o.view.w-o.rail.width:o.view.w,o.scrollvaluemaxw=o.railh.width-o.cursorwidth-o.cursorh.wborder),o.ispage||o.updateScrollBar(o.view),o.scrollratio={x:o.page.maxw/o.scrollvaluemaxw,y:o.page.maxh/o.scrollvaluemax},o.getScrollTop()>o.page.maxh?o.doScrollTop(o.page.maxh):(o.scroll.y=Math.round(o.getScrollTop()*(1/o.scrollratio.y)),o.scroll.x=Math.round(o.getScrollLeft()*(1/o.scrollratio.x)),o.cursoractive&&o.noticeCursor()),o.scroll.y&&0==o.getScrollTop()&&o.doScrollTo(Math.floor(o.scroll.y*o.scrollratio.y)),o)};this.resize=o.onResize;this.lazyResize=function(n){return n=isNaN(n)?30:n,o.delayed("resize",o.resize,n),o};this._bind=function(n,t,i,r){o.events.push({e:n,n:t,f:i,b:r,q:!1});n.addEventListener?n.addEventListener(t,i,r||!1):n.attachEvent?n.attachEvent("on"+t,i):n["on"+t]=i};this.jqbind=function(t,i,r){o.events.push({e:t,n:i,f:r,q:!0});n(t).bind(i,r)};this.bind=function(n,t,i,r){var u="jquery"in n?n[0]:n;"mousewheel"==t?"onwheel"in o.win?o._bind(u,"wheel",i,r||!1):(n="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",g(u,n,i,r||!1),"DOMMouseScroll"==n&&g(u,"MozMousePixelScroll",i,r||!1)):u.addEventListener?(h.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&o._bind(u,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(n){if(n.touches){if(2>n.touches.length){var t=n.touches.length?n.touches[0]:n;t.original=n;i.call(this,t)}}else n.changedTouches&&(t=n.changedTouches[0],t.original=n,i.call(this,t))},r||!1),o._bind(u,t,i,r||!1),h.cantouch&&"mouseup"==t&&o._bind(u,"touchcancel",i,r||!1)):o._bind(u,t,function(n){return(n=n||window.event||!1)&&n.srcElement&&(n.target=n.srcElement),"pageY"in n||(n.pageX=n.clientX+document.documentElement.scrollLeft,n.pageY=n.clientY+document.documentElement.scrollTop),!1===i.call(u,n)||!1===r?o.cancelEvent(n):!0})};this._unbind=function(n,t,i,r){n.removeEventListener?n.removeEventListener(t,i,r):n.detachEvent?n.detachEvent("on"+t,i):n["on"+t]=!1};this.unbindAll=function(){for(var n,t=0;t<o.events.length;t++)n=o.events[t],n.q?n.e.unbind(n.n,n.f):o._unbind(n.e,n.n,n.f,n.b)};this.cancelEvent=function(n){return(n=n.original?n.original:n?n:window.event||!1,!n)?!1:(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.preventManipulation&&n.preventManipulation(),n.cancelBubble=!0,n.cancel=!0,n.returnValue=!1)};this.stopPropagation=function(n){return(n=n.original?n.original:n?n:window.event||!1,!n)?!1:n.stopPropagation?n.stopPropagation():(n.cancelBubble&&(n.cancelBubble=!0),!1)};this.showRail=function(){return 0!=o.page.maxh&&(o.ispage||"none"!=o.win.css("display"))&&(o.visibility=!0,o.rail.visibility=!0,o.rail.css("display","block")),o};this.showRailHr=function(){return o.railh?(0!=o.page.maxw&&(o.ispage||"none"!=o.win.css("display"))&&(o.railh.visibility=!0,o.railh.css("display","block")),o):o};this.hideRail=function(){return o.visibility=!1,o.rail.visibility=!1,o.rail.css("display","none"),o};this.hideRailHr=function(){return o.railh?(o.railh.visibility=!1,o.railh.css("display","none"),o):o};this.show=function(){return o.hidden=!1,o.locked=!1,o.showRail().showRailHr()};this.hide=function(){return o.hidden=!0,o.locked=!0,o.hideRail().hideRailHr()};this.toggle=function(){return o.hidden?o.show():o.hide()};this.remove=function(){var r,i,t,u;for(o.stop(),o.cursortimeout&&clearTimeout(o.cursortimeout),o.doZoomOut(),o.unbindAll(),h.isie9&&o.win[0].detachEvent("onpropertychange",o.onAttributeChange),!1!==o.observer&&o.observer.disconnect(),!1!==o.observerremover&&o.observerremover.disconnect(),o.events=null,o.cursor&&o.cursor.remove(),o.cursorh&&o.cursorh.remove(),o.rail&&o.rail.remove(),o.railh&&o.railh.remove(),o.zoom&&o.zoom.remove(),r=0;r<o.saved.css.length;r++)i=o.saved.css[r],i[0].css(i[1],"undefined"==typeof i[2]?"":i[2]);o.saved=!1;o.me.data("__nicescroll","");t=n.nicescroll;t.each(function(n){if(this&&this.id===o.id){delete t[n];for(var i=++n;i<t.length;i++,n++)t[n]=t[i];t.length--;t.length&&delete t[t.length]}});for(u in o)o[u]=null,delete o[u];o=null};this.scrollstart=function(n){return this.onscrollstart=n,o};this.scrollend=function(n){return this.onscrollend=n,o};this.scrollcancel=function(n){return this.onscrollcancel=n,o};this.zoomin=function(n){return this.onzoomin=n,o};this.zoomout=function(n){return this.onzoomout=n,o};this.isScrollable=function(t){if(t=t.target?t.target:t,"OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var i=n(t),i=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(i))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1};this.getViewport=function(t){var i,r;for(t=t&&t.parentNode?t.parentNode:!1;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){if((i=n(t),/fixed|absolute/.test(i.css("position")))||(r=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"",/scroll|auto/.test(r)&&t.clientHeight!=t.scrollHeight||0<i.getNiceScroll().length))return i;t=t.parentNode?t.parentNode:!1}return t?n(t):!1};this.triggerScrollEnd=function(){if(o.onscrollend){var n=o.getScrollLeft(),t=o.getScrollTop();o.onscrollend.call(o,{type:"scrollend",current:{x:n,y:t},end:{x:n,y:t}})}};this.onmousewheel=function(n){if(!o.wheelprevented){if(o.locked)return o.debounced("checkunlock",o.resize,250),!0;if(o.rail.drag)return o.cancelEvent(n);if("auto"==o.opt.oneaxismousemode&&0!=n.deltaX&&(o.opt.oneaxismousemode=!1),o.opt.oneaxismousemode&&0==n.deltaX&&!o.rail.scrollable)return o.railh&&o.railh.scrollable?o.onmousewheelhr(n):!0;var t=+new Date,i=!1;return(o.opt.preservenativescrolling&&o.checkarea+600<t&&(o.nativescrollingarea=o.isScrollable(n),i=!0),o.checkarea=t,o.nativescrollingarea)?!0:((n=nt(n,!1,i))&&(o.checkarea=0),n)}};this.onmousewheelhr=function(n){if(!o.wheelprevented){if(o.locked||!o.railh.scrollable)return!0;if(o.rail.drag)return o.cancelEvent(n);var t=+new Date,i=!1;return o.opt.preservenativescrolling&&o.checkarea+600<t&&(o.nativescrollingarea=o.isScrollable(n),i=!0),o.checkarea=t,o.nativescrollingarea?!0:o.locked?o.cancelEvent(n):nt(n,!0,i)}};this.stop=function(){return o.cancelScroll(),o.scrollmon&&o.scrollmon.stop(),o.cursorfreezed=!1,o.scroll.y=Math.round(o.getScrollTop()*(1/o.scrollratio.y)),o.noticeCursor(),o};this.getTransitionSpeed=function(n){var t=Math.round(10*o.opt.scrollspeed);return n=Math.min(t,Math.round(n/20*o.opt.scrollspeed)),20<n?n:0};o.opt.smoothscroll?o.ishwscroll&&h.hastransition&&o.opt.usetransition?(this.prepareTransition=function(n,t){var i=t?20<n?n:0:o.getTransitionSpeed(n),r=i?h.prefixstyle+"transform "+i+"ms ease-out":"";return o.lasttransitionstyle&&o.lasttransitionstyle==r||(o.lasttransitionstyle=r,o.doc.css(h.transitionstyle,r)),i},this.doScrollLeft=function(n,t){var i=o.scrollrunning?o.newscrolly:o.getScrollTop();o.doScrollPos(n,i,t)},this.doScrollTop=function(n,t){var i=o.scrollrunning?o.newscrollx:o.getScrollLeft();o.doScrollPos(i,n,t)},this.doScrollPos=function(n,t,i){var r=o.getScrollTop(),u=o.getScrollLeft();if(((0>(o.newscrolly-r)*(t-r)||0>(o.newscrollx-u)*(n-u))&&o.cancelScroll(),!1==o.opt.bouncescroll&&(0>t?t=0:t>o.page.maxh&&(t=o.page.maxh),0>n?n=0:n>o.page.maxw&&(n=o.page.maxw)),o.scrollrunning&&n==o.newscrollx&&t==o.newscrolly)||(o.newscrolly=t,o.newscrollx=n,o.newscrollspeed=i||!1,o.timer))return!1;o.timer=setTimeout(function(){var r=o.getScrollTop(),u=o.getScrollLeft(),i,f;i=n-u;f=t-r;i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(f,2)));i=o.newscrollspeed&&1<o.newscrollspeed?o.newscrollspeed:o.getTransitionSpeed(i);o.newscrollspeed&&1>=o.newscrollspeed&&(i*=o.newscrollspeed);o.prepareTransition(i,!0);o.timerscroll&&o.timerscroll.tm&&clearInterval(o.timerscroll.tm);0<i&&(!o.scrollrunning&&o.onscrollstart&&o.onscrollstart.call(o,{type:"scrollstart",current:{x:u,y:r},request:{x:n,y:t},end:{x:o.newscrollx,y:o.newscrolly},speed:i}),h.transitionend?o.scrollendtrapped||(o.scrollendtrapped=!0,o.bind(o.doc,h.transitionend,o.onScrollTransitionEnd,!1)):(o.scrollendtrapped&&clearTimeout(o.scrollendtrapped),o.scrollendtrapped=setTimeout(o.onScrollTransitionEnd,i)),o.timerscroll={bz:new BezierClass(r,o.newscrolly,i,0,0,.58,1),bh:new BezierClass(u,o.newscrollx,i,0,0,.58,1)},o.cursorfreezed||(o.timerscroll.tm=setInterval(function(){o.showCursor(o.getScrollTop(),o.getScrollLeft())},60)));o.synched("doScroll-set",function(){o.timer=0;o.scrollendtrapped&&(o.scrollrunning=!0);o.setScrollTop(o.newscrolly);o.setScrollLeft(o.newscrollx);o.scrollendtrapped||o.onScrollTransitionEnd()})},50)},this.cancelScroll=function(){if(!o.scrollendtrapped)return!0;var n=o.getScrollTop(),t=o.getScrollLeft();return o.scrollrunning=!1,h.transitionend||clearTimeout(h.transitionend),o.scrollendtrapped=!1,o._unbind(o.doc,h.transitionend,o.onScrollTransitionEnd),o.prepareTransition(0),o.setScrollTop(n),o.railh&&o.setScrollLeft(t),o.timerscroll&&o.timerscroll.tm&&clearInterval(o.timerscroll.tm),o.timerscroll=!1,o.cursorfreezed=!1,o.showCursor(n,t),o},this.onScrollTransitionEnd=function(){o.scrollendtrapped&&o._unbind(o.doc,h.transitionend,o.onScrollTransitionEnd);o.scrollendtrapped=!1;o.prepareTransition(0);o.timerscroll&&o.timerscroll.tm&&clearInterval(o.timerscroll.tm);o.timerscroll=!1;var n=o.getScrollTop(),t=o.getScrollLeft();if(o.setScrollTop(n),o.railh&&o.setScrollLeft(t),o.noticeCursor(!1,n,t),o.cursorfreezed=!1,0>n?n=0:n>o.page.maxh&&(n=o.page.maxh),0>t?t=0:t>o.page.maxw&&(t=o.page.maxw),n!=o.newscrolly||t!=o.newscrollx)return o.doScrollPos(t,n,o.opt.snapbackspeed);o.onscrollend&&o.scrollrunning&&o.triggerScrollEnd();o.scrollrunning=!1}):(this.doScrollLeft=function(n,t){var i=o.scrollrunning?o.newscrolly:o.getScrollTop();o.doScrollPos(n,i,t)},this.doScrollTop=function(n,t){var i=o.scrollrunning?o.newscrollx:o.getScrollLeft();o.doScrollPos(i,n,t)},this.doScrollPos=function(n,r,u){function l(){var r,n,u,i;if(o.cancelAnimationFrame)return!0;if(o.scrollrunning=!0,a=1-a)return o.timer=t(l)||1;r=0;n=sy=o.getScrollTop();o.dst.ay?(n=o.bzscroll?o.dst.py+o.bzscroll.getNow()*o.dst.ay:o.newscrolly,u=n-sy,(0>u&&n<o.newscrolly||0<u&&n>o.newscrolly)&&(n=o.newscrolly),o.setScrollTop(n),n==o.newscrolly&&(r=1)):r=1;i=sx=o.getScrollLeft();o.dst.ax?(i=o.bzscroll?o.dst.px+o.bzscroll.getNow()*o.dst.ax:o.newscrollx,u=i-sx,(0>u&&i<o.newscrollx||0<u&&i>o.newscrollx)&&(i=o.newscrollx),o.setScrollLeft(i),i==o.newscrollx&&(r+=1)):r+=1;2==r?(o.timer=0,o.cursorfreezed=!1,o.bzscroll=!1,o.scrollrunning=!1,0>n?n=0:n>o.page.maxh&&(n=o.page.maxh),0>i?i=0:i>o.page.maxw&&(i=o.page.maxw),i!=o.newscrollx||n!=o.newscrolly?o.doScrollPos(i,n):o.onscrollend&&o.triggerScrollEnd()):o.timer=t(l)||1}var e,s,f,c,h,a;if(r="undefined"==typeof r||!1===r?o.getScrollTop(!0):r,o.timer&&o.newscrolly==r&&o.newscrollx==n)return!0;o.timer&&i(o.timer);o.timer=0;e=o.getScrollTop();s=o.getScrollLeft();(0>(o.newscrolly-e)*(r-e)||0>(o.newscrollx-s)*(n-s))&&o.cancelScroll();o.newscrolly=r;o.newscrollx=n;o.bouncescroll&&o.rail.visibility||(0>o.newscrolly?o.newscrolly=0:o.newscrolly>o.page.maxh&&(o.newscrolly=o.page.maxh));o.bouncescroll&&o.railh.visibility||(0>o.newscrollx?o.newscrollx=0:o.newscrollx>o.page.maxw&&(o.newscrollx=o.page.maxw));o.dst={};o.dst.x=n-s;o.dst.y=r-e;o.dst.px=s;o.dst.py=e;f=Math.round(Math.sqrt(Math.pow(o.dst.x,2)+Math.pow(o.dst.y,2)));o.dst.ax=o.dst.x/f;o.dst.ay=o.dst.y/f;c=0;h=f;0==o.dst.x?(c=e,h=r,o.dst.ay=1,o.dst.py=0):0==o.dst.y&&(c=s,h=n,o.dst.ax=1,o.dst.px=0);f=o.getTransitionSpeed(f);u&&1>=u&&(f*=u);o.bzscroll=0<f?o.bzscroll?o.bzscroll.update(h,f):new BezierClass(c,h,f,0,1,0,1):!1;o.timer||((e==o.page.maxh&&r>=o.page.maxh||s==o.page.maxw&&n>=o.page.maxw)&&o.checkContentSize(),a=1,o.cancelAnimationFrame=!1,o.timer=1,o.onscrollstart&&!o.scrollrunning&&o.onscrollstart.call(o,{type:"scrollstart",current:{x:s,y:e},request:{x:n,y:r},end:{x:o.newscrollx,y:o.newscrolly},speed:f}),l(),(e==o.page.maxh&&r>=e||s==o.page.maxw&&n>=s)&&o.checkContentSize(),o.noticeCursor())},this.cancelScroll=function(){return o.timer&&i(o.timer),o.timer=0,o.bzscroll=!1,o.scrollrunning=!1,o}):(this.doScrollLeft=function(n,t){var i=o.getScrollTop();o.doScrollPos(n,i,t)},this.doScrollTop=function(n,t){var i=o.getScrollLeft();o.doScrollPos(i,n,t)},this.doScrollPos=function(n,t){var r=n>o.page.maxw?o.page.maxw:n,i;0>r&&(r=0);i=t>o.page.maxh?o.page.maxh:t;0>i&&(i=0);o.synched("scroll",function(){o.setScrollTop(i);o.setScrollLeft(r)})},this.cancelScroll=function(){});this.doScrollBy=function(n,t){var i=0,i=t?Math.floor((o.scroll.y-n)*o.scrollratio.y):(o.timer?o.newscrolly:o.getScrollTop(!0))-n,r;if(o.bouncescroll&&(r=Math.round(o.view.h/2),i<-r?i=-r:i>o.page.maxh+r&&(i=o.page.maxh+r)),o.cursorfreezed=!1,py=o.getScrollTop(!0),0>i&&0>=py)return o.noticeCursor();if(i>o.page.maxh&&py>=o.page.maxh)return o.checkContentSize(),o.noticeCursor();o.doScrollTop(i)};this.doScrollLeftBy=function(n,t){var i=0,i=t?Math.floor((o.scroll.x-n)*o.scrollratio.x):(o.timer?o.newscrollx:o.getScrollLeft(!0))-n,r;if(o.bouncescroll&&(r=Math.round(o.view.w/2),i<-r?i=-r:i>o.page.maxw+r&&(i=o.page.maxw+r)),o.cursorfreezed=!1,px=o.getScrollLeft(!0),0>i&&0>=px||i>o.page.maxw&&px>=o.page.maxw)return o.noticeCursor();o.doScrollLeft(i)};this.doScrollTo=function(n,t){t&&Math.round(n*o.scrollratio.y);o.cursorfreezed=!1;o.doScrollTop(n)};this.checkContentSize=function(){var n=o.getContentSize();(n.h!=o.page.h||n.w!=o.page.w)&&o.resize(!1,n)};o.onscroll=function(){o.rail.drag||o.cursorfreezed||o.synched("scroll",function(){o.scroll.y=Math.round(o.getScrollTop()*(1/o.scrollratio.y));o.railh&&(o.scroll.x=Math.round(o.getScrollLeft()*(1/o.scrollratio.x)));o.noticeCursor()})};o.bind(o.docscroll,"scroll",o.onscroll);this.doZoomIn=function(t){var i,f,e,u;if(!o.zoomactive){o.zoomactive=!0;o.zoomrestore={style:{}};i="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" ");f=o.win[0].style;for(e in i)u=i[e],o.zoomrestore.style[u]="undefined"!=typeof f[u]?f[u]:"";return o.zoomrestore.style.width=o.win.css("width"),o.zoomrestore.style.height=o.win.css("height"),o.zoomrestore.padding={w:o.win.outerWidth()-o.win.width(),h:o.win.outerHeight()-o.win.height()},h.isios4&&(o.zoomrestore.scrollTop=n(window).scrollTop(),n(window).scrollTop(0)),o.win.css({position:h.isios4?"absolute":"fixed",top:0,left:0,"z-index":r+100,margin:"0px"}),i=o.win.css("backgroundColor"),(""==i||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i))&&o.win.css("backgroundColor","#fff"),o.rail.css({"z-index":r+101}),o.zoom.css({"z-index":r+102}),o.zoom.css("backgroundPosition","0px -18px"),o.resizeZoom(),o.onzoomin&&o.onzoomin.call(o),o.cancelEvent(t)}};this.doZoomOut=function(t){if(o.zoomactive)return o.zoomactive=!1,o.win.css("margin",""),o.win.css(o.zoomrestore.style),h.isios4&&n(window).scrollTop(o.zoomrestore.scrollTop),o.rail.css({"z-index":o.zindex}),o.zoom.css({"z-index":o.zindex}),o.zoomrestore=!1,o.zoom.css("backgroundPosition","0px 0px"),o.onResize(),o.onzoomout&&o.onzoomout.call(o),o.cancelEvent(t)};this.doZoom=function(n){return o.zoomactive?o.doZoomOut(n):o.doZoomIn(n)};this.resizeZoom=function(){if(o.zoomactive){var t=o.getScrollTop();o.win.css({width:n(window).width()-o.zoomrestore.padding.w+"px",height:n(window).height()-o.zoomrestore.padding.h+"px"});o.onResize();o.setScrollTop(Math.min(o.page.maxh,t))}};this.init();n.nicescroll.push(this)},p=function(n){var t=this;this.nc=n;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return+new Date};this.reset=function(n,i){t.stop();var r=t.time();t.steptime=0;t.lasttime=r;t.speedx=0;t.speedy=0;t.lastx=n;t.lasty=i;t.lastscrollx=-1;t.lastscrolly=-1};this.update=function(n,i){var r=t.time();t.steptime=r-t.lasttime;t.lasttime=r;var r=i-t.lasty,e=n-t.lastx,u=t.nc.getScrollTop(),f=t.nc.getScrollLeft(),u=u+r,f=f+e;t.snapx=0>f||f>t.nc.page.maxw;t.snapy=0>u||u>t.nc.page.maxh;t.speedx=e;t.speedy=r;t.lastx=n;t.lasty=i};this.stop=function(){t.nc.unsynched("domomentum2d");t.timer&&clearTimeout(t.timer);t.timer=0;t.lastscrollx=-1;t.lastscrolly=-1};this.doSnapy=function(n,i){var r=!1;0>i?(i=0,r=!0):i>t.nc.page.maxh&&(i=t.nc.page.maxh,r=!0);0>n?(n=0,r=!0):n>t.nc.page.maxw&&(n=t.nc.page.maxw,r=!0);r?t.nc.doScrollPos(n,i,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()};this.doMomentum=function(n){var e=t.time(),u=n?e+n:t.lasttime,f;n=t.nc.getScrollLeft();var h=t.nc.getScrollTop(),o=t.nc.page.maxh,s=t.nc.page.maxw;if(t.speedx=0<s?Math.min(60,t.speedx):0,t.speedy=0<o?Math.min(60,t.speedy):0,u=u&&60>=e-u,(0>h||h>o||0>n||n>s)&&(u=!1),n=t.speedx&&u?t.speedx:!1,t.speedy&&u&&t.speedy||n){f=Math.max(16,t.steptime);50<f&&(n=f/50,t.speedx*=n,t.speedy*=n,f=50);t.demulxy=0;t.lastscrollx=t.nc.getScrollLeft();t.chkx=t.lastscrollx;t.lastscrolly=t.nc.getScrollTop();t.chky=t.lastscrolly;var i=t.lastscrollx,r=t.lastscrolly,c=function(){var n=600<t.time()-e?.04:.02;t.speedx&&(i=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=i,0>i||i>s)&&(n=.1);t.speedy&&(r=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=r,0>r||r>o)&&(n=.1);t.demulxy=Math.min(1,t.demulxy+n);t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=i,t.nc.setScrollLeft(i));t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=r,t.nc.setScrollTop(r));t.timer||(t.nc.hideCursor(),t.doSnapy(i,r))});1>t.demulxy?t.timer=setTimeout(c,f):(t.stop(),t.nc.hideCursor(),t.doSnapy(i,r))};c()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},h=n.fn.scrollTop;n.cssHooks.pageYOffset={get:function(t,i){return(i=n.data(t,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollTop():h.call(t)},set:function(t,i){var r=n.data(t,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollTop(parseInt(i)):h.call(t,i),this}};n.fn.scrollTop=function(t){if("undefined"==typeof t){var i=this[0]?n.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollTop():h.call(this)}return this.each(function(){var i=n.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollTop(parseInt(t)):h.call(n(this),t)})};u=n.fn.scrollLeft;n.cssHooks.pageXOffset={get:function(t,i){return(i=n.data(t,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollLeft():u.call(t)},set:function(t,i){var r=n.data(t,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollLeft(parseInt(i)):u.call(t,i),this}};n.fn.scrollLeft=function(t){if("undefined"==typeof t){var i=this[0]?n.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollLeft():u.call(this)}return this.each(function(){var i=n.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollLeft(parseInt(t)):u.call(n(this),t)})};f=function(t){var i=this,r,u;if(this.length=0,this.name="nicescrollarray",this.each=function(n){for(var t=0,r=0;t<i.length;t++)n.call(i[t],r++);return i},this.push=function(n){i[i.length]=n;i.length++},this.eq=function(n){return i[n]},t)for(r=0;r<t.length;r++)u=n.data(t[r],"__nicescroll")||!1,u&&(this[this.length]=u,this.length++);return this},function(n,t,i){for(var r=0;r<t.length;r++)i(n,t[r])}(f.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(n,t){n[t]=function(){var n=arguments;return this.each(function(){this[t].apply(this,n)})}});n.fn.getNiceScroll=function(t){return"undefined"==typeof t?new f(this):this[t]&&n.data(this[t],"__nicescroll")||!1};n.extend(n.expr[":"],{nicescroll:function(t){return n.data(t,"__nicescroll")?!0:!1}});n.fn.niceScroll=function(t,i){var r,u;return"undefined"!=typeof i||"object"!=typeof t||"jquery"in t||(i=t,t=!1),r=new f,"undefined"==typeof i&&(i={}),t&&(i.doc=n(t),i.win=n(this)),u=!("doc"in i),u||"win"in i||(i.win=n(this)),this.each(function(){var t=n(this).data("__nicescroll")||!1;t||(i.doc=u?n(this):i.doc,t=new d(i,n(this)),n(this).data("__nicescroll",t));r.push(t)}),1==r.length?r[0]:r};window.NiceScroll={getjQuery:function(){return n}};n.nicescroll||(n.nicescroll=new f,n.nicescroll.options=y)}),function(n){function r(n){var t={};switch(n){case"fb":t.autohidemode=!1;t.cursorcolor="#7B7C7E";t.railcolor="";t.cursoropacitymax=.8;t.cursorwidth=10;t.cursorborder="1px solid #868688";t.cursorborderradius="10px"}return t}function u(n,i){if(i.rail)switch(n){case"fb":i.rail.css({"-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"});i.cursor.css({width:3});var u=i.ispage?i.rail:i.win;function r(){i._stylerfbstate=!1;i.rail.css({backgroundColor:""});i.cursor.stop().animate({width:3},200)}u.hover(function(){i._stylerfbstate=!0;i.rail.css({backgroundColor:"#CED0D3"});i.cursor.stop().css({width:10})},function(){i.rail.drag||r()});t(document).mouseup(function(){i._stylerfbstate&&r()})}}var t=n,i;t&&"nicescroll"in t&&(t.extend(t.nicescroll.options,{styler:!1}),i={niceScroll:t.fn.niceScroll,getNiceScroll:t.fn.getNiceScroll},t.fn.niceScroll=function(n,f){var e,o;return typeof n=="undefined"||typeof n=="object"&&(f=n,n=!1),e=f&&f.styler||t.nicescroll.options.styler||!1,e&&(nw=r(e),t.extend(nw,f),f=nw),o=i.niceScroll.call(this,n,f),e&&u(e,o),o.scrollTo=function(n){var r=this.win.position(),t=this.win.find(n).position(),i;t&&(i=Math.floor(t.top-r.top+this.scrollTop()),this.doScrollTop(i))},o},t.fn.getNiceScroll=function(n){var t=i.getNiceScroll.call(this,n);return t.scrollTo=function(n){this.each(function(){this.scrollTo.call(this,n)})},t})}(jQuery),function(n){"use strict";function r(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(this).ajaxSubmit(i))}function u(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),0===f.length)return;r=f[0]}i=this;(i.clk=r,"image"==r.type)&&(void 0!==t.offsetX?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):"function"==typeof n.fn.offset?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={},f;i.fileapi=void 0!==n("<input type='file'/>").get(0).files;i.formdata=void 0!==window.FormData;f=!!n.fn.prop;n.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var n=this.prop.apply(this,arguments);return n&&n.jquery||"string"==typeof n?n:this.attr.apply(this,arguments)};n.fn.ajaxSubmit=function(r){function et(t){for(var f,u=n.param(t,r.traditional).split("&"),o=u.length,e=[],i=0;o>i;i++)u[i]=u[i].replace(/\+/g," "),f=u[i].split("="),e.push([decodeURIComponent(f[0]),decodeURIComponent(f[1])]);return e}function ot(t){for(var f,u,o,e=new FormData,i=0;t.length>i;i++)e.append(t[i].name,t[i].value);if(r.extraData)for(f=et(r.extraData),i=0;f.length>i;i++)f[i]&&e.append(f[i][0],f[i][1]);return r.data=null,u=n.extend(!0,{},n.ajaxSettings,r,{contentType:!1,processData:!1,cache:!1,type:h||"POST"}),r.uploadProgress&&(u.xhr=function(){var t=n.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,u=n.total;n.lengthComputable&&(t=Math.ceil(100*(i/u)));r.uploadProgress(n,i,u,t)},!1),t}),u.data=null,o=u.beforeSend,u.beforeSend=function(n,t){t.data=e;o&&o.call(this,n,t)},n.ajax(u)}function d(i){function ut(n){var i=null;try{n.contentWindow&&(i=n.contentWindow.document)}catch(r){t("cannot get iframe.contentWindow document: "+r)}if(i)return i;try{i=n.contentDocument?n.contentDocument:n.document}catch(r){t("cannot get iframe.contentDocument: "+r);i=n.document}return i}function ft(){function f(){try{var n=ut(a).readyState;t("state = "+n);n&&"uninitialized"==n.toLowerCase()&&setTimeout(f,50)}catch(i){t("Server abort: ",i," (",i.name,")");b(rt);g&&clearTimeout(g);g=void 0}}var o=u.attr2("target"),s=u.attr2("action"),r,i,c;l.setAttribute("target",d);h||l.setAttribute("method","POST");s!=e.url&&l.setAttribute("action",e.url);e.skipEncodingOverride||h&&!/post/i.test(h)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});e.timeout&&(g=setTimeout(function(){it=!0;b(et)},e.timeout));r=[];try{if(e.extraData)for(i in e.extraData)e.extraData.hasOwnProperty(i)&&(n.isPlainObject(e.extraData[i])&&e.extraData[i].hasOwnProperty("name")&&e.extraData[i].hasOwnProperty("value")?r.push(n('<input type="hidden" name="'+e.extraData[i].name+'">').val(e.extraData[i].value).appendTo(l)[0]):r.push(n('<input type="hidden" name="'+i+'">').val(e.extraData[i]).appendTo(l)[0]));e.iframeTarget||(v.appendTo("body"),a.attachEvent?a.attachEvent("onload",b):a.addEventListener("load",b,!1));setTimeout(f,15);try{l.submit()}catch(y){c=document.createElement("form").submit;c.apply(l)}}finally{l.setAttribute("action",s);o?l.setAttribute("target",o):u.removeAttr("target");n(r).remove()}}function b(i){var u,r,w,f,k,d,h,c,l;if(!o.aborted&&!ct){if(s=ut(a),s||(t("cannot access response document"),i=rt),i===et&&o)return o.abort("timeout"),y.reject(o,"timeout"),void 0;if(i==rt&&o)return o.abort("server abort"),y.reject(o,"error","server abort"),void 0;if(s&&s.location.href!=e.iframeSrc||it){a.detachEvent?a.detachEvent("onload",b):a.removeEventListener("load",b,!1);r="success";try{if(it)throw"timeout";if(w="xml"==e.dataType||s.XMLDocument||n.isXMLDoc(s),t("isXml="+w),!w&&window.opera&&(null===s.body||!s.body.innerHTML)&&--lt)return t("requeing onLoad callback, DOM not available"),setTimeout(b,250),void 0;f=s.body?s.body:s.documentElement;o.responseText=f?f.innerHTML:null;o.responseXML=s.XMLDocument?s.XMLDocument:s;w&&(e.dataType="xml");o.getResponseHeader=function(n){var t={"content-type":e.dataType};return t[n]};f&&(o.status=Number(f.getAttribute("status"))||o.status,o.statusText=f.getAttribute("statusText")||o.statusText);k=(e.dataType||"").toLowerCase();d=/(json|script|text)/.test(k);d||e.textarea?(h=s.getElementsByTagName("textarea")[0],h?(o.responseText=h.value,o.status=Number(h.getAttribute("status"))||o.status,o.statusText=h.getAttribute("statusText")||o.statusText):d&&(c=s.getElementsByTagName("pre")[0],l=s.getElementsByTagName("body")[0],c?o.responseText=c.textContent?c.textContent:c.innerText:l&&(o.responseText=l.textContent?l.textContent:l.innerText))):"xml"==k&&!o.responseXML&&o.responseText&&(o.responseXML=at(o.responseText));try{ht=yt(o,k,e)}catch(nt){r="parsererror";o.error=u=nt||r}}catch(nt){t("error caught: ",nt);r="error";o.error=u=nt||r}o.aborted&&(t("upload aborted"),r=null);o.status&&(r=o.status>=200&&300>o.status||304===o.status?"success":"error");"success"===r?(e.success&&e.success.call(e.context,ht,"success",o),y.resolve(o.responseText,"success",o),p&&n.event.trigger("ajaxSuccess",[o,e])):r&&(void 0===u&&(u=o.statusText),e.error&&e.error.call(e.context,o,r,u),y.reject(o,"error",u),p&&n.event.trigger("ajaxError",[o,e,u]));p&&n.event.trigger("ajaxComplete",[o,e]);p&&!--n.active&&n.event.trigger("ajaxStop");e.complete&&e.complete.call(e.context,o,r);ct=!0;e.timeout&&clearTimeout(g);setTimeout(function(){e.iframeTarget||v.remove();o.responseXML=null},100)}}}var tt,nt,e,p,d,v,a,o,k,w,it,g,l=u[0],y=n.Deferred();if(i)for(nt=0;c.length>nt;nt++)tt=n(c[nt]),f?tt.prop("disabled",!1):tt.removeAttr("disabled");if(e=n.extend(!0,{},n.ajaxSettings,r),e.context=e.context||e,d="jqFormIO"+(new Date).getTime(),e.iframeTarget?(v=n(e.iframeTarget),w=v.attr2("name"),w?d=w:v.attr2("name",d)):(v=n('<iframe name="'+d+'" src="'+e.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),a=v[0],o={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r="timeout"===i?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;try{a.contentWindow.document.execCommand&&a.contentWindow.document.execCommand("Stop")}catch(u){}v.attr("src",e.iframeSrc);o.error=r;e.error&&e.error.call(e.context,o,r,i);p&&n.event.trigger("ajaxError",[o,e,r]);e.complete&&e.complete.call(e.context,o,r)}},p=e.global,p&&0==n.active++&&n.event.trigger("ajaxStart"),p&&n.event.trigger("ajaxSend",[o,e]),e.beforeSend&&e.beforeSend.call(e.context,o,e)===!1)return e.global&&n.active--,y.reject(),y;if(o.aborted)return y.reject(),y;k=l.clk;k&&(w=k.name,w&&!k.disabled&&(e.extraData=e.extraData||{},e.extraData[w]=k.value,"image"==k.type&&(e.extraData[w+".x"]=l.clk_x,e.extraData[w+".y"]=l.clk_y)));var et=1,rt=2,ot=n("meta[name=csrf-token]").attr("content"),st=n("meta[name=csrf-param]").attr("content");st&&ot&&(e.extraData=e.extraData||{},e.extraData[st]=ot);e.forceSync?ft():setTimeout(ft,10);var ht,s,ct,lt=50,at=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},vt=n.parseJSON||function(e){return window.eval("("+e+")")},yt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e="xml"===i||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&"parsererror"===u.documentElement.nodeName&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),"string"==typeof u&&("json"===i||!i&&f.indexOf("json")>=0?u=vt(u):("script"===i||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u};return y}var h,b,e,u,a,v,y,c,o,l,s,g,nt,tt,p,ft,w;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(u=this,"function"==typeof r?r={success:r}:void 0===r&&(r={}),h=r.type||this.attr2("method"),b=r.url||this.attr2("action"),e="string"==typeof b?n.trim(b):"",e=e||window.location.href||"",e&&(e=(e.match(/^([^#]+)/)||[])[1]),r=n.extend(!0,{url:e,success:n.ajaxSettings.success,type:h||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r),a={},this.trigger("form-pre-serialize",[this,r,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&r.beforeSerialize(this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(v=r.traditional,void 0===v&&(v=n.ajaxSettings.traditional),c=[],o=this.formToArray(r.semantic,c),r.data&&(r.extraData=r.data,y=n.param(r.data,v)),r.beforeSubmit&&r.beforeSubmit(o,this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[o,this,r,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;l=n.param(o,v);y&&(l=l?l+"&"+y:y);"GET"==r.type.toUpperCase()?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+l,r.data=null):r.data=l;s=[];(r.resetForm&&s.push(function(){u.resetForm()}),r.clearForm&&s.push(function(){u.clearForm(r.includeHidden)}),!r.dataType&&r.target)?(g=r.success||function(){},s.push(function(t){var i=r.replaceTarget?"replaceWith":"html";n(r.target)[i](t).each(g,arguments)})):r.success&&s.push(r.success);(r.success=function(n,t,i){for(var e=r.context||this,f=0,o=s.length;o>f;f++)s[f].apply(e,[n,t,i||u,u])},r.error)&&(nt=r.error,r.error=function(n,t,i){var f=r.context||this;nt.apply(f,[n,t,i,u])});r.complete&&(tt=r.complete,r.complete=function(n,t){var i=r.context||this;tt.apply(i,[n,t,u])});var st=n('input[type=file]:enabled[value!=""]',this),it=st.length>0,rt="multipart/form-data",ut=u.attr("enctype")==rt||u.attr("encoding")==rt,k=i.fileapi&&i.formdata;for(t("fileAPI :"+k),ft=(it||ut)&&!k,r.iframe!==!1&&(r.iframe||ft)?r.closeKeepAlive?n.get(r.closeKeepAlive,function(){p=d(o)}):p=d(o):p=(it||ut)&&k?ot(o):n.ajax(r),u.removeData("jqxhr").data("jqxhr",p),w=0;c.length>w;w++)c[w]=null;return this.trigger("form-submit-notify",[this,r]),this};n.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!n.isReady&&f.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(f.s,f.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}return i.delegation?(n(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,u).on("submit.form-plugin",this.selector,i,r).on("click.form-plugin",this.selector,i,u),this):this.ajaxFormUnbind().bind("submit.form-plugin",i,r).bind("click.form-plugin",i,u)};n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t,r){var o=[],e,c,l,s,f,h,u,p,w,a,y,v;if(0===this.length||(e=this[0],c=t?e.getElementsByTagName("*"):e.elements,!c))return o;for(l=0,p=c.length;p>l;l++)if(u=c[l],f=u.name,f&&!u.disabled)if(t&&e.clk&&"image"==u.type)e.clk==u&&(o.push({name:f,value:n(u).val(),type:u.type}),o.push({name:f+".x",value:e.clk_x},{name:f+".y",value:e.clk_y}));else if(h=n.fieldValue(u,!0),h&&h.constructor==Array)for(r&&r.push(u),s=0,w=h.length;w>s;s++)o.push({name:f,value:h[s]});else if(i.fileapi&&"file"==u.type)if(r&&r.push(u),a=u.files,a.length)for(s=0;a.length>s;s++)o.push({name:f,value:a[s],type:u.type});else o.push({name:f,value:"",type:u.type});else null!==h&&h!==void 0&&(r&&r.push(u),o.push({name:f,value:h,type:u.type,required:u.required}));return!t&&e.clk&&(y=n(e.clk),v=y[0],f=v.name,f&&!v.disabled&&"image"==v.type&&(o.push({name:f,value:y.val()}),o.push({name:f+".x",value:e.clk_x},{name:f+".y",value:e.clk_y}))),o};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;e>u;u++)i.push({name:f,value:r[u]});else null!==r&&r!==void 0&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;e>u;u++)f=this[u],i=n.fieldValue(f,t),null!==i&&void 0!==i&&(i.constructor!=Array||i.length)&&(i.constructor==Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,r,f;if(void 0===i&&(i=!0),i&&(!a||t.disabled||"reset"==u||"button"==u||("checkbox"==u||"radio"==u)&&!t.checked||("submit"==u||"image"==u)&&t.form&&t.form.clk!=t||"select"==h&&-1==t.selectedIndex))return null;if("select"==h){if(e=t.selectedIndex,0>e)return null;for(var c=[],l=t.options,o="select-one"==u,v=o?e+1:l.length,s=o?e:0;v>s;s++)if(r=l[s],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),o)return f;c.push(f)}return c}return n(t).val()};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||"textarea"==u?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==u?this.selectedIndex=-1:"file"==r?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone(!0)):n(this).val(""):t&&(t===!0&&/hidden/.test(r)||"string"==typeof t&&n(this).is(t))&&(this.value="")})};n.fn.resetForm=function(){return this.each(function(){"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset()})};n.fn.enable=function(n){return void 0===n&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type,i;"checkbox"==r||"radio"==r?this.checked=t:"option"==this.tagName.toLowerCase()&&(i=n(this).parent("select"),t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1}(jQuery);
//! moment.js
//! version : 2.8.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function(n){function it(n,t,i){switch(arguments.length){case 2:return null!=n?n:t;case 3:return null!=n?n:null!=t?t:i;default:throw new Error("Implement me");}}function p(n,t){return nf.call(n,t)}function ot(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function ni(n){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function o(n,t){var i=!0;return w(function(){return i&&(ni(n),i=!1),t.apply(this,arguments)},t)}function kr(n,t){wr[n]||(ni(t),wr[n]=!0)}function ti(n,t){return function(i){return r(n.call(this,i),t)}}function dr(n,t){return function(i){return this.localeData().ordinal(n.call(this,i),t)}}function ii(){}function rt(n,t){t!==!1&&vi(n);ri(this,n);this._d=new Date(+n._d)}function st(n){var i=hi(n),r=i.year||0,u=i.quarter||0,f=i.month||0,e=i.week||0,o=i.day||0,s=i.hour||0,h=i.minute||0,c=i.second||0,l=i.millisecond||0;this._milliseconds=+l+1e3*c+6e4*h+36e5*s;this._days=+o+7*e;this._months=+f+3*u+12*r;this._data={};this._locale=t.localeData();this._bubble()}function w(n,t){for(var i in t)p(t,i)&&(n[i]=t[i]);return p(t,"toString")&&(n.toString=t.toString),p(t,"valueOf")&&(n.valueOf=t.valueOf),n}function ri(n,t){var u,i,r;if("undefined"!=typeof t._isAMomentObject&&(n._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(n._i=t._i),"undefined"!=typeof t._f&&(n._f=t._f),"undefined"!=typeof t._l&&(n._l=t._l),"undefined"!=typeof t._strict&&(n._strict=t._strict),"undefined"!=typeof t._tzm&&(n._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(n._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(n._offset=t._offset),"undefined"!=typeof t._pf&&(n._pf=t._pf),"undefined"!=typeof t._locale&&(n._locale=t._locale),ft.length>0)for(u in ft)i=ft[u],r=t[i],"undefined"!=typeof r&&(n[i]=r);return n}function s(n){return 0>n?Math.ceil(n):Math.floor(n)}function r(n,t,i){for(var r=""+Math.abs(n),u=n>=0;r.length<t;)r="0"+r;return(u?i?"+":"":"-")+r}function ui(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function gr(n,t){var i;return t=ct(t,n),n.isBefore(t)?i=ui(n,t):(i=ui(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function fi(n,i){return function(r,u){var f,e;return null===u||isNaN(+u)||(kr(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period)."),e=r,r=u,u=e),r="string"==typeof r?+r:r,f=t.duration(r,u),ei(this,f,n),this}}function ei(n,i,r,u){var o=i._milliseconds,f=i._days,e=i._months;u=null==u?!0:u;o&&n._d.setTime(+n._d+o*r);f&&ir(n,"Date",pt(n,"Date")+f*r);e&&tr(n,pt(n,"Month")+e*r);u&&t.updateOffset(n,f||e)}function ut(n){return"[object Array]"===Object.prototype.toString.call(n)}function oi(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function si(n,t,r){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),f=0,u=0;e>u;u++)(r&&n[u]!==t[u]||!r&&i(n[u])!==i(t[u]))&&f++;return f+o}function e(n){if(n){var t=n.toLowerCase().replace(/(.)s$/,"$1");n=kf[n]||df[t]||t}return n}function hi(n){var i,t,r={};for(t in n)p(n,t)&&(i=e(t),i&&(r[i]=n[t]));return r}function nu(i){var r,u;if(0===i.indexOf("week"))r=7,u="day";else{if(0!==i.indexOf("month"))return;r=12;u="month"}t[i]=function(f,e){var o,s,c=t._locale[i],h=[];if("number"==typeof f&&(e=f,f=n),s=function(n){var i=t().utc().set(u,n);return c.call(t._locale,i,f||"")},null!=e)return s(e);for(o=0;r>o;o++)h.push(s(o));return h}}function i(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function ht(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function ci(n,i,r){return b(t([n,11,31+i-r]),i,r).week}function li(n){return ai(n)?366:365}function ai(n){return n%4==0&&n%100!=0||n%400==0}function vi(n){var t;n._a&&-2===n._pf.overflow&&(t=n._a[a]<0||n._a[a]>11?a:n._a[h]<1||n._a[h]>ht(n._a[l],n._a[a])?h:n._a[f]<0||n._a[f]>24||24===n._a[f]&&(0!==n._a[d]||0!==n._a[g]||0!==n._a[nt])?f:n._a[d]<0||n._a[d]>59?d:n._a[g]<0||n._a[g]>59?g:n._a[nt]<0||n._a[nt]>999?nt:-1,n._pf._overflowDayOfYear&&(l>t||t>h)&&(t=h),n._pf.overflow=t)}function yi(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===n)),t._isValid}function pi(n){return n?n.toLowerCase().replace("_","-"):n}function tu(n){for(var i,t,f,r,u=0;u<n.length;){for(r=pi(n[u]).split("-"),i=r.length,t=pi(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=wi(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&si(r,t,!0)>=i-1)break;i--}u++}return null}function wi(n){var i=null;if(!tt[n]&&or)try{i=t.locale();require("./locale/"+n);t.locale(i)}catch(r){}return tt[n]}function ct(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(t.isMoment(n)||oi(n)?+n:+t(n))-+r,r._d.setTime(+r._d+u),t.updateOffset(r,!1),r):t(n).local()}function iu(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ru(n){for(var i=n.match(sr),t=0,r=i.length;r>t;t++)i[t]=v[i[t]]?v[i[t]]:iu(i[t]);return function(u){var f="";for(t=0;r>t;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function lt(n,t){return n.isValid()?(t=bi(t,n.localeData()),gt[t]||(gt[t]=ru(t)),gt[t](n)):n.localeData().invalidDate()}function bi(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(et.lastIndex=0;i>=0&&et.test(n);)n=n.replace(et,r),et.lastIndex=0,i-=1;return n}function uu(n,t){var i=t._strict;switch(n){case"Q":return cr;case"DDDD":return ar;case"YYYY":case"GGGG":case"gggg":return i?vf:ef;case"Y":case"G":case"g":return pf;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?yf:of;case"S":if(i)return cr;case"SS":if(i)return lr;case"SSS":if(i)return ar;case"DDD":return ff;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return hf;case"a":case"A":return t._locale._meridiemParse;case"x":return lf;case"X":return af;case"Z":case"ZZ":return bt;case"T":return cf;case"SSSS":return sf;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?lr:hr;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return hr;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return new RegExp(cu(hu(n.replace("\\","")),"i"))}}function ki(n){n=n||"";var r=n.match(bt)||[],f=r[r.length-1]||[],t=(f+"").match(bf)||["-",0,0],u=+(60*t[1])+i(t[2]);return"+"===t[0]?-u:u}function fu(n,r,u){var o,e=u._a;switch(n){case"Q":null!=r&&(e[a]=3*(i(r)-1));break;case"M":case"MM":null!=r&&(e[a]=i(r)-1);break;case"MMM":case"MMMM":o=u._locale.monthsParse(r,n,u._strict);null!=o?e[a]=o:u._pf.invalidMonth=r;break;case"D":case"DD":null!=r&&(e[h]=i(r));break;case"Do":null!=r&&(e[h]=i(parseInt(r.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=r&&(u._dayOfYear=i(r));break;case"YY":e[l]=t.parseTwoDigitYear(r);break;case"YYYY":case"YYYYY":case"YYYYYY":e[l]=i(r);break;case"a":case"A":u._isPm=u._locale.isPM(r);break;case"h":case"hh":u._pf.bigHour=!0;case"H":case"HH":e[f]=i(r);break;case"m":case"mm":e[d]=i(r);break;case"s":case"ss":e[g]=i(r);break;case"S":case"SS":case"SSS":case"SSSS":e[nt]=i(1e3*("0."+r));break;case"x":u._d=new Date(i(r));break;case"X":u._d=new Date(1e3*parseFloat(r));break;case"Z":case"ZZ":u._useUTC=!0;u._tzm=ki(r);break;case"dd":case"ddd":case"dddd":o=u._locale.weekdaysParse(r);null!=o?(u._w=u._w||{},u._w.d=o):u._pf.invalidWeekday=r;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":n=n.substr(0,1);case"gggg":case"GGGG":case"GGGGG":n=n.substr(0,2);r&&(u._w=u._w||{},u._w[n]=i(r));break;case"gg":case"GG":u._w=u._w||{};u._w[n]=t.parseTwoDigitYear(r)}}function eu(n){var i,o,f,u,r,e,s;i=n._w;null!=i.GG||null!=i.W||null!=i.E?(r=1,e=4,o=it(i.GG,n._a[l],b(t(),1,4).year),f=it(i.W,1),u=it(i.E,1)):(r=n._locale._week.dow,e=n._locale._week.doy,o=it(i.gg,n._a[l],b(t(),r,e).year),f=it(i.w,1),null!=i.d?(u=i.d,r>u&&++f):u=null!=i.e?i.e+r:r);s=du(o,f,u,e,r);n._a[l]=s.year;n._dayOfYear=s.dayOfYear}function at(n){var t,i,r,u,e=[];if(!n._d){for(r=su(n),n._w&&null==n._a[h]&&null==n._a[a]&&eu(n),n._dayOfYear&&(u=it(n._a[l],r[l]),n._dayOfYear>li(u)&&(n._pf._overflowDayOfYear=!0),i=yt(u,0,n._dayOfYear),n._a[a]=i.getUTCMonth(),n._a[h]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=e[t]=r[t];for(;7>t;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[f]&&0===n._a[d]&&0===n._a[g]&&0===n._a[nt]&&(n._nextDay=!0,n._a[f]=0);n._d=(n._useUTC?yt:pu).apply(null,e);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()+n._tzm);n._nextDay&&(n._a[f]=24)}}function ou(n){var t;n._d||(t=hi(n._i),n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],at(n))}function su(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function vt(i){if(i._f===t.ISO_8601)return void di(i);i._a=[];i._pf.empty=!0;for(var r,e,h,u=""+i._i,l=u.length,c=0,s=bi(i._f,i._locale).match(sr)||[],o=0;o<s.length;o++)e=s[o],r=(u.match(uu(e,i))||[])[0],r&&(h=u.substr(0,u.indexOf(r)),h.length>0&&i._pf.unusedInput.push(h),u=u.slice(u.indexOf(r)+r.length),c+=r.length),v[e]?(r?i._pf.empty=!1:i._pf.unusedTokens.push(e),fu(e,r,i)):i._strict&&!r&&i._pf.unusedTokens.push(e);i._pf.charsLeftOver=l-c;u.length>0&&i._pf.unusedInput.push(u);i._pf.bigHour===!0&&i._a[f]<=12&&(i._pf.bigHour=n);i._isPm&&i._a[f]<12&&(i._a[f]+=12);i._isPm===!1&&12===i._a[f]&&(i._a[f]=0);at(i);vi(i)}function hu(n){return n.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u})}function cu(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function lu(n){var t,f,u,r,i;if(0===n._f.length)return n._pf.invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=ri({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._pf=ot(),t._f=n._f[r],vt(t),yi(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==u||u>i)&&(u=i,f=t));w(n,f||t)}function di(n){var t,i,r=n._i,u=wf.exec(r);if(u){for(n._pf.iso=!0,t=0,i=kt.length;i>t;t++)if(kt[t][1].exec(r)){n._f=kt[t][0]+(u[6]||" ");break}for(t=0,i=dt.length;i>t;t++)if(dt[t][1].exec(r)){n._f+=dt[t][0];break}r.match(bt)&&(n._f+="Z");vt(n)}else n._isValid=!1}function au(n){di(n);n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n))}function vu(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function yu(i){var u,r=i._i;r===n?i._d=new Date:oi(r)?i._d=new Date(+r):null!==(u=tf.exec(r))?i._d=new Date(+u[1]):"string"==typeof r?au(i):ut(r)?(i._a=vu(r.slice(0),function(n){return parseInt(n,10)}),at(i)):"object"==typeof r?ou(i):"number"==typeof r?i._d=new Date(r):t.createFromInputFallback(i)}function pu(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 1970>n&&o.setFullYear(n),o}function yt(n){var t=new Date(Date.UTC.apply(null,arguments));return 1970>n&&t.setUTCFullYear(n),t}function wu(n,t){if("string"==typeof n)if(isNaN(n)){if(n=t.weekdaysParse(n),"number"!=typeof n)return null}else n=parseInt(n,10);return n}function bu(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function ku(n,i,r){var u=t.duration(n).abs(),c=k(u.as("s")),e=k(u.as("m")),o=k(u.as("h")),s=k(u.as("d")),h=k(u.as("M")),l=k(u.as("y")),f=c<y.s&&["s",c]||1===e&&["m"]||e<y.m&&["mm",e]||1===o&&["h"]||o<y.h&&["hh",o]||1===s&&["d"]||s<y.d&&["dd",s]||1===h&&["M"]||h<y.M&&["MM",h]||1===l&&["y"]||["yy",l];return f[2]=i,f[3]=+n>0,f[4]=r,bu.apply({},f)}function b(n,i,r){var f,e=r-i,u=r-n.day();return u>e&&(u-=7),e-7>u&&(u+=7),f=t(n).add(u,"d"),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function du(n,t,i,r,u){var o,e,f=yt(n,0,1).getUTCDay();return f=0===f?7:f,i=null!=i?i:u,o=u-f+(f>r?7:0)-(u>f?7:0),e=7*(t-1)+(i-u)+o+1,{year:e>0?n:n-1,dayOfYear:e>0?e:li(n-1)+e}}function gi(i){var u,r=i._i,f=i._f;return i._locale=i._locale||t.localeData(i._l),null===r||f===n&&""===r?t.invalid({nullInput:!0}):("string"==typeof r&&(i._i=r=i._locale.preparse(r)),t.isMoment(r)?new rt(r,!0):(f?ut(f)?lu(i):vt(i):yu(i),u=new rt(i),u._nextDay&&(u.add(1,"d"),u._nextDay=n),u))}function nr(n,i){var u,r;if(1===i.length&&ut(i[0])&&(i=i[0]),!i.length)return t();for(u=i[0],r=1;r<i.length;++r)i[r][n](u)&&(u=i[r]);return u}function tr(n,t){var i;return"string"==typeof t&&(t=n.localeData().monthsParse(t),"number"!=typeof t)?n:(i=Math.min(n.date(),ht(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function pt(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function ir(n,t,i){return"Month"===t?tr(n,i):n._d["set"+(n._isUTC?"UTC":"")+t](i)}function c(n,i){return function(r){return null!=r?(ir(this,n,r),t.updateOffset(this,i),this):pt(this,n)}}function rr(n){return 400*n/146097}function ur(n){return 146097*n/400}function gu(n){t.duration.fn[n]=function(){return this._data[n]}}function fr(n){"undefined"==typeof ender&&(er=wt.moment,wt.moment=n?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t):t)}for(var t,er,u,wt="undefined"!=typeof global?global:this,k=Math.round,nf=Object.prototype.hasOwnProperty,l=0,a=1,h=2,f=3,d=4,g=5,nt=6,tt={},ft=[],or="undefined"!=typeof module&&module&&module.exports,tf=/^\/?Date\((\-?\d+)/i,rf=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,uf=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,sr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,et=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hr=/\d\d?/,ff=/\d{1,3}/,ef=/\d{1,4}/,of=/[+\-]?\d{1,6}/,sf=/\d+/,hf=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,bt=/Z|[\+\-]\d\d:?\d\d/gi,cf=/T/i,lf=/[\+\-]?\d+/,af=/[\+\-]?\d+(\.\d{1,3})?/,cr=/\d/,lr=/\d\d/,ar=/\d{3}/,vf=/\d{4}/,yf=/[+-]?\d{6}/,pf=/[+-]?\d+/,wf=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],dt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bf=/([\+\-]|\d\d)/gi,vr=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),kf={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},df={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},gt={},y={s:45,m:45,h:22,d:26,M:11},yr="DDD w W M D d".split(" "),pr="M D H h m s w W".split(" "),v={M:function(){return this.month()+1},MMM:function(n){return this.localeData().monthsShort(this,n)},MMMM:function(n){return this.localeData().months(this,n)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(n){return this.localeData().weekdaysMin(this,n)},ddd:function(n){return this.localeData().weekdaysShort(this,n)},dddd:function(n){return this.localeData().weekdays(this,n)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var n=this.year(),t=n>=0?"+":"-";return t+r(Math.abs(n),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return r(i(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var n=-this.zone(),t="+";return 0>n&&(n=-n,t="-"),t+r(i(n/60),2)+":"+r(i(n)%60,2)},ZZ:function(){var n=-this.zone(),t="+";return 0>n&&(n=-n,t="-"),t+r(i(n/60),2)+r(i(n)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},wr={},br=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];yr.length;)u=yr.pop(),v[u+"o"]=dr(v[u],u);for(;pr.length;)u=pr.pop(),v[u+u]=ti(v[u],2);for(v.DDDD=ti(v.DDD,3),w(ii.prototype,{set:function(n){var t;for(var i in n)t=n[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(n){return this._months[n.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(n){return this._monthsShort[n.month()]},monthsParse:function(n,i,r){var u,f,e;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;12>u;u++)if((f=t.utc([2e3,u]),r&&!this._longMonthsParse[u]&&(this._longMonthsParse[u]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[u]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),r||this._monthsParse[u]||(e="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[u]=new RegExp(e.replace(".",""),"i")),r&&"MMMM"===i&&this._longMonthsParse[u].test(n))||r&&"MMM"===i&&this._shortMonthsParse[u].test(n)||!r&&this._monthsParse[u].test(n))return u},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(n){return this._weekdays[n.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(n){return this._weekdaysShort[n.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(n){return this._weekdaysMin[n.day()]},weekdaysParse:function(n){var i,r,u;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(r=t([2e3,1]).day(i),u="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(u.replace(".",""),"i")),this._weekdaysParse[i].test(n))return i},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t},isPM:function(n){return"p"===(n+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(n,t,i){var r=this._calendar[n];return"function"==typeof r?r.apply(t,[i]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(n,t,i,r){var u=this._relativeTime[i];return"function"==typeof u?u(n,t,i,r):u.replace(/%d/i,n)},pastFuture:function(n,t){var i=this._relativeTime[n>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(n){return this._ordinal.replace("%d",n)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(n){return n},postformat:function(n){return n},week:function(n){return b(n,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,i,r,u){var f;return"boolean"==typeof r&&(u=r,r=n),f={},f._isAMomentObject=!0,f._i=t,f._f=i,f._l=r,f._strict=u,f._isUTC=!1,f._pf=ot(),gi(f)},t.suppressDeprecationWarnings=!1,t.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))}),t.min=function(){var n=[].slice.call(arguments,0);return nr("isBefore",n)},t.max=function(){var n=[].slice.call(arguments,0);return nr("isAfter",n)},t.utc=function(t,i,r,u){var f;return"boolean"==typeof r&&(u=r,r=n),f={},f._isAMomentObject=!0,f._useUTC=!0,f._isUTC=!0,f._l=r,f._i=t,f._f=i,f._strict=u,f._pf=ot(),gi(f).utc()},t.unix=function(n){return t(1e3*n)},t.duration=function(n,r){var o,c,s,l,e=n,u=null;return t.isDuration(n)?e={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(e={},r?e[r]=n:e.milliseconds=n):(u=rf.exec(n))?(o="-"===u[1]?-1:1,e={y:0,d:i(u[h])*o,h:i(u[f])*o,m:i(u[d])*o,s:i(u[g])*o,ms:i(u[nt])*o}):(u=uf.exec(n))?(o="-"===u[1]?-1:1,s=function(n){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*o},e={y:s(u[2]),M:s(u[3]),d:s(u[4]),h:s(u[5]),m:s(u[6]),s:s(u[7]),w:s(u[8])}):"object"==typeof e&&("from"in e||"to"in e)&&(l=gr(t(e.from),t(e.to)),e={},e.ms=l.milliseconds,e.M=l.months),c=new st(e),t.isDuration(n)&&p(n,"_locale")&&(c._locale=n._locale),c},t.version="2.8.4",t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.ISO_8601=function(){},t.momentProperties=ft,t.updateOffset=function(){},t.relativeTimeThreshold=function(t,i){return y[t]===n?!1:i===n?y[t]:(y[t]=i,!0)},t.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(n,i){return t.locale(n,i)}),t.locale=function(n,i){var r;return n&&(r="undefined"!=typeof i?t.defineLocale(n,i):t.localeData(n),r&&(t.duration._locale=t._locale=r)),t._locale._abbr},t.defineLocale=function(n,i){return null!==i?(i.abbr=n,tt[n]||(tt[n]=new ii),tt[n].set(i),t.locale(n),tt[n]):(delete tt[n],null)},t.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(n){return t.localeData(n)}),t.localeData=function(n){var i;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return t._locale;if(!ut(n)){if(i=wi(n))return i;n=[n]}return tu(n)},t.isMoment=function(n){return n instanceof rt||null!=n&&p(n,"_isAMomentObject")},t.isDuration=function(n){return n instanceof st},u=br.length-1;u>=0;--u)nu(br[u]);t.normalizeUnits=function(n){return e(n)};t.invalid=function(n){var i=t.utc(NaN);return null!=n?w(i._pf,n):i._pf.userInvalidated=!0,i};t.parseZone=function(){return t.apply(null,arguments).parseZone()};t.parseTwoDigitYear=function(n){return i(n)+(i(n)>68?1900:2e3)};w(t.fn=rt.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var n=t(this).utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():lt(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):lt(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var n=this;return[n.year(),n.month(),n.date(),n.hours(),n.minutes(),n.seconds(),n.milliseconds()]},isValid:function(){return yi(this)},isDSTShifted:function(){return this._a?this.isValid()&&si(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return w({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(n){return this.zone(0,n)},local:function(n){return this._isUTC&&(this.zone(0,n),this._isUTC=!1,n&&this.add(this._dateTzOffset(),"m")),this},format:function(n){var i=lt(this,n||t.defaultFormat);return this.localeData().postformat(i)},add:fi(1,"add"),subtract:fi(-1,"subtract"),diff:function(n,i,r){var u,o,h,f=ct(n,this),c=6e4*(this.zone()-f.zone());return i=e(i),"year"===i||"month"===i?(u=432e5*(this.daysInMonth()+f.daysInMonth()),o=12*(this.year()-f.year())+(this.month()-f.month()),h=this-t(this).startOf("month")-(f-t(f).startOf("month")),h-=6e4*(this.zone()-t(this).startOf("month").zone()-(f.zone()-t(f).startOf("month").zone())),o+=h/u,"year"===i&&(o/=12)):(u=this-f,o="second"===i?u/1e3:"minute"===i?u/6e4:"hour"===i?u/36e5:"day"===i?(u-c)/864e5:"week"===i?(u-c)/6048e5:u),r?o:s(o)},from:function(n,i){return t.duration({to:this,from:n}).locale(this.locale()).humanize(!i)},fromNow:function(n){return this.from(t(),n)},calendar:function(n){var r=n||t(),u=ct(r,this).startOf("day"),i=this.diff(u,"days",!0),f=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(f,this,t(r)))},isLeapYear:function(){return ai(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=wu(n,this.localeData()),this.add(n-t,"d")):t},month:c("Month",!0),startOf:function(n){switch(n=e(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n?this.weekday(0):"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=e(t),t===n||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(n,i){var r;return i=e("undefined"!=typeof i?i:"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+this>+n):(r=t.isMoment(n)?+n:+t(n),r<+this.clone().startOf(i))},isBefore:function(n,i){var r;return i=e("undefined"!=typeof i?i:"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+n>+this):(r=t.isMoment(n)?+n:+t(n),+this.clone().endOf(i)<r)},isSame:function(n,i){var r;return i=e(i||"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+this==+n):(r=+t(n),+this.clone().startOf(i)<=r&&r<=+this.clone().endOf(i))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),this>n?this:n}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),n>this?this:n}),zone:function(n,i){var r,u=this._offset||0;return null==n?this._isUTC?u:this._dateTzOffset():("string"==typeof n&&(n=ki(n)),Math.abs(n)<16&&(n=60*n),!this._isUTC&&i&&(r=this._dateTzOffset()),this._offset=n,this._isUTC=!0,null!=r&&this.subtract(r,"m"),u!==n&&(!i||this._changeInProgress?ei(this,t.duration(u-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(n){return n=n?t(n).zone():0,(this.zone()-n)%60==0},daysInMonth:function(){return ht(this.year(),this.month())},dayOfYear:function(n){var i=k((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return null==n?i:this.add(n-i,"d")},quarter:function(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)},weekYear:function(n){var t=b(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==n?t:this.add(n-t,"y")},isoWeekYear:function(n){var t=b(this,1,4).year;return null==n?t:this.add(n-t,"y")},week:function(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")},isoWeek:function(n){var t=b(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")},weekday:function(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")},isoWeekday:function(n){return null==n?this.day()||7:this.day(this.day()%7?n:n-7)},isoWeeksInYear:function(){return ci(this.year(),1,4)},weeksInYear:function(){var n=this.localeData()._week;return ci(this.year(),n.dow,n.doy)},get:function(n){return n=e(n),this[n]()},set:function(n,t){return n=e(n),"function"==typeof this[n]&&this[n](t),this},locale:function(i){var r;return i===n?this._locale._abbr:(r=t.localeData(i),null!=r&&(this._locale=r),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===n?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}});t.fn.millisecond=t.fn.milliseconds=c("Milliseconds",!1);t.fn.second=t.fn.seconds=c("Seconds",!1);t.fn.minute=t.fn.minutes=c("Minutes",!1);t.fn.hour=t.fn.hours=c("Hours",!0);t.fn.date=c("Date",!0);t.fn.dates=o("dates accessor is deprecated. Use date instead.",c("Date",!0));t.fn.year=c("FullYear",!0);t.fn.years=o("years accessor is deprecated. Use year instead.",c("FullYear",!0));t.fn.days=t.fn.day;t.fn.months=t.fn.month;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.fn.quarters=t.fn.quarter;t.fn.toJSON=t.fn.toISOString;w(t.duration.fn=st.prototype,{_bubble:function(){var u,f,e,o=this._milliseconds,t=this._days,i=this._months,n=this._data,r=0;n.milliseconds=o%1e3;u=s(o/1e3);n.seconds=u%60;f=s(u/60);n.minutes=f%60;e=s(f/60);n.hours=e%24;t+=s(e/24);r=s(rr(t));t-=s(ur(r));i+=s(t/30);t%=30;r+=s(i/12);i%=12;n.days=t;n.months=i;n.years=r},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return s(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*i(this._months/12)},humanize:function(n){var t=ku(this,!n,this.localeData());return n&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(n,i){var r=t.duration(n,i);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(n,i){var r=t.duration(n,i);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(n){return n=e(n),this[n.toLowerCase()+"s"]()},as:function(n){var t,i;if(n=e(n),"month"===n||"year"===n)return t=this._days+this._milliseconds/864e5,i=this._months+12*rr(t),"month"===n?i:i/12;switch(t=this._days+Math.round(ur(this._months/12)),n){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 1440*t+this._milliseconds/6e4;case"second":return 86400*t+this._milliseconds/1e3;case"millisecond":return Math.floor(864e5*t)+this._milliseconds;default:throw new Error("Unknown unit "+n);}},lang:t.fn.lang,locale:t.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var r=Math.abs(this.years()),u=Math.abs(this.months()),f=Math.abs(this.days()),n=Math.abs(this.hours()),t=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(r?r+"Y":"")+(u?u+"M":"")+(f?f+"D":"")+(n||t||i?"T":"")+(n?n+"H":"")+(t?t+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale}});t.duration.fn.toString=t.duration.fn.toISOString;for(u in vr)p(vr,u)&&gu(u.toLowerCase());t.duration.fn.asMilliseconds=function(){return this.as("ms")};t.duration.fn.asSeconds=function(){return this.as("s")};t.duration.fn.asMinutes=function(){return this.as("m")};t.duration.fn.asHours=function(){return this.as("h")};t.duration.fn.asDays=function(){return this.as("d")};t.duration.fn.asWeeks=function(){return this.as("weeks")};t.duration.fn.asMonths=function(){return this.as("M")};t.duration.fn.asYears=function(){return this.as("y")};t.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,r=1===i(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+r}});or?module.exports=t:"function"==typeof define&&define.amd?(define("moment",function(n,i,r){return r.config&&r.config()&&r.config().noGlobal===!0&&(wt.moment=er),t}),fr(!0)):fr()}).call(this);
/**
* @version: 1.3.17
* @author: Dan Grossman http://www.dangrossman.info/
* @date: 2014-11-25
* @copyright: Copyright (c) 2012-2014 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: http://www.improvely.com/
*/
(function(n,t){if(typeof define=="function"&&define.amd)define(["moment","jquery","exports"],function(i,r,u){n.daterangepicker=t(n,u,i,r)});else if(typeof exports!="undefined"){var r=require("moment"),i;try{i=require("jquery")}catch(u){if(i=window.jQuery,!i)throw new Error("jQuery dependency not found");}t(n,exports,r,i)}else n.daterangepicker=t(n,{},n.moment,n.jQuery||n.Zepto||n.ender||n.$)})(this,function(n,t,i,r){var u=function(n,t,i){var u,f;this.parentEl="body";this.element=r(n);this.isShowing=!1;u='<div class="daterangepicker dropdown-menu"><div class="calendar first left"><\/div><div class="calendar second right"><\/div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"><\/label><input class="input-mini" type="text" name="daterangepicker_start" value="" /><\/div><div class="daterangepicker_end_input"><label for="daterangepicker_end"><\/label><input class="input-mini" type="text" name="daterangepicker_end" value="" /><\/div><button class="applyBtn" disabled="disabled"><\/button>&nbsp;<button class="cancelBtn"><\/button><\/div><\/div><\/div>';(typeof t!="object"||t===null)&&(t={});this.parentEl=typeof t=="object"&&t.parentEl&&r(t.parentEl).length?r(t.parentEl):r(this.parentEl);this.container=r(u).appendTo(this.parentEl);this.setOptions(t,i);f=this.container;r.each(this.buttonClasses,function(n,t){f.find("button").addClass(t)});this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel);this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel);this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass);this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",r.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",r.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",r.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",r.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",r.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",r.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",r.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",r.proxy(this.updateTime,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",r.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",r.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",r.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",r.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",r.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",r.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",r.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",r.proxy(this.updateFormInputs,this));if(this.element.is("input"))this.element.on({"click.daterangepicker":r.proxy(this.show,this),"focus.daterangepicker":r.proxy(this.show,this),"keyup.daterangepicker":r.proxy(this.updateFromControl,this)});else this.element.on("click.daterangepicker",r.proxy(this.toggle,this))};u.prototype={constructor:u,setOptions:function(n,t){var a,u,f,e,o,c,s,l,h;if(this.startDate=i().startOf("day"),this.endDate=i().endOf("day"),this.timeZone=i().zone(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:i.weekdaysMin(),monthNames:i.monthsShort(),firstDay:i.localeData()._week.dow},this.cb=function(){},typeof n.format=="string"&&(this.format=n.format),typeof n.separator=="string"&&(this.separator=n.separator),typeof n.startDate=="string"&&(this.startDate=i(n.startDate,this.format)),typeof n.endDate=="string"&&(this.endDate=i(n.endDate,this.format)),typeof n.minDate=="string"&&(this.minDate=i(n.minDate,this.format)),typeof n.maxDate=="string"&&(this.maxDate=i(n.maxDate,this.format)),typeof n.startDate=="object"&&(this.startDate=i(n.startDate)),typeof n.endDate=="object"&&(this.endDate=i(n.endDate)),typeof n.minDate=="object"&&(this.minDate=i(n.minDate)),typeof n.maxDate=="object"&&(this.maxDate=i(n.maxDate)),typeof n.applyClass=="string"&&(this.applyClass=n.applyClass),typeof n.cancelClass=="string"&&(this.cancelClass=n.cancelClass),typeof n.dateLimit=="object"&&(this.dateLimit=n.dateLimit),typeof n.locale=="object"&&(typeof n.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=n.locale.daysOfWeek.slice()),typeof n.locale.monthNames=="object"&&(this.locale.monthNames=n.locale.monthNames.slice()),typeof n.locale.firstDay=="number"&&(this.locale.firstDay=n.locale.firstDay),typeof n.locale.applyLabel=="string"&&(this.locale.applyLabel=n.locale.applyLabel),typeof n.locale.cancelLabel=="string"&&(this.locale.cancelLabel=n.locale.cancelLabel),typeof n.locale.fromLabel=="string"&&(this.locale.fromLabel=n.locale.fromLabel),typeof n.locale.toLabel=="string"&&(this.locale.toLabel=n.locale.toLabel),typeof n.locale.weekLabel=="string"&&(this.locale.weekLabel=n.locale.weekLabel),typeof n.locale.customRangeLabel=="string"&&(this.locale.customRangeLabel=n.locale.customRangeLabel)),typeof n.opens=="string"&&(this.opens=n.opens),typeof n.showWeekNumbers=="boolean"&&(this.showWeekNumbers=n.showWeekNumbers),typeof n.buttonClasses=="string"&&(this.buttonClasses=[n.buttonClasses]),typeof n.buttonClasses=="object"&&(this.buttonClasses=n.buttonClasses),typeof n.showDropdowns=="boolean"&&(this.showDropdowns=n.showDropdowns),typeof n.singleDatePicker=="boolean"&&(this.singleDatePicker=n.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof n.timePicker=="boolean"&&(this.timePicker=n.timePicker),typeof n.timePickerSeconds=="boolean"&&(this.timePickerSeconds=n.timePickerSeconds),typeof n.timePickerIncrement=="number"&&(this.timePickerIncrement=n.timePickerIncrement),typeof n.timePicker12Hour=="boolean"&&(this.timePicker12Hour=n.timePicker12Hour),this.locale.firstDay!=0)for(a=this.locale.firstDay;a>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),a--;if(typeof n.startDate=="undefined"&&typeof n.endDate=="undefined"&&r(this.element).is("input[type=text]")&&(o=r(this.element).val(),c=o.split(this.separator),u=f=null,c.length==2?(u=i(c[0],this.format),f=i(c[1],this.format)):this.singleDatePicker&&o!==""&&(u=i(o,this.format),f=i(o,this.format)),u!==null&&f!==null&&(this.startDate=u,this.endDate=f)),typeof n.timeZone=="string"||typeof n.timeZone=="number"?(this.timeZone=n.timeZone,this.startDate.zone(this.timeZone),this.endDate.zone(this.timeZone)):this.timeZone=i(this.startDate).zone(),typeof n.ranges=="object"){for(e in n.ranges)(u=typeof n.ranges[e][0]=="string"?i(n.ranges[e][0],this.format):i(n.ranges[e][0]),f=typeof n.ranges[e][1]=="string"?i(n.ranges[e][1],this.format):i(n.ranges[e][1]),this.minDate&&u.isBefore(this.minDate)&&(u=i(this.minDate)),this.maxDate&&f.isAfter(this.maxDate)&&(f=i(this.maxDate)),this.minDate&&f.isBefore(this.minDate)||this.maxDate&&u.isAfter(this.maxDate))||(this.ranges[e]=[u,f]);s="<ul>";for(e in this.ranges)s+="<li>"+e+"<\/li>";s+="<li>"+this.locale.customRangeLabel+"<\/li>";s+="<\/ul>";this.container.find(".ranges ul").remove();this.container.find(".ranges").prepend(s)}typeof t=="function"&&(this.cb=t);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"));this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show());this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.oldChosenLabel=this.chosenLabel;this.leftCalendar={month:i([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]};this.rightCalendar={month:i([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]};(this.opens=="right"||this.opens=="center")&&(l=this.container.find(".calendar.first"),h=this.container.find(".calendar.second"),h.hasClass("single")&&(h.removeClass("single"),l.addClass("single")),l.removeClass("left").addClass("right"),h.removeClass("right").addClass("left"),this.singleDatePicker&&(l.show(),h.hide()));typeof n.ranges!="undefined"||this.singleDatePicker||this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);this.updateView();this.updateCalendars()},setStartDate:function(n){typeof n=="string"&&(this.startDate=i(n,this.format).zone(this.timeZone));typeof n=="object"&&(this.startDate=i(n));this.timePicker||(this.startDate=this.startDate.startOf("day"));this.oldStartDate=this.startDate.clone();this.updateView();this.updateCalendars();this.updateInputText()},setEndDate:function(n){typeof n=="string"&&(this.endDate=i(n,this.format).zone(this.timeZone));typeof n=="object"&&(this.endDate=i(n));this.timePicker||(this.endDate=this.endDate.endOf("day"));this.oldEndDate=this.endDate.clone();this.updateView();this.updateCalendars();this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute());this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format));this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format));this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var r=this.element.val().split(this.separator),n=null,t=null;(r.length===2&&(n=i(r[0],this.format).zone(this.timeZone),t=i(r[1],this.format).zone(this.timeZone)),(this.singleDatePicker||n===null||t===null)&&(n=i(this.element.val(),this.format).zone(this.timeZone),t=n),t.isBefore(n))||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=n,this.endDate=t,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView();this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var n={top:0,left:0},t=r(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},t=this.parentEl[0].clientWidth+this.parentEl.offset().left);this.opens=="left"?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-n.top,right:t-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):this.opens=="center"?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-n.top,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-n.top,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>r(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(){this.element.hasClass("active")?this.hide():this.show()},show:function(){if(!this.isShowing){this.element.addClass("active");this.container.show();this.move();this._outsideClickProxy=r.proxy(function(n){this.outsideClick(n)},this);r(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy);this.isShowing=!0;this.element.trigger("show.daterangepicker",this)}},outsideClick:function(n){var t=r(n.target);n.type=="focusin"||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-date").length||this.hide()},hide:function(){this.isShowing&&(r(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(n){var i=n.target.innerHTML,t;i==this.locale.customRangeLabel?this.updateView():(t=this.ranges[i],this.container.find("input[name=daterangepicker_start]").val(t[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(t[1].format(this.format)))},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(n){var e=r(n.target),t=i(e.val(),this.format),u,f;t.isValid()&&(e.attr("name")==="daterangepicker_start"?(u=t,f=this.endDate):(u=this.startDate,f=t),this.setCustomDates(u,f))},inputsKeydown:function(n){n.keyCode===13&&(this.inputsChanged(n),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.endDate.format(this.format))},clickRange:function(n){var t=n.target.innerHTML,i;this.chosenLabel=t;t==this.locale.customRangeLabel?this.showCalendars():(i=this.ranges[t],this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this))},clickPrev:function(n){var t=r(n.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(n){var t=r(n.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month");this.updateCalendars()},hoverDate:function(n){var t=r(n.target).attr("data-title"),i=t.substr(1,1),u=t.substr(3,1),f=r(n.target).parents(".calendar");f.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[i][u].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[i][u].format(this.format))},setCustomDates:function(n,t){if(this.chosenLabel=this.locale.customRangeLabel,n.isAfter(t)){var r=this.endDate.diff(this.startDate);t=i(n).add(r,"ms");this.maxDate&&t.isAfter(this.maxDate)&&(t=this.maxDate)}this.startDate=n;this.endDate=t;this.updateView();this.updateCalendars()},clickDate:function(n){var s=r(n.target).attr("data-title"),h=s.substr(1,1),c=s.substr(3,1),f=r(n.target).parents(".calendar"),u,t,e,o;f.hasClass("left")?(u=this.leftCalendar.calendar[h][c],t=this.endDate,typeof this.dateLimit=="object"&&(e=i(u).add(this.dateLimit).startOf("day"),t.isAfter(e)&&(t=e))):(u=this.startDate,t=this.rightCalendar.calendar[h][c],typeof this.dateLimit=="object"&&(o=i(t).subtract(this.dateLimit).startOf("day"),u.isBefore(o)&&(u=o)));this.singleDatePicker&&f.hasClass("left")?t=u.clone():this.singleDatePicker&&f.hasClass("right")&&(u=t.clone());f.find("td").removeClass("active");r(n.target).addClass("active");this.setCustomDates(u,t);this.timePicker||t.endOf("day");this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(){this.updateInputText();this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.chosenLabel=this.oldChosenLabel;this.updateView();this.updateCalendars();this.hide();this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(n){var u=r(n.target).closest(".calendar").hasClass("left"),t=u?"left":"right",i=this.container.find(".calendar."+t),f=parseInt(i.find(".monthselect").val(),10),e=i.find(".yearselect").val();this[t+"Calendar"].month.month(f).year(e);this.updateCalendars()},updateTime:function(n){var f=r(n.target).closest(".calendar"),h=f.hasClass("left"),t=parseInt(f.find(".hourselect").val(),10),o=parseInt(f.find(".minuteselect").val(),10),e=0,s,i,u;this.timePickerSeconds&&(e=parseInt(f.find(".secondselect").val(),10));this.timePicker12Hour&&(s=f.find(".ampmselect").val(),s==="PM"&&t<12&&(t+=12),s==="AM"&&t===12&&(t=0));h?(i=this.startDate.clone(),i.hour(t),i.minute(o),i.second(e),this.startDate=i,this.leftCalendar.month.hour(t).minute(o).second(e),this.singleDatePicker&&(this.endDate=i.clone())):(u=this.endDate.clone(),u.hour(t),u.minute(o),u.second(e),this.endDate=u,this.singleDatePicker&&(this.startDate=u.clone()),this.rightCalendar.month.hour(t).minute(o).second(e));this.updateView();this.updateCalendars()},updateCalendars:function(){var t,i,n;this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left");this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right");this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left"));this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right"));this.container.find(".ranges li").removeClass("active");t=!0;i=0;for(n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html()),i++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(n,t,r,u,f,e){var k=i([t,n]).daysInMonth(),v=i([t,n,1]),d=i([t,n,k]),p=i(v).subtract(1,"month").month(),w=i(v).subtract(1,"month").year(),y=i([w,p]).daysInMonth(),b=v.day(),c,o=[],l,a,s,h;for(o.firstDay=v,o.lastDay=d,c=0;c<6;c++)o[c]=[];for(l=y-b+this.locale.firstDay+1,l>y&&(l-=7),b==this.locale.firstDay&&(l=y-6),a=i([w,p,l,12,u,f]).zone(this.timeZone),c=0,s=0,h=0;c<42;c++,s++,a=i(a).add(24,"hour"))c>0&&s%7==0&&(s=0,h++),o[h][s]=a.clone().hour(r),a.hour(12),this.minDate&&o[h][s].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&o[h][s].isBefore(this.minDate)&&e=="left"&&(o[h][s]=this.minDate.clone()),this.maxDate&&o[h][s].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&o[h][s].isAfter(this.maxDate)&&e=="right"&&(o[h][s]=this.maxDate.clone());return o},renderDropdowns:function(n,t,i){for(var e,u,c=n.month(),f=n.year(),s=i&&i.year()||f+5,h=t&&t.year()||f-50,o='<select class="monthselect">',l=f==h,a=f==s,r=0;r<12;r++)(!l||r>=t.month())&&(!a||r<=i.month())&&(o+="<option value='"+r+"'"+(r===c?" selected='selected'":"")+">"+this.locale.monthNames[r]+"<\/option>");for(o+="<\/select>",e='<select class="yearselect">',u=h;u<=s;u++)e+='<option value="'+u+'"'+(u===f?' selected="selected"':"")+">"+u+"<\/option>";return e+="<\/select>",o+e},renderCalendar:function(n,t,i,u,f){var e='<div class="calendar-date">',d,s,h,l,g,o,a,v,p,w,c,b,k;for(e+='<table class="table-condensed">',e+="<thead>",e+="<tr>",this.showWeekNumbers&&(e+="<th><\/th>"),e+=!i||i.isBefore(n.firstDay)?'<th class="prev available"><i class="fa fa-arrow-left icon icon-arrow-left glyphicon glyphicon-arrow-left"><\/i><\/th>':"<th><\/th>",d=this.locale.monthNames[n[1][1].month()]+n[1][1].format(" YYYY"),this.showDropdowns&&(d=this.renderDropdowns(n[1][1],i,u)),e+='<th colspan="5" class="month">'+d+"<\/th>",e+=!u||u.isAfter(n.lastDay)?'<th class="next available"><i class="fa fa-arrow-right icon icon-arrow-right glyphicon glyphicon-arrow-right"><\/i><\/th>':"<th><\/th>",e+="<\/tr>",e+="<tr>",this.showWeekNumbers&&(e+='<th class="week">'+this.locale.weekLabel+"<\/th>"),r.each(this.locale.daysOfWeek,function(n,t){e+="<th>"+t+"<\/th>"}),e+="<\/tr>",e+="<\/thead>",e+="<tbody>",s=0;s<6;s++){for(e+="<tr>",this.showWeekNumbers&&(e+='<td class="week">'+n[s][0].week()+"<\/td>"),h=0;h<7;h++)l="available ",l+=n[s][h].month()==n[1][1].month()?"":"off",i&&n[s][h].isBefore(i,"day")||u&&n[s][h].isAfter(u,"day")?l=" off disabled ":n[s][h].format("YYYY-MM-DD")==t.format("YYYY-MM-DD")?(l+=" active ",n[s][h].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(l+=" start-date "),n[s][h].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(l+=" end-date ")):n[s][h]>=this.startDate&&n[s][h]<=this.endDate&&(l+=" in-range ",n[s][h].isSame(this.startDate)&&(l+=" start-date "),n[s][h].isSame(this.endDate)&&(l+=" end-date ")),g="r"+s+"c"+h,e+='<td class="'+l.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+g+'">'+n[s][h].date()+"<\/td>";e+="<\/tr>"}if(e+="<\/tbody>",e+="<\/table>",e+="<\/div>",this.timePicker){e+='<div class="calendar-time">';e+='<select class="hourselect">';a=0;v=23;i&&(f=="left"||this.singleDatePicker)&&t.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&(a=i.hour(),t.hour()<a&&t.hour(a),this.timePicker12Hour&&a>=12&&t.hour()>=12&&(a-=12),this.timePicker12Hour&&a==12&&(a=1));u&&(f=="right"||this.singleDatePicker)&&t.format("YYYY-MM-DD")==u.format("YYYY-MM-DD")&&(v=u.hour(),t.hour()>v&&t.hour(v),this.timePicker12Hour&&v>=12&&t.hour()>=12&&(v-=12));var nt=0,tt=23,y=t.hour();for(this.timePicker12Hour&&(nt=1,tt=12,y>=12&&(y-=12),y===0&&(y=12)),o=nt;o<=tt;o++)e+=o==y?'<option value="'+o+'" selected="selected">'+o+"<\/option>":o<a||o>v?'<option value="'+o+'" disabled="disabled" class="disabled">'+o+"<\/option>":'<option value="'+o+'">'+o+"<\/option>";for(e+="<\/select> : ",e+='<select class="minuteselect">',p=0,w=59,i&&(f=="left"||this.singleDatePicker)&&t.format("YYYY-MM-DD h A")==i.format("YYYY-MM-DD h A")&&(p=i.minute(),t.minute()<p&&t.minute(p)),u&&(f=="right"||this.singleDatePicker)&&t.format("YYYY-MM-DD h A")==u.format("YYYY-MM-DD h A")&&(w=u.minute(),t.minute()>w&&t.minute(w)),o=0;o<60;o+=this.timePickerIncrement)c=o,c<10&&(c="0"+c),e+=o==t.minute()?'<option value="'+o+'" selected="selected">'+c+"<\/option>":o<p||o>w?'<option value="'+o+'" disabled="disabled" class="disabled">'+c+"<\/option>":'<option value="'+o+'">'+c+"<\/option>";if(e+="<\/select> ",this.timePickerSeconds){for(e+=': <select class="secondselect">',o=0;o<60;o+=this.timePickerIncrement)c=o,c<10&&(c="0"+c),e+=o==t.second()?'<option value="'+o+'" selected="selected">'+c+"<\/option>":'<option value="'+o+'">'+c+"<\/option>";e+="<\/select>"}this.timePicker12Hour&&(e+='<select class="ampmselect">',b="",k="",i&&(f=="left"||this.singleDatePicker)&&t.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&i.hour()>=12&&(b=' disabled="disabled" class="disabled"'),u&&(f=="right"||this.singleDatePicker)&&t.format("YYYY-MM-DD")==u.format("YYYY-MM-DD")&&u.hour()<12&&(k=' disabled="disabled" class="disabled"'),e+=t.hour()>=12?'<option value="AM"'+b+'>AM<\/option><option value="PM" selected="selected"'+k+">PM<\/option>":'<option value="AM" selected="selected"'+b+'>AM<\/option><option value="PM"'+k+">PM<\/option>",e+="<\/select>");e+="<\/div>"}return e},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData("daterangepicker")}};r.fn.daterangepicker=function(n,t){return this.each(function(){var i=r(this);i.data("daterangepicker")&&i.data("daterangepicker").remove();i.data("daterangepicker",new u(i,n,t))}),this}});CryptoJS=CryptoJS||function(n,t){var u={},f=u.lib={},o=function(){},i=f.Base={extend:function(n){o.prototype=this;var t=new o;return n&&t.mixIn(n),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}},r=f.WordArray=i.extend({init:function(n,i){n=this.words=n||[];this.sigBytes=i!=t?i:4*n.length},toString:function(n){return(n||l).stringify(this)},concat:function(n){var i=this.words,r=n.words,u=this.sigBytes,t;if(n=n.sigBytes,this.clamp(),u%4)for(t=0;t<n;t++)i[u+t>>>2]|=(r[t>>>2]>>>24-8*(t%4)&255)<<24-8*((u+t)%4);else if(65535<r.length)for(t=0;t<n;t+=4)i[u+t>>>2]=r[t>>>2];else i.push.apply(i,r);return this.sigBytes+=n,this},clamp:function(){var i=this.words,t=this.sigBytes;i[t>>>2]&=4294967295<<32-8*(t%4);i.length=n.ceil(t/4)},clone:function(){var n=i.clone.call(this);return n.words=this.words.slice(0),n},random:function(t){for(var i=[],u=0;u<t;u+=4)i.push(4294967296*n.random()|0);return new r.init(i,t)}}),e=u.enc={},l=e.Hex={stringify:function(n){var u=n.words,i,t,r;for(n=n.sigBytes,i=[],t=0;t<n;t++)r=u[t>>>2]>>>24-8*(t%4)&255,i.push((r>>>4).toString(16)),i.push((r&15).toString(16));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t+=2)u[t>>>3]|=parseInt(n.substr(t,2),16)<<24-4*(t%8);return new r.init(u,i/2)}},s=e.Latin1={stringify:function(n){var r=n.words,i,t;for(n=n.sigBytes,i=[],t=0;t<n;t++)i.push(String.fromCharCode(r[t>>>2]>>>24-8*(t%4)&255));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t++)u[t>>>2]|=(n.charCodeAt(t)&255)<<24-8*(t%4);return new r.init(u,i)}},a=e.Utf8={stringify:function(n){try{return decodeURIComponent(escape(s.stringify(n)))}catch(t){throw Error("Malformed UTF-8 data");}},parse:function(n){return s.parse(unescape(encodeURIComponent(n)))}},h=f.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=a.parse(n));this._data.concat(n);this._nDataBytes+=n.sigBytes},_process:function(t){var f=this._data,s=f.words,u=f.sigBytes,e=this.blockSize,o=u/(4*e),o=t?n.ceil(o):n.max((o|0)-this._minBufferSize,0),i;if(t=o*e,u=n.min(4*t,u),t){for(i=0;i<t;i+=e)this._doProcessBlock(s,i);i=s.splice(0,t);f.sigBytes-=u}return new r.init(i,u)},clone:function(){var n=i.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),c;return f.Hasher=h.extend({cfg:i.extend(),init:function(n){this.cfg=this.cfg.extend(n);this.reset()},reset:function(){h.reset.call(this);this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,i){return new n.init(i).finalize(t)}},_createHmacHelper:function(n){return function(t,i){return new c.HMAC.init(n,i).finalize(t)}}}),c=u.algo={},u}(Math),function(){var n=CryptoJS,t=n.lib.WordArray;n.enc.Base64={stringify:function(n){var i=n.words,u=n.sigBytes,f=this._map,t,e,r;for(n.clamp(),n=[],t=0;t<u;t+=3)for(e=(i[t>>>2]>>>24-8*(t%4)&255)<<16|(i[t+1>>>2]>>>24-8*((t+1)%4)&255)<<8|i[t+2>>>2]>>>24-8*((t+2)%4)&255,r=0;4>r&&t+.75*r<u;r++)n.push(f.charAt(e>>>6*(3-r)&63));if(i=f.charAt(64))for(;n.length%4;)n.push(i);return n.join("")},parse:function(n){var e=n.length,f=this._map,i=f.charAt(64),o,s;i&&(i=n.indexOf(i),-1!=i&&(e=i));for(var i=[],u=0,r=0;r<e;r++)r%4&&(o=f.indexOf(n.charAt(r-1))<<2*(r%4),s=f.indexOf(n.charAt(r))>>>6-2*(r%4),i[u>>>2]|=(o|s)<<24-8*(u%4),u++);return t.create(i,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}();hs||(hs={lang:{cssDirection:"ltr",loadingText:"Loading...",loadingTitle:"Click to cancel",focusTitle:"Click to bring to front",fullExpandTitle:"Expand to actual size (f)",creditsText:"Powered by <i>Highslide JS<\/i>",creditsTitle:"Go to the Highslide JS homepage",previousText:"Previous",nextText:"Next",moveText:"Move",closeText:"Close",closeTitle:"Close (esc)",resizeTitle:"Resize",playText:"Play",playTitle:"Play slideshow (spacebar)",pauseText:"Pause",pauseTitle:"Pause slideshow (spacebar)",previousTitle:"Previous (arrow left)",nextTitle:"Next (arrow right)",moveTitle:"Move",fullExpandText:"1:1",number:"Image %1 of %2",restoreTitle:"Click to close image, click and drag to move. Use arrow keys for next and previous."},graphicsDir:"../../img/highslide/",expandCursor:"zoomin.cur",restoreCursor:"zoomout.cur",expandDuration:250,restoreDuration:250,marginLeft:15,marginRight:15,marginTop:15,marginBottom:15,zIndexCounter:1001,loadingOpacity:.75,allowMultipleInstances:!0,numberOfImagesToPreload:5,outlineWhileAnimating:2,outlineStartOffset:3,padToMinWidth:!1,fullExpandPosition:"bottom right",fullExpandOpacity:1,showCredits:!0,creditsHref:"http://highslide.com/",creditsTarget:"_self",enableKeyListener:!0,openerTagNames:["a","area"],transitions:[],transitionDuration:250,dimmingOpacity:0,dimmingDuration:50,allowWidthReduction:!1,allowHeightReduction:!0,preserveContent:!0,objectLoadTime:"before",cacheAjax:!0,anchor:"auto",align:"auto",targetX:null,targetY:null,dragByHeading:!0,minWidth:200,minHeight:200,allowSizeReduction:!0,outlineType:"drop-shadow",skin:{controls:'<div class="highslide-controls"><ul><li class="highslide-previous"><a href="#" title="{hs.lang.previousTitle}"><span>{hs.lang.previousText}<\/span><\/a><\/li><li class="highslide-play"><a href="#" title="{hs.lang.playTitle}"><span>{hs.lang.playText}<\/span><\/a><\/li><li class="highslide-pause"><a href="#" title="{hs.lang.pauseTitle}"><span>{hs.lang.pauseText}<\/span><\/a><\/li><li class="highslide-next"><a href="#" title="{hs.lang.nextTitle}"><span>{hs.lang.nextText}<\/span><\/a><\/li><li class="highslide-move"><a href="#" title="{hs.lang.moveTitle}"><span>{hs.lang.moveText}<\/span><\/a><\/li><li class="highslide-full-expand"><a href="#" title="{hs.lang.fullExpandTitle}"><span>{hs.lang.fullExpandText}<\/span><\/a><\/li><li class="highslide-close"><a href="#" title="{hs.lang.closeTitle}" ><span>{hs.lang.closeText}<\/span><\/a><\/li><\/ul><\/div>',contentWrapper:'<div class="highslide-header"><ul><li class="highslide-previous"><a href="#" title="{hs.lang.previousTitle}" onclick="return hs.previous(this)"><span>{hs.lang.previousText}<\/span><\/a><\/li><li class="highslide-next"><a href="#" title="{hs.lang.nextTitle}" onclick="return hs.next(this)"><span>{hs.lang.nextText}<\/span><\/a><\/li><li class="highslide-move"><a href="#" title="{hs.lang.moveTitle}" onclick="return false"><span>{hs.lang.moveText}<\/span><\/a><\/li><li class="highslide-close"><a href="#" title="{hs.lang.closeTitle}" onclick="return hs.close(this)"><span>{hs.lang.closeText}<\/span><\/a><\/li><\/ul><\/div><div class="highslide-body"><\/div><div class="highslide-footer"><div><span class="highslide-resize" title="{hs.lang.resizeTitle}"><span><\/span><\/span><\/div><\/div>'},preloadTheseImages:[],continuePreloading:!0,expanders:[],overrides:["allowSizeReduction","useBox","anchor","align","targetX","targetY","outlineType","outlineWhileAnimating","captionId","captionText","captionEval","captionOverlay","headingId","headingText","headingEval","headingOverlay","creditsPosition","dragByHeading","autoplay","numberPosition","transitions","dimmingOpacity","width","height","contentId","allowWidthReduction","allowHeightReduction","preserveContent","maincontentId","maincontentText","maincontentEval","objectType","cacheAjax","objectWidth","objectHeight","objectLoadTime","swfOptions","wrapperClassName","minWidth","minHeight","maxWidth","maxHeight","pageOrigin","slideshowGroup","easing","easingClose","fadeInOut","src"],overlays:[],idCounter:0,oPos:{x:["leftpanel","left","center","right","rightpanel"],y:["above","top","middle","bottom","below"]},mouse:{},headingOverlay:{},captionOverlay:{},swfOptions:{flashvars:{},params:{},attributes:{}},timers:[],slideshows:[],pendingOutlines:{},sleeping:[],preloadTheseAjax:[],cacheBindings:[],cachedGets:{},clones:{},onReady:[],uaVersion:/Trident\/4\.0/.test(navigator.userAgent)?8:parseFloat((navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1]),ie:document.all&&!window.opera,safari:/Safari/.test(navigator.userAgent),geckoMac:/Macintosh.+rv:1\.[0-8].+Gecko/.test(navigator.userAgent),$:function(n){if(n)return document.getElementById(n)},push:function(n,t){n[n.length]=t},createElement:function(n,t,i,r,u){var f=document.createElement(n);return t&&hs.extend(f,t),u&&hs.setStyles(f,{padding:0,border:"none",margin:0}),i&&hs.setStyles(f,i),r&&r.appendChild(f),f},extend:function(n,t){for(var i in t)n[i]=t[i];return n},setStyles:function(n,t){for(var i in t)hs.ieLt9&&i=="opacity"?t[i]>.99?n.style.removeAttribute("filter"):n.style.filter="alpha(opacity="+t[i]*100+")":n.style[i]=t[i]},animate:function(n,t,i){var f,e,o,u,r,s;(typeof i!="object"||i===null)&&(u=arguments,i={duration:u[2],easing:u[3],complete:u[4]});typeof i.duration!="number"&&(i.duration=250);i.easing=Math[i.easing]||Math.easeInQuad;i.curAnim=hs.extend({},t);for(r in t)s=new hs.fx(n,i,r),f=parseFloat(hs.css(n,r))||0,e=parseFloat(t[r]),o=r!="opacity"?"px":"",s.custom(f,e,o)},css:function(n,t){if(n.style[t])return n.style[t];if(document.defaultView)return document.defaultView.getComputedStyle(n,null).getPropertyValue(t);t=="opacity"&&(t="filter");var i=n.currentStyle[t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()})];return t=="filter"&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(n,t){return t/100})),i===""?1:i},getPageSize:function(){var n=document,f=window,t=n.compatMode&&n.compatMode!="BackCompat"?n.documentElement:n.body,i=hs.ie&&(hs.uaVersion<9||typeof pageXOffset=="undefined"),r=i?t.clientWidth:n.documentElement.clientWidth||self.innerWidth,u=i?t.clientHeight:self.innerHeight;return hs.page={width:r,height:u,scrollLeft:i?t.scrollLeft:pageXOffset,scrollTop:i?t.scrollTop:pageYOffset},hs.page},getPosition:function(n){var r,i,u,t;if(/area/i.test(n.tagName))for(r=document.getElementsByTagName("img"),i=0;i<r.length;i++)if(u=r[i].useMap,u&&u.replace(/^.*?#/,"")==n.parentNode.name){n=r[i];break}for(t={x:n.offsetLeft,y:n.offsetTop};n.offsetParent;)n=n.offsetParent,t.x+=n.offsetLeft,t.y+=n.offsetTop,n!=document.body&&n!=document.documentElement&&(t.x-=n.scrollLeft,t.y-=n.scrollTop);return t},expand:function(n,t,i,r){if(n||(n=hs.createElement("a",null,{display:"none"},hs.container)),typeof n.getParams=="function")return t;if(r=="html"){for(var u=0;u<hs.sleeping.length;u++)if(hs.sleeping[u]&&hs.sleeping[u].a==n)return hs.sleeping[u].awake(),hs.sleeping[u]=null,!1;hs.hasHtmlExpanders=!0}try{return new hs.Expander(n,t,i,r),!1}catch(f){return!0}},htmlExpand:function(n,t,i){return hs.expand(n,t,i,"html")},getSelfRendered:function(){return hs.createElement("div",{className:"highslide-html-content",innerHTML:hs.replaceLang(hs.skin.contentWrapper)})},getElementByClass:function(n,t,i){for(var u=n.getElementsByTagName(t),r=0;r<u.length;r++)if(new RegExp(i).test(u[r].className))return u[r];return null},replaceLang:function(n){var r,t,u,i;if(n=n.replace(/\s/g," "),r=/{hs\.lang\.([^}]+)\}/g,t=n.match(r),t)for(i=0;i<t.length;i++)u=t[i].replace(r,"$1"),typeof hs.lang[u]!="undefined"&&(n=n.replace(t[i],hs.lang[u]));return n},setClickEvents:function(){for(var i,t=document.getElementsByTagName("a"),n=0;n<t.length;n++)i=hs.isUnobtrusiveAnchor(t[n]),i&&!t[n].hsHasSetClick&&(function(){var r=i;hs.fireEvent(hs,"onSetClickEvent",{element:t[n],type:r})&&(t[n].onclick=i=="image"?function(){return hs.expand(this)}:function(){return hs.htmlExpand(this,{objectType:r})})}(),t[n].hsHasSetClick=!0);hs.getAnchors()},isUnobtrusiveAnchor:function(n){return n.rel=="highslide"?"image":n.rel=="highslide-ajax"?"ajax":n.rel=="highslide-iframe"?"iframe":n.rel=="highslide-swf"?"swf":void 0},getCacheBinding:function(n){for(var i,t=0;t<hs.cacheBindings.length;t++)if(hs.cacheBindings[t][0]==n)return i=hs.cacheBindings[t][1],hs.cacheBindings[t][1]=i.cloneNode(1),i;return null},preloadAjax:function(){for(var n,i=hs.getAnchors(),t=0;t<i.htmls.length;t++)n=i.htmls[t],hs.getParam(n,"objectType")=="ajax"&&hs.getParam(n,"cacheAjax")&&hs.push(hs.preloadTheseAjax,n);hs.preloadAjaxElement(0)},preloadAjaxElement:function(n){var i,t,r;hs.preloadTheseAjax[n]&&(i=hs.preloadTheseAjax[n],t=hs.getNode(hs.getParam(i,"contentId")),t||(t=hs.getSelfRendered()),r=new hs.Ajax(i,t,1),r.onError=function(){},r.onLoad=function(){hs.push(hs.cacheBindings,[i,t]);hs.preloadAjaxElement(n+1)},r.run())},focusTopmost:function(){for(var f=0,i=-1,r=hs.expanders,u,n,t=0;t<r.length;t++)u=r[t],u&&(n=u.wrapper.style.zIndex,n&&n>f&&(f=n,i=t));i==-1?hs.focusKey=-1:r[i].focus()},getParam:function(n,t){n.getParams=n.onclick;var i=n.getParams?n.getParams():null;return n.getParams=null,i&&typeof i[t]!="undefined"?i[t]:typeof hs[t]!="undefined"?hs[t]:null},getSrc:function(n){var t=hs.getParam(n,"src");return t?t:n.href},getNode:function(n){var i=hs.$(n),t=hs.clones[n];return!i&&!t?null:t?t.cloneNode(!0):(t=i.cloneNode(!0),t.id="",hs.clones[n]=t,i)},discardElement:function(n){n&&hs.garbageBin.appendChild(n);hs.garbageBin.innerHTML=""},dim:function(n){var t,i;if(!hs.dimmer&&(i=!0,hs.dimmer=hs.createElement("div",{className:"highslide-dimming highslide-viewport-size",owner:"",onclick:function(){hs.fireEvent(hs,"onDimmerClick")&&hs.close()}},{visibility:"visible",opacity:0},hs.container,!0),/(Android|iPad|iPhone|iPod)/.test(navigator.userAgent))){t=document.body;function r(){hs.setStyles(hs.dimmer,{width:t.scrollWidth+"px",height:t.scrollHeight+"px"})}r();hs.addEventListener(window,"resize",r)}hs.dimmer.style.display="";i=hs.dimmer.owner=="";hs.dimmer.owner+="|"+n.key;i&&(hs.geckoMac&&hs.dimmingGeckoFix?hs.setStyles(hs.dimmer,{background:"url("+hs.graphicsDir+"geckodimmer.png)",opacity:1}):hs.animate(hs.dimmer,{opacity:n.dimmingOpacity},hs.dimmingDuration))},undim:function(n){hs.dimmer&&((typeof n!="undefined"&&(hs.dimmer.owner=hs.dimmer.owner.replace("|"+n,"")),typeof n!="undefined"&&hs.dimmer.owner!=""||hs.upcoming&&hs.getParam(hs.upcoming,"dimmingOpacity"))||(hs.geckoMac&&hs.dimmingGeckoFix?hs.dimmer.style.display="none":hs.animate(hs.dimmer,{opacity:0},hs.dimmingDuration,null,function(){hs.dimmer.style.display="none"})))},transit:function(n,t){var i=t||hs.getExpander();if(t=i,hs.upcoming)return!1;hs.last=i;hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{hs.upcoming=n;n.onclick()}catch(r){hs.last=hs.upcoming=null}try{n&&t.transitions[1]=="crossfade"||t.close()}catch(r){}return!1},previousOrNext:function(n,t){var i=hs.getExpander(n);return i?hs.transit(i.getAdjacentAnchor(t),i):!1},previous:function(n){return hs.previousOrNext(n,-1)},next:function(n){return hs.previousOrNext(n,1)},keyHandler:function(n){if((n||(n=window.event),n.target||(n.target=n.srcElement),typeof n.target.form!="undefined")||!hs.fireEvent(hs,"onKeyDown",n))return!0;var t=hs.getExpander(),i=null;switch(n.keyCode){case 70:return t&&t.doFullExpand(),!0;case 32:i=2;break;case 34:case 39:case 40:i=1;break;case 8:case 33:case 37:case 38:i=-1;break;case 27:case 13:i=0}if(i!==null){if(i!=2&&hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler),!hs.enableKeyListener)return!0;if(n.preventDefault?n.preventDefault():n.returnValue=!1,t)return i==0?t.close():i==2?t.slideshow&&t.slideshow.hitSpace():(t.slideshow&&t.slideshow.pause(),hs.previousOrNext(t.key,i)),!1}return!0},registerOverlay:function(n){hs.push(hs.overlays,hs.extend(n,{hsId:"hsId"+hs.idCounter++}))},addSlideshow:function(n){var r=n.slideshowGroup,t,i,u;if(typeof r=="object")for(t=0;t<r.length;t++){i={};for(u in n)i[u]=n[u];i.slideshowGroup=r[t];hs.push(hs.slideshows,i)}else hs.push(hs.slideshows,n)},getWrapperKey:function(n,t){for(var f=/^highslide-wrapper-([0-9]+)$/,r,u,i=n;i.parentNode;){if(i.hsKey!==undefined)return i.hsKey;if(i.id&&f.test(i.id))return i.id.replace(f,"$1");i=i.parentNode}if(!t)for(i=n;i.parentNode;){if(i.tagName&&hs.isHsAnchor(i))for(r=0;r<hs.expanders.length;r++)if(u=hs.expanders[r],u&&u.a==i)return r;i=i.parentNode}return null},getExpander:function(n,t){return typeof n=="undefined"?hs.expanders[hs.focusKey]||null:typeof n=="number"?hs.expanders[n]||null:(typeof n=="string"&&(n=hs.$(n)),hs.expanders[hs.getWrapperKey(n,t)]||null)},isHsAnchor:function(n){return n.onclick&&n.onclick.toString().replace(/\s/g," ").match(/hs.(htmlE|e)xpand/)},reOrder:function(){for(var n=0;n<hs.expanders.length;n++)hs.expanders[n]&&hs.expanders[n].isExpanded&&hs.focusTopmost()},fireEvent:function(n,t,i){return n&&n[t]?n[t](n,i)!==!1:!0},mouseClickHandler:function(n){var i,t,u,r;if(n||(n=window.event),n.button>1)return!0;for(n.target||(n.target=n.srcElement),i=n.target;i.parentNode&&!/highslide-(image|move|html|resize)/.test(i.className);)i=i.parentNode;if(t=hs.getExpander(i),t&&(t.isClosing||!t.isExpanded))return!0;if(t&&n.type=="mousedown"){if(n.target.form)return!0;if(u=i.className.match(/highslide-(image|move|resize)/),u)return hs.dragArgs={exp:t,type:u[1],left:t.x.pos,width:t.x.size,top:t.y.pos,height:t.y.size,clickX:n.clientX,clickY:n.clientY},hs.addEventListener(document,"mousemove",hs.dragHandler),n.preventDefault&&n.preventDefault(),/highslide-(image|html)-blur/.test(t.content.className)&&(t.focus(),hs.hasFocused=!0),!1;/highslide-html/.test(i.className)&&hs.focusKey!=t.key&&(t.focus(),t.doShowHide("hidden"))}else n.type=="mouseup"&&(hs.removeEventListener(document,"mousemove",hs.dragHandler),hs.dragArgs?(hs.styleRestoreCursor&&hs.dragArgs.type=="image"&&(hs.dragArgs.exp.content.style.cursor=hs.styleRestoreCursor),r=hs.dragArgs.hasDragged,r||hs.hasFocused||/(move|resize)/.test(hs.dragArgs.type)?(r||!r&&hs.hasHtmlExpanders)&&hs.dragArgs.exp.doShowHide("hidden"):hs.fireEvent(t,"onImageClick")&&t.close(),hs.dragArgs.exp.releaseMask&&(hs.dragArgs.exp.releaseMask.style.display="none"),r&&hs.fireEvent(hs.dragArgs.exp,"onDrop",hs.dragArgs),hs.hasFocused=!1,hs.dragArgs=null):/highslide-image-blur/.test(i.className)&&(i.style.cursor=hs.styleRestoreCursor));return!1},dragHandler:function(n){var t,i,r;if(!hs.dragArgs)return!0;if(n||(n=window.event),t=hs.dragArgs,i=t.exp,i.iframe&&(i.releaseMask||(i.releaseMask=hs.createElement("div",null,{position:"absolute",width:i.x.size+"px",height:i.y.size+"px",left:i.x.cb+"px",top:i.y.cb+"px",zIndex:4,background:hs.ieLt9?"white":"none",opacity:.01},i.wrapper,!0)),i.releaseMask.style.display=="none"&&(i.releaseMask.style.display="")),t.dX=n.clientX-t.clickX,t.dY=n.clientY-t.clickY,r=Math.sqrt(Math.pow(t.dX,2)+Math.pow(t.dY,2)),t.hasDragged||(t.hasDragged=t.type!="image"&&r>0||r>(hs.dragSensitivity||5)),t.hasDragged&&n.clientX>5&&n.clientY>5){if(!hs.fireEvent(i,"onDrag",t))return!1;t.type=="resize"?i.resize(t):(i.moveTo(t.left+t.dX,t.top+t.dY),t.type=="image"&&(i.content.style.cursor="move"))}return!1},wrapperMouseHandler:function(n){var i,t,r;try{if(n||(n=window.event),i=/mouseover/i.test(n.type),n.target||(n.target=n.srcElement),n.relatedTarget||(n.relatedTarget=i?n.fromElement:n.toElement),t=hs.getExpander(n.target),!t.isExpanded)return;if(!t||!n.relatedTarget||hs.getExpander(n.relatedTarget,!0)==t||hs.dragArgs)return;for(hs.fireEvent(t,i?"onMouseOver":"onMouseOut",n),r=0;r<t.overlays.length;r++)(function(){var n=hs.$("hsId"+t.overlays[r]);n&&n.hideOnMouseOut&&(i&&hs.setStyles(n,{visibility:"visible",display:""}),hs.animate(n,{opacity:i?n.opacity:0},n.dur))})()}catch(n){}},addEventListener:function(n,t,i){n==document&&t=="ready"&&hs.push(hs.onReady,i);try{n.addEventListener(t,i,!1)}catch(r){try{n.detachEvent("on"+t,i);n.attachEvent("on"+t,i)}catch(r){n["on"+t]=i}}},removeEventListener:function(n,t,i){try{n.removeEventListener(t,i,!1)}catch(r){try{n.detachEvent("on"+t,i)}catch(r){n["on"+t]=null}}},preloadFullImage:function(n){if(hs.continuePreloading&&hs.preloadTheseImages[n]&&hs.preloadTheseImages[n]!="undefined"){var t=document.createElement("img");t.onload=function(){t=null;hs.preloadFullImage(n+1)};t.src=hs.preloadTheseImages[n]}},preloadImages:function(n){var i,t,r;for(n&&typeof n!="object"&&(hs.numberOfImagesToPreload=n),i=hs.getAnchors(),t=0;t<i.images.length&&t<hs.numberOfImagesToPreload;t++)hs.push(hs.preloadTheseImages,hs.getSrc(i.images[t]));hs.outlineType?new hs.Outline(hs.outlineType,function(){hs.preloadFullImage(0)}):hs.preloadFullImage(0);hs.restoreCursor&&(r=hs.createElement("img",{src:hs.graphicsDir+hs.restoreCursor}))},init:function(){if(!hs.container){hs.ieLt7=hs.ie&&hs.uaVersion<7;hs.ieLt9=hs.ie&&hs.uaVersion<9;hs.getPageSize();hs.ie6SSL=hs.ieLt7&&location.protocol=="https:";for(var n in hs.langDefaults)typeof hs[n]!="undefined"?hs.lang[n]=hs[n]:typeof hs.lang[n]=="undefined"&&typeof hs.langDefaults[n]!="undefined"&&(hs.lang[n]=hs.langDefaults[n]);hs.container=hs.createElement("div",{className:"highslide-container"},{position:"absolute",left:0,top:0,width:"100%",zIndex:hs.zIndexCounter,direction:"ltr"},document.body,!0);hs.loading=hs.createElement("a",{className:"highslide-loading",title:hs.lang.loadingTitle,innerHTML:hs.lang.loadingText,href:"javascript:;"},{position:"absolute",top:"-9999px",opacity:hs.loadingOpacity,zIndex:1},hs.container);hs.garbageBin=hs.createElement("div",null,{display:"none"},hs.container);hs.viewport=hs.createElement("div",{className:"highslide-viewport highslide-viewport-size"},{visibility:hs.safari&&hs.uaVersion<525?"visible":"hidden"},hs.container,1);hs.clearing=hs.createElement("div",null,{clear:"both",paddingTop:"1px"},null,!0);Math.linearTween=function(n,t,i,r){return i*n/r+t};Math.easeInQuad=function(n,t,i,r){return i*(n/=r)*n+t};Math.easeOutQuad=function(n,t,i,r){return-i*(n/=r)*(n-2)+t};hs.hideSelects=hs.ieLt7;hs.hideIframes=window.opera&&hs.uaVersion<9||navigator.vendor=="KDE"||hs.ieLt7&&hs.uaVersion<5.5;hs.fireEvent(this,"onActivate")}},ready:function(){if(!hs.isReady){hs.isReady=!0;for(var n=0;n<hs.onReady.length;n++)hs.onReady[n]()}},updateAnchors:function(){for(var r,u,n,f,o=[],s=[],h=[],t={},i,e=0;e<hs.openerTagNames.length;e++)for(f=document.getElementsByTagName(hs.openerTagNames[e]),r=0;r<f.length;r++)n=f[r],i=hs.isHsAnchor(n),i&&(hs.push(o,n),i[0]=="hs.expand"?hs.push(s,n):i[0]=="hs.htmlExpand"&&hs.push(h,n),u=hs.getParam(n,"slideshowGroup")||"none",t[u]||(t[u]=[]),hs.push(t[u],n));return hs.anchors={all:o,groups:t,images:s,htmls:h},hs.anchors},getAnchors:function(){return hs.anchors||hs.updateAnchors()},close:function(n){var t=hs.getExpander(n);return t&&t.close(),!1}},hs.fx=function(n,t,i){this.options=t;this.elem=n;this.prop=i;t.orig||(t.orig={})},hs.fx.prototype={update:function(){(hs.fx.step[this.prop]||hs.fx.step._default)(this);this.options.step&&this.options.step.call(this.elem,this.now,this)},custom:function(n,t,i){function r(n){return u.step(n)}this.startTime=(new Date).getTime();this.start=n;this.end=t;this.unit=i;this.now=this.start;this.pos=this.state=0;var u=this;r.elem=this.elem;r()&&hs.timers.push(r)==1&&(hs.timerId=setInterval(function(){for(var n=hs.timers,t=0;t<n.length;t++)n[t]()||n.splice(t--,1);n.length||clearInterval(hs.timerId)},13))},step:function(n){var r=(new Date).getTime(),t,u,i;if(n||r>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=!0;t=!0;for(u in this.options.curAnim)this.options.curAnim[u]!==!0&&(t=!1);return t&&this.options.complete&&this.options.complete.call(this.elem),!1}return i=r-this.startTime,this.state=i/this.options.duration,this.pos=this.options.easing(i,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0}},hs.extend(hs.fx,{step:{opacity:function(n){hs.setStyles(n.elem,{opacity:n.now})},_default:function(n){try{n.elem.style&&n.elem.style[n.prop]!=null?n.elem.style[n.prop]=n.now+n.unit:n.elem[n.prop]=n.now}catch(t){}}}}),hs.Outline=function(n,t){var e,r,u,i,f;if(this.onLoad=t,this.outlineType=n,e=hs.uaVersion,this.hasAlphaImageLoader=hs.ie&&hs.uaVersion<7,!n){t&&t();return}for(hs.init(),this.table=hs.createElement("table",{cellSpacing:0},{visibility:"hidden",position:"absolute",borderCollapse:"collapse",width:0},hs.container,!0),u=hs.createElement("tbody",null,null,this.table,1),this.td=[],i=0;i<=8;i++)i%3==0&&(r=hs.createElement("tr",null,{height:"auto"},u,!0)),this.td[i]=hs.createElement("td",null,null,r,!0),f=i!=4?{lineHeight:0,fontSize:0}:{position:"relative"},hs.setStyles(this.td[i],f);this.td[4].className=n+" highslide-outline";this.preloadGraphic()},hs.Outline.prototype={preloadGraphic:function(){var t=hs.graphicsDir+(hs.outlinesDir||"outlines/")+this.outlineType+".png",i=hs.safari&&hs.uaVersion<525?hs.container:null,n;this.graphic=hs.createElement("img",null,{position:"absolute",top:"-9999px"},i,!0);n=this;this.graphic.onload=function(){n.onGraphicLoad()};this.graphic.src=t},onGraphicLoad:function(){for(var u,f,t=this.offset=this.graphic.width/4,i=[[0,0],[0,-4],[-2,0],[0,-8],0,[-2,-8],[0,-2],[0,-6],[-2,-2]],r={height:2*t+"px",width:2*t+"px"},n=0;n<=8;n++)i[n]&&(this.hasAlphaImageLoader?(u=n==1||n==7?"100%":this.graphic.width+"px",f=hs.createElement("div",null,{width:"100%",height:"100%",position:"relative",overflow:"hidden"},this.td[n],!0),hs.createElement("div",null,{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale, src='"+this.graphic.src+"')",position:"absolute",width:u,height:this.graphic.height+"px",left:i[n][0]*t+"px",top:i[n][1]*t+"px"},f,!0)):hs.setStyles(this.td[n],{background:"url("+this.graphic.src+") "+i[n][0]*t+"px "+i[n][1]*t+"px"}),window.opera&&(n==3||n==5)&&hs.createElement("div",null,r,this.td[n],!0),hs.setStyles(this.td[n],r));this.graphic=null;hs.pendingOutlines[this.outlineType]&&hs.pendingOutlines[this.outlineType].destroy();hs.pendingOutlines[this.outlineType]=this;this.onLoad&&this.onLoad()},setPosition:function(n,t,i){var r=this.exp,u=r.wrapper.style,t=t||0,n=n||{x:r.x.pos+t,y:r.y.pos+t,w:r.x.get("wsize")-2*t,h:r.y.get("wsize")-2*t};i&&(this.table.style.visibility=n.h>=4*this.offset?"visible":"hidden");hs.setStyles(this.table,{left:n.x-this.offset+"px",top:n.y-this.offset+"px",width:n.w+2*this.offset+"px"});n.w-=2*this.offset;n.h-=2*this.offset;hs.setStyles(this.td[4],{width:n.w>=0?n.w+"px":0,height:n.h>=0?n.h+"px":0});this.hasAlphaImageLoader&&(this.td[3].style.height=this.td[5].style.height=this.td[4].style.height)},destroy:function(n){n?this.table.style.visibility="hidden":hs.discardElement(this.table)}},hs.Dimension=function(n,t){this.exp=n;this.dim=t;this.ucwh=t=="x"?"Width":"Height";this.wh=this.ucwh.toLowerCase();this.uclt=t=="x"?"Left":"Top";this.lt=this.uclt.toLowerCase();this.ucrb=t=="x"?"Right":"Bottom";this.rb=this.ucrb.toLowerCase();this.p1=this.p2=0},hs.Dimension.prototype={get:function(n){switch(n){case"loadingPos":return this.tpos+this.tb+(this.t-hs.loading["offset"+this.ucwh])/2;case"loadingPosXfade":return this.pos+this.cb+this.p1+(this.size-hs.loading["offset"+this.ucwh])/2;case"wsize":return this.size+2*this.cb+this.p1+this.p2;case"fitsize":return this.clientSize-this.marginMin-this.marginMax;case"maxsize":return this.get("fitsize")-2*this.cb-this.p1-this.p2;case"opos":return this.pos-(this.exp.outline?this.exp.outline.offset:0);case"osize":return this.get("wsize")+(this.exp.outline?2*this.exp.outline.offset:0);case"imgPad":return this.imgSize?Math.round((this.size-this.imgSize)/2):0}},calcBorders:function(){this.cb=(this.exp.content["offset"+this.ucwh]-this.t)/2;this.marginMax=hs["margin"+this.ucrb]},calcThumb:function(){this.t=this.exp.el[this.wh]?parseInt(this.exp.el[this.wh]):this.exp.el["offset"+this.ucwh];this.tpos=this.exp.tpos[this.dim];this.tb=(this.exp.el["offset"+this.ucwh]-this.t)/2;(this.tpos==0||this.tpos==-1)&&(this.tpos=hs.page[this.wh]/2+hs.page["scroll"+this.uclt])},calcExpanded:function(){var n=this.exp;this.justify="auto";n.align=="center"?this.justify="center":new RegExp(this.lt).test(n.anchor)?this.justify=null:new RegExp(this.rb).test(n.anchor)&&(this.justify="max");this.pos=this.tpos-this.cb+this.tb;this.maxHeight&&this.dim=="x"&&(n.maxWidth=Math.min(n.maxWidth||this.full,n.maxHeight*this.full/n.y.full));this.size=Math.min(this.full,n["max"+this.ucwh]||this.full);this.minSize=n.allowSizeReduction?Math.min(n["min"+this.ucwh],this.full):this.full;n.isImage&&n.useBox&&(this.size=n[this.wh],this.imgSize=this.full);this.dim=="x"&&hs.padToMinWidth&&(this.minSize=n.minWidth);this.target=n["target"+this.dim.toUpperCase()];this.marginMin=hs["margin"+this.uclt];this.scroll=hs.page["scroll"+this.uclt];this.clientSize=hs.page[this.wh]},setSize:function(n){var t=this.exp,i;if(t.isImage&&(t.useBox||hs.padToMinWidth)?(this.imgSize=n,this.size=Math.max(this.size,this.imgSize),t.content.style[this.lt]=this.get("imgPad")+"px"):this.size=n,t.content.style[this.wh]=n+"px",t.wrapper.style[this.wh]=this.get("wsize")+"px",t.outline&&t.outline.setPosition(),t.releaseMask&&(t.releaseMask.style[this.wh]=n+"px"),this.dim=="y"&&t.iDoc&&t.body.style.height!="auto")try{t.iDoc.body.style.overflow="auto"}catch(r){}t.isHtml&&(i=t.scrollerDiv,this.sizeDiff===undefined&&(this.sizeDiff=t.innerContent["offset"+this.ucwh]-i["offset"+this.ucwh]),i.style[this.wh]=this.size-this.sizeDiff+"px",this.dim=="x"&&(t.mediumContent.style.width="auto"),t.body&&(t.body.style[this.wh]="auto"));this.dim=="x"&&t.overlayBox&&t.sizeOverlayBox(!0);this.dim=="x"&&t.slideshow&&t.isImage&&(n==this.full?t.slideshow.disable("full-expand"):t.slideshow.enable("full-expand"))},setPos:function(n){this.pos=n;this.exp.wrapper.style[this.lt]=n+"px";this.exp.outline&&this.exp.outline.setPosition()}},hs.Expander=function(n,t,i,r){var o,e,f,u,h,c,s;if(document.readyState&&hs.ie&&!hs.isReady){hs.addEventListener(document,"ready",function(){new hs.Expander(n,t,i,r)});return}for(this.a=n,this.custom=i,this.contentType=r||"image",this.isHtml=r=="html",this.isImage=!this.isHtml,hs.continuePreloading=!1,this.overlays=[],this.last=hs.last,hs.last=null,hs.init(),o=this.key=hs.expanders.length,u=0;u<hs.overrides.length;u++)e=hs.overrides[u],this[e]=t&&typeof t[e]!="undefined"?t[e]:hs[e];if(this.src||(this.src=n.href),f=t&&t.thumbnailId?hs.$(t.thumbnailId):n,f=this.thumb=f.getElementsByTagName("img")[0]||f,this.thumbsUserSetId=f.id||n.id,!hs.fireEvent(this,"onInit"))return!0;for(u=0;u<hs.expanders.length;u++)if(hs.expanders[u]&&hs.expanders[u].a==n&&!(this.last&&this.transitions[1]=="crossfade"))return hs.expanders[u].focus(),!1;if(!hs.allowSimultaneousLoading)for(u=0;u<hs.expanders.length;u++)hs.expanders[u]&&hs.expanders[u].thumb!=f&&!hs.expanders[u].onLoadStarted&&hs.expanders[u].cancelLoading();return hs.expanders[o]=this,hs.allowMultipleInstances||hs.upcoming||(hs.expanders[o-1]&&hs.expanders[o-1].close(),typeof hs.focusKey!="undefined"&&hs.expanders[hs.focusKey]&&hs.expanders[hs.focusKey].close()),this.el=f,this.tpos=this.pageOrigin||hs.getPosition(f),hs.getPageSize(),h=this.x=new hs.Dimension(this,"x"),h.calcThumb(),c=this.y=new hs.Dimension(this,"y"),c.calcThumb(),/area/i.test(f.tagName)&&this.getImageMapAreaCorrection(f),this.wrapper=hs.createElement("div",{id:"highslide-wrapper-"+this.key,className:"highslide-wrapper "+this.wrapperClassName},{visibility:"hidden",position:"absolute",zIndex:hs.zIndexCounter+=2},null,!0),this.wrapper.onmouseover=this.wrapper.onmouseout=hs.wrapperMouseHandler,this.contentType=="image"&&this.outlineWhileAnimating==2&&(this.outlineWhileAnimating=0),!this.outlineType||this.last&&this.isImage&&this.transitions[1]=="crossfade"?this[this.contentType+"Create"]():hs.pendingOutlines[this.outlineType]?(this.connectOutline(),this[this.contentType+"Create"]()):(this.showLoading(),s=this,new hs.Outline(this.outlineType,function(){s.connectOutline();s[s.contentType+"Create"]()})),!0},hs.Expander.prototype={error:function(n){hs.debug?alert("Line "+n.lineNumber+": "+n.message):window.location.href=this.src},connectOutline:function(){var n=this.outline=hs.pendingOutlines[this.outlineType];n.exp=this;n.table.style.zIndex=this.wrapper.style.zIndex-1;hs.pendingOutlines[this.outlineType]=null},showLoading:function(){var t,n;if(!this.onLoadStarted&&!this.loading&&(this.loading=hs.loading,t=this,this.loading.onclick=function(){t.cancelLoading()},hs.fireEvent(this,"onShowLoading"))){var t=this,i=this.x.get("loadingPos")+"px",r=this.y.get("loadingPos")+"px";!n&&this.last&&this.transitions[1]=="crossfade"&&(n=this.last);n&&(i=n.x.get("loadingPosXfade")+"px",r=n.y.get("loadingPosXfade")+"px",this.loading.style.zIndex=hs.zIndexCounter++);setTimeout(function(){t.loading&&hs.setStyles(t.loading,{left:i,top:r,zIndex:hs.zIndexCounter++})},100)}},imageCreate:function(){var t=this,n=document.createElement("img");this.content=n;n.onload=function(){hs.expanders[t.key]&&t.contentLoaded()};hs.blockRightClick&&(n.oncontextmenu=function(){return!1});n.className="highslide-image";hs.setStyles(n,{visibility:"hidden",display:"block",position:"absolute",maxWidth:"9999px",zIndex:3});n.title=hs.lang.restoreTitle;hs.safari&&hs.uaVersion<525&&hs.container.appendChild(n);hs.ie&&hs.flushImgSize&&(n.src=null);n.src=this.src;this.showLoading()},htmlCreate:function(){var r,n,i,t;hs.fireEvent(this,"onBeforeGetContent")&&(this.content=hs.getCacheBinding(this.a),this.content||(this.content=hs.getNode(this.contentId)),this.content||(this.content=hs.getSelfRendered()),this.getInline(["maincontent"]),this.maincontent&&(r=hs.getElementByClass(this.content,"div","highslide-body"),r&&r.appendChild(this.maincontent),this.maincontent.style.display="block"),hs.fireEvent(this,"onAfterGetContent"),n=this.innerContent=this.content,/(swf|iframe)/.test(this.objectType)&&this.setObjContainerSize(n),hs.container.appendChild(this.wrapper),hs.setStyles(this.wrapper,{position:"static",padding:"0 "+hs.marginRight+"px 0 "+hs.marginLeft+"px"}),this.content=hs.createElement("div",{className:"highslide-html"},{position:"relative",zIndex:3,height:0,overflow:"hidden"},this.wrapper),this.mediumContent=hs.createElement("div",null,null,this.content,1),this.mediumContent.appendChild(n),hs.setStyles(n,{position:"relative",display:"block",direction:hs.lang.cssDirection||""}),this.width&&(n.style.width=this.width+"px"),this.height&&hs.setStyles(n,{height:this.height+"px",overflow:"hidden"}),n.offsetWidth<this.minWidth&&(n.style.width=this.minWidth+"px"),this.objectType!="ajax"||hs.getCacheBinding(this.a)?this.objectType=="iframe"&&this.objectLoadTime=="before"?this.writeExtendedContent():this.contentLoaded():(this.showLoading(),i=this,t=new hs.Ajax(this.a,n),t.src=this.src,t.onLoad=function(){hs.expanders[i.key]&&i.contentLoaded()},t.onError=function(){location.href=i.src},t.run()))},contentLoaded:function(){var t,i,e,r,o,n,u,f;try{if(!this.content)return;if(this.content.onload=null,this.onLoadStarted)return;if(this.onLoadStarted=!0,t=this.x,i=this.y,this.loading&&(hs.setStyles(this.loading,{top:"-9999px"}),this.loading=null,hs.fireEvent(this,"onHideLoading")),this.isImage?(t.full=this.content.width,i.full=this.content.height,hs.setStyles(this.content,{width:t.t+"px",height:i.t+"px"}),this.wrapper.appendChild(this.content),hs.container.appendChild(this.wrapper)):this.htmlGetSize&&this.htmlGetSize(),t.calcBorders(),i.calcBorders(),hs.setStyles(this.wrapper,{left:t.tpos+t.tb-t.cb+"px",top:i.tpos+t.tb-i.cb+"px"}),this.initSlideshow(),this.getOverlays(),e=t.full/i.full,t.calcExpanded(),this.justify(t),i.calcExpanded(),this.justify(i),this.isHtml&&this.htmlSizeOperations(),this.overlayBox&&this.sizeOverlayBox(0,1),this.allowSizeReduction){if(this.isImage?this.correctRatio(e):this.fitOverlayBox(),r=this.slideshow,r&&this.last&&r.controls&&r.fixedControls){o=r.overlayOptions.position||"";for(u in hs.oPos)for(f=0;f<5;f++)n=this[u],o.match(hs.oPos[u][f])&&(n.pos=this.last[u].pos+(this.last[u].p1-n.p1)+(this.last[u].size-n.size)*[0,0,.5,1,1][f],r.fixedControls=="fit"&&(n.pos+n.size+n.p1+n.p2>n.scroll+n.clientSize-n.marginMax&&(n.pos=n.scroll+n.clientSize-n.size-n.marginMin-n.marginMax-n.p1-n.p2),n.pos<n.scroll+n.marginMin&&(n.pos=n.scroll+n.marginMin)))}this.isImage&&this.x.full>(this.x.imgSize||this.x.size)&&(this.createFullExpand(),this.overlays.length==1&&this.sizeOverlayBox())}this.show()}catch(s){this.error(s)}},setObjContainerSize:function(n){var t=hs.getElementByClass(n,"DIV","highslide-body");/(iframe|swf)/.test(this.objectType)&&(this.objectWidth&&(t.style.width=this.objectWidth+"px"),this.objectHeight&&(t.style.height=this.objectHeight+"px"))},writeExtendedContent:function(){var i,t,n;if(!this.hasExtendedContent){if(i=this,this.body=hs.getElementByClass(this.innerContent,"DIV","highslide-body"),this.objectType=="iframe"){this.showLoading();t=hs.clearing.cloneNode(1);this.body.appendChild(t);this.newWidth=this.innerContent.offsetWidth;this.objectWidth||(this.objectWidth=t.offsetWidth);var r=this.innerContent.offsetHeight-this.body.offsetHeight,u=this.objectHeight||hs.page.height-r-hs.marginTop-hs.marginBottom,f=this.objectLoadTime=="before"?' onload="if (hs.expanders['+this.key+"]) hs.expanders["+this.key+'].contentLoaded()" ':"";this.body.innerHTML+='<iframe name="hs'+(new Date).getTime()+'" frameborder="0" key="'+this.key+'"  style="width:'+this.objectWidth+"px; height:"+u+'px" '+f+' src="'+this.src+'" ><\/iframe>';this.ruler=this.body.getElementsByTagName("div")[0];this.iframe=this.body.getElementsByTagName("iframe")[0];this.objectLoadTime=="after"&&this.correctIframeSize()}this.objectType=="swf"&&(this.body.id=this.body.id||"hs-flash-id-"+this.key,n=this.swfOptions,n.params||(n.params={}),typeof n.params.wmode=="undefined"&&(n.params.wmode="transparent"),swfobject&&swfobject.embedSWF(this.src,this.body.id,this.objectWidth,this.objectHeight,n.version||"7",n.expressInstallSwfurl,n.flashvars,n.params,n.attributes));this.hasExtendedContent=!0}},htmlGetSize:function(){this.iframe&&!this.objectHeight&&(this.iframe.style.height=this.body.style.height=this.getIframePageHeight()+"px");this.innerContent.appendChild(hs.clearing);this.x.full||(this.x.full=this.innerContent.offsetWidth);this.y.full=this.innerContent.offsetHeight;this.innerContent.removeChild(hs.clearing);hs.ie&&this.newHeight>parseInt(this.innerContent.currentStyle.height)&&(this.newHeight=parseInt(this.innerContent.currentStyle.height));hs.setStyles(this.wrapper,{position:"absolute",padding:"0"});hs.setStyles(this.content,{width:this.x.t+"px",height:this.y.t+"px"})},getIframePageHeight:function(){var t,n,i;try{n=this.iDoc=this.iframe.contentDocument||this.iframe.contentWindow.document;i=n.createElement("div");i.style.clear="both";n.body.appendChild(i);t=i.offsetTop;hs.ie&&(t+=parseInt(n.body.currentStyle.marginTop)+parseInt(n.body.currentStyle.marginBottom)-1)}catch(r){t=300}return t},correctIframeSize:function(){var n=this.innerContent.offsetWidth-this.ruler.offsetWidth,t;if(hs.discardElement(this.ruler),n<0&&(n=0),t=this.innerContent.offsetHeight-this.iframe.offsetHeight,this.iDoc&&!this.objectHeight&&!this.height&&this.y.size==this.y.full)try{this.iDoc.body.style.overflow="hidden"}catch(i){}hs.setStyles(this.iframe,{width:Math.abs(this.x.size-n)+"px",height:Math.abs(this.y.size-t)+"px"});hs.setStyles(this.body,{width:this.iframe.style.width,height:this.iframe.style.height});this.scrollingContent=this.iframe;this.scrollerDiv=this.scrollingContent},htmlSizeOperations:function(){var n,t,r,u,i;this.setObjContainerSize(this.innerContent);this.objectType=="swf"&&this.objectLoadTime=="before"&&this.writeExtendedContent();this.x.size<this.x.full&&!this.allowWidthReduction&&(this.x.size=this.x.full);this.y.size<this.y.full&&!this.allowHeightReduction&&(this.y.size=this.y.full);this.scrollerDiv=this.innerContent;hs.setStyles(this.mediumContent,{position:"relative",width:this.x.size+"px"});hs.setStyles(this.innerContent,{border:"none",width:"auto",height:"auto"});n=hs.getElementByClass(this.innerContent,"DIV","highslide-body");n&&!/(iframe|swf)/.test(this.objectType)&&(t=n,n=hs.createElement(t.nodeName,null,{overflow:"hidden"},null,!0),t.parentNode.insertBefore(n,t),n.appendChild(hs.clearing),n.appendChild(t),r=this.innerContent.offsetWidth-n.offsetWidth,u=this.innerContent.offsetHeight-n.offsetHeight,n.removeChild(hs.clearing),i=hs.safari||navigator.vendor=="KDE"?1:0,hs.setStyles(n,{width:this.x.size-r-i+"px",height:this.y.size-u+"px",overflow:"auto",position:"relative"}),i&&t.offsetHeight>n.offsetHeight&&(n.style.width=parseInt(n.style.width)+i+"px"),this.scrollingContent=n,this.scrollerDiv=this.scrollingContent);this.iframe&&this.objectLoadTime=="before"&&this.correctIframeSize();!this.scrollingContent&&this.y.size<this.mediumContent.offsetHeight&&(this.scrollerDiv=this.content);this.scrollerDiv!=this.content||this.allowWidthReduction||/(iframe|swf)/.test(this.objectType)||(this.x.size+=17);this.scrollerDiv&&this.scrollerDiv.offsetHeight>this.scrollerDiv.parentNode.offsetHeight&&setTimeout("try { hs.expanders["+this.key+"].scrollerDiv.style.overflow = 'auto'; } catch(e) {}",hs.expandDuration)},getImageMapAreaCorrection:function(n){for(var f,e,r,u,t=n.coords.split(","),i=0;i<t.length;i++)t[i]=parseInt(t[i]);if(n.shape.toLowerCase()=="circle")this.x.tpos+=t[0]-t[2],this.y.tpos+=t[1]-t[2],this.x.t=this.y.t=2*t[2];else{for(r=f=t[0],u=e=t[1],i=0;i<t.length;i++)i%2==0?(r=Math.min(r,t[i]),f=Math.max(f,t[i])):(u=Math.min(u,t[i]),e=Math.max(e,t[i]));this.x.tpos+=r;this.x.t=f-r;this.y.tpos+=u;this.y.t=e-u}},justify:function(n,t){var r,i=n.target,f=n==this.x?"x":"y",e,u,o;i&&i.match(/ /)&&(r=i.split(" "),i=r[0]);i&&hs.$(i)?(n.pos=hs.getPosition(hs.$(i))[f],r&&r[1]&&r[1].match(/^[-]?[0-9]+px$/)&&(n.pos+=parseInt(r[1])),n.size<n.minSize&&(n.size=n.minSize)):n.justify=="auto"||n.justify=="center"?(e=!1,u=n.exp.allowSizeReduction,n.pos=n.justify=="center"?Math.round(n.scroll+(n.clientSize+n.marginMin-n.marginMax-n.get("wsize"))/2):Math.round(n.pos-(n.get("wsize")-n.t)/2),n.pos<n.scroll+n.marginMin&&(n.pos=n.scroll+n.marginMin,e=!0),!t&&n.size<n.minSize&&(n.size=n.minSize,u=!1),n.pos+n.get("wsize")>n.scroll+n.clientSize-n.marginMax&&(!t&&e&&u?n.size=Math.min(n.size,n.get(f=="y"?"fitsize":"maxsize")):n.get("wsize")<n.get("fitsize")?n.pos=n.scroll+n.clientSize-n.marginMax-n.get("wsize"):(n.pos=n.scroll+n.marginMin,!t&&u&&(n.size=n.get(f=="y"?"fitsize":"maxsize")))),!t&&n.size<n.minSize&&(n.size=n.minSize,u=!1)):n.justify=="max"&&(n.pos=Math.floor(n.pos-n.size+n.t));n.pos<n.marginMin&&(o=n.pos,n.pos=n.marginMin,u&&!t&&(n.size=n.size-(n.pos-o)))},correctRatio:function(n){var i=this.x,t=this.y,f=!1,r=Math.min(i.full,i.size),u=Math.min(t.full,t.size),e=this.useBox||hs.padToMinWidth;r/u>n?(r=u*n,r<i.minSize&&(r=i.minSize,u=r/n),f=!0):r/u<n&&(u=r/n,f=!0);hs.padToMinWidth&&i.full<i.minSize?(i.imgSize=i.full,t.size=t.imgSize=t.full):this.useBox?(i.imgSize=r,t.imgSize=u):(i.size=r,t.size=u);f=this.fitOverlayBox(this.useBox?null:n,f);e&&t.size<t.imgSize&&(t.imgSize=t.size,i.imgSize=t.size*n);(f||e)&&(i.pos=i.tpos-i.cb+i.tb,i.minSize=i.size,this.justify(i,!0),t.pos=t.tpos-t.cb+t.tb,t.minSize=t.size,this.justify(t,!0),this.overlayBox&&this.sizeOverlayBox())},fitOverlayBox:function(n,t){var r=this.x,i=this.y;if(this.overlayBox&&(this.isImage||this.allowHeightReduction))while(i.size>this.minHeight&&r.size>this.minWidth&&i.get("wsize")>i.get("fitsize"))i.size-=10,n&&(r.size=i.size*n),this.sizeOverlayBox(0,1),t=!0;return t},reflow:function(){if(this.scrollerDiv){var n=/iframe/i.test(this.scrollerDiv.tagName)?this.getIframePageHeight()+1+"px":"auto";this.body&&(this.body.style.height=n);this.scrollerDiv.style.height=n;this.y.setSize(this.innerContent.offsetHeight)}},show:function(){var n=this.x,t=this.y;this.doShowHide("hidden");hs.fireEvent(this,"onBeforeExpand");this.slideshow&&this.slideshow.thumbstrip&&this.slideshow.thumbstrip.selectThumb();this.changeSize(1,{wrapper:{width:n.get("wsize"),height:t.get("wsize"),left:n.pos,top:t.pos},content:{left:n.p1+n.get("imgPad"),top:t.p1+t.get("imgPad"),width:n.imgSize||n.size,height:t.imgSize||t.size}},hs.expandDuration)},changeSize:function(n,t,i){var e=this.transitions,h=n?this.last?this.last.a:null:hs.upcoming,s=e[1]&&h&&hs.getParam(h,"transitions")[1]==e[1]?e[1]:e[0],c;if(this[s]&&s!="expand"){this[s](n,t);return}this.outline&&!this.outlineWhileAnimating&&(n?this.outline.setPosition():this.outline.destroy(this.isHtml&&this.preserveContent));n||this.destroyOverlays();var r=this,u=r.x,f=r.y,o=this.easing;n||(o=this.easingClose||o);c=n?function(){r.outline&&(r.outline.table.style.visibility="visible");setTimeout(function(){r.afterExpand()},50)}:function(){r.afterClose()};n&&hs.setStyles(this.wrapper,{width:u.t+"px",height:f.t+"px"});n&&this.isHtml&&hs.setStyles(this.wrapper,{left:u.tpos-u.cb+u.tb+"px",top:f.tpos-f.cb+f.tb+"px"});this.fadeInOut&&(hs.setStyles(this.wrapper,{opacity:n?0:1}),hs.extend(t.wrapper,{opacity:n}));hs.animate(this.wrapper,t.wrapper,{duration:i,easing:o,step:function(t,i){if(r.outline&&r.outlineWhileAnimating&&i.prop=="top"){var e=n?i.pos:1-i.pos,o={w:u.t+(u.get("wsize")-u.t)*e,h:f.t+(f.get("wsize")-f.t)*e,x:u.tpos+(u.pos-u.tpos)*e,y:f.tpos+(f.pos-f.tpos)*e};r.outline.setPosition(o,0,1)}r.isHtml&&(i.prop=="left"&&(r.mediumContent.style.left=u.pos-t+"px"),i.prop=="top"&&(r.mediumContent.style.top=f.pos-t+"px"))}});hs.animate(this.content,t.content,i,o,c);n&&(this.wrapper.style.visibility="visible",this.content.style.visibility="visible",this.isHtml&&(this.innerContent.style.visibility="visible"),this.a.className+=" highslide-active-anchor")},fade:function(n,t){var i,r,u;if(this.outlineWhileAnimating=!1,i=this,r=n?hs.expandDuration:0,n&&(hs.animate(this.wrapper,t.wrapper,0),hs.setStyles(this.wrapper,{opacity:0,visibility:"visible"}),hs.animate(this.content,t.content,0),this.content.style.visibility="visible",hs.animate(this.wrapper,{opacity:1},r,null,function(){i.afterExpand()})),this.outline){this.outline.table.style.zIndex=this.wrapper.style.zIndex;var f=n||-1,e=this.outline.offset,o=n?3:e,s=n?e:3;for(u=o;f*u<=f*s;u+=f,r+=25)(function(){var t=n?s-u:o-u;setTimeout(function(){i.outline.setPosition(0,t,1)},r)})()}n||setTimeout(function(){i.outline&&i.outline.destroy(i.preserveContent);i.destroyOverlays();hs.animate(i.wrapper,{opacity:0},hs.restoreDuration,null,function(){i.afterClose()})},r)},crossfade:function(n){var s,a,c;if(n){var e=this,f=this.last,t=this.x,i=this.y,r=f.x,u=f.y,h=this.wrapper,l=this.content,o=this.overlayBox;hs.removeEventListener(document,"mousemove",hs.dragHandler);hs.setStyles(l,{width:(t.imgSize||t.size)+"px",height:(i.imgSize||i.size)+"px"});o&&(o.style.overflow="visible");this.outline=f.outline;this.outline&&(this.outline.exp=e);f.outline=null;s=hs.createElement("div",{className:"highslide-"+this.contentType},{position:"absolute",zIndex:4,overflow:"hidden",display:"none"});a={oldImg:f,newImg:this};for(c in a)this[c]=a[c].content.cloneNode(1),hs.setStyles(this[c],{position:"absolute",border:0,visibility:"visible"}),s.appendChild(this[c]);h.appendChild(s);this.isHtml&&hs.setStyles(this.mediumContent,{left:0,top:0});o&&(o.className="",h.appendChild(o));s.style.display="";f.content.style.display="none";hs.safari&&hs.uaVersion<525&&(this.wrapper.style.visibility="visible");hs.animate(h,{width:t.size},{duration:hs.transitionDuration,step:function(n,c){var v=c.pos,p=1-v,y,a={},w=["pos","size","p1","p2"];for(var b in w)y=w[b],a["x"+y]=Math.round(p*r[y]+v*t[y]),a["y"+y]=Math.round(p*u[y]+v*i[y]),a.ximgSize=Math.round(p*(r.imgSize||r.size)+v*(t.imgSize||t.size)),a.ximgPad=Math.round(p*r.get("imgPad")+v*t.get("imgPad")),a.yimgSize=Math.round(p*(u.imgSize||u.size)+v*(i.imgSize||i.size)),a.yimgPad=Math.round(p*u.get("imgPad")+v*i.get("imgPad"));e.outline&&e.outline.setPosition({x:a.xpos,y:a.ypos,w:a.xsize+a.xp1+a.xp2+2*t.cb,h:a.ysize+a.yp1+a.yp2+2*i.cb});f.wrapper.style.clip="rect("+(a.ypos-u.pos)+"px, "+(a.xsize+a.xp1+a.xp2+a.xpos+2*r.cb-r.pos)+"px, "+(a.ysize+a.yp1+a.yp2+a.ypos+2*u.cb-u.pos)+"px, "+(a.xpos-r.pos)+"px)";hs.setStyles(l,{top:a.yp1+i.get("imgPad")+"px",left:a.xp1+t.get("imgPad")+"px",marginTop:i.pos-a.ypos+"px",marginLeft:t.pos-a.xpos+"px"});hs.setStyles(h,{top:a.ypos+"px",left:a.xpos+"px",width:a.xp1+a.xp2+a.xsize+2*t.cb+"px",height:a.yp1+a.yp2+a.ysize+2*i.cb+"px"});hs.setStyles(s,{width:(a.ximgSize||a.xsize)+"px",height:(a.yimgSize||a.ysize)+"px",left:a.xp1+a.ximgPad+"px",top:a.yp1+a.yimgPad+"px",visibility:"visible"});hs.setStyles(e.oldImg,{top:u.pos-a.ypos+u.p1-a.yp1+u.get("imgPad")-a.yimgPad+"px",left:r.pos-a.xpos+r.p1-a.xp1+r.get("imgPad")-a.ximgPad+"px"});hs.setStyles(e.newImg,{opacity:v,top:i.pos-a.ypos+i.p1-a.yp1+i.get("imgPad")-a.yimgPad+"px",left:t.pos-a.xpos+t.p1-a.xp1+t.get("imgPad")-a.ximgPad+"px"});o&&hs.setStyles(o,{width:a.xsize+"px",height:a.ysize+"px",left:a.xp1+t.cb+"px",top:a.yp1+i.cb+"px"})},complete:function(){h.style.visibility=l.style.visibility="visible";l.style.display="block";hs.discardElement(s);e.afterExpand();f.afterClose();e.last=null}})}},reuseOverlay:function(n){var t,i;if(!this.last)return!1;for(t=0;t<this.last.overlays.length;t++)if(i=hs.$("hsId"+this.last.overlays[t]),i&&i.hsId==n.hsId)return this.genOverlayBox(),i.reuse=this.key,hs.push(this.overlays,this.last.overlays[t]),!0;return!1},afterExpand:function(){var n,t;if(this.isExpanded=!0,this.focus(),this.isHtml&&this.objectLoadTime=="after"&&this.writeExtendedContent(),this.iframe){try{n=this;t=this.iframe.contentDocument||this.iframe.contentWindow.document;hs.addEventListener(t,"mousedown",function(){hs.focusKey!=n.key&&n.focus()})}catch(f){}hs.ie&&typeof this.isClosing!="boolean"&&(this.iframe.style.width=this.objectWidth-1+"px")}this.dimmingOpacity&&hs.dim(this);hs.upcoming&&hs.upcoming==this.a&&(hs.upcoming=null);this.prepareNextOutline();var i=hs.page,r=hs.mouse.x+i.scrollLeft,u=hs.mouse.y+i.scrollTop;this.mouseIsOver=this.x.pos<r&&r<this.x.pos+this.x.get("wsize")&&this.y.pos<u&&u<this.y.pos+this.y.get("wsize");this.overlayBox&&this.showOverlays();hs.fireEvent(this,"onAfterExpand")},prepareNextOutline:function(){var n=this.key,t=this.outlineType;new hs.Outline(t,function(){try{hs.expanders[n].preloadNext()}catch(t){}})},preloadNext:function(){var n=this.getAdjacentAnchor(1),t;n&&n.onclick.toString().match(/hs\.expand/)&&(t=hs.createElement("img",{src:hs.getSrc(n)}))},getAdjacentAnchor:function(n){var i=this.getAnchorIndex(),t=hs.anchors.groups[this.slideshowGroup||"none"];if(t&&!t[i+n]&&this.slideshow&&this.slideshow.repeat){if(n==1)return t[0];if(n==-1)return t[t.length-1]}return t&&t[i+n]||null},getAnchorIndex:function(){var t=hs.getAnchors().groups[this.slideshowGroup||"none"],n;if(t)for(n=0;n<t.length;n++)if(t[n]==this.a)return n;return null},getNumber:function(){var n,t;this[this.numberPosition]&&(n=hs.anchors.groups[this.slideshowGroup||"none"],n&&(t=hs.lang.number.replace("%1",this.getAnchorIndex()+1).replace("%2",n.length),this[this.numberPosition].innerHTML='<div class="highslide-number">'+t+"<\/div>"+this[this.numberPosition].innerHTML))},initSlideshow:function(){var t,i,n,r;if(this.last)this.slideshow=this.last.slideshow;else for(t=0;t<hs.slideshows.length;t++)n=hs.slideshows[t],i=n.slideshowGroup,(typeof i=="undefined"||i===null||i===this.slideshowGroup)&&(this.slideshow=new hs.Slideshow(this.key,n));(n=this.slideshow,n)&&(r=n.expKey=this.key,n.checkFirstAndLast(),n.disable("full-expand"),n.controls&&this.createOverlay(hs.extend(n.overlayOptions||{},{overlayId:n.controls,hsId:"controls",zIndex:5})),n.thumbstrip&&n.thumbstrip.add(this),!this.last&&this.autoplay&&n.play(!0),n.autoplay&&(n.autoplay=setTimeout(function(){hs.next(r)},n.interval||500)))},cancelLoading:function(){hs.discardElement(this.wrapper);hs.expanders[this.key]=null;hs.upcoming==this.a&&(hs.upcoming=null);hs.undim(this.key);this.loading&&(hs.loading.style.left="-9999px");hs.fireEvent(this,"onHideLoading")},writeCredits:function(){this.credits||(this.credits=hs.createElement("a",{href:hs.creditsHref,target:hs.creditsTarget,className:"highslide-credits",innerHTML:hs.lang.creditsText,title:hs.lang.creditsTitle}),this.createOverlay({overlayId:this.credits,position:this.creditsPosition||"top left",hsId:"credits"}))},getInline:function(types,addOverlay){for(var type,s,next,o,x,i=0;i<types.length;i++){if(type=types[i],s=null,type!="caption"||hs.fireEvent(this,"onBeforeGetCaption")){if(type=="heading"&&!hs.fireEvent(this,"onBeforeGetHeading"))return}else return;if(!this[type+"Id"]&&this.thumbsUserSetId&&(this[type+"Id"]=type+"-for-"+this.thumbsUserSetId),this[type+"Id"]&&(this[type]=hs.getNode(this[type+"Id"])),!this[type]&&!this[type+"Text"]&&this[type+"Eval"])try{s=eval(this[type+"Eval"])}catch(e){}if(!this[type]&&this[type+"Text"]&&(s=this[type+"Text"]),!this[type]&&!s&&(this[type]=hs.getNode(this.a["_"+type+"Id"]),!this[type]))for(next=this.a.nextSibling;next&&!hs.isHsAnchor(next);){if(new RegExp("highslide-"+type).test(next.className||null)){next.id||(this.a["_"+type+"Id"]=next.id="hsId"+hs.idCounter++);this[type]=hs.getNode(next.id);break}next=next.nextSibling}if(this[type]||s||this.numberPosition!=type||(s="\n"),!this[type]&&s&&(this[type]=hs.createElement("div",{className:"highslide-"+type,innerHTML:s})),addOverlay&&this[type]){o={position:type=="heading"?"above":"below"};for(x in this[type+"Overlay"])o[x]=this[type+"Overlay"][x];o.overlayId=this[type];this.createOverlay(o)}}},doShowHide:function(n){hs.hideSelects&&this.showHideElements("SELECT",n);hs.hideIframes&&this.showHideElements("IFRAME",n);hs.geckoMac&&this.showHideElements("*",n)},showHideElements:function(n,t){for(var u,f,s,h,o,r=document.getElementsByTagName(n),e=n=="*"?"overflow":"visibility",i=0;i<r.length;i++)(e=="visibility"||document.defaultView.getComputedStyle(r[i],"").getPropertyValue("overflow")=="auto"||r[i].getAttribute("hidden-by")!=null)&&(u=r[i].getAttribute("hidden-by"),t=="visible"&&u?(u=u.replace("["+this.key+"]",""),r[i].setAttribute("hidden-by",u),u||(r[i].style[e]=r[i].origProp)):t=="hidden"&&(f=hs.getPosition(r[i]),f.w=r[i].offsetWidth,f.h=r[i].offsetHeight,this.dimmingOpacity||(s=f.x+f.w<this.x.get("opos")||f.x>this.x.get("opos")+this.x.get("osize"),h=f.y+f.h<this.y.get("opos")||f.y>this.y.get("opos")+this.y.get("osize")),o=hs.getWrapperKey(r[i]),s||h||o==this.key?(u=="["+this.key+"]"||hs.focusKey==o)&&o!=this.key?(r[i].setAttribute("hidden-by",""),r[i].style[e]=r[i].origProp||""):u&&u.indexOf("["+this.key+"]")>-1&&r[i].setAttribute("hidden-by",u.replace("["+this.key+"]","")):u?u.indexOf("["+this.key+"]")==-1&&r[i].setAttribute("hidden-by",u+"["+this.key+"]"):(r[i].setAttribute("hidden-by","["+this.key+"]"),r[i].origProp=r[i].style[e],r[i].style[e]="hidden")))},focus:function(){var t,n;for(this.wrapper.style.zIndex=hs.zIndexCounter+=2,t=0;t<hs.expanders.length;t++)hs.expanders[t]&&t==hs.focusKey&&(n=hs.expanders[t],n.content.className+=" highslide-"+n.contentType+"-blur",n.isImage&&(n.content.style.cursor=hs.ieLt7?"hand":"pointer",n.content.title=hs.lang.focusTitle),hs.fireEvent(n,"onBlur"));this.outline&&(this.outline.table.style.zIndex=this.wrapper.style.zIndex-1);this.content.className="highslide-"+this.contentType;this.isImage&&(this.content.title=hs.lang.restoreTitle,hs.restoreCursor&&(hs.styleRestoreCursor=window.opera?"pointer":"url("+hs.graphicsDir+hs.restoreCursor+"), pointer",hs.ieLt7&&hs.uaVersion<6&&(hs.styleRestoreCursor="hand"),this.content.style.cursor=hs.styleRestoreCursor));hs.focusKey=this.key;hs.addEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);hs.fireEvent(this,"onFocus")},moveTo:function(n,t){this.x.setPos(n);this.y.setPos(t)},resize:function(n){var t,i,r=n.width/n.height;t=Math.max(n.width+n.dX,Math.min(this.minWidth,this.x.full));this.isImage&&Math.abs(t-this.x.full)<12&&(t=this.x.full);i=this.isHtml?n.height+n.dY:t/r;i<Math.min(this.minHeight,this.y.full)&&(i=Math.min(this.minHeight,this.y.full),this.isImage&&(t=i*r));this.resizeTo(t,i)},resizeTo:function(n,t){this.y.setSize(t);this.x.setSize(n);this.wrapper.style.height=this.y.get("wsize")+"px"},close:function(){if(!this.isClosing&&this.isExpanded&&(this.transitions[1]=="crossfade"&&hs.upcoming&&(hs.getExpander(hs.upcoming).cancelLoading(),hs.upcoming=null),hs.fireEvent(this,"onBeforeClose"))){this.isClosing=!0;this.slideshow&&!hs.upcoming&&this.slideshow.pause();hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{this.isHtml&&this.htmlPrepareClose();this.content.style.cursor="default";this.changeSize(0,{wrapper:{width:this.x.t,height:this.y.t,left:this.x.tpos-this.x.cb+this.x.tb,top:this.y.tpos-this.y.cb+this.y.tb},content:{left:0,top:0,width:this.x.t,height:this.y.t}},hs.restoreDuration)}catch(n){this.afterClose()}}},htmlPrepareClose:function(){if(hs.geckoMac&&(hs.mask||(hs.mask=hs.createElement("div",null,{position:"absolute"},hs.container)),hs.setStyles(hs.mask,{width:this.x.size+"px",height:this.y.size+"px",left:this.x.pos+"px",top:this.y.pos+"px",display:"block"})),this.objectType=="swf")try{hs.$(this.body.id).StopPlay()}catch(n){}this.objectLoadTime!="after"||this.preserveContent||this.destroyObject();this.scrollerDiv&&this.scrollerDiv!=this.scrollingContent&&(this.scrollerDiv.style.overflow="hidden")},destroyObject:function(){if(hs.ie&&this.iframe)try{this.iframe.contentWindow.document.body.innerHTML=""}catch(n){}this.objectType=="swf"&&swfobject.removeSWF(this.body.id);this.body.innerHTML=""},sleep:function(){this.outline&&(this.outline.table.style.display="none");this.releaseMask=null;this.wrapper.style.display="none";this.isExpanded=!1;hs.push(hs.sleeping,this)},awake:function(){var i,n,t;try{if(hs.expanders[this.key]=this,!hs.allowMultipleInstances&&hs.focusKey!=this.key)try{hs.expanders[hs.focusKey].close()}catch(r){}i=hs.zIndexCounter++;n={display:"",zIndex:i};hs.setStyles(this.wrapper,n);this.isClosing=!1;t=this.outline||0;t&&(this.outlineWhileAnimating||(n.visibility="hidden"),hs.setStyles(t.table,n));this.slideshow&&this.initSlideshow();this.show()}catch(r){}},createOverlay:function(n){var t=n.overlayId,u=n.relativeTo=="viewport"&&!/panel$/.test(n.position),r,i;(typeof t=="string"&&(t=hs.getNode(t)),n.html&&(t=hs.createElement("div",{innerHTML:n.html})),t&&typeof t!="string")&&hs.fireEvent(this,"onCreateOverlay",{overlay:t})&&((t.style.display="block",n.hsId=n.hsId||n.overlayId,this.transitions[1]=="crossfade"&&this.reuseOverlay(n,t))||(this.genOverlayBox(),r=n.width&&/^[0-9]+(px|%)$/.test(n.width)?n.width:"auto",/^(left|right)panel$/.test(n.position)&&!/^[0-9]+px$/.test(n.width)&&(r="200px"),i=hs.createElement("div",{id:"hsId"+hs.idCounter++,hsId:n.hsId},{position:"absolute",visibility:"hidden",width:r,direction:hs.lang.cssDirection||"",opacity:0},u?hs.viewport:this.overlayBox,!0),u&&(i.hsKey=this.key),i.appendChild(t),hs.extend(i,{opacity:1,offsetX:0,offsetY:0,dur:n.fade===0||n.fade===!1||n.fade==2&&hs.ie?0:250}),hs.extend(i,n),this.gotOverlays&&(this.positionOverlay(i),(!i.hideOnMouseOut||this.mouseIsOver)&&hs.animate(i,{opacity:i.opacity},i.dur)),hs.push(this.overlays,hs.idCounter-1)))},positionOverlay:function(n){var t=n.position||"middle center",f=n.relativeTo=="viewport",i=n.offsetX,r=n.offsetY,u;f?(hs.viewport.style.display="block",n.hsKey=this.key,n.offsetWidth>n.parentNode.offsetWidth&&(n.style.width="100%")):n.parentNode!=this.overlayBox&&this.overlayBox.appendChild(n);/left$/.test(t)&&(n.style.left=i+"px");/center$/.test(t)&&hs.setStyles(n,{left:"50%",marginLeft:i-Math.round(n.offsetWidth/2)+"px"});/right$/.test(t)&&(n.style.right=-i+"px");/^leftpanel$/.test(t)?(hs.setStyles(n,{right:"100%",marginRight:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"}),this.x.p1=n.offsetWidth):/^rightpanel$/.test(t)&&(hs.setStyles(n,{left:"100%",marginLeft:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"}),this.x.p2=n.offsetWidth);u=n.parentNode.offsetHeight;n.style.height="auto";f&&n.offsetHeight>u&&(n.style.height=hs.ieLt7?u+"px":"100%");/^top/.test(t)&&(n.style.top=r+"px");/^middle/.test(t)&&hs.setStyles(n,{top:"50%",marginTop:r-Math.round(n.offsetHeight/2)+"px"});/^bottom/.test(t)&&(n.style.bottom=-r+"px");/^above$/.test(t)?(hs.setStyles(n,{left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",bottom:"100%",marginBottom:this.y.cb+"px",width:"auto"}),this.y.p1=n.offsetHeight):/^below$/.test(t)&&(hs.setStyles(n,{position:"relative",left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",top:"100%",marginTop:this.y.cb+"px",width:"auto"}),this.y.p2=n.offsetHeight,n.style.position="absolute")},getOverlays:function(){var i,t,n;for(this.getInline(["heading","caption"],!0),this.getNumber(),this.caption&&hs.fireEvent(this,"onAfterGetCaption"),this.heading&&hs.fireEvent(this,"onAfterGetHeading"),this.heading&&this.dragByHeading&&(this.heading.className+=" highslide-move"),hs.showCredits&&this.writeCredits(),n=0;n<hs.overlays.length;n++){var t=hs.overlays[n],r=t.thumbnailId,u=t.slideshowGroup;(!r&&!u||r&&r==this.thumbsUserSetId||u&&u===this.slideshowGroup)&&(this.isImage||this.isHtml&&t.useOnHtml)&&this.createOverlay(t)}for(i=[],n=0;n<this.overlays.length;n++)t=hs.$("hsId"+this.overlays[n]),/panel$/.test(t.position)?this.positionOverlay(t):hs.push(i,t);for(n=0;n<i.length;n++)this.positionOverlay(i[n]);this.gotOverlays=!0},genOverlayBox:function(){this.overlayBox||(this.overlayBox=hs.createElement("div",{className:this.wrapperClassName},{position:"absolute",width:(this.x.size||(this.useBox?this.width:null)||this.x.full)+"px",height:(this.y.size||this.y.full)+"px",visibility:"hidden",overflow:"hidden",zIndex:hs.ie?4:"auto"},hs.container,!0))},sizeOverlayBox:function(n,t){var u=this.overlayBox,f=this.x,r=this.y,e,i,o;if(hs.setStyles(u,{width:f.size+"px",height:r.size+"px"}),n||t)for(e=0;e<this.overlays.length;e++)i=hs.$("hsId"+this.overlays[e]),o=hs.ieLt7||document.compatMode=="BackCompat",i&&/^(above|below)$/.test(i.position)&&(o&&(i.style.width=u.offsetWidth+2*f.cb+f.p1+f.p2+"px"),r[i.position=="above"?"p1":"p2"]=i.offsetHeight),i&&o&&/^(left|right)panel$/.test(i.position)&&(i.style.height=u.offsetHeight+2*r.cb+"px");n&&(hs.setStyles(this.content,{top:r.p1+"px"}),hs.setStyles(u,{top:r.p1+r.cb+"px"}))},showOverlays:function(){var t=this.overlayBox,i,n;for(t.className="",hs.setStyles(t,{top:this.y.p1+this.y.cb+"px",left:this.x.p1+this.x.cb+"px",overflow:"visible"}),hs.safari&&(t.style.visibility="visible"),this.wrapper.appendChild(t),i=0;i<this.overlays.length;i++)n=hs.$("hsId"+this.overlays[i]),n.style.zIndex=n.zIndex||4,(!n.hideOnMouseOut||this.mouseIsOver)&&(n.style.visibility="visible",hs.setStyles(n,{visibility:"visible",display:""}),hs.animate(n,{opacity:n.opacity},n.dur))},destroyOverlays:function(){var n,i,t;if(this.overlays.length){for(this.slideshow&&(n=this.slideshow.controls,n&&hs.getExpander(n)==this&&n.parentNode.removeChild(n)),i=0;i<this.overlays.length;i++)t=hs.$("hsId"+this.overlays[i]),t&&t.parentNode==hs.viewport&&hs.getExpander(t)==this&&hs.discardElement(t);this.isHtml&&this.preserveContent?(this.overlayBox.style.top="-9999px",hs.container.appendChild(this.overlayBox)):hs.discardElement(this.overlayBox)}},createFullExpand:function(){if(this.slideshow&&this.slideshow.controls){this.slideshow.enable("full-expand");return}(this.fullExpandLabel=hs.createElement("a",{href:"javascript:hs.expanders["+this.key+"].doFullExpand();",title:hs.lang.fullExpandTitle,className:"highslide-full-expand"}),hs.fireEvent(this,"onCreateFullExpand"))&&this.createOverlay({overlayId:this.fullExpandLabel,position:hs.fullExpandPosition,hideOnMouseOut:!0,opacity:hs.fullExpandOpacity})},doFullExpand:function(){var i,r,n,t;try{if(!hs.fireEvent(this,"onDoFullExpand"))return;this.fullExpandLabel&&hs.discardElement(this.fullExpandLabel);this.focus();i=this.x.size;r=this.y.size;this.resizeTo(this.x.full,this.y.full);n=this.x.pos-(this.x.size-i)/2;n<hs.marginLeft&&(n=hs.marginLeft);t=this.y.pos-(this.y.size-r)/2;t<hs.marginTop&&(t=hs.marginTop);this.moveTo(n,t);this.doShowHide("hidden")}catch(u){this.error(u)}},afterClose:function(){this.a.className=this.a.className.replace("highslide-active-anchor","");this.doShowHide("visible");this.isHtml&&this.preserveContent&&this.transitions[1]!="crossfade"?this.sleep():(this.outline&&this.outlineWhileAnimating&&this.outline.destroy(),hs.discardElement(this.wrapper));hs.mask&&(hs.mask.style.display="none");this.destroyOverlays();hs.viewport.childNodes.length||(hs.viewport.style.display="none");this.dimmingOpacity&&hs.undim(this.key);hs.fireEvent(this,"onAfterClose");hs.expanders[this.key]=null;hs.reOrder()}},hs.Ajax=function(n,t,i){this.a=n;this.content=t;this.pre=i},hs.Ajax.prototype={run:function(){var n,r,t,i;if(this.src||(this.src=hs.getSrc(this.a)),this.src.match("#")&&(r=this.src.split("#"),this.src=r[0],this.id=r[1]),hs.cachedGets[this.src]){this.cachedGet=hs.cachedGets[this.src];this.id?this.getElementContent():this.loadHTML();return}try{n=new XMLHttpRequest}catch(u){try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(u){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(u){this.onError()}}}t=this;n.onreadystatechange=function(){t.xhr.readyState==4&&(t.id?t.getElementContent():t.loadHTML())};i=this.src;this.xhr=n;hs.forceAjaxReload&&(i=i.replace(/$/,(/\?/.test(i)?"&":"?")+"dummy="+(new Date).getTime()));n.open("GET",i,!0);n.setRequestHeader("X-Requested-With","XMLHttpRequest");n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");n.send(null)},getElementContent:function(){hs.init();var n=window.opera||hs.ie6SSL?{src:"about:blank"}:null;this.iframe=hs.createElement("iframe",n,{position:"absolute",top:"-9999px"},hs.container);this.loadHTML()},loadHTML:function(){var n=this.cachedGet||this.xhr.responseText,i,t,r,u;if(this.pre&&(hs.cachedGets[this.src]=n),!hs.ie||hs.uaVersion>=5.5)if(n=n.replace(new RegExp("<link[^>]*>","gi"),"").replace(new RegExp("<script[^>]*>.*?<\/script>","gi"),""),this.iframe){if(t=this.iframe.contentDocument,!t&&this.iframe.contentWindow&&(t=this.iframe.contentWindow.document),!t){r=this;setTimeout(function(){r.loadHTML()},25);return}t.open();t.write(n);t.close();try{n=t.getElementById(this.id).innerHTML}catch(f){try{n=this.iframe.document.getElementById(this.id).innerHTML}catch(f){}}hs.discardElement(this.iframe)}else i=/(<body[^>]*>|<\/body>)/ig,i.test(n)&&(n=n.split(i)[hs.ieLt9?1:2]);hs.getElementByClass(this.content,"DIV","highslide-body").innerHTML=n;this.onLoad();for(u in this)this[u]=null}},hs.Slideshow=function(n,t){hs.dynamicallyUpdateAnchors!==!1&&hs.updateAnchors();this.expKey=n;for(var i in t)this[i]=t[i];this.useControls&&this.getControls();this.thumbstrip&&(this.thumbstrip=hs.Thumbstrip(this))},hs.Slideshow.prototype={getControls:function(){var t,i,n;for(this.controls=hs.createElement("div",{innerHTML:hs.replaceLang(hs.skin.controls)},null,hs.container),t=["play","pause","previous","next","move","full-expand","close"],this.btn={},i=this,n=0;n<t.length;n++)this.btn[t[n]]=hs.getElementByClass(this.controls,"li","highslide-"+t[n]),this.enable(t[n]);this.btn.pause.style.display="none"},checkFirstAndLast:function(){if(!this.repeat&&this.controls){var n=hs.expanders[this.expKey],t=n.getAnchorIndex(),i=/disabled$/;t==0?this.disable("previous"):i.test(this.btn.previous.getElementsByTagName("a")[0].className)&&this.enable("previous");t+1==hs.anchors.groups[n.slideshowGroup||"none"].length?(this.disable("next"),this.disable("play")):i.test(this.btn.next.getElementsByTagName("a")[0].className)&&(this.enable("next"),this.enable("play"))}},enable:function(n){if(this.btn){var r=this,t=this.btn[n].getElementsByTagName("a")[0],i=/disabled$/;t.onclick=function(){return r[n](),!1};i.test(t.className)&&(t.className=t.className.replace(i,""))}},disable:function(n){if(this.btn){var t=this.btn[n].getElementsByTagName("a")[0];t.onclick=function(){return!1};/disabled$/.test(t.className)||(t.className+=" disabled")}},hitSpace:function(){this.autoplay?this.pause():this.play()},play:function(n){this.btn&&(this.btn.play.style.display="none",this.btn.pause.style.display="");this.autoplay=!0;n||hs.next(this.expKey)},pause:function(){this.btn&&(this.btn.pause.style.display="none",this.btn.play.style.display="");clearTimeout(this.autoplay);this.autoplay=null},previous:function(){this.pause();hs.previous(this.btn.previous)},next:function(){this.pause();hs.next(this.btn.next)},move:function(){},"full-expand":function(){hs.getExpander().doFullExpand()},close:function(){hs.close(this.btn.close)}},hs.Thumbstrip=function(n){function d(n){hs.extend(u||{},{overlayId:r,hsId:"thumbstrip",className:"highslide-thumbstrip-"+o+"-overlay "+(u.className||"")});hs.ieLt7&&(u.fade=0);n.createOverlay(u);hs.setStyles(r.parentNode,{overflow:"hidden"})}function h(n){l(undefined,Math.round(n*r[t?"offsetWidth":"offsetHeight"]*.7))}function l(i,u){var o,g,nt,tt;if(i===undefined)for(o=0;o<e.length;o++)if(e[o]==hs.expanders[n.expKey].a){i=o;break}if(i!==undefined){var s=r.getElementsByTagName("a"),it=s[i],l=it.parentNode,rt=t?"Left":"Top",ft=t?"Right":"Bottom",ut=t?"Width":"Height",b="offset"+rt,h="offset"+ut,d=v.parentNode.parentNode[h],a=d-c[h],k=parseInt(c.style[t?"left":"top"])||0,f=k;if(u!==undefined)f=k-u,a>0&&(a=0),f>0&&(f=0),f<a&&(f=a);else{for(o=0;o<s.length;o++)s[o].className="";it.className="highslide-active-anchor";g=i>0?s[i-1].parentNode[b]:l[b];nt=l[b]+l[h]+(s[i+1]?s[i+1].parentNode[h]:0);nt>d-k?f=d-nt:g<-k&&(f=-g)}tt=l[b]+(l[h]-w[h])/2+f;hs.animate(c,t?{left:f}:{top:f},null,"easeOutQuad");hs.animate(w,t?{left:tt}:{top:tt},null,"easeOutQuad");y.style.display=f<0?"block":"none";p.style.display=f>a?"block":"none"}}for(var e=hs.anchors.groups[hs.expanders[n.expKey].slideshowGroup||"none"],u=n.thumbstrip,o=u.mode||"horizontal",a=o=="float",i=a?["div","ul","li","span"]:["table","tbody","tr","td"],t=o=="horizontal",r=hs.createElement("div",{className:"highslide-thumbstrip highslide-thumbstrip-"+o,innerHTML:'<div class="highslide-thumbstrip-inner"><'+i[0]+"><"+i[1]+"><\/"+i[1]+"><\/"+i[0]+'><\/div><div class="highslide-scroll-up"><div><\/div><\/div><div class="highslide-scroll-down"><div><\/div><\/div><div class="highslide-marker"><div><\/div><\/div>'},{display:"none"},hs.container),s=r.childNodes,v=s[0],y=s[1],p=s[2],w=s[3],c=v.firstChild,b=r.getElementsByTagName(i[1])[0],k,f=0;f<e.length;f++)f!=0&&t||(k=hs.createElement(i[2],null,null,b)),function(){var n=e[f],t=hs.createElement(i[3],null,null,k),r=f;hs.createElement("a",{href:n.href,title:n.title,onclick:function(){return/highslide-active-anchor/.test(this.className)?!1:(hs.getExpander(this).focus(),hs.transit(n))},innerHTML:hs.stripItemFormatter?hs.stripItemFormatter(n):n.innerHTML},null,t)}();return a||(y.onclick=function(){h(-1)},p.onclick=function(){h(1)},hs.addEventListener(b,document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",function(n){var t=0;n=n||window.event;n.wheelDelta?(t=n.wheelDelta/120,hs.opera&&(t=-t)):n.detail&&(t=-n.detail/3);t&&h(-t*.2);n.preventDefault&&n.preventDefault();n.returnValue=!1})),{add:d,selectThumb:l}},hs.langDefaults=hs.lang,HsExpander=hs.Expander,hs.ie&&window==window.top&&function(){try{document.documentElement.doScroll("left")}catch(n){setTimeout(arguments.callee,50);return}hs.ready()}(),hs.addEventListener(document,"DOMContentLoaded",hs.ready),hs.addEventListener(window,"load",hs.ready),hs.addEventListener(document,"ready",function(){if(hs.expandCursor||hs.dimmingOpacity){var r=hs.createElement("style",{type:"text/css"},null,document.getElementsByTagName("HEAD")[0]),t=document.compatMode=="BackCompat";function i(n,i){if(hs.ie&&(hs.uaVersion<9||t)){var u=document.styleSheets[document.styleSheets.length-1];typeof u.addRule=="object"&&u.addRule(n,i)}else r.appendChild(document.createTextNode(n+" {"+i+"}"))}function n(n){return"expression( ( ( ignoreMe = document.documentElement."+n+" ? document.documentElement."+n+" : document.body."+n+" ) ) + 'px' );"}hs.expandCursor&&i(".highslide img","cursor: url("+hs.graphicsDir+hs.expandCursor+"), pointer !important;");i(".highslide-viewport-size",hs.ie&&(hs.uaVersion<7||t)?"position: absolute; left:"+n("scrollLeft")+"top:"+n("scrollTop")+"width:"+n("clientWidth")+"height:"+n("clientHeight"):"position: fixed; width: 100%; height: 100%; left: 0; top: 0")}}),hs.addEventListener(window,"resize",function(){var n,t,i;if(hs.getPageSize(),hs.viewport)for(n=0;n<hs.viewport.childNodes.length;n++)t=hs.viewport.childNodes[n],i=hs.getExpander(t),i.positionOverlay(t),t.hsId=="thumbstrip"&&i.slideshow.thumbstrip.selectThumb()}),hs.addEventListener(document,"mousemove",function(n){hs.mouse={x:n.clientX,y:n.clientY}}),hs.addEventListener(document,"mousedown",hs.mouseClickHandler),hs.addEventListener(document,"mouseup",hs.mouseClickHandler),hs.addEventListener(document,"ready",hs.setClickEvents),hs.addEventListener(window,"load",hs.preloadImages),hs.addEventListener(window,"load",hs.preloadAjax)),function(n){n.outlineType="rounded-white";n.wrapperClassName="draggable-header";n.captionEval="this.a.title";n.showCredits=!1;n.marginTop=20;n.marginRight=20;n.marginBottom=20;n.marginLeft=20}(window.hs),function(){function f(n,t){var i;n||(n={});for(i in t)n[i]=t[i];return n}function o(){var t,n=arguments,r,i={},u=function(n,t){var r,i;typeof n!="object"&&(n={});for(i in t)t.hasOwnProperty(i)&&(r=t[i],n[i]=r&&typeof r=="object"&&Object.prototype.toString.call(r)!=="[object Array]"&&i!=="renderTo"&&typeof r.nodeType!="number"?u(n[i]||{},r):t[i]);return n};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),r=n.length,t=0;t<r;t++)i=u(i,n[t]);return i}function h(n,t){return parseInt(n,t||10)}function tr(n){return typeof n=="string"}function yt(n){return n&&typeof n=="object"}function ir(n){return Object.prototype.toString.call(n)==="[object Array]"}function ni(n){return typeof n=="number"}function wi(n){return et.log(n)/et.LN10}function ti(n){return et.pow(10,n)}function ii(n,t){for(var i=n.length;i--;)if(n[i]===t){n.splice(i,1);break}}function i(n){return n!==u&&n!==null}function g(n,t,r){var u,f;if(tr(t))i(r)?n.setAttribute(t,r):n&&n.getAttribute&&(f=n.getAttribute(t));else if(i(t)&&yt(t))for(u in t)n.setAttribute(u,t[u]);return f}function si(n){return ir(n)?n:[n]}function n(){for(var i=arguments,t,r=i.length,n=0;n<r;n++)if(t=i[n],t!==u&&t!==null)return t}function a(n,t){gi&&!vt&&t&&t.opacity!==u&&(t.filter="alpha(opacity="+t.opacity*100+")");f(n.style,t)}function ct(n,t,i,r,u){return n=s.createElement(n),t&&f(n,t),u&&a(n,{padding:0,border:ut,margin:0}),i&&a(n,i),r&&r.appendChild(n),n}function ri(n,t){var i=function(){return u};return i.prototype=new n,f(i.prototype,t),i}function bi(n,t,i,r){var c=tt.numberFormat,e=nt.lang,u=+n||0,o=t===-1?(u.toString().split(".")[1]||"").length:isNaN(t=p(t))?2:t,l=i===void 0?e.decimalPoint:i,e=r===void 0?e.thousandsSep:r,a=u<0?"-":"",f=String(h(u=p(u).toFixed(o))),s=f.length>3?f.length%3:0;return c!==bi?c(n,t,i,r):a+(s?f.substr(0,s)+e:"")+f.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+e)+(o?l+p(u-f).toFixed(o).slice(2):"")}function rr(n,t){return Array((t||2)+1-String(n).length).join(0)+n}function hr(n,t,i){var r=n[t];n[t]=function(){var n=Array.prototype.slice.call(arguments);return n.unshift(r),i.apply(this,n)}}function ur(n,t){for(var e="{",s=!1,i,r,o,u,f,h=[];(e=n.indexOf(e))!==-1;){if(i=n.slice(0,e),s){for(r=i.split(":"),o=r.shift().split("."),f=o.length,i=t,u=0;u<f;u++)i=i[o[u]];r.length&&(r=r.join(":"),o=/\.([0-9])/,u=nt.lang,f=void 0,/f$/.test(r)?(f=(f=r.match(o))?f[1]:-1,i!==null&&(i=bi(i,f,u.decimalPoint,r.indexOf(",")>-1?u.thousandsSep:""))):i=eu(r,i))}h.push(i);n=n.slice(e+1);e=(s=!s)?"}":"{"}return h.push(n),h.join("")}function au(n){return et.pow(10,ft(et.log(n)/et.LN10))}function vu(t,i,r,u){var f,r=n(r,1);for(f=t/r,i||(i=[1,2,2.5,5,10],u===!1&&(r===1?i=[1,2,5,10]:r<=.1&&(i=[1/r]))),u=0;u<i.length;u++)if(t=i[u],f<=(i[u]+(i[u+1]||i[u]))/2)break;return t*r}function yu(n,t){for(var u=n.length,r,i=0;i<u;i++)n[i].ss_i=i;for(n.sort(function(n,i){return r=t(n,i),r===0?n.ss_i-i.ss_i:r}),i=0;i<u;i++)delete n[i].ss_i}function cr(n){for(var t=n.length,i=n[0];t--;)n[t]<i&&(i=n[t]);return i}function ki(n){for(var t=n.length,i=n[0];t--;)n[t]>i&&(i=n[t]);return i}function lr(n,t){for(var i in n)n[i]&&n[i]!==t&&n[i].destroy&&n[i].destroy(),delete n[i]}function ar(n){fu||(fu=ct(er));n&&fu.appendChild(n);fu.innerHTML=""}function pt(n){return parseFloat(n.toPrecision(14))}function vr(t,i){vi=n(t,i.animation)}function ef(){var r=nt.global.useUTC,t=r?"getUTC":"get",i=r?"setUTC":"set";nr=nt.global.Date||window.Date;wr=(r&&nt.global.timezoneOffset||0)*6e4;ou=r?nr.UTC:function(t,i,r,u,f,e){return new nr(t,i,n(r,1),n(u,0),n(f,0),n(e,0)).getTime()};ku=t+"Minutes";du=t+"Hours";gu=t+"Day";tu=t+"Date";su=t+"Month";hu=t+"FullYear";lf=i+"Minutes";af=i+"Hours";nf=i+"Date";vf=i+"Month";yf=i+"FullYear"}function it(){}function yr(n,t,i,r){this.axis=n;this.pos=t;this.type=i||"";this.isNew=!0;i||r||this.addLabel()}function ui(){this.init.apply(this,arguments)}function kr(){this.init.apply(this,arguments)}function of(t,i,r,u,f){var e=t.chart.inverted;this.axis=t;this.isNegative=r;this.options=i;this.x=u;this.total=null;this.points={};this.stack=f;this.alignOptions={align:i.align||(e?r?"left":"right":"center"),verticalAlign:i.verticalAlign||(e?"middle":r?"bottom":"top"),y:n(i.y,e?4:r?14:-6),x:n(i.x,e?r?-6:6:0)};this.textAlign=i.textAlign||(e?r?"right":"left":"center")}var u,s=document,k=window,et=Math,e=et.round,ft=et.floor,fr=et.ceil,r=et.max,l=et.min,p=et.abs,lt=et.cos,wt=et.sin,fi=et.PI,di=fi/180,li=navigator.userAgent,sf=k.opera,gi=/msie/i.test(li)&&!sf,uu=s.documentMode===8,pu=/AppleWebKit/.test(li),pr=/Firefox/.test(li),hf=/(Mobile|Android|Windows Phone)/.test(li),ai="http://www.w3.org/2000/svg",vt=!!s.createElementNS&&!!s.createElementNS(ai,"svg").createSVGRect,wf=pr&&parseInt(li.split("Firefox/")[1],10)<4,bt=!vt&&!gi&&!!s.createElement("canvas").getContext,dr,gr,cf={},wu=0,fu,nt,eu,vi,bu,c,dt,hi=function(){return u},ot=[],nu=0,er="div",ut="none",bf=/^[0-9]+$/,kf="stroke-width",nr,ou,wr,ku,du,gu,tu,su,hu,lf,af,nf,vf,yf,w={},tt,d,at,rt,ei,ht,kt,pf,rf,oi,sr,ru,pi,v,gt;k.Highcharts?dt(16,!0):tt=k.Highcharts={};eu=function(t,r,u){if(!i(r)||isNaN(r))return"Invalid date";var t=n(t,"%Y-%m-%d %H:%M:%S"),o=new nr(r-wr),s,h=o[du](),a=o[gu](),v=o[tu](),c=o[su](),y=o[hu](),l=nt.lang,p=l.weekdays,o=f({a:p[a].substr(0,3),A:p[a],d:rr(v),e:v,b:l.shortMonths[c],B:l.months[c],m:rr(c+1),y:y.toString().substr(2,2),Y:y,H:rr(h),I:rr(h%12||12),l:h%12||12,M:rr(o[ku]()),p:h<12?"AM":"PM",P:h<12?"am":"pm",S:rr(o.getSeconds()),L:rr(e(r%1e3),3)},tt.dateFormats);for(s in o)for(;t.indexOf("%"+s)!==-1;)t=t.replace("%"+s,typeof o[s]=="function"?o[s](r):o[s]);return u?t.substr(0,1).toUpperCase()+t.substr(1):t};dt=function(n,t){var i="Highcharts error #"+n+": www.highcharts.com/errors/"+n;if(t)throw i;k.console&&console.log(i)};c={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3};bu={init:function(n,t,i){var t=t||"",r=n.shift,e=t.indexOf("C")>-1,u=e?7:3,f,t=t.split(" "),i=[].concat(i),o,s,h=function(n){for(f=n.length;f--;)n[f]==="M"&&n.splice(f+1,0,n[f+1],n[f+2],n[f+1],n[f+2])};if(e&&(h(t),h(i)),n.isArea&&(o=t.splice(t.length-6,6),s=i.splice(i.length-6,6)),r<=i.length/u&&t.length===i.length)for(;r--;)i=[].concat(i).splice(0,u).concat(i);if(n.shift=0,t.length)for(n=i.length;t.length<n;)r=[].concat(t).splice(t.length-u,u),e&&(r[u-6]=r[u-2],r[u-5]=r[u-1]),t=t.concat(r);return o&&(t=t.concat(o),i=i.concat(s)),[t,i]},step:function(n,t,i,r){var f=[],u=n.length;if(i===1)f=r;else if(u===t.length&&i<1)for(;u--;)r=parseFloat(n[u]),f[u]=isNaN(r)?n[u]:i*parseFloat(t[u]-r)+r;else f=t;return f}},function(n){k.HighchartsAdapter=k.HighchartsAdapter||n&&{init:function(t){var i=n.fx;n.extend(n.easing,{easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i}});n.each(["cur","_default","width","height","opacity"],function(t,r){var f=i.step,e;r==="cur"?f=i.prototype:r==="_default"&&n.Tween&&(f=n.Tween.propHooks[r],r="set");(e=f[r])&&(f[r]=function(n){var i,n=t?n:this;if(n.prop!=="align")return i=n.elem,i.attr?i.attr(n.prop,r==="cur"?u:n.now):e.apply(this,arguments)})});hr(n.cssHooks.opacity,"get",function(n,t,i){return t.attr?t.opacity||0:n.call(this,t,i)});this.addAnimSetter("d",function(n){var i=n.elem,r;n.started||(r=t.init(i,i.d,i.toD),n.start=r[0],n.end=r[1],n.started=!0);i.attr("d",t.step(n.start,n.end,n.pos,i.toD))});this.each=Array.prototype.forEach?function(n,t){return Array.prototype.forEach.call(n,t)}:function(n,t){for(var r=n.length,i=0;i<r;i++)if(t.call(n[i],n[i],i,n)===!1)return i};n.fn.highcharts=function(){var r="Chart",t=arguments,n,i;return this[0]&&(tr(t[0])&&(r=t[0],t=Array.prototype.slice.call(t,1)),n=t[0],n!==u&&(n.chart=n.chart||{},n.chart.renderTo=this[0],new tt[r](n,t[1]),i=this),n===u&&(i=ot[g(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(t,i){n.Tween?n.Tween.propHooks[t]={set:i}:n.fx.step[t]=i},getScript:n.getScript,inArray:n.inArray,adapterRun:function(t,i){return n(t)[i]()},grep:n.grep,map:function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)r[i]=t.call(n[i],n[i],i,n);return r},offset:function(t){return n(t).offset()},addEvent:function(t,i,r){n(t).bind(i,r)},removeEvent:function(t,i,r){var u=s.removeEventListener?"removeEventListener":"detachEvent";s[u]&&t&&!t[u]&&(t[u]=function(){});n(t).unbind(i,r)},fireEvent:function(t,i,r,u){var e=n.Event(i),o="detached"+i,s;!gi&&r&&(delete r.layerX,delete r.layerY,delete r.returnValue);f(e,r);t[i]&&(t[o]=t[i],t[i]=null);n.each(["preventDefault","stopPropagation"],function(n,t){var i=e[t];e[t]=function(){try{i.call(e)}catch(n){t==="preventDefault"&&(s=!0)}}});n(t).trigger(e);t[o]&&(t[i]=t[o],t[o]=null);!u||e.isDefaultPrevented()||s||u(e)},washMouseEvent:function(n){var t=n.originalEvent||n;return t.pageX===u&&(t.pageX=n.pageX,t.pageY=n.pageY),t},animate:function(t,i,r){var f=n(t);t.style||(t.style={});i.d&&(t.toD=i.d,i.d=1);f.stop();i.opacity!==u&&t.attr&&(i.opacity+="px");t.hasAnim=1;f.animate(i,r)},stop:function(t){t.hasAnim&&n(t).stop()}}}(k.jQuery);rt=k.HighchartsAdapter;d=rt||{};rt&&rt.init.call(rt,bu);var cu=d.adapterRun,df=d.getScript,or=d.inArray,t=d.each,tf=d.grep,gf=d.offset,br=d.map,b=d.addEvent,st=d.removeEvent,y=d.fireEvent,ne=d.washMouseEvent,lu=d.animate,iu=d.stop,d={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};nt={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:o(d,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":bi(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:vt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}<\/span><br/>',pointFormat:'<span style="color:{series.color}">●<\/span> {series.name}: <b>{point.y}<\/b><br/>',shadow:!0,snap:hf?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};at=nt.plotOptions;rt=at.line;ef();var te=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,ie=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,re=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,yi=function(n){var i=[],r,u;return function(n){n&&n.stops?u=br(n.stops,function(n){return yi(n[1])}):(r=te.exec(n))?i=[h(r[1]),h(r[2]),h(r[3]),parseFloat(r[4],10)]:(r=ie.exec(n))?i=[h(r[1],16),h(r[2],16),h(r[3],16),1]:(r=re.exec(n))&&(i=[h(r[1]),h(r[2]),h(r[3]),1])}(n),{get:function(r){var f;return u?(f=o(n),f.stops=[].concat(f.stops),t(u,function(n,t){f.stops[t]=[f.stops[t][0],n.get(r)]})):f=i&&!isNaN(i[0])?r==="rgb"?"rgb("+i[0]+","+i[1]+","+i[2]+")":r==="a"?i[3]:"rgba("+i.join(",")+")":n,f},brighten:function(n){if(u)t(u,function(t){t.brighten(n)});else if(ni(n)&&n!==0)for(var r=0;r<3;r++)i[r]+=h(n*255),i[r]<0&&(i[r]=0),i[r]>255&&(i[r]=255);return this},rgba:i,setOpacity:function(n){return i[3]=n,this}}};if(it.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow,HcTextStroke".split(","),init:function(n,t){this.element=t==="span"?ct(t):s.createElementNS(ai,t);this.renderer=n},animate:function(t,i,r){return i=n(i,vi,!0),iu(this),i?(i=o(i,{}),r&&(i.complete=r),lu(this,t,i)):(this.attr(t),r&&r()),this},colorGradient:function(n,r,u){var l=this.renderer,p,s,f,a,v,y,w,b,e,c,h=[];if(n.linearGradient?s="linearGradient":n.radialGradient&&(s="radialGradient"),s){f=n[s];a=l.gradients;y=n.stops;e=u.radialReference;ir(f)&&(n[s]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"});s==="radialGradient"&&e&&!i(f.gradientUnits)&&(f=o(f,{cx:e[0]-e[2]/2+f.cx*e[2],cy:e[1]-e[2]/2+f.cy*e[2],r:f.r*e[2],gradientUnits:"userSpaceOnUse"}));for(c in f)c!=="id"&&h.push(c,f[c]);for(c in y)h.push(y[c]);h=h.join(",");a[h]?n=a[h].attr("id"):(f.id=n="highcharts-"+wu++,a[h]=v=l.createElement(s).attr(f).add(l.defs),v.stops=[],t(y,function(n){n[1].indexOf("rgba")===0?(p=yi(n[1]),w=p.get("rgb"),b=p.get("a")):(w=n[1],b=1);n=l.createElement("stop").attr({offset:n[0],"stop-color":w,"stop-opacity":b}).add(v);v.stops.push(n)}));u.setAttribute(r,"url("+l.url+"#"+n+")")}},attr:function(n,t){var i,r,e=this.element,o,s=this,f;if(typeof n=="string"&&t!==u&&(i=n,n={},n[i]=t),typeof n=="string")s=(this[n+"Getter"]||this._defaultGetter).call(this,n,e);else{for(i in n)r=n[i],f=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(o||(this.symbolAttr(n),o=!0),f=!0),this.rotation&&(i==="x"||i==="y")&&(this.doTransform=!0),f||(this[i+"Setter"]||this._defaultSetter).call(this,r,i,e),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,r);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return s},updateShadows:function(n,t){for(var i=this.shadows,u=i.length;u--;)i[u].setAttribute(n,n==="height"?r(t-(i[u].cutHeight||0),0):n==="d"?this.d:t)},addClass:function(n){var t=this.element,i=g(t,"class")||"";return i.indexOf(n)===-1&&g(t,"class",i+" "+n),this},symbolAttr:function(i){var r=this;t("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(t){r[t]=n(i[t],r[t])});r.attr({d:r.renderer.symbols[r.symbolName](r.x,r.y,r.width,r.height,r)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":ut)},crisp:function(n){var t,r={},i,u=n.strokeWidth||this.strokeWidth||0;i=e(u)%2/2;n.x=ft(n.x||this.x||0)+i;n.y=ft(n.y||this.y||0)+i;n.width=ft((n.width||this.width||0)-2*i);n.height=ft((n.height||this.height||0)-2*i);n.strokeWidth=u;for(t in n)this[t]!==n[t]&&(this[t]=r[t]=n[t]);return r},css:function(n){var i=this.styles,u={},e=this.element,r,t,o="";if(r=!i,n&&n.color&&(n.fill=n.color),i)for(t in n)n[t]!==i[t]&&(u[t]=n[t],r=!0);if(r){if(r=this.textWidth=n&&n.width&&e.nodeName.toLowerCase()==="text"&&h(n.width),i&&(n=f(i,u)),this.styles=n,r&&(bt||!vt&&this.renderer.forExport)&&delete n.width,gi&&!vt)a(this.element,n);else{i=function(n,t){return"-"+t.toLowerCase()};for(t in n)o+=t.replace(/([A-Z])/g,i)+":"+n[t]+";";g(e,"style",o)}r&&this.added&&this.renderer.buildText(this)}return this},on:function(n,t){var r=this,i=r.element;return gr&&n==="click"?(i.ontouchstart=function(n){r.touchEventFired=nr.now();n.preventDefault();t.call(i,n)},i.onclick=function(n){(li.indexOf("Android")===-1||nr.now()-(r.touchEventFired||0)>1100)&&t.call(i,n)}):i["on"+n]=t,this},setRadialReference:function(n){return this.element.radialReference=n,this},translate:function(n,t){return this.attr({translateX:n,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,u=this.translateY||0,f=this.scaleX,e=this.scaleY,o=this.inverted,s=this.rotation,r=this.element;o&&(t+=this.attr("width"),u+=this.attr("height"));t=["translate("+t+","+u+")"];o?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+(r.getAttribute("x")||0)+" "+(r.getAttribute("y")||0)+")");(i(f)||i(e))&&t.push("scale("+n(f,1)+" "+n(e,1)+")");t.length&&r.setAttribute("transform",t.join(" "))},toFront:function(){var n=this.element;return n.parentNode.appendChild(n),this},align:function(t,i,r){var f,u,o,h,s={};return u=this.renderer,o=u.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=i,!r||tr(r))&&(this.alignTo=f=r||"renderer",ii(o,this),o.push(this),r=null):(t=this.alignOptions,i=this.alignByTranslate,f=this.alignTo),r=n(r,u[f],u),f=t.align,u=t.verticalAlign,o=(r.x||0)+(t.x||0),h=(r.y||0)+(t.y||0),(f==="right"||f==="center")&&(o+=(r.width-(t.width||0))/{right:1,center:2}[f]),s[i?"translateX":"x"]=e(o),(u==="bottom"||u==="middle")&&(h+=(r.height-(t.height||0))/({bottom:1,middle:2}[u]||1)),s[i?"translateY":"y"]=e(h),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this},getBBox:function(){var n=this.bBox,o=this.renderer,t,i,s=this.rotation,r,u,e;if(t=this.element,r=this.styles,u=s*di,i=this.textStr,(i===""||bf.test(i))&&(e="num."+i.toString().length+(r?"|"+r.fontSize+"|"+r.fontFamily:"")),e&&(n=o.cache[e]),!n){if(t.namespaceURI===ai||o.forExport){try{n=t.getBBox?f({},t.getBBox()):{width:t.offsetWidth,height:t.offsetHeight}}catch(h){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();o.isSVG&&(t=n.width,i=n.height,gi&&r&&r.fontSize==="11px"&&i.toPrecision(3)==="16.9"&&(n.height=i=14),s&&(n.width=p(i*wt(u))+p(t*lt(u)),n.height=p(i*lt(u))+p(t*wt(u))));this.bBox=n;e&&(o.cache[e]=n)}return n},show:function(n){return n&&this.element.namespaceURI===ai?this.element.removeAttribute("visibility"):this.attr({visibility:n?"inherit":"visible"}),this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(n){var t=this;t.animate({opacity:0},{duration:n||150,complete:function(){t.attr({y:-9999})}})},add:function(n){var t=this.renderer,r=n||t,e=r.element||t.box,o=this.element,u=this.zIndex,f,s;if(n&&(this.parentGroup=n),this.parentInverted=n&&n.inverted,this.textStr!==void 0&&t.buildText(this),u&&(r.handleZ=!0,u=h(u)),r.handleZ)for(n=e.childNodes,f=0;f<n.length;f++)if(t=n[f],r=g(t,"zIndex"),t!==o&&(h(r)>u||!i(u)&&i(r))){e.insertBefore(o,t);s=!0;break}return s||e.appendChild(o),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(n){var t=n.parentNode;t&&t.removeChild(n)},destroy:function(){var n=this,i=n.element||{},f=n.shadows,r=n.renderer.isSVG&&i.nodeName==="SPAN"&&n.parentGroup,e,u;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,iu(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(u=0;u<n.stops.length;u++)n.stops[u]=n.stops[u].destroy();n.stops=null}for(n.safeRemoveChild(i),f&&t(f,function(t){n.safeRemoveChild(t)});r&&r.div&&r.div.childNodes.length===0;)i=r.parentGroup,n.safeRemoveChild(r.div),delete r.div,r=i;n.alignTo&&ii(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(t,i,u){var c=[],e,f,h=this.element,o,s,l,a;if(t){for(s=n(t.width,3),l=(t.opacity||.15)/s,a=this.parentInverted?"(-1,-1)":"("+n(t.offsetX,1)+", "+n(t.offsetY,1)+")",e=1;e<=s;e++)f=h.cloneNode(0),o=s*2+1-2*e,g(f,{isShadow:"true",stroke:t.color||"black","stroke-opacity":l*e,"stroke-width":o,transform:"translate"+a,fill:ut}),u&&(g(f,"height",r(g(f,"height")-o,0)),f.cutHeight=o),i?i.element.appendChild(f):h.parentNode.insertBefore(f,h),c.push(f);this.shadows=c}return this},xGetter:function(n){return this.element.nodeName==="circle"&&(n={x:"cx",y:"cy"}[n]||n),this._defaultGetter(n)},_defaultGetter:function(t){return t=n(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(n,t,i){n&&n.join&&(n=n.join(" "));/(NaN| {2}|^$)/.test(n)&&(n="M 0 0");i.setAttribute(t,n);this[t]=n},dashstyleSetter:function(n){var t;if(n=n&&n.toLowerCase()){for(n=n.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=n.length;t--;)n[t]=h(n[t])*this["stroke-width"];n=n.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",n)}},alignSetter:function(n){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[n])},opacitySetter:function(n,t,i){this[t]=n;i.setAttribute(t,n)},titleSetter:function(t){var i=this.element.getElementsByTagName("title")[0];i||(i=s.createElementNS(ai,"title"),this.element.appendChild(i));i.textContent=n(t,"").replace(/<[^>]*>/g,"")},textSetter:function(n){n!==this.textStr&&(delete this.bBox,this.textStr=n,this.added&&this.renderer.buildText(this))},fillSetter:function(n,t,i){typeof n=="string"?i.setAttribute(t,n):n&&this.colorGradient(n,t,i)},zIndexSetter:function(n,t,i){i.setAttribute(t,n);this[t]=n},_defaultSetter:function(n,t,i){i.setAttribute(t,n)}},it.prototype.yGetter=it.prototype.xGetter,it.prototype.translateXSetter=it.prototype.translateYSetter=it.prototype.rotationSetter=it.prototype.verticalAlignSetter=it.prototype.scaleXSetter=it.prototype.scaleYSetter=function(n,t){this[t]=n;this.doTransform=!0},it.prototype["stroke-widthSetter"]=it.prototype.strokeSetter=function(n,t,i){this[t]=n;this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],it.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&n===0&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},ei=function(){this.init.apply(this,arguments)},ei.prototype={Element:it,init:function(n,t,i,r,u){var o=location,e,r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r)),f;e=r.element;n.appendChild(e);n.innerHTML.indexOf("xmlns")===-1&&g(e,"xmlns",ai);this.isSVG=!0;this.box=e;this.boxWrapper=r;this.alignedObjects=[];this.url=(pr||pu)&&s.getElementsByTagName("base").length?o.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(s.createTextNode("Created with Highcharts 4.0.4"));this.defs=this.createElement("defs").add();this.forExport=u;this.gradients={};this.cache={};this.setSize(t,i,!1);pr&&n.getBoundingClientRect&&(this.subPixelFix=t=function(){a(n,{left:0,top:0});f=n.getBoundingClientRect();a(n,{left:fr(f.left)-f.left+"px",top:fr(f.top)-f.top+"px"})},t(),b(k,"resize",t))},getStyle:function(n){return this.style=f({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},n)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),lr(this.gradients||{}),this.gradients=null,n&&(this.defs=n.destroy()),this.subPixelFix&&st(k,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(n){var t=new this.Element;return t.init(this,n),t},draw:function(){},buildText:function(i){for(var f=i.element,e=this,y=e.forExport,r=n(i.textStr,"").toString(),p=r.indexOf("<")!==-1,w=f.childNodes,c,l,v=g(f,"x"),u=i.styles,o=i.textWidth,b=u&&u.lineHeight,nt=u&&u.HcTextStroke,k=w.length,d=function(n){return b?h(b):e.fontMetrics(/(px|em)$/.test(n&&n.style.fontSize)?n.style.fontSize:u&&u.fontSize||e.style.fontSize||12,n).h};k--;)f.removeChild(w[k]);!p&&!nt&&r.indexOf(" ")===-1?f.appendChild(s.createTextNode(r)):(c=/<.*style="([^"]+)".*>/,l=/<.*href="(http[^"]+)".*>/,o&&!i.added&&this.box.appendChild(f),r=p?r.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"<\/span>").split(/<br.*?>/g):[r],r[r.length-1]===""&&r.pop(),t(r,function(n,r){var h,p=0,n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"<\/span>|||");h=n.split("|||");t(h,function(n){var w,t,k;if((n!==""||h.length===1)&&(w={},t=s.createElementNS(ai,"tspan"),c.test(n)&&(k=n.match(c)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),g(t,"style",k)),l.test(n)&&!y&&(g(t,"onclick",'location.href="'+n.match(l)[1]+'"'),a(t,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),n!==" ")){if(t.appendChild(s.createTextNode(n)),p?w.dx=0:r&&v!==null&&(w.x=v),g(t,w),f.appendChild(t),!p&&r&&(!vt&&y&&a(t,{display:"block"}),g(t,"dy",d(t))),o)for(var n=n.replace(/([^\^])-/g,"$1- ").split(" "),w=h.length>1||n.length>1&&u.whiteSpace!=="nowrap",nt,b,it=u.HcHeight,tt=[],rt=d(t),ut=1;w&&(n.length||tt.length);)delete i.bBox,nt=i.getBBox(),b=nt.width,!vt&&e.forExport&&(b=e.measureSpanWidth(t.firstChild.data,i.styles)),nt=b>o,!nt||n.length===1?(n=tt,tt=[],n.length&&(ut++,it&&ut*rt>it?(n=["..."],i.attr("title",i.textStr)):(t=s.createElementNS(ai,"tspan"),g(t,{dy:rt,x:v}),k&&g(t,"style",k),f.appendChild(t))),b>o&&(o=b)):(t.removeChild(t.firstChild),tt.unshift(n.pop())),n.length&&t.appendChild(s.createTextNode(n.join(" ").replace(/- /g,"-")));p++}})}))},button:function(n,t,i,r,u,e,s,h,c){var l=this.label(n,t,i,c,null,null,null,null,"button"),a=0,w,k,v,y,p,d,n={x1:0,y1:0,x2:0,y2:1},u=o({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:n,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},u);return v=u.style,delete u.style,e=o(u,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#FFF"],[1,"#ACF"]]}},e),y=e.style,delete e.style,s=o(u,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#9BD"],[1,"#CDF"]]}},s),p=s.style,delete s.style,h=o(u,{style:{color:"#CCC"}},h),d=h.style,delete h.style,b(l.element,gi?"mouseover":"mouseenter",function(){a!==3&&l.attr(e).css(y)}),b(l.element,gi?"mouseout":"mouseleave",function(){a!==3&&(w=[u,e,s][a],k=[v,y,p][a],l.attr(w).css(k))}),l.setState=function(n){(l.state=a=n)?n===2?l.attr(s).css(p):n===3&&l.attr(h).css(d):l.attr(u).css(v)},l.on("click",function(){a!==3&&r.call(l)}).attr(u).css(f({cursor:"default"},v))},crispLine:function(n,t){return n[1]===n[4]&&(n[1]=n[4]=e(n[1])-t%2/2),n[2]===n[5]&&(n[2]=n[5]=e(n[2])+t%2/2),n},path:function(n){var t={fill:ut};return ir(n)?t.d=n:yt(n)&&f(t,n),this.createElement("path").attr(t)},circle:function(n,t,i){return n=yt(n)?n:{x:n,y:t,r:i},t=this.createElement("circle"),t.xSetter=function(n){this.element.setAttribute("cx",n)},t.ySetter=function(n){this.element.setAttribute("cy",n)},t.attr(n)},arc:function(n,t,i,r,u,f){return yt(n)&&(t=n.y,i=n.r,r=n.innerR,u=n.start,f=n.end,n=n.x),n=this.symbol("arc",n||0,t||0,i||0,i||0,{innerR:r||0,start:u||0,end:f||0}),n.r=i,n},rect:function(n,t,i,f,e,o){var e=yt(n)?n.r:e,s=this.createElement("rect"),n=yt(n)?n:n===u?{}:{x:n,y:t,width:r(i,0),height:r(f,0)};return o!==u&&(n.strokeWidth=o,n=s.crisp(n)),e&&(n.r=e),s.rSetter=function(n){g(this.element,{rx:n,ry:n})},s.attr(n)},setSize:function(t,i,r){var u=this.alignedObjects,f=u.length;for(this.width=t,this.height=i,this.boxWrapper[n(r,!0)?"animate":"attr"]({width:t,height:i});f--;)u[f].align()},g:function(n){var t=this.createElement("g");return i(n)?t.attr({"class":"highcharts-"+n}):t},image:function(n,t,i,r,u){var e={preserveAspectRatio:ut};return arguments.length>1&&f(e,{x:t,y:i,width:r,height:u}),e=this.createElement("image").attr(e),e.element.setAttributeNS?e.element.setAttributeNS("http://www.w3.org/1999/xlink","href",n):e.element.setAttribute("hc-svg-href",n),e},symbol:function(n,t,i,r,u,o){var s,c=this.symbols[n],c=c&&c(e(t),e(i),r,u,o),a=/^url\((.*?)\)$/,h,l;return c?(s=this.path(c),f(s,{symbolName:n,x:t,y:i,width:r,height:u}),o&&f(s,o)):a.test(n)&&(l=function(n,t){n.element&&(n.attr({width:t[0],height:t[1]}),n.alignByTranslate||n.translate(e((r-t[0])/2),e((u-t[1])/2)))},h=n.match(a)[1],n=cf[h]||o&&o.width&&o.height&&[o.width,o.height],s=this.image(h).attr({x:t,y:i}),s.isImg=!0,n?l(s,n):(s.attr({width:0,height:0}),ct("img",{onload:function(){l(s,cf[h]=[this.width,this.height])},src:h}))),s},symbols:{circle:function(n,t,i,r){var u=.166*i;return["M",n+i/2,t,"C",n+i+u,t,n+i+u,t+r,n+i/2,t+r,"C",n-u,t+r,n-u,t,n+i/2,t,"Z"]},square:function(n,t,i,r){return["M",n,t,"L",n+i,t,n+i,t+r,n,t+r,"Z"]},triangle:function(n,t,i,r){return["M",n+i/2,t,"L",n+i,t+r,n,t+r,"Z"]},"triangle-down":function(n,t,i,r){return["M",n,t,"L",n+i,t,n+i/2,t+r,"Z"]},diamond:function(n,t,i,r){return["M",n+i/2,t,"L",n+i,t+r/2,n+i/2,t+r,n,t+r/2,"Z"]},arc:function(n,t,i,r,u){var e=u.start,i=u.r||i||r,f=u.end-.001,r=u.innerR,o=u.open,s=lt(e),h=wt(e),c=lt(f),f=wt(f),u=u.end-e<fi?0:1;return["M",n+i*s,t+i*h,"A",i,i,0,u,1,n+i*c,t+i*f,o?"M":"L",n+r*c,t+r*f,"A",r,r,0,u,0,n+r*s,t+r*h,o?"":"Z"]},callout:function(n,t,i,r,u){var f=l(u&&u.r||0,i,r),h=f+6,o=u&&u.anchorX,s=u&&u.anchorY,u=e(u.strokeWidth||0)%2/2;return n+=u,t+=u,u=["M",n+f,t,"L",n+i-f,t,"C",n+i,t,n+i,t,n+i,t+f,"L",n+i,t+r-f,"C",n+i,t+r,n+i,t+r,n+i-f,t+r,"L",n+f,t+r,"C",n,t+r,n,t+r,n,t+r-f,"L",n,t+f,"C",n,t,n,t,n+f,t],o&&o>i&&s>t+h&&s<t+r-h?u.splice(13,3,"L",n+i,s-6,n+i+6,s,n+i,s+6,n+i,t+r-f):o&&o<0&&s>t+h&&s<t+r-h?u.splice(33,3,"L",n,s+6,n-6,s,n,s-6,n,t+f):s&&s>r&&o>n+h&&o<n+i-h?u.splice(23,3,"L",o+6,t+r,o,t+r+6,o-6,t+r,n+f,t+r):s&&s<0&&o>n+h&&o<n+i-h&&u.splice(3,3,"L",o-6,t,o,t-6,o+6,t,i-f,t),u}},clipRect:function(n,t,i,r){var u="highcharts-"+wu++,f=this.createElement("clipPath").attr({id:u}).add(this.defs),n=this.rect(n,t,i,r,0).add(f);return n.id=u,n.clipPath=f,n},text:function(n,t,i,r){var f=bt||!vt&&this.forExport,u={};return r&&!this.forExport?this.html(n,t,i):(u.x=Math.round(t||0),i&&(u.y=Math.round(i)),(n||n===0)&&(u.text=n),n=this.createElement("text").attr(u),f&&n.css({position:"absolute"}),r||(n.xSetter=function(n,t,i){for(var f=i.getElementsByTagName("tspan"),u,e=i.getAttribute(t),r=0;r<f.length;r++)u=f[r],u.getAttribute(t)===e&&u.setAttribute(t,n);i.setAttribute(t,n)}),n)},fontMetrics:function(n,t){n=n||this.style.fontSize;t&&k.getComputedStyle&&(t=t.element||t,n=k.getComputedStyle(t,"").fontSize);var n=/px/.test(n)?h(n):/em/.test(n)?parseFloat(n)*12:12,i=n<24?n+4:e(n*1.2),r=e(i*.8);return{h:i,b:r,f:n}},label:function(n,r,s,h,c,l,a,v,y){function yt(){var n,t;n=w.element.style;d=(nt===void 0||ht===void 0||p.styles.textAlign)&&w.textStr&&w.getBBox();p.width=(nt||d.width||0)+2*k+ot;p.height=(ht||d.height||0)+2*k;at=k+g.fontMetrics(n&&n.fontSize,w).b;vt&&(b||(n=e(-rt*k),t=v?-at:0,p.box=b=h?g.symbol(h,n,t,p.width,p.height,ft):g.rect(n,t,p.width,p.height,0,ft[kf]),b.attr("fill",ut).add(p)),b.isImg||b.attr(f({width:e(p.width),height:e(p.height)},ft)),ft=null)}function et(){var n=p.styles,n=n&&n.textAlign,r=ot+k*(1-rt),t;t=v?0:at;i(nt)&&d&&(n==="center"||n==="right")&&(r+={center:.5,right:1}[n]*(nt-d.width));(r!==w.x||t!==w.y)&&(w.attr("x",r),t!==u&&w.attr("y",t));w.x=r;w.y=t}function tt(n,t){b?b.attr(n,t):ft[n]=t}var g=this,p=g.g(y),w=g.text("",0,0,a).attr({zIndex:1}),b,d,rt=0,k=3,ot=0,nt,ht,ct,lt,pt=0,ft={},at,vt,wt;return p.onAdd=function(){w.add(p);p.attr({text:n||n===0?n:"",x:r,y:s});b&&i(c)&&p.attr({anchorX:c,anchorY:l})},p.widthSetter=function(n){nt=n},p.heightSetter=function(n){ht=n},p.paddingSetter=function(n){i(n)&&n!==k&&(k=n,et())},p.paddingLeftSetter=function(n){i(n)&&n!==ot&&(ot=n,et())},p.alignSetter=function(n){rt={left:0,center:.5,right:1}[n]},p.textSetter=function(n){n!==u&&w.textSetter(n);yt();et()},p["stroke-widthSetter"]=function(n,t){n&&(vt=!0);pt=n%2/2;tt(t,n)},p.strokeSetter=p.fillSetter=p.rSetter=function(n,t){t==="fill"&&n&&(vt=!0);tt(t,n)},p.anchorXSetter=function(n,t){c=n;tt(t,n+pt-ct)},p.anchorYSetter=function(n,t){l=n;tt(t,n-lt)},p.xSetter=function(n){p.x=n;rt&&(n-=rt*((nt||d.width)+k));ct=e(n);p.attr("translateX",ct)},p.ySetter=function(n){lt=p.y=e(n);p.attr("translateY",lt)},wt=p.css,f(p,{css:function(n){if(n){var i={},n=o(n);t(p.textProps,function(t){n[t]!==u&&(i[t]=n[t],delete n[t])});w.css(i)}return wt.call(p,n)},getBBox:function(){return{width:d.width+2*k,height:d.height+2*k,x:d.x-k,y:d.y-k}},shadow:function(n){return b&&b.shadow(n),p},destroy:function(){st(p.element,"mouseenter");st(p.element,"mouseleave");w&&(w=w.destroy());b&&(b=b.destroy());it.prototype.destroy.call(p);p=g=yt=et=tt=null}})}},dr=ei,f(it.prototype,{htmlCss:function(n){var t=this.element;return(t=n&&t.tagName==="SPAN"&&n.width)&&(delete n.width,this.textWidth=t,this.updateTransform()),this.styles=f(this.styles,n),a(this.element,n),this},htmlGetBBox:function(){var n=this.element,t=this.bBox;return t||(n.nodeName==="text"&&(n.style.position="absolute"),t=this.bBox={x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var c=this.renderer,r=this.element,l=this.translateX||0,v=this.translateY||0,w=this.x||0,b=this.y||0,o=this.textAlign||"left",y={left:0,center:.5,right:1}[o],u=this.shadows;if(a(r,{marginLeft:l,marginTop:v}),u&&t(u,function(n){a(n,{marginLeft:l+1,marginTop:v+1})}),this.inverted&&t(r.childNodes,function(n){c.invertChild(n,r)}),r.tagName==="SPAN"){var f=this.rotation,e,s=h(this.textWidth),p=[f,o,r.innerHTML,this.textWidth].join(",");p!==this.cTT&&(e=c.fontMetrics(r.style.fontSize).b,i(f)&&this.setSpanRotation(f,y,e),u=n(this.elemWidth,r.offsetWidth),u>s&&/[ \-]/.test(r.textContent||r.innerText)&&(a(r,{width:s+"px",display:"block",whiteSpace:"normal"}),u=s),this.getSpanCorrection(u,e,y,f,o));a(r,{left:w+(this.xCorr||0)+"px",top:b+(this.yCorr||0)+"px"});pu&&(e=r.offsetHeight);this.cTT=p}}else this.alignOnAdd=!0},setSpanRotation:function(n,t,i){var r={},u=gi?"-ms-transform":pu?"-webkit-transform":pr?"MozTransform":sf?"-o-transform":"";r[u]=r.transform="rotate("+n+"deg)";r[u+(pr?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+i+"px";a(this.element,r)},getSpanCorrection:function(n,t,i){this.xCorr=-n*i;this.yCorr=-t}}),f(ei.prototype,{html:function(n,i,r){var u=this.createElement("span"),o=u.element,s=u.renderer;return u.textSetter=function(n){n!==o.innerHTML&&delete this.bBox;o.innerHTML=this.textStr=n},u.xSetter=u.ySetter=u.alignSetter=u.rotationSetter=function(n,t){t==="align"&&(t="textAlign");u[t]=n;u.htmlUpdateTransform()},u.attr({text:n,x:e(i),y:e(r)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),u.css=u.htmlCss,s.isSVG&&(u.add=function(n){var i,r=s.box.parentNode,e=[];if(this.parentGroup=n){if(i=n.div,!i){for(;n;)e.push(n),n=n.parentGroup;t(e.reverse(),function(n){var t;i=n.div=n.div||ct(er,{className:g(n.element,"class")},{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px"},i||r);t=i.style;f(n,{translateXSetter:function(i,r){t.left=i+"px";n[r]=i;n.doTransform=!0},translateYSetter:function(i,r){t.top=i+"px";n[r]=i;n.doTransform=!0},visibilitySetter:function(n,i){t[i]=n}})})}}else i=r;return i.appendChild(o),u.added=!0,u.alignOnAdd&&u.htmlUpdateTransform(),u}),u}}),vt||bt||(ht={init:function(n,t){var i=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],u=t===er;(t==="shape"||u)&&r.push("left:0;top:0;width:1px;height:1px;");r.push("visibility: ",u?"hidden":"visible");i.push(' style="',r.join(""),'"/>');t&&(i=u||t==="span"||t==="img"?i.join(""):n.prepVML(i),this.element=ct(i));this.renderer=n},add:function(n){var i=this.renderer,r=this.element,t=i.box,t=n?n.element||n:t;return n&&n.inverted&&i.invertChild(r,t),t.appendChild(r),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:it.prototype.htmlUpdateTransform,setSpanRotation:function(){var n=this.rotation,t=lt(n*di),i=wt(n*di);a(this.element,{filter:n?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-i,", M21=",i,", M22=",t,", sizingMethod='auto expand')"].join(""):ut})},getSpanCorrection:function(t,i,r,u,f){var e=u?lt(u*di):1,o=u?wt(u*di):0,h=n(this.elemHeight,this.element.offsetHeight),s;this.xCorr=e<0&&-t;this.yCorr=o<0&&-h;s=e*o<0;this.xCorr+=o*i*(s?1-r:r);this.yCorr-=e*i*(u?s?r:1-r:1);f&&f!=="left"&&(this.xCorr-=t*r*(e<0?-1:1),u&&(this.yCorr-=h*r*(o<0?-1:1)),a(this.element,{textAlign:f}))},pathToVML:function(n){for(var t=n.length,i=[];t--;)ni(n[t])?i[t]=e(n[t]*10)-5:n[t]==="Z"?i[t]="x":(i[t]=n[t],n.isArc&&(n[t]==="wa"||n[t]==="at"))&&(i[t+5]===i[t+7]&&(i[t+7]+=n[t+7]>n[t+5]?1:-1),i[t+6]===i[t+8]&&(i[t+8]+=n[t+8]>n[t+6]?1:-1));return i.join(" ")||"x"},clip:function(n){var t=this,i;return n?(i=n.members,ii(i,t),i.push(t),t.destroyClip=function(){ii(i,t)},n=n.getCSS(t)):(t.destroyClip&&t.destroyClip(),n={clip:uu?"inherit":"rect(auto)"}),t.css(n)},css:it.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&ar(n)},destroy:function(){return this.destroyClip&&this.destroyClip(),it.prototype.destroy.apply(this)},on:function(n,t){return this.element["on"+n]=function(){var n=k.event;n.target=n.srcElement;t(n)},this},cutOffPath:function(n,t){var i,n=n.split(/[ ,]/);return i=n.length,(i===9||i===11)&&(n[i-4]=n[i-2]=h(n[i-2])-10*t),n.join(" ")},shadow:function(t,i,r){var v=[],f,e=this.element,y=this.renderer,u,p=e.style,s,o=e.path,c,l,a,w;if(o&&typeof o.value!="string"&&(o="x"),l=o,t){for(a=n(t.width,3),w=(t.opacity||.15)/a,f=1;f<=3;f++)c=a*2+1-2*f,r&&(l=this.cutOffPath(o.value,c+.5)),s=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',l,'" coordsize="10 10" style="',e.style.cssText,'" />'],u=ct(y.prepVML(s),null,{left:h(p.left)+n(t.offsetX,1),top:h(p.top)+n(t.offsetY,1)}),r&&(u.cutOff=c+1),s=['<stroke color="',t.color||"black",'" opacity="',w*f,'"/>'],ct(y.prepVML(s),null,null,u),i?i.element.appendChild(u):e.parentNode.insertBefore(u,e),v.push(u);this.shadows=v}return this},updateShadows:hi,setAttr:function(n,t){uu?this.element[n]=t:this.element.setAttribute(n,t)},classSetter:function(n){this.element.className=n},dashstyleSetter:function(n,t,i){(i.getElementsByTagName("stroke")[0]||ct(this.renderer.prepVML(["<stroke/>"]),null,null,i))[t]=n||"solid";this[t]=n},dSetter:function(n,t,i){var r=this.shadows,n=n||[];if(this.d=n.join&&n.join(" "),i.path=n=this.pathToVML(n),r)for(i=r.length;i--;)r[i].path=r[i].cutOff?this.cutOffPath(n,r[i].cutOff):n;this.setAttr(t,n)},fillSetter:function(n,t,i){var r=i.nodeName;r==="SPAN"?i.style.color=n:r!=="IMG"&&(i.filled=n!==ut,this.setAttr("fillcolor",this.renderer.color(n,i,t,this)))},opacitySetter:hi,rotationSetter:function(n,t,i){i=i.style;this[t]=i[t]=n;i.left=-e(wt(n*di)+1)+"px";i.top=e(lt(n*di))+"px"},strokeSetter:function(n,t,i){this.setAttr("strokecolor",this.renderer.color(n,i,t))},"stroke-widthSetter":function(n,t,i){i.stroked=!!n;this[t]=n;ni(n)&&(n+="px");this.setAttr("strokeweight",n)},titleSetter:function(n,t){this.setAttr(t,n)},visibilitySetter:function(n,i,r){n==="inherit"&&(n="visible");this.shadows&&t(this.shadows,function(t){t.style[i]=n});r.nodeName==="DIV"&&(n=n==="hidden"?"-999em":0,uu||(r.style[i]=n?"visible":"hidden"),i="top");r.style[i]=n},xSetter:function(n,t,i){this[t]=n;t==="x"?t="left":t==="y"&&(t="top");this.updateClipping?(this[t]=n,this.updateClipping()):i.style[t]=n},zIndexSetter:function(n,t,i){i.style[t]=n}},tt.VMLElement=ht=ri(it,ht),ht.prototype.ySetter=ht.prototype.widthSetter=ht.prototype.heightSetter=ht.prototype.xSetter,kt={Element:ht,isIE8:li.indexOf("MSIE 8.0")>-1,init:function(n,t,i,r){var u;if(this.alignedObjects=[],r=this.createElement(er).css(f(this.getStyle(r),{position:"relative"})),u=r.element,n.appendChild(r.element),this.isVML=!0,this.box=u,this.boxWrapper=r,this.cache={},this.setSize(t,i,!1),!s.namespaces.hcv){s.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{s.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(e){s.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(n,i,r,u){var s=this.createElement(),o=yt(n);return f(s,{members:[],left:(o?n.x:n)+1,top:(o?n.y:i)+1,width:(o?n.width:r)-1,height:(o?n.height:u)-1,getCSS:function(n){var t=n.element,o=t.nodeName,n=n.inverted,i=this.top-(o==="shape"?t.offsetTop:0),r=this.left,t=r+this.width,u=i+this.height,i={clip:"rect("+e(n?r:i)+"px,"+e(n?u:t)+"px,"+e(n?t:u)+"px,"+e(n?i:r)+"px)"};return!n&&uu&&o==="DIV"&&f(i,{width:t+"px",height:u+"px"}),i},updateClipping:function(){t(s.members,function(n){n.element&&n.css(s.getCSS(n))})}})},color:function(n,i,r,u){var lt=this,s,b=/^rgba/,v,c,f=ut;if(n&&n.linearGradient?c="gradient":n&&n.radialGradient&&(c="pattern"),c){var h,y,e=n.linearGradient||n.radialGradient,l,k,d,g,tt,p="",n=n.stops,w,it=[],rt=function(){v=['<fill colors="'+it.join(",")+'" opacity="',d,'" o:opacity2="',k,'" type="',c,'" ',p,'focus="100%" method="any" />'];ct(lt.prepVML(v),null,null,i)};if(l=n[0],w=n[n.length-1],l[0]>0&&n.unshift([0,l[1]]),w[0]<1&&n.push([1,w[1]]),t(n,function(n,t){b.test(n[1])?(s=yi(n[1]),h=s.get("rgb"),y=s.get("a")):(h=n[1],y=1);it.push(n[0]*100+"% "+h);t?(d=y,g=h):(k=y,tt=h)}),r==="fill")if(c==="gradient")r=e.x1||e[0]||0,n=e.y1||e[1]||0,l=e.x2||e[2]||0,e=e.y2||e[3]||0,p='angle="'+(90-et.atan((e-n)/(l-r))*180/fi)+'"',rt();else{var f=e.r,ft=f*2,ot=f*2,st=e.cx,ht=e.cy,a=i.radialReference,o,f=function(){a&&(o=u.getBBox(),st+=(a[0]-o.x)/o.width-.5,ht+=(a[1]-o.y)/o.height-.5,ft*=a[2]/o.width,ot*=a[2]/o.height);p='src="'+nt.global.VMLRadialGradientURL+'" size="'+ft+","+ot+'" origin="0.5,0.5" position="'+st+","+ht+'" color2="'+tt+'" ';rt()};u.added?f():u.onAdd=f;f=g}else f=h}else b.test(n)&&i.tagName!=="IMG"?(s=yi(n),v=["<",r,' opacity="',s.get("a"),'"/>'],ct(this.prepVML(v),null,null,i),f=s.get("rgb")):(f=i.getElementsByTagName(r),f.length&&(f[0].opacity=1,f[0].type="solid"),f=n);return f},prepVML:function(n){var t=this.isIE8,n=n.join("");return t?(n=n.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),n=n.indexOf('style="')===-1?n.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):n.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):n=n.replace("<","<hcv:"),n},text:ei.prototype.html,path:function(n){var t={coordsize:"10 10"};return ir(n)?t.d=n:yt(n)&&f(t,n),this.createElement("shape").attr(t)},circle:function(n,t,i){var r=this.symbol("circle");return yt(n)&&(i=n.r,t=n.y,n=n.x),r.isCircle=!0,r.r=i,r.attr({x:n,y:t})},g:function(n){var t;return n&&(t={className:"highcharts-"+n,"class":"highcharts-"+n}),this.createElement(er).attr(t)},image:function(n,t,i,r,u){var f=this.createElement("img").attr({src:n});return arguments.length>1&&f.attr({x:t,y:i,width:r,height:u}),f},createElement:function(n){return n==="rect"?this.symbol(n):ei.prototype.createElement.call(this,n)},invertChild:function(n,i){var f=this,u=i.style,r=n.tagName==="IMG"&&n.style;a(n,{flip:"x",left:h(u.width)-(r?h(r.top):1),top:h(u.height)-(r?h(r.left):1),rotation:-90});t(n.childNodes,function(t){f.invertChild(t,n)})},symbols:{arc:function(n,t,i,r,u){var f=u.start,o=u.end,e=u.r||i||r,i=u.innerR,r=lt(f),s=wt(f),h=lt(o),c=wt(o);return o-f==0?["x"]:(f=["wa",n-e,t-e,n+e,t+e,n+e*r,t+e*s,n+e*h,t+e*c],u.open&&!i&&f.push("e","M",n,t),f.push("at",n-i,t-i,n+i,t+i,n+i*h,t+i*c,n+i*r,t+i*s,"x","e"),f.isArc=!0,f)},circle:function(n,t,i,r,u){return u&&(i=r=2*u.r),u&&u.isCircle&&(n-=i/2,t-=r/2),["wa",n,t,n+i,t+r,n+i,t+r/2,n+i,t+r/2,"e"]},rect:function(n,t,r,u,f){return ei.prototype.symbols[!i(f)||!f.r?"square":"callout"].call(0,n,t,r,u,f)}}},tt.VMLRenderer=ht=function(){this.init.apply(this,arguments)},ht.prototype=o(ei.prototype,kt),dr=ht),ei.prototype.measureSpanWidth=function(n,t){var i=s.createElement("span"),r;return r=s.createTextNode(n),i.appendChild(r),a(i,t),this.box.appendChild(i),r=i.offsetWidth,ar(i),r},bt&&(tt.CanVGRenderer=ht=function(){ai="http://www.w3.org/1999/xhtml"},ht.prototype.symbols={},pf=function(){function t(){for(var i=n.length,t=0;t<i;t++)n[t]();n=[]}var n=[];return{push:function(i,r){n.length===0&&df(r,t);n.push(i)}}}(),dr=ht),yr.prototype={addLabel:function(){var t=this.axis,h=t.options,c=t.chart,a=t.horiz,s=t.categories,p=t.names,u=this.pos,o=h.labels,y=o.rotation,l=t.tickPositions,a=a&&s&&!o.step&&!o.staggerLines&&!o.rotation&&c.plotWidth/l.length||!a&&(c.margin[3]||c.chartWidth*.33),b=u===l[0],k=u===l[l.length-1],v,p=s?n(s[u],p[u],u):u,s=this.label,w=l.info;t.isDatetimeAxis&&w&&(v=h.dateTimeLabelFormats[w.higherRanks[u]||w.unitName]);this.isFirst=b;this.isLast=k;h=t.labelFormatter.call({axis:t,chart:c,isFirst:b,isLast:k,dateTimeLabelFormat:v,value:t.isLog?pt(ti(p)):p});u=a&&{width:r(1,e(a-2*(o.padding||10)))+"px"};i(s)?s&&s.attr({text:h}).css(u):(v={align:t.labelAlign},ni(y)&&(v.rotation=y),a&&o.ellipsis&&(u.HcHeight=t.len/l.length),this.label=s=i(h)&&o.enabled?c.renderer.text(h,0,0,o.useHTML).attr(v).css(f(u,o.style)).add(t.labelGroup):null,t.tickBaseline=c.renderer.fontMetrics(o.style.fontSize,s).b,y&&t.side===2&&(t.tickBaseline*=lt(y*di)));this.yOffset=s?n(o.y,t.tickBaseline+(t.side===2?8:-(s.getBBox().height/2))):0},getLabelSize:function(){var n=this.label,t=this.axis;return n?n.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var n=this.label.getBBox(),t=this.axis,i=t.horiz,r=t.options.labels,n=i?n.width:n.height,t=i?r.x-n*{left:0,center:.5,right:1}[t.labelAlign]:0;return[t,i?n+t:n]},handleOverflow:function(n,t){var h=!0,i=this.axis,c=this.isFirst,a=this.isLast,f=i.horiz?t.x:t.y,v=i.reversed,y=i.tickPositions,s=this.getLabelSides(),l=s[0],s=s[1],o,e,r,p=this.label.line;if(o=p||0,e=i.labelEdge,r=i.justifyLabels&&(c||a),e[o]===u||f+l>e[o]?e[o]=f+s:r||(h=!1),r){o=(e=i.justifyToPlot)?i.pos:0;e=e?o+i.len:i.chart.chartWidth;do n+=c?1:-1,r=i.ticks[y[n]];while(y[n]&&(!r||!r.label||r.label.line!==p));i=r&&r.label.xy&&r.label.xy.x+r.getLabelSides()[c?0:1];c&&!v||a&&v?f+l<o&&(f=o-l,r&&f+s>i&&(h=!1)):f+s>e&&(f=e-s,r&&f+l<i&&(h=!1));t.x=f}return h},getPosition:function(n,t,i,r){var u=this.axis,f=u.chart,e=r&&f.oldChartHeight||f.chartHeight;return{x:n?u.translate(t+i,null,null,r)+u.transB:u.left+u.offset+(u.opposite?(r&&f.oldChartWidth||f.chartWidth)-u.right-u.left:0),y:n?e-u.bottom+u.offset-(u.opposite?u.height:0):e-u.translate(t+i,null,null,r)-u.transB}},getLabelPosition:function(n,t,i,r,u,f,e,o){var s=this.axis,c=s.transA,l=s.reversed,h=s.staggerLines,n=n+u.x-(f&&r?f*c*(l?-1:1):0),t=t+this.yOffset-(f&&!r?f*c*(l?1:-1):0);return h&&(i.line=e/(o||1)%h,t+=i.line*(s.labelOffset/h)),{x:n,y:t}},getMarkPath:function(n,t,i,r,u,f){return f.crispLine(["M",n,t,"L",n+(u?0:-i),t+(u?i:0)],r)},render:function(t,i,r){var f=this.axis,e=f.options,g=f.chart.renderer,y=f.horiz,h=this.type,p=this.label,c=this.pos,w=e.labels,s=this.gridLine,l=h?h+"Grid":"grid",a=h?h+"Tick":"tick",b=e[l+"LineWidth"],ut=e[l+"LineColor"],it=e[l+"LineDashStyle"],v=e[a+"Length"],l=e[a+"Width"]||0,ft=e[a+"Color"],et=e[a+"Position"],a=this.mark,nt=w.step,k=!0,tt=f.tickmarkOffset,o=this.getPosition(y,c,tt,i),d=o.x,o=o.y,rt=y&&d===f.pos+f.len||!y&&o===f.pos?-1:1,r=n(r,1);this.isActive=!0;b&&(c=f.getPlotLinePath(c+tt,b*rt,i,!0),s===u&&(s={stroke:ut,"stroke-width":b},it&&(s.dashstyle=it),h||(s.zIndex=1),i&&(s.opacity=0),this.gridLine=s=b?g.path(c).attr(s).add(f.gridGroup):null),!i&&s&&c&&s[this.isNew?"attr":"animate"]({d:c,opacity:r}));l&&v&&(et==="inside"&&(v=-v),f.opposite&&(v=-v),h=this.getMarkPath(d,o,v,l*rt,y,g),a?a.animate({d:h,opacity:r}):this.mark=g.path(h).attr({stroke:ft,"stroke-width":l,opacity:r}).add(f.axisGroup));p&&!isNaN(d)&&(p.xy=o=this.getLabelPosition(d,o,p,y,w,tt,t,nt),this.isFirst&&!this.isLast&&!n(e.showFirstLabel,1)||this.isLast&&!this.isFirst&&!n(e.showLastLabel,1)?k=!1:!f.isRadial&&!w.step&&!w.rotation&&!i&&r!==0&&(k=this.handleOverflow(t,o)),nt&&t%nt&&(k=!1),k&&!isNaN(o.y)?(o.opacity=r,p[this.isNew?"attr":"animate"](o),this.isNew=!1):p.attr("y",-9999))},destroy:function(){lr(this,this.axis)}},tt.PlotLineOrBand=function(n,t){this.axis=n;t&&(this.options=t,this.id=t.id)},tt.PlotLineOrBand.prototype={render:function(){var h=this,t=h.axis,a=t.horiz,w=(t.pointRange||0)/2,u=h.options,e=u.label,c=h.label,k=u.width,y=u.to,p=u.from,f=i(p)&&i(y),d=u.value,tt=u.dashStyle,v=h.svgElem,n=[],it,g=u.color,b=u.zIndex,nt=u.events,s={},rt=t.chart.renderer;if(t.isLog&&(p=wi(p),y=wi(y),d=wi(d)),k)(n=t.getPlotLinePath(d,k),s={stroke:g,"stroke-width":k},tt)&&(s.dashstyle=tt);else if(f)p=r(p,t.min-w),y=l(y,t.max+w),n=t.getPlotBandPath(p,y,u),g&&(s.fill=g),u.borderWidth&&(s.stroke=u.borderColor,s["stroke-width"]=u.borderWidth);else return;if(i(b)&&(s.zIndex=b),v)n?v.animate({d:n},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()},c)&&(h.label=c=c.destroy());else if(n&&n.length&&(h.svgElem=v=rt.path(n).attr(s).add(),nt))for(it in w=function(n){v.on(n,function(t){nt[n].apply(h,[t])})},nt)w(it);return e&&i(e.text)&&n&&n.length&&t.width>0&&t.height>0?(e=o({align:a&&f&&"center",x:a?!f&&4:10,verticalAlign:!a&&f&&"middle",y:a?f?16:10:f?6:-4,rotation:a&&!f&&90},e),c||(s={align:e.textAlign||e.align,rotation:e.rotation},i(b)&&(s.zIndex=b),h.label=c=rt.text(e.text,0,0,e.useHTML).attr(s).css(e.style).add()),t=[n[1],n[4],f?n[6]:n[1]],f=[n[2],n[5],f?n[7]:n[2]],n=cr(t),a=cr(f),c.align(e,!1,{x:n,y:a,width:ki(t)-n,height:ki(f)-a}),c.show()):c&&c.hide(),h},destroy:function(){ii(this.axis.plotLinesAndBands,this);delete this.axis;lr(this)}},ui.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:d,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return bi(this.total,-1)},style:d.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(t,r){var e=r.isX,o,s,f;this.horiz=t.inverted?!e:e;this.coll=(this.isXAxis=e)?"xAxis":"yAxis";this.opposite=r.opposite;this.side=r.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(r);f=this.options;o=f.type;this.labelFormatter=f.labels.formatter||this.defaultLabelFormatter;this.userOptions=r;this.minPixelPadding=0;this.chart=t;this.reversed=f.reversed;this.zoomEnabled=f.zoomEnabled!==!1;this.categories=f.categories||o==="category";this.names=[];this.isLog=o==="logarithmic";this.isDatetimeAxis=o==="datetime";this.isLinked=i(f.linkedTo);this.tickmarkOffset=this.categories&&f.tickmarkPlacement==="between"&&n(f.tickInterval,1)===1?.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=f.minRange||f.maxZoom;this.range=f.range;this.offset=f.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=n(f.crosshair,si(t.options.tooltip.crosshairs)[e?0:1],!1);f=this.options.events;or(this,t.axes)===-1&&(e&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this));this.series=this.series||[];t.inverted&&e&&this.reversed===u&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in f)b(this,s,f[s]);this.isLog&&(this.val2lin=wi,this.lin2val=ti)},setOptions:function(n){this.options=o(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],o(nt[this.coll],n))},defaultLabelFormatter:function(){var i=this.axis,t=this.value,f=i.categories,o=this.dateTimeLabelFormat,e=nt.lang.numericSymbols,r=e&&e.length,n,s=i.options.labels.format,i=i.isLog?t:i.tickInterval;if(s)n=ur(s,this);else if(f)n=t;else if(o)n=eu(o,t);else if(r&&i>=1e3)for(;r--&&n===u;)f=Math.pow(1e3,r+1),i>=f&&e[r]!==null&&(n=bi(t/f,-1)+e[r]);return n===u&&(n=p(t)>=1e4?bi(t,0):bi(t,-1,u,"")),n},getSeriesExtremes:function(){var u=this,f=u.chart;u.hasVisibleSeries=!1;u.dataMin=u.dataMax=u.ignoreMinPadding=u.ignoreMaxPadding=null;u.buildStacks&&u.buildStacks();t(u.series,function(t){var e,o;(t.visible||!f.options.chart.ignoreHiddenSeries)&&(e=t.options.threshold,u.hasVisibleSeries=!0,u.isLog&&e<=0&&(e=null),u.isXAxis?(e=t.xData,e.length)&&(u.dataMin=l(n(u.dataMin,e[0]),cr(e)),u.dataMax=r(n(u.dataMax,e[0]),ki(e))):(t.getExtremes(),o=t.dataMax,t=t.dataMin,i(t)&&i(o)&&(u.dataMin=l(n(u.dataMin,t),t),u.dataMax=r(n(u.dataMax,o),o)),i(e)&&(u.dataMin>=e?(u.dataMin=e,u.ignoreMinPadding=!0):u.dataMax<e&&(u.dataMax=e,u.ignoreMaxPadding=!0))))})},translate:function(n,t,i,r,u,f){var e=1,s=0,o=r?this.oldTransA:this.transA,r=r?this.oldMin:this.min,h=this.minPixelPadding,u=(this.options.ordinal||this.isLog&&u)&&this.lin2val;return o||(o=this.transA),i&&(e*=-1,s=this.len),this.reversed&&(e*=-1,s-=e*(this.sector||this.len)),t?(n=n*e+s,n-=h,n=n/o+r,u&&(n=this.lin2val(n))):(u&&(n=this.val2lin(n)),f==="between"&&(f=.5),n=e*(n-r)*o+s+e*h+(ni(f)?o*f*this.pointRange:0)),n},toPixels:function(n,t){return this.translate(n,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(n,t){return this.translate(n-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,i,r,u,f){var s=this.chart,c=this.left,l=this.top,o,a,v=r&&s.oldChartHeight||s.chartHeight,y=r&&s.oldChartWidth||s.chartWidth,h;return o=this.transB,f=n(f,this.translate(t,null,null,r)),t=r=e(f+o),o=a=e(v-f-o),isNaN(f)?h=!0:this.horiz?(o=l,a=v-this.bottom,t<c||t>c+this.width)&&(h=!0):(t=c,r=y-this.right,o<l||o>l+this.height)&&(h=!0),h&&!u?null:s.renderer.crispLine(["M",t,o,"L",r,a],i||1)},getLinearTickPositions:function(n,t,i){var r,f=pt(ft(t/n)*n),e=pt(fr(i/n)*n),u=[];if(t===i&&ni(t))return[t];for(t=f;t<=e;){if(u.push(t),t=pt(t+n),t===r)break;r=t}return u},getMinorTickPositions:function(){var i=this.options,n=this.tickPositions,r=this.minorTickInterval,t=[],u;if(this.isLog)for(u=n.length,i=1;i<u;i++)t=t.concat(this.getLogTickPositions(r,n[i-1],n[i],!0));else if(this.isDatetimeAxis&&i.minorTickInterval==="auto")t=t.concat(this.getTimeTicks(this.normalizeTimeTickInterval(r),this.min,this.max,i.startOfWeek)),t[0]<this.min&&t.shift();else for(n=this.min+(n[0]-this.min)%r;n<=this.max;n+=r)t.push(n);return t},adjustForMinRange:function(){var s=this.options,r=this.min,f=this.max,e,y=this.dataMax-this.dataMin>=this.minRange,c,h,v,a,p,o;this.isXAxis&&this.minRange===u&&!this.isLog&&(i(s.min)||i(s.max)?this.minRange=null:(t(this.series,function(n){for(a=n.xData,h=p=n.xIncrement?1:a.length-1;h>0;h--)(v=a[h]-a[h-1],c===u||v<c)&&(c=v)}),this.minRange=l(c*5,this.dataMax-this.dataMin)));f-r<this.minRange&&(o=this.minRange,e=(o-f+r)/2,e=[r-e,n(s.min,r-e)],y&&(e[2]=this.dataMin),r=ki(e),f=[r+o,n(s.max,r+o)],y&&(f[2]=this.dataMax),f=cr(f),f-r<o&&(e[0]=f-o,e[1]=n(s.min,f-o),r=ki(e)));this.min=r;this.max=f},setAxisTranslation:function(n){var u=this,c=u.max-u.min,h=u.axisPointRange||0,f,o=0,s=0,e=u.linkedParent,v=!!u.categories,a=u.transA;(u.isXAxis||v||h)&&(e?(o=e.minPointOffset,s=e.pointRangePadding):t(u.series,function(n){var t=v?1:u.isXAxis?n.pointRange:u.axisPointRange||0,a=n.options.pointPlacement,e=n.closestPointRange;t>c&&(t=0);h=r(h,t);o=r(o,tr(a)?0:t/2);s=r(s,a==="on"?0:t);!n.noSharedTooltip&&i(e)&&(f=i(f)?l(f,e):e)}),e=u.ordinalSlope&&f?u.ordinalSlope/f:1,u.minPointOffset=o*=e,u.pointRangePadding=s*=e,u.pointRange=l(h,c),u.closestPointRange=f);n&&(u.oldTransA=a);u.translationSlope=u.transA=a=u.len/(c+s||1);u.transB=u.horiz?u.left:u.bottom;u.minPixelPadding=a*o},setTickPositions:function(u){var f=this,o=f.chart,e=f.options,h=e.startOnTick,b=e.endOnTick,s=f.isLog,c=f.isDatetimeAxis,it=f.isXAxis,v=f.isLinked,k=f.options.tickPositioner,d=e.maxPadding,g=e.minPadding,a=e.tickInterval,nt=e.minTickInterval,y=e.tickPixelInterval,tt,w=f.categories;v?(f.linkedParent=o[f.coll][e.linkedTo],o=f.linkedParent.getExtremes(),f.min=n(o.min,o.dataMin),f.max=n(o.max,o.dataMax),e.type!==f.linkedParent.options.type&&dt(11,1)):(f.min=n(f.userMin,e.min,f.dataMin),f.max=n(f.userMax,e.max,f.dataMax));s&&(!u&&l(f.min,n(f.dataMin,f.min))<=0&&dt(10,1),f.min=pt(wi(f.min)),f.max=pt(wi(f.max)));f.range&&i(f.max)&&(f.userMin=f.min=r(f.min,f.max-f.range),f.userMax=f.max,f.range=null);f.beforePadding&&f.beforePadding();f.adjustForMinRange();w||f.axisPointRange||f.usePercentage||v||!i(f.min)||!i(f.max)||!(o=f.max-f.min)||(!i(e.min)&&!i(f.userMin)&&g&&(f.dataMin<0||!f.ignoreMinPadding)&&(f.min-=o*g),!i(e.max)&&!i(f.userMax)&&d&&(f.dataMax>0||!f.ignoreMaxPadding)&&(f.max+=o*d));ni(e.floor)&&(f.min=r(f.min,e.floor));ni(e.ceiling)&&(f.max=l(f.max,e.ceiling));f.min===f.max||f.min===void 0||f.max===void 0?f.tickInterval=1:v&&!a&&y===f.linkedParent.options.tickPixelInterval?f.tickInterval=f.linkedParent.tickInterval:(f.tickInterval=n(a,w?1:(f.max-f.min)*y/r(f.len,y)),!i(a)&&f.len<y&&!this.isRadial&&!this.isLog&&!w&&h&&b&&(tt=!0,f.tickInterval/=4));it&&!u&&t(f.series,function(n){n.processData(f.min!==f.oldMin||f.max!==f.oldMax)});f.setAxisTranslation(!0);f.beforeSetTickPositions&&f.beforeSetTickPositions();f.postProcessTickInterval&&(f.tickInterval=f.postProcessTickInterval(f.tickInterval));f.pointRange&&(f.tickInterval=r(f.pointRange,f.tickInterval));!a&&f.tickInterval<nt&&(f.tickInterval=nt);c||s||a||(f.tickInterval=vu(f.tickInterval,null,au(f.tickInterval),n(e.allowDecimals,!(f.tickInterval>1&&f.tickInterval<5&&f.max>1e3&&f.max<9999))));f.minorTickInterval=e.minorTickInterval==="auto"&&f.tickInterval?f.tickInterval/5:e.minorTickInterval;f.tickPositions=u=e.tickPositions?[].concat(e.tickPositions):k&&k.apply(f,[f.min,f.max]);u||(!f.ordinalPositions&&(f.max-f.min)/f.tickInterval>r(2*f.len,200)&&dt(19,!0),u=c?f.getTimeTicks(f.normalizeTimeTickInterval(f.tickInterval,e.units),f.min,f.max,e.startOfWeek,f.ordinalPositions,f.closestPointRange,!0):s?f.getLogTickPositions(f.tickInterval,f.min,f.max):f.getLinearTickPositions(f.tickInterval,f.min,f.max),tt&&u.splice(1,u.length-2),f.tickPositions=u);v||(e=u[0],s=u[u.length-1],c=f.minPointOffset||0,h?f.min=e:f.min-c>e&&u.shift(),b?f.max=s:f.max+c<s&&u.pop(),u.length===0&&i(e)&&u.push((s+e)/2),u.length===1&&(h=p(f.max)>1e13?1:.001,f.min-=h,f.max+=h))},setMaxTicks:function(){var i=this.chart,n=i.maxTicks||{},t=this.tickPositions,r=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&t&&t.length>(n[r]||0)&&this.options.alignTicks!==!1&&(n[r]=t.length);i.maxTicks=n},adjustTickAmount:function(){var n=this._maxTicksKey,t=this.tickPositions,r=this.chart.maxTicks,f,e;if(r&&r[n]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==u){if(f=this.tickAmount,e=t.length,this.tickAmount=n=r[n],e<n){for(;t.length<n;)t.push(pt(t[t.length-1]+this.tickInterval));this.transA*=(e-1)/(n-1);this.max=t[t.length-1]}i(f)&&n!==f&&(this.isDirty=!0)}},setScale:function(){var n=this.stacks,i,r,f,u;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),u=this.len!==this.oldAxisLength,t(this.series,function(n){(n.isDirtyData||n.isDirty||n.xAxis.isDirty)&&(f=!0)}),u||f||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(i in n)for(r in n[i])n[i][r].total=null,n[i][r].cum=0;this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;this.isDirty||(this.isDirty=u||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(n=this.stacks=this.oldStacks);for(i in n)for(r in n[i])n[i][r].cum=n[i][r].total}this.setMaxTicks()},setExtremes:function(t,i,r,u,e){var o=this,s=o.chart,r=n(r,!0),e=f(e,{min:t,max:i});y(o,"setExtremes",e,function(){o.userMin=t;o.userMax=i;o.eventArgs=e;o.isDirtyExtremes=!0;r&&s.redraw(u)})},zoom:function(t,f){var e=this.dataMin,o=this.dataMax,s=this.options;return this.allowZoomOutside||(i(e)&&t<=l(e,n(s.min,e))&&(t=u),i(o)&&f>=r(o,n(s.max,o))&&(f=u)),this.displayBtn=t!==u||f!==u,this.setExtremes(t,f,!1,u,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,i=this.options,e=i.offsetLeft||0,s=this.horiz,o=n(i.width,t.plotWidth-e+(i.offsetRight||0)),u=n(i.height,t.plotHeight),f=n(i.top,t.plotTop),i=n(i.left,t.plotLeft+e),e=/%$/;e.test(u)&&(u=parseInt(u,10)/100*t.plotHeight);e.test(f)&&(f=parseInt(f,10)/100*t.plotHeight+t.plotTop);this.left=i;this.top=f;this.width=o;this.height=u;this.bottom=t.chartHeight-u-f;this.right=t.chartWidth-o-i;this.len=r(s?o:u,0);this.pos=s?i:f},getExtremes:function(){var n=this.isLog;return{min:n?pt(ti(this.min)):this.min,max:n?pt(ti(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(n){var t=this.isLog,i=t?ti(this.min):this.min,t=t?ti(this.max):this.max;return i>n||n===null?n=i:t<n&&(n=t),this.translate(n,0,1,0,1)},autoLabelAlign:function(t){return t=(n(t,0)-this.side*90+720)%360,t>15&&t<165?"right":t>195&&t<345?"left":"center"},getOffset:function(){var f=this,v=f.chart,y=v.renderer,l=f.options,k=f.tickPositions,s=f.ticks,p=f.horiz,o=f.side,st=v.inverted?[1,0,3,2][o]:o,w,it,ht=0,rt,ct=0,e=l.title,h=l.labels,b=0,ut=v.axisOffset,v=v.clipOffset,et=[-1,1,1,-1][o],c,d=1,lt=n(h.maxStaggerLines,5),nt,ot,a,g,tt;if(f.hasData=w=f.hasVisibleSeries||i(f.min)&&i(f.max)&&!!k,f.showAxis=it=w||n(l.showEmpty,!0),f.staggerLines=f.horiz&&h.staggerLines,f.axisGroup||(f.gridGroup=y.g("grid").attr({zIndex:l.gridZIndex||1}).add(),f.axisGroup=y.g("axis").attr({zIndex:l.zIndex||2}).add(),f.labelGroup=y.g("axis-labels").attr({zIndex:h.zIndex||7}).addClass("highcharts-"+f.coll.toLowerCase()+"-labels").add()),w||f.isLinked){if(f.labelAlign=n(h.align||f.autoLabelAlign(h.rotation)),t(k,function(n){s[n]?s[n].addLabel():s[n]=new yr(f,n)}),f.horiz&&!f.staggerLines&&lt&&!h.rotation){for(w=f.reversed?[].concat(k).reverse():k;d<lt;){for(nt=[],ot=!1,c=0;c<w.length;c++)a=w[c],g=(g=s[a].label&&s[a].label.getBBox())?g.width:0,tt=c%d,g&&(a=f.translate(a),nt[tt]!==u&&a<nt[tt]&&(ot=!0),nt[tt]=a+g);if(ot)d++;else break}d>1&&(f.staggerLines=d)}t(k,function(n){(o===0||o===2||{1:"left",3:"right"}[o]===f.labelAlign)&&(b=r(s[n].getLabelSize(),b))});f.staggerLines&&(b*=f.staggerLines,f.labelOffset=b)}else for(c in s)s[c].destroy(),delete s[c];e&&e.text&&e.enabled!==!1&&(f.axisTitle||(f.axisTitle=y.text(e.text,0,0,e.useHTML).attr({zIndex:7,rotation:e.rotation||0,align:e.textAlign||{low:"left",middle:"center",high:"right"}[e.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(e.style).add(f.axisGroup),f.axisTitle.isNew=!0),it&&(ht=f.axisTitle.getBBox()[p?"height":"width"],rt=e.offset,ct=i(rt)?0:n(e.margin,p?5:10)),f.axisTitle[it?"show":"hide"]());f.offset=et*n(l.offset,ut[o]);y=o===2?f.tickBaseline:0;p=b+ct+(b&&et*(p?n(h.y,f.tickBaseline+8):h.x)-y);f.axisTitleMargin=n(rt,p);ut[o]=r(ut[o],f.axisTitleMargin+ht+et*f.offset,p);v[st]=r(v[st],ft(l.lineWidth/2)*2)},getLinePath:function(n){var t=this.chart,u=this.opposite,i=this.offset,r=this.horiz,f=this.left+(u?this.width:0)+i,i=t.chartHeight-this.bottom-(u?this.height:0)+i;return u&&(n*=-1),t.renderer.crispLine(["M",r?this.left:f,r?i:this.top,"L",r?t.chartWidth-this.right:f,r?i:t.chartHeight-this.bottom],n)},getTitlePosition:function(){var n=this.horiz,i=this.left,e=this.top,t=this.len,r=this.options.title,u=n?i:e,f=this.opposite,o=this.offset,s=h(r.style.fontSize||12),t={low:u+(n?0:t),middle:u+t/2,high:u+(n?t:0)}[r.align],i=(n?e+this.height:i)+(n?1:-1)*(f?-1:1)*this.axisTitleMargin+(this.side===2?s:0);return{x:n?t:i+(f?this.width:0)+o+(r.x||0),y:n?i-(f?this.height:0)+o:t+(r.y||0)}},render:function(){var n=this,h=n.horiz,b=n.reversed,a=n.chart,et=a.renderer,e=n.options,k=n.isLog,d=n.isLinked,c=n.tickPositions,o,l=n.axisTitle,r=n.ticks,s=n.minorTicks,f=n.alternateBands,g=e.stackLabels,nt=e.alternateGridColor,v=n.tickmarkOffset,y=e.lineWidth,it=a.hasRendered&&i(n.oldMin)&&!isNaN(n.oldMin),ot=n.hasData,rt=n.showAxis,p,ut=e.labels.overflow,ft=n.justifyLabels=h&&ut!==!1,w;n.labelEdge.length=0;n.justifyToPlot=ut==="justify";t([r,s,f],function(n){for(var t in n)n[t].isActive=!1});(ot||d)&&((n.minorTickInterval&&!n.categories&&t(n.getMinorTickPositions(),function(t){s[t]||(s[t]=new yr(n,t,"minor"));it&&s[t].isNew&&s[t].render(null,!0);s[t].render(null,!1,1)}),c.length&&(o=c.slice(),(h&&b||!h&&!b)&&o.reverse(),ft&&(o=o.slice(1).concat([o[0]])),t(o,function(t,i){ft&&(i=i===o.length-1?0:i+1);(!d||t>=n.min&&t<=n.max)&&(r[t]||(r[t]=new yr(n,t)),it&&r[t].isNew&&r[t].render(i,!0,.1),r[t].render(i))}),v&&n.min===0&&(r[-1]||(r[-1]=new yr(n,-1,null,!0)),r[-1].render(-1))),nt&&t(c,function(t,i){i%2==0&&t<n.max&&(f[t]||(f[t]=new tt.PlotLineOrBand(n)),p=t+v,w=c[i+1]!==u?c[i+1]+v:n.max,f[t].options={from:k?ti(p):p,to:k?ti(w):w,color:nt},f[t].render(),f[t].isActive=!0)}),n._addedPlotLB)||(t((e.plotLines||[]).concat(e.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0));t([r,s,f],function(n){var t,i,r=[],u=vi?vi.duration||500:0,e=function(){for(i=r.length;i--;)n[r[i]]&&!n[r[i]].isActive&&(n[r[i]].destroy(),delete n[r[i]])};for(t in n)n[t].isActive||(n[t].render(t,!1,0),n[t].isActive=!1,r.push(t));n===f||!a.hasRendered||!u?e():u&&setTimeout(e,u)});y&&(h=n.getLinePath(y),n.axisLine?n.axisLine.animate({d:h}):n.axisLine=et.path(h).attr({stroke:e.lineColor,"stroke-width":y,zIndex:7}).add(n.axisGroup),n.axisLine[rt?"show":"hide"]());l&&rt&&(l[l.isNew?"attr":"animate"](n.getTitlePosition()),l.isNew=!1);g&&g.enabled&&n.renderStackTotals();n.isDirty=!1},redraw:function(){this.render();t(this.plotLinesAndBands,function(n){n.render()});t(this.series,function(n){n.isDirty=!0})},destroy:function(n){var i=this,r=i.stacks,u,f=i.plotLinesAndBands;n||st(i);for(u in r)lr(r[u]),r[u]=null;for(t([i.ticks,i.minorTicks,i.alternateBands],function(n){lr(n)}),n=f.length;n--;)f[n].destroy();t("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(n){i[n]&&(i[n]=i[n].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(t,r){if(this.crosshair)if((i(r)||!n(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var u,f=this.crosshair,e=f.animation;n(f.snap,!0)?i(r)&&(u=this.chart.inverted!=this.horiz?r.plotX:this.len-r.plotY):u=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos;u=this.isRadial?this.getPlotLinePath(this.isXAxis?r.x:n(r.stackY,r.y)):this.getPlotLinePath(null,null,null,null,u);u===null?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[e?"animate":"attr"]({d:u},e):(e={"stroke-width":f.width||1,stroke:f.color||"#C0C0C0",zIndex:f.zIndex||2},f.dashStyle&&(e.dashstyle=f.dashStyle),this.cross=this.chart.renderer.path(u).attr(e).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},f(ui.prototype,{getPlotBandPath:function(n,t){var i=this.getPlotLinePath(t),r=this.getPlotLinePath(n);return r&&i?r.push(i[4],i[5],i[1],i[2]):r=null,r},addPlotBand:function(n){return this.addPlotBandOrLine(n,"plotBands")},addPlotLine:function(n){return this.addPlotBandOrLine(n,"plotLines")},addPlotBandOrLine:function(n,t){var i=new tt.PlotLineOrBand(this,n).render(),r=this.userOptions;return i&&(t&&(r[t]=r[t]||[],r[t].push(n)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(n){for(var r=this.plotLinesAndBands,u=this.options,f=this.userOptions,i=r.length;i--;)r[i].id===n&&r[i].destroy();t([u.plotLines||[],f.plotLines||[],u.plotBands||[],f.plotBands||[]],function(t){for(i=t.length;i--;)t[i].id===n&&ii(t,t[i])})}}),ui.prototype.getTimeTicks=function(r,u,e,o){var v=[],y={},p=nt.global.useUTC,a,s=new nr(u-wr),h=r.unitRange,l=r.count;if(i(u)){h>=c.second&&(s.setMilliseconds(0),s.setSeconds(h>=c.minute?0:l*ft(s.getSeconds()/l)));h>=c.minute&&s[lf](h>=c.hour?0:l*ft(s[ku]()/l));h>=c.hour&&s[af](h>=c.day?0:l*ft(s[du]()/l));h>=c.day&&s[nf](h>=c.month?1:l*ft(s[tu]()/l));h>=c.month&&(s[vf](h>=c.year?0:l*ft(s[su]()/l)),a=s[hu]());h>=c.year&&(a-=a%l,s[yf](a));h===c.week&&s[nf](s[tu]()-s[gu]()+n(o,1));u=1;wr&&(s=new nr(s.getTime()+wr));a=s[hu]();for(var o=s.getTime(),w=s[su](),b=s[tu](),k=(c.day+(p?wr:s.getTimezoneOffset()*6e4))%c.day;o<e;)v.push(o),h===c.year?o=ou(a+u*l,0):h===c.month?o=ou(a,w+u*l):!p&&(h===c.day||h===c.week)?o=ou(a,w,b+u*l*(h===c.day?1:7)):o+=h*l,u++;v.push(o);t(tf(v,function(n){return h<=c.hour&&n%c.day===k}),function(n){y[n]="day"})}return v.info=f(r,{higherRanks:y,totalRange:h*l}),v},ui.prototype.normalizeTimeTickInterval=function(n,t){for(var i=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],u=i[i.length-1],f=c[u[0]],o=u[1],e=0;e<i.length;e++)if(u=i[e],f=c[u[0]],o=u[1],i[e+1]&&n<=(f*o[o.length-1]+c[i[e+1][0]])/2)break;return f===c.year&&n<5*f&&(o=[1,2,5]),i=vu(n/f,o,u[0]==="year"?r(au(n/f),1):1),{unitRange:f,count:i,unitName:u[0]}},ui.prototype.getLogTickPositions=function(t,i,r,f){var s=this.options,o=this.len,c=[],l,y,a,h,v;if(f||(this._minorAutoInterval=null),t>=.5)t=e(t),c=this.getLinearTickPositions(t,i,r);else if(t>=.08)for(o=ft(i),s=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<r+1&&!v;o++)for(y=s.length,l=0;l<y&&!v;l++)a=wi(ti(o)*s[l]),a>i&&(!f||h<=r)&&h!==u&&c.push(h),h>r&&(v=!0),h=a;else(i=ti(i),r=ti(r),t=s[f?"minorTickInterval":"tickInterval"],t=n(t==="auto"?null:t,this._minorAutoInterval,(r-i)*(s.tickPixelInterval/(f?5:1))/((f?o/this.tickPositions.length:o)||1)),t=vu(t,null,au(t)),c=br(this.getLinearTickPositions(t,i,r),wi),f)||(this._minorAutoInterval=t/5);return f||(this.tickInterval=t),c},rf=tt.Tooltip=function(){this.init.apply(this,arguments)},rf.prototype={init:function(n,t){var r=t.borderWidth,i=t.style,u=h(i.padding);this.chart=n;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=n.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:u,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999});bt||this.label.shadow(t.shadow);this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(n,t,i,r){var e=this,o=e.now,s=e.options.animation!==!1&&!e.isHidden&&(p(n-o.x)>1||p(t-o.y)>1),h=e.followPointer||e.len>1;f(o,{x:s?(2*o.x+n)/3:n,y:s?(o.y+t)/2:t,anchorX:h?u:s?(2*o.anchorX+i)/3:i,anchorY:h?u:s?(o.anchorY+r)/2:r});e.label.attr(o);s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){e&&e.move(n,t,i,r)},32))},hide:function(i){var u=this,r;clearTimeout(this.hideTimer);this.isHidden||(r=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){u.label.fadeOut();u.isHidden=!0},n(i,this.options.hideDelay,500)),r&&t(r,function(n){n.setState()}),this.chart.hoverPoints=null)},getAnchor:function(n,i){var f,r=this.chart,o=r.inverted,c=r.plotTop,s=0,h=0,l,n=si(n);return f=n[0].tooltipPos,this.followPointer&&i&&(i.chartX===u&&(i=r.pointer.normalize(i)),f=[i.chartX-r.plotLeft,i.chartY-c]),f||(t(n,function(n){l=n.series.yAxis;s+=n.plotX;h+=(n.plotLow?(n.plotLow+n.plotHigh)/2:n.plotY)+(!o&&l?l.top-c:0)}),s/=n.length,h/=n.length,f=[o?r.plotWidth-h:s,this.shared&&!o&&n.length>1&&i?i.chartY-c:o?r.plotHeight-s:h]),br(f,e)},getPosition:function(n,t,i){var u=this.chart,f=this.distance,r={},e,o=["y",u.chartHeight,t,i.plotY+u.plotTop],s=["x",u.chartWidth,n,i.plotX+u.plotLeft],l=i.ttBelow||u.inverted&&!i.negative||!u.inverted&&i.negative,a=function(n,t,i,u){var e=i<u-f,t=u+f+i<t,i=u-f-i;if(u+=f,l&&t)r[n]=u;else if(!l&&e)r[n]=i;else if(e)r[n]=i;else if(t)r[n]=u;else return!1},v=function(n,t,i,u){if(u<f||u>t-f)return!1;r[n]=u<i/2?1:u>t-i/2?t-i-2:u-i/2},h=function(n){var t=o;o=s;s=t;e=n},c=function(){a.apply(0,o)!==!1?v.apply(0,s)===!1&&!e&&(h(!0),c()):e?r.x=r.y=0:(h(!0),c())};return(u.inverted||this.len>1)&&h(),c(),r},defaultFormatter:function(n){var u=this.points||si(this),i=u[0].series,r;return r=[n.tooltipHeaderFormatter(u[0])],t(u,function(n){i=n.series;r.push(i.tooltipFormatter&&i.tooltipFormatter(n)||n.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),r.push(n.options.footerFormat||""),r.join("")},refresh:function(i,r){var o=this.chart,s=this.label,a=this.options,h,f,u={},e,c=[],l,v;e=a.formatter||this.defaultFormatter;u=o.hoverPoints;v=this.shared;clearTimeout(this.hideTimer);this.followPointer=si(i)[0].series.tooltipOptions.followPointer;f=this.getAnchor(i,r);h=f[0];f=f[1];v&&(!i.series||!i.series.noSharedTooltip)?(o.hoverPoints=i,u&&t(u,function(n){n.setState()}),t(i,function(n){n.setState("hover");c.push(n.getLabelConfig())}),u={x:i[0].category,y:i[0].y},u.points=c,this.len=c.length,i=i[0]):u=i.getLabelConfig();e=e.call(u,this);u=i.series;this.distance=n(u.tooltipOptions.distance,16);e===!1?this.hide():(this.isHidden&&(iu(s),s.attr("opacity",1).show()),s.attr({text:e}),l=a.borderColor||i.color||u.color||"#606060",s.attr({stroke:l}),this.updatePosition({plotX:h,plotY:f,negative:i.negative,ttBelow:i.ttBelow}),this.isHidden=!1);y(o,"tooltipRefresh",{text:e,x:h+o.plotLeft,y:f+o.plotTop,borderColor:l})},updatePosition:function(n){var i=this.chart,t=this.label,t=(this.options.positioner||this.getPosition).call(this,t.width,t.height,n);this.move(e(t.x),e(t.y),n.plotX+i.plotLeft,n.plotY+i.plotTop)},tooltipHeaderFormatter:function(n){var f=n.series,i=f.tooltipOptions,e=i.dateTimeLabelFormats,t=i.xDateFormat,r=f.xAxis,o=r&&r.options.type==="datetime"&&ni(n.key),i=i.headerFormat,r=r&&r.closestPointRange,u;if(o&&!t){if(r){for(u in c)if(c[u]>=r||c[u]<=c.day&&n.key%c[u]>0){t=e[u];break}}else t=e.day;t=t||e.year}return o&&t&&(i=i.replace("{point.key}","{point.key:"+t+"}")),ur(i,{point:n,series:f})}},gr=s.documentElement.ontouchstart!==u,sr=tt.Pointer=function(n,t){this.init(n,t)},sr.prototype={init:function(n,t){var i=t.chart,f=i.events,r=bt?"":i.zoomType,i=n.inverted,u;this.options=t;this.chart=n;this.zoomX=u=/x/.test(r);this.zoomY=r=/y/.test(r);this.zoomHor=u&&!i||r&&i;this.zoomVert=r&&!i||u&&i;this.hasZoom=u||r;this.runChartClick=f&&!!f.click;this.pinchDown=[];this.lastValidTouch={};tt.Tooltip&&t.tooltip.enabled&&(n.tooltip=new rf(n,t.tooltip),this.followTouchMove=t.tooltip.followTouchMove);this.setDOMEvents()},normalize:function(n,t){var o,i,n=n||window.event,n=ne(n);return n.target||(n.target=n.srcElement),i=n.touches?n.touches.length?n.touches.item(0):n.changedTouches[0]:n,t||(this.chartPosition=t=gf(this.chart.container)),i.pageX===u?(o=r(n.x,n.clientX-t.left),i=n.y):(o=i.pageX-t.left,i=i.pageY-t.top),f(n,{chartX:e(o),chartY:e(i)})},getCoordinates:function(n){var i={xAxis:[],yAxis:[]};return t(this.chart.axes,function(t){i[t.isXAxis?"xAxis":"yAxis"].push({axis:t,value:t.toValue(n[t.horiz?"chartX":"chartY"])})}),i},getIndex:function(n){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-n.chartY:n.chartX-t.plotLeft},runPointActions:function(i){var c=this.chart,r=c.series,h=c.tooltip,u,e,w=c.hoverPoint,f=c.hoverSeries,a,o,v=c.chartWidth,y=this.getIndex(i);if(h&&this.options.tooltip.shared&&(!f||!f.noSharedTooltip)){for(e=[],a=r.length,o=0;o<a;o++)r[o].visible&&r[o].options.enableMouseTracking!==!1&&!r[o].noSharedTooltip&&r[o].singularTooltips!==!0&&r[o].tooltipPoints.length&&(u=r[o].tooltipPoints[y])&&u.series&&(u._dist=p(y-u.clientX),v=l(v,u._dist),e.push(u));for(a=e.length;a--;)e[a]._dist>v&&e.splice(a,1);e.length&&e[0].clientX!==this.hoverX&&(h.refresh(e,i),this.hoverX=e[0].clientX)}if(r=f&&f.tooltipOptions.followPointer,f&&f.tracker&&!r){if((u=f.tooltipPoints[y])&&u!==w)u.onMouseOver(i)}else h&&r&&!h.isHidden&&(f=h.getAnchor([{}],i),h.updatePosition({plotX:f[0],plotY:f[1]}));h&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(n){if(ot[oi])ot[oi].pointer.onDocumentMouseMove(n)},b(s,"mousemove",this._onDocumentMouseMove));t(c.axes,function(t){t.drawCrosshair(i,n(u,w))})},reset:function(n,i){var e=this.chart,h=e.hoverSeries,r=e.hoverPoint,f=e.tooltip,o=f&&f.shared?e.hoverPoints:r;(n=n&&f&&o)&&si(o)[0].plotX===u&&(n=!1);n?(f.refresh(o),r&&r.setState(r.state,!0)):(r&&r.onMouseOut(),h&&h.onMouseOut(),f&&f.hide(i),this._onDocumentMouseMove&&(st(s,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),t(e.axes,function(n){n.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(n,i){var r=this.chart,u;t(r.series,function(t){u=n||t.getPlotBox();t.xAxis&&t.xAxis.zoomEnabled&&(t.group.attr(u),t.markerGroup&&(t.markerGroup.attr(u),t.markerGroup.clip(i?r.clipRect:null)),t.dataLabelsGroup&&t.dataLabelsGroup.attr(u))});r.clipRect.attr(i||r.clipBox)},dragStart:function(n){var t=this.chart;t.mouseIsDown=n.type;t.cancelClick=!1;t.mouseDownX=this.mouseDownX=n.chartX;t.mouseDownY=this.mouseDownY=n.chartY},drag:function(n){var i=this.chart,e=i.options.chart,t=n.chartX,r=n.chartY,a=this.zoomHor,v=this.zoomVert,u=i.plotLeft,f=i.plotTop,h=i.plotWidth,c=i.plotHeight,l,o=this.mouseDownX,s=this.mouseDownY,y=e.panKey&&n[e.panKey+"Key"];t<u?t=u:t>u+h&&(t=u+h);r<f?r=f:r>f+c&&(r=f+c);this.hasDragged=Math.sqrt(Math.pow(o-t,2)+Math.pow(s-r,2));this.hasDragged>10&&(l=i.isInsidePlot(o-u,s-f),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&l&&!y&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(u,f,a?1:h,v?1:c,0).attr({fill:e.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&a&&(t-=o,this.selectionMarker.attr({width:p(t),x:(t>0?0:t)+o})),this.selectionMarker&&v&&(t=r-s,this.selectionMarker.attr({height:p(t),y:(t>0?0:t)+s})),l&&!this.selectionMarker&&e.panning&&i.pan(n,e.panning))},drop:function(n){var u=this.chart,e=this.hasPinched;if(this.selectionMarker){var o={xAxis:[],yAxis:[],originalEvent:n.originalEvent||n},i=this.selectionMarker,s=i.attr?i.attr("x"):i.x,h=i.attr?i.attr("y"):i.y,v=i.attr?i.attr("width"):i.width,p=i.attr?i.attr("height"):i.height,c;(this.hasDragged||e)&&(t(u.axes,function(t){if(t.zoomEnabled){var i=t.horiz,f=n.type==="touchend"?t.minPixelPadding:0,u=t.toValue((i?s:h)+f),i=t.toValue((i?s+v:h+p)-f);isNaN(u)||isNaN(i)||(o[t.coll].push({axis:t,min:l(u,i),max:r(u,i)}),c=!0)}}),c&&y(u,"selection",o,function(n){u.zoom(f(n,e?{animation:!1}:null))}));this.selectionMarker=this.selectionMarker.destroy();e&&this.scaleGroups()}u&&(a(u.container,{cursor:u._cursor}),u.cancelClick=this.hasDragged>10,u.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(n){n=this.normalize(n);n.preventDefault&&n.preventDefault();this.dragStart(n)},onDocumentMouseUp:function(n){ot[oi]&&ot[oi].pointer.drop(n)},onDocumentMouseMove:function(n){var t=this.chart,i=this.chartPosition,r=t.hoverSeries,n=this.normalize(n,i);i&&r&&!this.inClass(n.target,"highcharts-tracker")&&!t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var n=ot[oi];n&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(n){var t=this.chart;oi=t.index;n=this.normalize(n);n.returnValue=!1;t.mouseIsDown==="mousedown"&&this.drag(n);(this.inClass(n.target,"highcharts-tracker")||t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(n)},inClass:function(n,t){for(var i;n;){if(i=g(n,"class")){if(i.indexOf(t)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}n=n.parentNode}},onTrackerMouseOut:function(n){var t=this.chart.hoverSeries,i=(n=n.relatedTarget||n.toElement)&&n.point&&n.point.series;!t||t.options.stickyTracking||this.inClass(n,"highcharts-tooltip")||i===t||t.onMouseOut()},onContainerClick:function(n){var t=this.chart,i=t.hoverPoint,r=t.plotLeft,u=t.plotTop,n=this.normalize(n);n.cancelBubble=!0;t.cancelClick||(i&&this.inClass(n.target,"highcharts-tracker")?(y(i.series,"click",f(n,{point:i})),t.hoverPoint&&i.firePointEvent("click",n)):(f(n,this.getCoordinates(n)),t.isInsidePlot(n.chartX-r,n.chartY-u)&&y(t,"click",n)))},setDOMEvents:function(){var n=this,t=n.chart.container;t.onmousedown=function(t){n.onContainerMouseDown(t)};t.onmousemove=function(t){n.onContainerMouseMove(t)};t.onclick=function(t){n.onContainerClick(t)};b(t,"mouseleave",n.onContainerMouseLeave);nu===1&&b(s,"mouseup",n.onDocumentMouseUp);gr&&(t.ontouchstart=function(t){n.onContainerTouchStart(t)},t.ontouchmove=function(t){n.onContainerTouchMove(t)},nu===1&&b(s,"touchend",n.onDocumentTouchEnd))},destroy:function(){var n;st(this.chart.container,"mouseleave",this.onContainerMouseLeave);nu||(st(s,"mouseup",this.onDocumentMouseUp),st(s,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(n in this)this[n]=null}},f(tt.Pointer.prototype,{pinchTranslate:function(n,t,i,r,u,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,n,t,i,r,u,f);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,n,t,i,r,u,f)},pinchTranslateDirection:function(n,t,i,r,u,f,e,o){var a=this.chart,c=n?"x":"y",d=n?"X":"Y",v="chart"+d,rt=n?"width":"height",g=a["plot"+(n?"Left":"Top")],l,nt,s=o||1,tt=a.inverted,y=a.bounds[n?"h":"v"],w=t.length===1,b=t[0][v],h=i[0][v],ut=!w&&t[1][v],k=!w&&i[1][v],it,i=function(){!w&&p(b-ut)>20&&(s=o||p(h-k)/p(b-ut));nt=(g-h)/s+b;l=a["plot"+(n?"Width":"Height")]/s};i();t=nt;t<y.min?(t=y.min,it=!0):t+l>y.max&&(t=y.max-l,it=!0);it?(h-=.8*(h-e[c][0]),w||(k-=.8*(k-e[c][1])),i()):e[c]=[h,k];tt||(f[c]=nt-g,f[rt]=l);f=tt?1/s:s;u[rt]=l;u[c]=t;r[tt?n?"scaleY":"scaleX":"scale"+d]=s;r["translate"+d]=f*g+(h-f*b)},pinch:function(i){var u=this,o=u.chart,e=u.pinchDown,v=u.followTouchMove,s=i.touches,y=s.length,h=u.lastValidTouch,c=u.hasZoom,a=u.selectionMarker,p={},b=y===1&&(u.inClass(i.target,"highcharts-tracker")&&o.runTrackerClick||u.runChartClick),w={};(c||v)&&!b&&i.preventDefault();br(s,function(n){return u.normalize(n)});i.type==="touchstart"?(t(s,function(n,t){e[t]={chartX:n.chartX,chartY:n.chartY}}),h.x=[e[0].chartX,e[1]&&e[1].chartX],h.y=[e[0].chartY,e[1]&&e[1].chartY],t(o.axes,function(t){if(t.zoomEnabled){var u=o.bounds[t.horiz?"h":"v"],f=t.minPixelPadding,i=t.toPixels(n(t.options.min,t.dataMin)),e=t.toPixels(n(t.options.max,t.dataMax)),s=l(i,e),i=r(i,e);u.min=l(t.pos,s-f);u.max=r(t.pos+t.len,i+f)}}),u.res=!0):e.length&&(a||(u.selectionMarker=a=f({destroy:hi},o.plotBox)),u.pinchTranslate(e,s,p,a,w,h),u.hasPinched=c,u.scaleGroups(p,w),!c&&v&&y===1?this.runPointActions(u.normalize(i)):u.res&&(u.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(n){var t=this.chart;oi=t.index;n.touches.length===1?(n=this.normalize(n),t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop)?(this.runPointActions(n),this.pinch(n)):this.reset()):n.touches.length===2&&this.pinch(n)},onContainerTouchMove:function(n){(n.touches.length===1||n.touches.length===2)&&this.pinch(n)},onDocumentTouchEnd:function(n){ot[oi]&&ot[oi].pointer.drop(n)}}),k.PointerEvent||k.MSPointerEvent){var ci={},uf=!!k.PointerEvent,ue=function(){var n,t=[];t.item=function(n){return this[n]};for(n in ci)ci.hasOwnProperty(n)&&t.push({pageX:ci[n].pageX,pageY:ci[n].pageY,target:ci[n].target});return t},ff=function(n,t,i,r){n=n.originalEvent||n;(n.pointerType==="touch"||n.pointerType===n.MSPOINTER_TYPE_TOUCH)&&ot[oi]&&(r(n),r=ot[oi].pointer,r[t]({type:i,target:n.currentTarget,preventDefault:hi,touches:ue()}))};f(sr.prototype,{onContainerPointerDown:function(n){ff(n,"onContainerTouchStart","touchstart",function(n){ci[n.pointerId]={pageX:n.pageX,pageY:n.pageY,target:n.currentTarget}})},onContainerPointerMove:function(n){ff(n,"onContainerTouchMove","touchmove",function(n){ci[n.pointerId]={pageX:n.pageX,pageY:n.pageY};ci[n.pointerId].target||(ci[n.pointerId].target=n.currentTarget)})},onDocumentPointerUp:function(n){ff(n,"onContainerTouchEnd","touchend",function(n){delete ci[n.pointerId]})},batchMSEvents:function(n){n(this.chart.container,uf?"pointerdown":"MSPointerDown",this.onContainerPointerDown);n(this.chart.container,uf?"pointermove":"MSPointerMove",this.onContainerPointerMove);n(s,uf?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});hr(sr.prototype,"init",function(n,t,i){n.call(this,t,i);(this.hasZoom||this.followTouchMove)&&a(t.container,{"-ms-touch-action":ut,"touch-action":ut})});hr(sr.prototype,"setDOMEvents",function(n){n.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(b)});hr(sr.prototype,"destroy",function(n){this.batchMSEvents(st);n.call(this)})}ru=tt.Legend=function(n,t){this.init(n,t)};ru.prototype={init:function(t,i){var r=this,f=i.itemStyle,u=n(i.padding,8),e=i.itemMarginTop||0;this.options=i;i.enabled&&(r.itemStyle=f,r.itemHiddenStyle=o(f,i.itemHiddenStyle),r.itemMarginTop=e,r.padding=u,r.initialItemX=u,r.initialItemY=u-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.lastLineHeight=0,r.symbolWidth=n(i.symbolWidth,16),r.pages=[],r.render(),b(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(n,t){var f=this.options,r=n.legendItem,c=n.legendLine,e=n.legendSymbol,i=this.itemHiddenStyle.color,f=t?f.itemStyle.color:i,o=t?n.legendColor||n.color||"#CCC":i,i=n.options&&n.options.marker,s={fill:o},h;if(r&&r.css({fill:f,color:f}),c&&c.attr({stroke:o}),e){if(i&&e.isMarker)for(h in s.stroke=o,i=n.convertAttribs(i),i)r=i[h],r!==u&&(s[h]=r);e.attr(s)}},positionItem:function(n){var i=this.options,f=i.symbolPadding,i=!i.rtl,t=n._legendItemPos,r=t[0],t=t[1],u=n.checkbox;n.legendGroup&&n.legendGroup.translate(i?r:this.legendWidth-r-2*f-4,t);u&&(u.x=r,u.y=t)},destroyItem:function(n){var i=n.checkbox;t(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){n[t]&&(n[t]=n[t].destroy())});i&&ar(n.checkbox)},destroy:function(){var n=this.group,t=this.box;t&&(this.box=t.destroy());n&&(this.group=n.destroy())},positionCheckboxes:function(n){var r=this.group.alignAttr,i,u=this.clipHeight||this.legendHeight;r&&(i=r.translateY,t(this.allItems,function(t){var f=t.checkbox,e;f&&(e=i+f.y+(n||0)+3,a(f,{left:r.translateX+t.checkboxOffset+f.x-20+"px",top:e+"px",display:e>i-6&&e<i+u-6?"":ut}))}))},renderTitle:function(){var n=this.padding,t=this.options.title,i=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),n=this.title.getBBox(),i=n.height,this.offsetWidth=n.width,this.contentGroup.attr({translateY:i}));this.titleHeight=i},renderItem:function(t){var w=this.chart,s=w.renderer,i=this.options,c=i.layout==="horizontal",u=this.symbolWidth,f=i.symbolPadding,y=this.itemStyle,b=this.itemHiddenStyle,k=this.padding,d=c?n(i.itemDistance,20):0,g=!i.rtl,nt=i.width,p=i.itemMarginBottom||0,l=this.itemMarginTop,a=this.initialItemX,h=t.legendItem,tt=t.series&&t.series.drawLegendSymbol?t.series:t,v=tt.options,v=this.createCheckboxForItem&&v&&v.showCheckbox,it=i.useHTML;h||(t.legendGroup=s.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=h=s.text(i.labelFormat?ur(i.labelFormat,t):i.labelFormatter.call(t),g?u+f:-f,this.baseline||0,it).css(o(t.visible?y:b)).attr({align:g?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.baseline=s.fontMetrics(y.fontSize,h).f+3+l,h.attr("y",this.baseline)),tt.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,h,it,y,b),this.colorizeItem(t,t.visible),v&&this.createCheckboxForItem(t));s=h.getBBox();u=t.checkboxOffset=i.itemWidth||t.legendItemWidth||u+f+s.width+d+(v?20:0);this.itemHeight=f=e(t.legendItemHeight||s.height);c&&this.itemX-a+u>(nt||w.chartWidth-2*k-a-i.x)&&(this.itemX=a,this.itemY+=l+this.lastLineHeight+p,this.lastLineHeight=0);this.maxItemWidth=r(this.maxItemWidth,u);this.lastItemY=l+this.itemY+p;this.lastLineHeight=r(f,this.lastLineHeight);t._legendItemPos=[this.itemX,this.itemY];c?this.itemX+=u:(this.itemY+=l+f+p,this.lastLineHeight=f);this.offsetWidth=nt||r((c?this.itemX-a-d:u)+k,this.offsetWidth)},getAllItems:function(){var r=[];return t(this.chart.series,function(t){var f=t.options;n(f.showInLegend,i(f.linkedTo)?!1:u,!0)&&(r=r.concat(t.legendItems||(f.legendType==="point"?t.data:t)))}),r},render:function(){var n=this,a=n.chart,h=a.renderer,s=n.group,e,c,o,i,r=n.box,u=n.options,v=n.padding,l=u.borderWidth,y=u.backgroundColor;n.itemX=n.initialItemX;n.itemY=n.initialItemY;n.offsetWidth=0;n.lastItemY=0;s||(n.group=s=h.g("legend").attr({zIndex:7}).add(),n.contentGroup=h.g().attr({zIndex:1}).add(s),n.scrollGroup=h.g().add(n.contentGroup));n.renderTitle();e=n.getAllItems();yu(e,function(n,t){return(n.options&&n.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});u.reversed&&e.reverse();n.allItems=e;n.display=c=!!e.length;t(e,function(t){n.renderItem(t)});o=u.width||n.offsetWidth;i=n.lastItemY+n.lastLineHeight+n.titleHeight;i=n.handleOverflow(i);(l||y)&&(o+=v,i+=v,r?o>0&&i>0&&(r[r.isNew?"attr":"animate"](r.crisp({width:o,height:i})),r.isNew=!1):(n.box=r=h.rect(0,0,o,i,u.borderRadius,l||0).attr({stroke:u.borderColor,"stroke-width":l||0,fill:y||ut}).add(s).shadow(u.shadow),r.isNew=!0),r[c?"show":"hide"]());n.legendWidth=o;n.legendHeight=i;t(e,function(t){n.positionItem(t)});c&&s.align(f({width:o,height:i},u),!0,"spacingBox");a.isResizing||this.positionCheckboxes()},handleOverflow:function(i){var h=this,w=this.chart,c=w.renderer,s=this.options,u=s.y,u=w.spacingBox.height+(s.verticalAlign==="top"?-u:u)-this.padding,k=s.maxHeight,v,a=this.clipRect,b=s.navigation,d=n(b.animation,!0),y=b.arrowSize||12,f=this.nav,o=this.pages,p,g=this.allItems;return s.layout==="horizontal"&&(u/=2),k&&(u=l(u,k)),o.length=0,i>u&&!s.useHTML?(this.clipHeight=v=r(u-20-this.titleHeight-this.padding,0),this.currentPage=n(this.currentPage,1),this.fullHeight=i,t(g,function(n,t){var i=n._legendItemPos[1],u=e(n.legendItem.getBBox().height),r=o.length;(!r||i-o[r-1]>v&&(p||i)!==o[r-1])&&(o.push(p||i),r++);t===g.length-1&&i+u-o[r-1]>v&&o.push(i);i!==p&&(p=i)}),a||(a=h.clipRect=c.clipRect(0,this.padding,9999,0),h.contentGroup.clip(a)),a.attr({height:v}),f||(this.nav=f=c.g().attr({zIndex:1}).add(this.group),this.up=c.symbol("triangle",0,0,y,y).on("click",function(){h.scroll(-1,d)}).add(f),this.pager=c.text("",15,10).css(b.style).add(f),this.down=c.symbol("triangle-down",0,0,y,y).on("click",function(){h.scroll(1,d)}).add(f)),h.scroll(0),i=u):f&&(a.attr({height:w.chartHeight}),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),i},scroll:function(n,t){var r=this.pages,f=r.length,i=this.currentPage+n,s=this.clipHeight,e=this.options.navigation,o=e.activeColor,e=e.inactiveColor,h=this.pager,c=this.padding;i>f&&(i=f);i>0&&(t!==u&&vr(t,this.chart),this.nav.attr({translateX:c,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:i===1?e:o}).css({cursor:i===1?"default":"pointer"}),h.attr({text:i+"/"+f}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===f?e:o}).css({cursor:i===f?"default":"pointer"}),r=-r[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:r}),this.currentPage=i,this.positionCheckboxes(r))}};d=tt.LegendSymbolMixin={drawRectangle:function(n,t){var i=n.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,n.baseline-5-i/2,n.symbolWidth,i,n.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(n){var t=this.options,r=t.marker,i=n.symbolWidth;var u=this.chart.renderer,o=this.legendGroup,n=n.baseline-e(u.fontMetrics(n.options.itemStyle.fontSize,this.legendItem).b*.3),f;t.lineWidth&&(f={"stroke-width":t.lineWidth},t.dashStyle&&(f.dashstyle=t.dashStyle),this.legendLine=u.path(["M",0,n,"L",i,n]).attr(f).add(o));r&&r.enabled!==!1&&(t=r.radius,this.legendSymbol=i=u.symbol(this.symbol,i/2-t,n-t,2*t,2*t).add(o),i.isMarker=!0)}};(/Trident\/7\.0/.test(li)||pr)&&hr(ru.prototype,"positionItem",function(n,t){var r=this,i=function(){t._legendItemPos&&n.call(r,t)};i();setTimeout(i)});kr.prototype={init:function(t,i){var f,u=t.series,e,r,s;if(t.series=null,f=o(nt,t),f.series=t.series=u,this.userOptions=t,u=f.chart,this.margin=this.splashArray("margin",u),this.spacing=this.splashArray("spacing",u),e=u.events,this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=f,this.axes=[],this.series=[],this.hasCartesianSeries=u.showAxes,r=this,r.index=ot.length,ot.push(r),nu++,u.reflow!==!1&&b(r,"load",function(){r.initReflow()}),e)for(s in e)b(r,s,e[s]);r.xAxis=[];r.yAxis=[];r.animation=bt?!1:n(u.animation,!0);r.pointCount=r.colorCounter=r.symbolCounter=0;r.firstRender()},initSeries:function(n){var t=this.options.chart;return(t=w[n.type||t.type||t.defaultSeriesType])||dt(17,!0),t=new t,t.init(this,n),t},isInsidePlot:function(n,t,i){var r=i?t:n,n=i?n:t;return r>=0&&r<=this.plotWidth&&n>=0&&n<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&t(this.axes,function(n){n.adjustTickAmount()});this.maxTicks=null},redraw:function(n){var u=this.axes,i=this.series,s=this.pointer,h=this.legend,c=this.isDirtyLegend,e,l,a=this.hasCartesianSeries,o=this.isDirtyBox,v=i.length,r=v,p=this.renderer,w=p.isHidden(),b=[];for(vr(n,this),w&&this.cloneRenderTo(),this.layOutTitles();r--;)if(n=i[r],n.options.stacking&&(e=!0,n.isDirty)){l=!0;break}if(l)for(r=v;r--;)(n=i[r],n.options.stacking)&&(n.isDirty=!0);t(i,function(n){n.isDirty&&n.options.legendType==="point"&&(c=!0)});c&&h.options.enabled&&(h.render(),this.isDirtyLegend=!1);e&&this.getStacks();a&&(this.isResizing||(this.maxTicks=null,t(u,function(n){n.setScale()})),this.adjustTickAmounts());this.getMargins();a&&(t(u,function(n){n.isDirty&&(o=!0)}),t(u,function(n){n.isDirtyExtremes&&(n.isDirtyExtremes=!1,b.push(function(){y(n,"afterSetExtremes",f(n.eventArgs,n.getExtremes()));delete n.eventArgs}));(o||e)&&n.redraw()}));o&&this.drawChartBox();t(i,function(n){n.isDirty&&n.visible&&(!n.isCartesian||n.xAxis)&&n.redraw()});s&&s.reset(!0);p.draw();y(this,"redraw");w&&this.cloneRenderTo(!0);t(b,function(n){n.call()})},get:function(n){for(var i=this.axes,r=this.series,u,t=0;t<i.length;t++)if(i[t].options.id===n)return i[t];for(t=0;t<r.length;t++)if(r[t].options.id===n)return r[t];for(t=0;t<r.length;t++)for(u=r[t].points||[],i=0;i<u.length;i++)if(u[i].id===n)return u[i];return null},getAxes:function(){var r=this,n=this.options,i=n.xAxis=si(n.xAxis||{}),n=n.yAxis=si(n.yAxis||{});t(i,function(n,t){n.index=t;n.isX=!0});t(n,function(n,t){n.index=t});i=i.concat(n);t(i,function(n){new ui(r,n)});r.adjustTickAmounts()},getSelectedPoints:function(){var n=[];return t(this.series,function(t){n=n.concat(tf(t.points||[],function(n){return n.selected}))}),n},getSelectedSeries:function(){return tf(this.series,function(n){return n.selected})},getStacks:function(){var i=this;t(i.yAxis,function(n){n.stacks&&n.hasVisibleSeries&&(n.oldStacks=n.stacks)});t(i.series,function(t){t.options.stacking&&(t.visible===!0||i.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+n(t.options.stack,""))})},setTitle:function(n,i,r){var e,u=this,f=u.options,s;s=f.title=o(f.title,n);e=f.subtitle=o(f.subtitle,i);f=e;t([["title",n,s],["subtitle",i,f]],function(n){var t=n[0],i=u[t],r=n[1],n=n[2];i&&r&&(u[t]=i=i.destroy());n&&n.text&&!i&&(u[t]=u.renderer.text(n.text,0,0,n.useHTML).attr({align:n.align,"class":"highcharts-"+t,zIndex:n.zIndex||4}).css(n.style).add())});u.layOutTitles(r)},layOutTitles:function(t){var u=0,i=this.title,o=this.subtitle,e=this.options,r=e.title,e=e.subtitle,s=this.renderer,h=this.spacingBox.width-44;!i||(i.css({width:(r.width||h)+"px"}).align(f({y:s.fontMetrics(r.style.fontSize,i).b-3},r),!1,"spacingBox"),r.floating||r.verticalAlign)||(u=i.getBBox().height);o&&(o.css({width:(e.width||h)+"px"}).align(f({y:u+(r.margin-13)+s.fontMetrics(r.style.fontSize,o).b},e),!1,"spacingBox"),!e.floating&&!e.verticalAlign&&(u=fr(u+o.getBBox().height)));i=this.titleOffset!==u;this.titleOffset=u;!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&n(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,u=t.width,t=t.height,f=this.renderToClone||this.renderTo;i(u)||(this.containerWidth=cu(f,"width"));i(t)||(this.containerHeight=cu(f,"height"));this.chartWidth=r(0,u||this.containerWidth||600);this.chartHeight=r(0,n(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(n){var t=this.renderToClone,i=this.container;n?t&&(this.renderTo.appendChild(i),ar(t),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),a(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),s.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var n,i=this.options.chart,t,r,u;this.renderTo=n=i.renderTo;u="highcharts-"+wu++;tr(n)&&(this.renderTo=n=s.getElementById(n));n||dt(13,!0);t=h(g(n,"data-highcharts-chart"));!isNaN(t)&&ot[t]&&ot[t].hasRendered&&ot[t].destroy();g(n,"data-highcharts-chart",this.index);n.innerHTML="";i.skipClone||n.offsetWidth||this.cloneRenderTo();this.getChartSize();t=this.chartWidth;r=this.chartHeight;this.container=n=ct(er,{className:"highcharts-container"+(i.className?" "+i.className:""),id:u},f({position:"relative",overflow:"hidden",width:t+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),this.renderToClone||n);this._cursor=n.style.cursor;this.renderer=i.forExport?new ei(n,t,r,i.style,!0):new dr(n,t,r,i.style);bt&&this.renderer.create(this,n,t,r)},getMargins:function(){var e=this.spacing,o,s=this.legend,u=this.margin,f=this.options.legend,h=n(f.margin,20),c=f.x,l=f.y,a=f.align,v=f.verticalAlign,y=this.titleOffset;this.resetMargins();o=this.axisOffset;y&&!i(u[0])&&(this.plotTop=r(this.plotTop,y+this.options.title.margin+e[0]));s.display&&!f.floating&&(a==="right"?i(u[1])||(this.marginRight=r(this.marginRight,s.legendWidth-c+h+e[1])):a==="left"?i(u[3])||(this.plotLeft=r(this.plotLeft,s.legendWidth+c+h+e[3])):v==="top"?i(u[0])||(this.plotTop=r(this.plotTop,s.legendHeight+l+h+e[0])):v!=="bottom"||i(u[2])||(this.marginBottom=r(this.marginBottom,s.legendHeight-l+h+e[2])));this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&t(this.axes,function(n){n.getOffset()});i(u[3])||(this.plotLeft+=o[3]);i(u[0])||(this.plotTop+=o[0]);i(u[2])||(this.marginBottom+=o[2]);i(u[1])||(this.marginRight+=o[1]);this.setChartSize()},reflow:function(n){var t=this,i=t.options.chart,r=t.renderTo,u=i.width||cu(r,"width"),f=i.height||cu(r,"height"),i=n?n.target:k,r=function(){t.container&&(t.setSize(u,f,!1),t.hasUserSize=null)};!t.hasUserSize&&u&&f&&(i===k||i===s)&&((u!==t.containerWidth||f!==t.containerHeight)&&(clearTimeout(t.reflowTimeout),n?t.reflowTimeout=setTimeout(r,100):r()),t.containerWidth=u,t.containerHeight=f)},initReflow:function(){var n=this,t=function(t){n.reflow(t)};b(k,"resize",t);b(n,"destroy",function(){st(k,"resize",t)})},setSize:function(n,u,f){var o=this,s,h,c;o.isResizing+=1;c=function(){o&&y(o,"endResize",null,function(){o.isResizing-=1})};vr(f,o);o.oldChartHeight=o.chartHeight;o.oldChartWidth=o.chartWidth;i(n)&&(o.chartWidth=s=r(0,e(n)),o.hasUserSize=!!s);i(u)&&(o.chartHeight=h=r(0,e(u)));(vi?lu:a)(o.container,{width:s+"px",height:h+"px"},vi);o.setChartSize(!0);o.renderer.setSize(s,h,f);o.maxTicks=null;t(o.axes,function(n){n.isDirty=!0;n.setScale()});t(o.series,function(n){n.isDirty=!0});o.isDirtyLegend=!0;o.isDirtyBox=!0;o.layOutTitles();o.getMargins();o.redraw(f);o.oldChartHeight=null;y(o,"resize");vi===!1?c():setTimeout(c,vi&&vi.duration||500)},setChartSize:function(n){var f=this.inverted,o=this.renderer,i=this.chartWidth,v=this.chartHeight,y=this.options.chart,u=this.spacing,s=this.clipOffset,l,a,h,c;this.plotLeft=l=e(this.plotLeft);this.plotTop=a=e(this.plotTop);this.plotWidth=h=r(0,e(i-l-this.marginRight));this.plotHeight=c=r(0,e(v-a-this.marginBottom));this.plotSizeX=f?c:h;this.plotSizeY=f?h:c;this.plotBorderWidth=y.plotBorderWidth||0;this.spacingBox=o.spacingBox={x:u[3],y:u[0],width:i-u[3]-u[1],height:v-u[0]-u[2]};this.plotBox=o.plotBox={x:l,y:a,width:h,height:c};i=2*ft(this.plotBorderWidth/2);f=fr(r(i,s[3])/2);o=fr(r(i,s[0])/2);this.clipBox={x:f,y:o,width:ft(this.plotSizeX-r(i,s[1])/2-f),height:r(0,ft(this.plotSizeY-r(i,s[2])/2-o))};n||t(this.axes,function(n){n.setAxisSize();n.setAxisTranslation()})},resetMargins:function(){var t=this.spacing,i=this.margin;this.plotTop=n(i[0],t[0]);this.marginRight=n(i[1],t[1]);this.marginBottom=n(i[2],t[2]);this.plotLeft=n(i[3],t[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var n=this.options.chart,r=this.renderer,a=this.chartWidth,v=this.chartHeight,t=this.chartBackground,y=this.plotBackground,c=this.plotBorder,p=this.plotBGImage,u=n.borderWidth||0,w=n.backgroundColor,b=n.plotBackgroundColor,k=n.plotBackgroundImage,f=n.plotBorderWidth||0,i,e=this.plotLeft,o=this.plotTop,s=this.plotWidth,h=this.plotHeight,d=this.plotBox,g=this.clipRect,l=this.clipBox;i=u+(n.shadow?8:0);(u||w)&&(t?t.animate(t.crisp({width:a-i,height:v-i})):(t={fill:w||ut},u&&(t.stroke=n.borderColor,t["stroke-width"]=u),this.chartBackground=r.rect(i/2,i/2,a-i,v-i,n.borderRadius,u).attr(t).addClass("highcharts-background").add().shadow(n.shadow)));b&&(y?y.animate(d):this.plotBackground=r.rect(e,o,s,h,0).attr({fill:b}).add().shadow(n.plotShadow));k&&(p?p.animate(d):this.plotBGImage=r.image(k,e,o,s,h).add());g?g.animate({width:l.width,height:l.height}):this.clipRect=r.clipRect(l);f&&(c?c.animate(c.crisp({x:e,y:o,width:s,height:h,strokeWidth:-f})):this.plotBorder=r.rect(e,o,s,h,0,-f).attr({stroke:n.plotBorderColor,"stroke-width":f,fill:ut,zIndex:1}).add());this.isDirtyBox=!1},propFromSeries:function(){var i=this,u=i.options.chart,n,f=i.options.series,e,r;t(["inverted","angular","polar"],function(t){for(n=w[u.type||u.defaultSeriesType],r=i[t]||u[t]||n&&n.prototype[t],e=f&&f.length;!r&&e--;)(n=w[f[e].type])&&n.prototype[t]&&(r=!0);i[t]=r})},linkSeries:function(){var n=this,i=n.series;t(i,function(n){n.linkedSeries.length=0});t(i,function(t){var i=t.options.linkedTo;tr(i)&&(i=i===":previous"?n.series[t.index-1]:n.get(i))&&(i.linkedSeries.push(t),t.linkedParent=i)})},renderSeries:function(){t(this.series,function(n){n.translate();n.setTooltipPoints&&n.setTooltipPoints();n.render()})},renderLabels:function(){var n=this,i=n.options.labels;i.items&&t(i.items,function(t){var r=f(i.style,t.style),u=h(r.left)+n.plotLeft,e=h(r.top)+n.plotTop+12;delete r.left;delete r.top;n.renderer.text(t.html,u,e).attr({zIndex:2}).css(r).add()})},render:function(){var n=this.axes,r=this.renderer,i=this.options;this.setTitle();this.legend=new ru(this,i.legend);this.getStacks();t(n,function(n){n.setScale()});this.getMargins();this.maxTicks=null;t(n,function(n){n.setTickPositions(!0);n.setMaxTicks()});this.adjustTickAmounts();this.getMargins();this.drawChartBox();this.hasCartesianSeries&&t(n,function(n){n.render()});this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.showCredits(i.credits);this.hasRendered=!0},showCredits:function(n){n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text,0,0).on("click",function(){n.href&&(location.href=n.href)}).attr({align:n.position.align,zIndex:8}).css(n.style).add().align(n.position))},destroy:function(){var n=this,f=n.axes,e=n.series,r=n.container,i,o=r&&r.parentNode;for(y(n,"destroy"),ot[n.index]=u,nu--,n.renderTo.removeAttribute("data-highcharts-chart"),st(n),i=f.length;i--;)f[i]=f[i].destroy();for(i=e.length;i--;)e[i]=e[i].destroy();t("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=n[t];i&&i.destroy&&(n[t]=i.destroy())});r&&(r.innerHTML="",st(r),o&&ar(r));for(i in n)delete n[i]},isReadyToRender:function(){var n=this;return!vt&&k==k.top&&s.readyState!=="complete"||bt&&!k.canvg?(bt?pf.push(function(){n.firstRender()},n.options.global.canvasToolsURL):s.attachEvent("onreadystatechange",function(){s.detachEvent("onreadystatechange",n.firstRender);s.readyState==="complete"&&n.firstRender()}),!1):!0},firstRender:function(){var n=this,i=n.options,r=n.callback;n.isReadyToRender()&&(n.getContainer(),y(n,"init"),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.getAxes(),t(i.series||[],function(t){n.initSeries(t)}),n.linkSeries(),y(n,"beforeRender"),tt.Pointer&&(n.pointer=new sr(n,i)),n.render(),n.renderer.draw(),r&&r.apply(n,[n]),t(n.callbacks,function(t){t.apply(n,[n])}),n.cloneRenderTo(!0),y(n,"load"))},splashArray:function(t,i){var r=i[t],r=yt(r)?r:[r,r,r,r];return[n(i[t+"Top"],r[0]),n(i[t+"Right"],r[1]),n(i[t+"Bottom"],r[2]),n(i[t+"Left"],r[3])]}};kr.prototype.callbacks=[];ht=tt.CenteredSeriesMixin={getCenter:function(){var t=this.options,i=this.chart,r=2*(t.slicedOffset||0),f,e=i.plotWidth-2*r,o=i.plotHeight-2*r,i=t.center,t=[n(i[0],"50%"),n(i[1],"50%"),t.size||"100%",t.innerSize||0],s=l(e,o),u;return br(t,function(n,t){return u=/%$/.test(n),f=t<2||t===2&&u,(u?[e,o,s,s][t]*h(n)/100:n)+(f?r:0)})}};pi=function(){};pi.prototype={init:function(n,t,i){return this.series=n,this.applyOptions(t,i),this.pointAttr={},n.options.colorByPoint&&(t=n.options.colors||n.chart.options.colors,this.color=this.color||t[n.colorCounter++],n.colorCounter===t.length)&&(n.colorCounter=0),n.chart.pointCount++,this},applyOptions:function(n,t){var i=this.series,r=i.options.pointValKey||i.pointValKey,n=pi.prototype.optionsToObject.call(this,n);return f(this,n),this.options=this.options?f(this.options,n):n,r&&(this.y=this[r]),this.x===u&&i&&(this.x=t===u?i.autoIncrement():t),this},optionsToObject:function(n){var t={},i=this.series,r=i.pointArrayMap||["y"],u=r.length,f=0,e=0;if(typeof n=="number"||n===null)t[r[0]]=n;else if(ir(n))for(n.length>u&&(i=typeof n[0],i==="string"?t.name=n[0]:i==="number"&&(t.x=n[0]),f++);e<u;)t[r[e++]]=n[f++];else typeof n=="object"&&(t=n,n.dataLabels&&(i._hasPointLabels=!0),n.marker&&(i._hasPointMarkers=!0));return t},destroy:function(){var n=this.series.chart,t=n.hoverPoints,i;n.pointCount--;t&&(this.setState(),ii(t,this),!t.length)&&(n.hoverPoints=null);this===n.hoverPoint&&this.onMouseOut();(this.graphic||this.dataLabel)&&(st(this),this.destroyElements());this.legendItem&&n.legend.destroyItem(this);for(i in this)this[i]=null},destroyElements:function(){for(var i="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n,t=6;t--;)n=i[t],this[n]&&(this[n]=this[n].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(i){var u=this.series,r=u.tooltipOptions,o=n(r.valueDecimals,""),f=r.valuePrefix||"",e=r.valueSuffix||"";return t(u.pointArrayMap||["y"],function(n){n="{point."+n;(f||e)&&(i=i.replace(n+"}",f+n+"}"+e));i=i.replace(n+"}",n+":,."+o+"f}")}),ur(i,{point:this,series:this.series})},firePointEvent:function(n,t,i){var r=this,u=this.series.options;(u.point.events[n]||r.options&&r.options.events&&r.options.events[n])&&this.importEvents();n==="click"&&u.allowPointSelect&&(i=function(n){r.select(null,n.ctrlKey||n.metaKey||n.shiftKey)});y(this,n,t,i)}};v=function(){};v.prototype={isCartesian:!0,type:"line",pointClass:pi,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(i,r){var u=this,s,e,o=i.series,h=function(t,i){return n(t.options.index,t._i)-n(i.options.index,i._i)};u.chart=i;u.options=r=u.setOptions(r);u.linkedSeries=[];u.bindAxes();f(u,{name:r.name,state:"",pointAttr:{},visible:r.visible!==!1,selected:r.selected===!0});bt&&(r.animation=!1);e=r.events;for(s in e)b(u,s,e[s]);(e&&e.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(i.runTrackerClick=!0);u.getColor();u.getSymbol();t(u.parallelArrays,function(n){u[n+"Data"]=[]});u.setData(r.data,!1);u.isCartesian&&(i.hasCartesianSeries=!0);o.push(u);u._i=o.length-1;yu(o,h);this.yAxis&&yu(this.yAxis.series,h);t(o,function(n,t){n.index=t;n.name=n.name||"Series "+(t+1)})},bindAxes:function(){var n=this,i=n.options,f=n.chart,r;t(n.axisTypes||[],function(e){t(f[e],function(t){r=t.options;(i[e]===r.index||i[e]!==u&&i[e]===r.id||i[e]===u&&r.index===0)&&(t.series.push(n),n[e]=t,t.isDirty=!0)});n[e]||n.optionalAxis===e||dt(18,!0)})},updateParallelArrays:function(n,i){var r=n.series,u=arguments;t(r.parallelArrays,typeof i=="number"?function(t){var u=t==="y"&&r.toYData?r.toYData(n):n[t];r[t+"Data"][i]=u}:function(n){Array.prototype[i].apply(r[n+"Data"],Array.prototype.slice.call(u,2))})},autoIncrement:function(){var i=this.options,t=this.xIncrement,t=n(t,i.pointStart,0);return this.pointInterval=n(this.pointInterval,i.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var i=-1,r=[],u,n=this.points,f=n.length;if(f)if(this.options.connectNulls){for(u=f;u--;)n[u].y===null&&n.splice(u,1);n.length&&(r=[n])}else t(n,function(t,u){t.y===null?(u>i+1&&r.push(n.slice(i+1,u)),i=u):u===f-1&&r.push(n.slice(i+1,u+1))});this.segments=r},setOptions:function(n){var i=this.chart,t=i.options.plotOptions,i=i.userOptions||{},r=i.plotOptions||{},u=t[this.type];return this.userOptions=n,t=o(u,t.series,n),this.tooltipOptions=o(nt.tooltip,nt.plotOptions[this.type].tooltip,i.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,n.tooltip),u.marker===null&&delete t.marker,t},getCyclic:function(n,t,r){var u=this.userOptions,f="_"+n+"Index",e=n+"Counter";t||(i(u[f])?t=u[f]:(u[f]=t=this.chart[e]%r.length,this.chart[e]+=1),t=r[t]);this[n]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||at[this.type].color,this.chart.options.colors)},getSymbol:function(){var n=this.options.marker;this.getCyclic("symbol",n.symbol,this.chart.options.symbols);/^url/.test(this.symbol)&&(n.radius=0)},drawLegendSymbol:d.drawLineMarker,setData:function(i,r,f,e){var o=this,c=o.points,w=c&&c.length||0,h,s=o.options,b=o.chart,v=null,l=o.xAxis,a=l&&!!l.categories,k=o.tooltipPoints,d=s.turboThreshold,p=this.xData,y=this.yData,g=(h=o.pointArrayMap)&&h.length,i=i||[];if(h=i.length,r=n(r,!0),e===!1||!h||w!==h||o.cropped||o.hasGroupedData){if(o.xIncrement=null,o.pointRange=a?1:s.pointRange,o.colorCounter=0,t(this.parallelArrays,function(n){o[n+"Data"].length=0}),d&&h>d){for(f=0;v===null&&f<h;)v=i[f],f++;if(ni(v)){for(a=n(s.pointStart,0),s=n(s.pointInterval,1),f=0;f<h;f++)p[f]=a,y[f]=i[f],a+=s;o.xIncrement=a}else if(ir(v))if(g)for(f=0;f<h;f++)s=i[f],p[f]=s[0],y[f]=s.slice(1,g+1);else for(f=0;f<h;f++)s=i[f],p[f]=s[0],y[f]=s[1];else dt(12)}else for(f=0;f<h;f++)i[f]!==u&&(s={series:o},o.pointClass.prototype.applyOptions.apply(s,[i[f]]),o.updateParallelArrays(s,f),a&&s.name)&&(l.names[s.x]=s.name);for(tr(y[0])&&dt(14,!0),o.data=[],o.options.data=i,f=w;f--;)c[f]&&c[f].destroy&&c[f].destroy();k&&(k.length=0);l&&(l.minRange=l.userMinRange);o.isDirty=o.isDirtyData=b.isDirtyBox=!0;f=!1}else t(i,function(n,t){c[t].update(n,!1,null,!1)});r&&b.redraw(f)},processData:function(n){var t=this.xData,l=this.yData,r=t.length,e,a,o,h,i,v,c,y,f,s;if(e=0,h=this.xAxis,v=this.options,i=v.cropThreshold,c=0,y=this.isCartesian,y&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!n)return!1;for(h&&(f=h.getExtremes(),s=f.min,f=f.max),y&&this.sorted&&(!i||r>i||this.forceCrop)&&(t[r-1]<s||t[0]>f?(t=[],l=[]):(t[0]<s||t[r-1]>f)&&(e=this.cropData(this.xData,this.yData,s,f),t=e.xData,l=e.yData,e=e.start,a=!0,c=t.length)),i=t.length-1;i>=0;i--)r=t[i]-t[i-1],!a&&t[i]>s&&t[i]<f&&c++,r>0&&(o===u||r<o)?o=r:r<0&&this.requireSorting&&dt(15);this.cropped=a;this.cropStart=e;this.processedXData=t;this.processedYData=l;this.activePointCount=c;v.pointRange===null&&(this.pointRange=o||1);this.closestPointRange=o},cropData:function(t,i,u,f){for(var h=t.length,o=0,s=h,c=n(this.cropShoulder,1),e=0;e<h;e++)if(t[e]>=u){o=r(0,e-c);break}for(;e<h;e++)if(t[e]>f){s=e+c;break}return{xData:t.slice(o,s),yData:i.slice(o,s),start:o,end:s}},generatePoints:function(){var e=this.options.data,t=this.data,c,o=this.processedXData,v=this.processedYData,l=this.pointClass,s=o.length,a=this.cropStart||0,i,r=this.hasGroupedData,h,f=[],n;for(t||r||(t=[],t.length=e.length,t=this.data=t),n=0;n<s;n++)i=a+n,r?f[n]=(new l).init(this,[o[n]].concat(si(v[n]))):(t[i]?h=t[i]:e[i]!==u&&(t[i]=h=(new l).init(this,e[i],o[n])),f[n]=h),f[n].index=i;if(t&&(s!==(c=t.length)||r))for(n=0;n<c;n++)(n===a&&!r&&(n+=s),t[n])&&(t[n].destroyElements(),t[n].plotX=u);this.data=t;this.points=f},getExtremes:function(t){var l=this.yAxis,h=this.processedXData,e,s=[],c=0;e=this.xAxis.getExtremes();var a=e.min,v=e.max,f,o,i,r,t=t||this.stackedYData||this.processedYData;for(e=t.length,r=0;r<e;r++)if(o=h[r],i=t[r],f=i!==null&&i!==u&&(!l.isLog||i.length||i>0),o=this.getExtremesFromAll||this.cropped||(h[r+1]||o)>=a&&(h[r-1]||o)<=v,f&&o)if(f=i.length)for(;f--;)i[f]!==null&&(s[c++]=i[f]);else s[c++]=i;this.dataMin=n(void 0,cr(s));this.dataMax=n(void 0,ki(s))},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var e=this.options,y=e.stacking,c=this.xAxis,l=c.categories,s=this.yAxis,p=this.points,w=p.length,b=!!this.modifyValue,a=e.pointPlacement,k=a==="between"||ni(a),v=e.threshold,e=0;e<w;e++){var t=p[e],h=t.x,r=t.y,o=t.low,f=y&&s.stacks[(this.negStacks&&r<v?"-":"")+this.stackKey];s.isLog&&r<=0&&(t.y=r=null,dt(10));t.plotX=c.translate(h,0,0,0,1,a,this.type==="flags");y&&this.visible&&f&&f[h]&&(f=f[h],r=f.points[this.index+","+e],o=r[0],r=r[1],o===0&&(o=n(v,s.min)),s.isLog&&o<=0&&(o=null),t.total=t.stackTotal=f.total,t.percentage=f.total&&t.y/f.total*100,t.stackY=r,f.setOffset(this.pointXOffset||0,this.barW||0));t.yBottom=i(o)?s.translate(o,0,1,0,1):null;b&&(r=this.modifyValue(r,t));t.plotY=typeof r=="number"&&r!==Infinity?s.translate(r,0,1,0,1):u;t.clientX=k?c.translate(h,0,0,0,1):t.plotX;t.negative=t.y<(v||0);t.category=l&&l[t.x]!==u?l[t.x]:t.x}this.getSegments()},animate:function(n){var t=this.chart,o=t.renderer,i,u,e,r;i=this.options.animation;u=this.clipBox||t.clipBox;e=t.inverted;i&&!yt(i)&&(i=at[this.type].animation);r=["_sharedClip",i.duration,i.easing,u.height].join(",");n?(n=t[r],i=t[r+"m"],n||(t[r]=n=o.clipRect(f(u,{width:0})),t[r+"m"]=i=o.clipRect(-99,e?-t.plotLeft:-t.plotTop,99,e?t.chartWidth:t.chartHeight)),this.group.clip(n),this.markerGroup.clip(i),this.sharedClipKey=r):((n=t[r])&&n.animate({width:t.plotSizeX},i),t[r+"m"]&&t[r+"m"].animate({width:t.plotSizeX+99},i),this.animate=null)},afterAnimate:function(){var n=this.chart,t=this.sharedClipKey,r=this.group,i=this.clipBox;r&&this.options.clip!==!1&&(t&&i||r.clip(i?n.renderer.clipRect(i):n.clipRect),this.markerGroup.clip());y(this,"afterAnimate");setTimeout(function(){t&&n[t]&&(i||(n[t]=n[t].destroy()),n[t+"m"]&&(n[t+"m"]=n[t+"m"].destroy()))},100)},drawPoints:function(){var s,w=this.points,a=this.chart,c,r,v,t,i,y,b,o,l=this.options.marker,d=this.pointAttr[""],h,k,p,g=this.markerGroup,nt=n(l.enabled,!this.requireSorting||this.activePointCount<.5*this.xAxis.len/l.radius);if(l.enabled!==!1||this._hasPointMarkers)for(v=w.length;v--;)(t=w[v],c=ft(t.plotX),r=t.plotY,o=t.graphic,h=t.marker||{},k=!!t.marker,s=nt&&h.enabled===u||h.enabled,p=a.isInsidePlot(e(c),r,a.inverted),s&&r!==u&&!isNaN(r)&&t.y!==null)?(s=t.pointAttr[t.selected?"select":""]||d,i=s.r,y=n(h.symbol,this.symbol),b=y.indexOf("url")===0,o)?o[p?"show":"hide"](!0).animate(f({x:c-i,y:r-i},o.symbolName?{width:2*i,height:2*i}:{})):p&&(i>0||b)&&(t.graphic=a.renderer.symbol(y,c-i,r-i,2*i,2*i,k?h:l).attr(s).add(g)):o&&(t.graphic=o.destroy())},convertAttribs:function(t,i,r,u){var e=this.pointAttrToOptions,f,o,s={},t=t||{},i=i||{},r=r||{},u=u||{};for(f in e)o=e[f],s[f]=n(t[o],i[f],r[f],u[f]);return s},getAttribs:function(){var e=this,c=e.options,r=at[e.type].marker?c.marker:c,l=r.states,o=l.hover,s,a=e.color,w;s={stroke:a,fill:a};var v=e.points||[],n,h=[],u,y=e.pointAttrToOptions;u=e.hasPointSpecificOptions;var p=c.negativeColor,b=r.lineColor,k=r.fillColor;if(n=c.turboThreshold,c.marker?(o.radius=o.radius||r.radius+o.radiusPlus,o.lineWidth=o.lineWidth||r.lineWidth+o.lineWidthPlus):o.color=o.color||yi(o.color||a).brighten(o.brightness).get(),h[""]=e.convertAttribs(r,s),t(["hover","select"],function(n){h[n]=e.convertAttribs(l[n],h[""])}),e.pointAttr=h,a=v.length,!n||a<n||u)for(;a--;){if(n=v[a],(r=n.options&&n.options.marker||n.options)&&r.enabled===!1&&(r.radius=0),n.negative&&p&&(n.color=n.fillColor=p),u=c.colorByPoint||n.color,n.options)for(w in y)i(r[y[w]])&&(u=!0);u?(r=r||{},u=[],l=r.states||{},s=l.hover=l.hover||{},c.marker||(s.color=s.color||!n.options.color&&o.color||yi(n.color).brighten(s.brightness||o.brightness).get()),s={color:n.color},k||(s.fillColor=n.color),b||(s.lineColor=n.color),u[""]=e.convertAttribs(f(s,r),h[""]),u.hover=e.convertAttribs(l.hover,h.hover,u[""]),u.select=e.convertAttribs(l.select,h.select,u[""])):u=h;n.pointAttr=u}},destroy:function(){var n=this,r=n.chart,h=/AppleWebKit\/533/.test(li),e,u,o=n.data||[],f,s,i;for(y(n,"destroy"),st(n),t(n.axisTypes||[],function(t){(i=n[t])&&(ii(i.series,n),i.isDirty=i.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),u=o.length;u--;)(f=o[u])&&f.destroy&&f.destroy();n.points=null;clearTimeout(n.animationTimeout);t("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(t){n[t]&&(e=h&&t==="group"?"hide":"destroy",n[t][e]())});r.hoverSeries===n&&(r.hoverSeries=null);ii(r.series,n);for(s in n)delete n[s]},getSegmentPath:function(n){var r=this,i=[],u=r.options.step;return t(n,function(t,f){var o=t.plotX,s=t.plotY,e;r.getPointSpline?i.push.apply(i,r.getPointSpline(n,t,f)):(i.push(f?"L":"M"),u&&f&&(e=n[f-1],u==="right"?i.push(e.plotX,s):u==="center"?i.push((e.plotX+o)/2,e.plotY,(e.plotX+o)/2,s):i.push(o,e.plotY)),i.push(t.plotX,t.plotY))}),i},getGraphPath:function(){var n=this,i=[],r,u=[];return t(n.segments,function(t){r=n.getSegmentPath(t);t.length>1?i=i.concat(r):u.push(t[0])}),n.singlePoints=u,n.graphPath=i},drawGraph:function(){var i=this,n=this.options,u=[["graph",n.lineColor||this.color]],f=n.lineWidth,e=n.dashStyle,s=n.linecap!=="square",r=this.getGraphPath(),o=n.negativeColor;o&&u.push(["graphNeg",o]);t(u,function(t,u){var h=t[0],o=i[h];o?(iu(o),o.animate({d:r})):f&&r.length&&(o={stroke:t[1],"stroke-width":f,fill:ut,zIndex:1},e?o.dashstyle=e:s&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),i[h]=i.chart.renderer.path(r).attr(o).add(i.group).shadow(!u&&n.shadow))})},clipNeg:function(){var f=this.options,n=this.chart,h=n.renderer,t=f.negativeColor||f.negativeFillColor,i,c=this.graph,l=this.area,o=this.posClip,s=this.negClip;i=n.chartWidth;var a=n.chartHeight,u=r(i,a),v=this.yAxis;t&&(c||l)&&(t=e(v.toPixels(f.threshold||0,!0)),t<0&&(u-=t),f={x:0,y:0,width:u,height:t},u={x:0,y:t,width:u,height:u},n.inverted&&(f.height=u.y=n.plotWidth-t,h.isVML&&(f={x:n.plotWidth-t-n.plotLeft,y:0,width:i,height:a},u={x:t+n.plotLeft-i,y:0,width:n.plotLeft+t,height:i})),v.reversed?(n=u,i=f):(n=f,i=u),o?(o.animate(n),s.animate(i)):(this.posClip=o=h.clipRect(n),this.negClip=s=h.clipRect(i),c&&this.graphNeg&&(c.clip(o),this.graphNeg.clip(s)),l&&(l.clip(o),this.areaNeg.clip(s))))},invertGroups:function(){function i(){var i={width:n.yAxis.len,height:n.xAxis.len};t(["group","markerGroup"],function(t){n[t]&&n[t].attr(i).invert()})}var n=this,r=n.chart;n.xAxis&&(b(r,"resize",i),b(n,"destroy",function(){st(r,"resize",i)}),i(),n.invertGroups=i)},plotGroup:function(n,t,i,r,u){var f=this[n],e=!f;return e&&(this[n]=f=this.chart.renderer.g(t).attr({visibility:i,zIndex:r||.1}).add(u)),f[e?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var t=this.chart,i=this.xAxis,n=this.yAxis;return t.inverted&&(i=n,n=this.xAxis),{translateX:i?i.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var i=this,r=i.chart,u,e=i.options,f=(u=e.animation)&&!!i.animate&&r.renderer.isSVG&&n(u.duration,500)||0,o=i.visible?"visible":"hidden",s=e.zIndex,h=i.hasRendered,c=r.seriesGroup;u=i.plotGroup("group","series",o,s,c);i.markerGroup=i.plotGroup("markerGroup","markers",o,s,c);f&&i.animate(!0);i.getAttribs();u.inverted=i.isCartesian?r.inverted:!1;i.drawGraph&&(i.drawGraph(),i.clipNeg());t(i.points,function(n){n.redraw&&n.redraw()});i.drawDataLabels&&i.drawDataLabels();i.visible&&i.drawPoints();i.drawTracker&&i.options.enableMouseTracking!==!1&&i.drawTracker();r.inverted&&i.invertGroups();e.clip===!1||i.sharedClipKey||h||u.clip(r.clipRect);f&&i.animate();h||(f?i.animationTimeout=setTimeout(function(){i.afterAnimate()},f):i.afterAnimate());i.isDirty=i.isDirtyData=!1;i.hasRendered=!0},redraw:function(){var t=this.chart,f=this.isDirtyData,i=this.group,r=this.xAxis,u=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:n(r&&r.left,t.plotLeft),translateY:n(u&&u.top,t.plotTop)}));this.translate();this.setTooltipPoints&&this.setTooltipPoints(!0);this.render();f&&y(this,"updatedData")}};of.prototype={destroy:function(){lr(this,this.axis)},render:function(n){var t=this.options,i=t.format,i=i?ur(i,this):t.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(n)},setOffset:function(n,t){var i=this.axis,e=i.chart,r=e.inverted,u=this.isNegative,f=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=p(f-i),s=e.xAxis[0].translate(this.x)+n,o=e.plotHeight,u={x:r?u?f:f-i:s,y:r?o-s-t:u?o-f-i:o-f,width:r?i:t,height:r?t:i};(r=this.label)&&(r.align(this.alignOptions,null,u),u=r.alignAttr,r[this.options.crop===!1||e.isInsidePlot(u.x,u.y)?"show":"hide"](!0))}};ui.prototype.buildStacks=function(){var i=this.series,r=n(this.options.reversedStacks,!0),t=i.length;if(!this.isXAxis){for(this.usePercentage=!1;t--;)i[r?t:i.length-t-1].setStackedPoints();if(this.usePercentage)for(t=0;t<i.length;t++)i[t].setPercentStacks()}};ui.prototype.renderStackTotals=function(){var n=this.chart,f=n.renderer,i=this.stacks,r,u,t=this.stackTotalGroup;t||(this.stackTotalGroup=t=f.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());t.translate(n.plotLeft,n.plotTop);for(r in i)for(u in n=i[r],n)n[u].render(t)};v.prototype.setStackedPoints=function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){for(var b=this.processedXData,a=this.processedYData,v=[],k=a.length,s=this.options,d=s.threshold,g=s.stack,s=s.stacking,h=this.stackKey,y="-"+h,w=this.negStacks,e=this.yAxis,i=e.stacks,c=e.oldStacks,u,n,l,t,o,f=0;f<k;f++)t=b[f],o=a[f],l=this.index+","+f,n=(u=w&&o<d)?y:h,i[n]||(i[n]={}),i[n][t]||(c[n]&&c[n][t]?(i[n][t]=c[n][t],i[n][t].total=null):i[n][t]=new of(e,e.options.stackLabels,u,t,g)),n=i[n][t],n.points[l]=[n.cum||0],s==="percent"?(u=u?h:y,w&&i[u]&&i[u][t]?(u=i[u][t],n.total=u.total=r(u.total,n.total)+p(o)||0):n.total=pt(n.total+(p(o)||0))):n.total=pt(n.total+(o||0)),n.cum=(n.cum||0)+(o||0),n.points[l].push(n.cum),v[f]=n.cum;s==="percent"&&(e.usePercentage=!0);this.stackedYData=v;e.oldStacks={}}};v.prototype.setPercentStacks=function(){var n=this,i=n.stackKey,r=n.yAxis.stacks,u=n.processedXData;t([i,"-"+i],function(t){for(var o,e=u.length,i,f;e--;)(i=u[e],o=(f=r[t]&&r[t][i])&&f.points[n.index+","+e],i=o)&&(f=f.total?100/f.total:0,i[0]=pt(i[0]*f),i[1]=pt(i[1]*f),n.stackedYData[e]=i[1])})};f(kr.prototype,{addSeries:function(t,i,r){var f,u=this;return t&&(i=n(i,!0),y(u,"addSeries",{options:t},function(){f=u.initSeries(t);u.isDirtyLegend=!0;u.linkSeries();i&&u.redraw(r)})),f},addAxis:function(t,i,r,u){var f=i?"xAxis":"yAxis",e=this.options;new ui(this,o(t,{index:this[f].length,isX:i}));e[f]=si(e[f]||{});e[f].push(t);n(r,!0)&&this.redraw(u)},showLoading:function(n){var t=this,u=t.options,i=t.loadingDiv,r=u.loading,e=function(){i&&a(i,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};i||(t.loadingDiv=i=ct(er,{className:"highcharts-loading"},f(r.style,{zIndex:10,display:ut}),t.container),t.loadingSpan=ct("span",null,r.labelStyle,i),b(t,"redraw",e));t.loadingSpan.innerHTML=n||u.lang.loading;t.loadingShown||(a(i,{opacity:0,display:""}),lu(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),t.loadingShown=!0);e()},hideLoading:function(){var t=this.options,n=this.loadingDiv;n&&lu(n,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){a(n,{display:ut})}});this.loadingShown=!1}});f(pi.prototype,{update:function(t,i,r,u){function c(){f.applyOptions(t);yt(t)&&!ir(t)&&(f.redraw=function(){o&&(t&&t.marker&&t.marker.symbol?f.graphic=o.destroy():o.attr(f.pointAttr[f.state||""]));t&&t.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy());f.redraw=null});s=f.index;e.updateParallelArrays(f,s);l.data[s]=f.options;e.isDirty=e.isDirtyData=!0;!e.fixedBox&&e.hasCartesianSeries&&(h.isDirtyBox=!0);l.legendType==="point"&&h.legend.destroyItem(f);i&&h.redraw(r)}var f=this,e=f.series,o=f.graphic,s,h=e.chart,l=e.options,i=n(i,!0);u===!1?c():f.firePointEvent("update",{options:t},c)},remove:function(t,i){var u=this,r=u.series,o=r.points,s=r.chart,f,e=r.data;vr(i,s);t=n(t,!0);u.firePointEvent("remove",null,function(){f=or(u,e);e.length===o.length&&o.splice(f,1);e.splice(f,1);r.options.data.splice(f,1);r.updateParallelArrays(u,"splice",f,1);u.destroy();r.isDirty=!0;r.isDirtyData=!0;t&&s.redraw()})}});f(v.prototype,{addPoint:function(i,r,u,f){var c=this.options,s=this.data,o=this.graph,e=this.area,l=this.chart,a=this.xAxis&&this.xAxis.names,p=o&&o.shift||0,v=c.data,y,h=this.xData;if(vr(f,l),u&&t([o,e,this.graphNeg,this.areaNeg],function(n){n&&(n.shift=p+1)}),e&&(e.isArea=!0),r=n(r,!0),f={series:this},this.pointClass.prototype.applyOptions.apply(f,[i]),o=f.x,e=h.length,this.requireSorting&&o<h[e-1])for(y=!0;e&&h[e-1]>o;)e--;this.updateParallelArrays(f,"splice",e,0,0);this.updateParallelArrays(f,e);a&&f.name&&(a[o]=f.name);v.splice(e,0,i);y&&(this.data.splice(e,0,null),this.processData());c.legendType==="point"&&this.generatePoints();u&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(f,"shift"),v.shift()));this.isDirtyData=this.isDirty=!0;r&&(this.getAttribs(),l.redraw())},remove:function(t,i){var r=this,u=r.chart,t=n(t,!0);r.isRemoving||(r.isRemoving=!0,y(r,"remove",null,function(){r.destroy();u.isDirtyLegend=u.isDirtyBox=!0;u.linkSeries();t&&u.redraw(i)}));r.isRemoving=!1},update:function(i,r){var s=this,h=this.chart,v=this.userOptions,l=this.type,a=w[l].prototype,e=["group","markerGroup","dataLabelsGroup"],c;t(e,function(n){e[n]=s[n];delete s[n]});i=o(v,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i);this.remove(!1);for(c in a)a.hasOwnProperty(c)&&(this[c]=u);f(this,w[i.type||l].prototype);t(e,function(n){s[n]=e[n]});this.init(h,i);h.linkSeries();n(r,!0)&&h.redraw(!1)}});f(ui.prototype,{update:function(t,i){var r=this.chart,t=r.options[this.coll][this.options.index]=o(this.userOptions,t);this.destroy(!0);this._addedPlotLB=u;this.init(r,f(t,{events:u}));r.isDirtyBox=!0;n(i,!0)&&r.redraw()},remove:function(i){for(var r=this.chart,u=this.coll,f=this.series,e=f.length;e--;)f[e]&&f[e].remove(!1);ii(r.axes,this);ii(r[u],this);r.options[u].splice(this.options.index,1);t(r[u],function(n,t){n.options.index=t});this.destroy();r.isDirtyBox=!0;n(i,!0)&&r.redraw()},setTitle:function(n,t){this.update({title:n},t)},setCategories:function(n,t){this.update({categories:n},t)}});kt=ri(v);w.line=kt;at.area=o(rt,{threshold:0});gt=ri(v,{type:"area",getSegments:function(){var a=this,u=[],r=[],f=[],y=this.xAxis,e=this.yAxis,o=e.stacks[this.stackKey],i={},s,h,c=this.points,p=this.options.connectNulls,n,l;if(this.options.stacking&&!this.cropped){for(n=0;n<c.length;n++)i[c[n].x]=c[n];for(l in o)o[l].total!==null&&f.push(+l);f.sort(function(n,t){return n-t});t(f,function(t){var u=0,f;if(!p||i[t]&&i[t].y!==null)if(i[t])r.push(i[t]);else{for(n=a.index;n<=e.series.length;n++)if(f=o[t].points[n+","+t]){u=f[1];break}s=y.translate(t);h=e.toPixels(u,!0);r.push({y:null,plotX:s,clientX:s,plotY:h,yBottom:h,onMouseOver:hi})}});r.length&&u.push(r)}else v.prototype.getSegments.call(this),u=this.segments;this.segments=u},getSegmentPath:function(t){var r=v.prototype.getSegmentPath.call(this,t),u=[].concat(r),i,f=this.options,e,o;if(i=r.length,e=this.yAxis.getThreshold(f.threshold),i===3&&u.push("L",r[1],r[2]),f.stacking&&!this.closedStacks)for(i=t.length-1;i>=0;i--)o=n(t[i].yBottom,e),i<t.length-1&&f.step&&u.push(t[i+1].plotX,o),u.push(t[i].plotX,o);else this.closeSegment(u,t,e);return this.areaPath=this.areaPath.concat(u),r},closeSegment:function(n,t,i){n.push("L",t[t.length-1].plotX,i,"L",t[0].plotX,i)},drawGraph:function(){this.areaPath=[];v.prototype.drawGraph.apply(this);var i=this,u=this.areaPath,r=this.options,f=r.negativeColor,e=r.negativeFillColor,o=[["area",this.color,r.fillColor]];(f||e)&&o.push(["areaNeg",f,e]);t(o,function(t){var f=t[0],e=i[f];e?e.animate({d:u}):i[f]=i.chart.renderer.path(u).attr({fill:n(t[2],yi(t[1]).setOpacity(n(r.fillOpacity,.75)).get()),zIndex:0}).add(i.group)})},drawLegendSymbol:d.drawRectangle});w.area=gt;at.spline=o(rt);kt=ri(v,{type:"spline",getPointSpline:function(n,t,i){var h=t.plotX,u=t.plotY,o=n[i-1],s=n[i+1],a,e,c,f,v;return o&&s&&(n=o.plotY,c=s.plotX,s=s.plotY,a=(1.5*h+o.plotX)/2.5,e=(1.5*u+n)/2.5,c=(1.5*h+c)/2.5,f=(1.5*u+s)/2.5,v=(f-e)*(c-h)/(c-a)+u-f,e+=v,f+=v,e>n&&e>u?(e=r(n,u),f=2*u-e):e<n&&e<u&&(e=l(n,u),f=2*u-e),f>s&&f>u?(f=r(s,u),e=2*u-f):f<s&&f<u&&(f=l(s,u),e=2*u-f),t.rightContX=c,t.rightContY=f),i?(t=["C",o.rightContX||o.plotX,o.rightContY||o.plotY,a||h,e||u,h,u],o.rightContX=o.rightContY=null):t=["M",h,u],t}});w.spline=kt;at.areaspline=o(at.area);gt=gt.prototype;kt=ri(kt,{type:"areaspline",closedStacks:!0,getSegmentPath:gt.getSegmentPath,closeSegment:gt.closeSegment,drawGraph:gt.drawGraph,drawLegendSymbol:d.drawRectangle});w.areaspline=kt;at.column=o(rt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});kt=ri(v,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){v.prototype.init.apply(this,arguments);var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var f=this,e=f.options,r=f.xAxis,y=f.yAxis,w=r.reversed,s,a={},v,o=0;e.grouping===!1?o=1:t(f.chart.series,function(n){var t=n.options,i=n.yAxis;n.type===f.type&&n.visible&&y.len===i.len&&y.pos===i.pos&&(t.stacking?(s=n.stackKey,a[s]===u&&(a[s]=o++),v=a[s]):t.grouping!==!1&&(v=o++),n.columnIndex=v)});var r=l(p(r.transA)*(r.ordinalSlope||e.pointRange||r.closestPointRange||r.tickInterval||1),r.len),b=r*e.groupPadding,h=(r-2*b)/o,c=e.pointWidth,e=i(c)?(h-c)/2:h*e.pointPadding,c=n(c,h-2*e);return f.columnMetrics={width:c,offset:e+(b+((w?o-(f.columnIndex||0):f.columnIndex)||0)*h-r/2)*(w?-1:1)}},translate:function(){var i=this,o=i.chart,s=i.options,c=i.borderWidth=n(s.borderWidth,i.activePointCount>.5*i.xAxis.len?0:1),f=i.yAxis,h=i.translatedThreshold=f.getThreshold(s.threshold),u=n(s.minPointLength,5),w=i.getColumnMetrics(),b=w.width,a=i.barW=r(b,1+2*c),d=i.pointXOffset=w.offset,k=-(c%2?.5:0),y=c%2?.5:1;o.renderer.isVML&&o.inverted&&(y+=1);s.pointPadding&&(a=fr(a));v.prototype.translate.apply(i);t(i.points,function(t){var w=n(t.yBottom,h),nt=l(r(-999-w,t.plotY),f.len+999+w),c=t.plotX+d,g=a,s=l(nt,w),v;v=r(nt,w)-s;p(v)<u&&u&&(v=u,s=e(p(s-h)>u?w-u:h-(f.translate(t.y,0,1,0,1)<=h?u:0)));t.barX=c;t.pointWidth=b;t.tooltipPos=o.inverted?[f.len-nt,i.xAxis.len-c-g/2]:[c+g/2,nt+f.pos-o.plotTop];g=e(c+g)+k;c=e(c)+k;g-=c;w=p(s)<.5;v=e(s+v)+y;s=e(s)+y;v-=s;w&&(s-=1,v+=1);t.shapeType="rect";t.shapeArgs={x:c,y:s,width:g,height:v}})},getSymbol:hi,drawLegendSymbol:d.drawRectangle,drawGraph:hi,drawPoints:function(){var n=this,e=this.chart,r=n.options,h=e.renderer,c=r.animationLimit||250,f,s;t(n.points,function(t){var l=t.plotY,a=t.graphic;l===u||isNaN(l)||t.y===null?a&&(t.graphic=a.destroy()):(f=t.shapeArgs,l=i(n.borderWidth)?{"stroke-width":n.borderWidth}:{},s=t.pointAttr[t.selected?"select":""]||n.pointAttr[""],a?(iu(a),a.attr(l)[e.pointCount<c?"animate":"attr"](o(f))):t.graphic=h[t.shapeType](f).attr(s).attr(l).add(n.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius))})},animate:function(n){var i=this.yAxis,f=this.options,u=this.chart.inverted,t={};vt&&(n?(t.scaleY=.001,n=l(i.pos+i.len,r(i.pos,i.toPixels(f.threshold))),u?t.translateX=n-i.len:t.translateY=n,this.group.attr(t)):(t.scaleY=1,t[u?"translateX":"translateY"]=i.pos,this.group.animate(t,this.options.animation),this.animate=null))},remove:function(){var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)});v.prototype.remove.apply(n,arguments)}});w.column=kt;at.bar=o(at.column);gt=ri(kt,{type:"bar",inverted:!0});w.bar=gt;at.scatter=o(rt,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●<\/span> <span style="font-size: 10px;"> {series.name}<\/span><br/>',pointFormat:"x: <b>{point.x}<\/b><br/>y: <b>{point.y}<\/b><br/>"},stickyTracking:!1});gt=ri(v,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&v.prototype.drawGraph.call(this)}});w.scatter=gt;at.pie=o(rt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});rt={type:"pie",isCartesian:!1,pointClass:ri(pi,{init:function(){pi.prototype.init.apply(this,arguments);var t=this,i;return t.y<0&&(t.y=null),f(t,{visible:t.visible!==!1,name:n(t.name,"Slice")}),i=function(n){t.slice(n.type==="select")},b(t,"select",i),b(t,"unselect",i),t},setVisible:function(n){var i=this,r=i.series,f=r.chart;i.visible=i.options.visible=n=n===u?!i.visible:n;r.options.data[or(i,r.data)]=i.options;t(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][n?"show":"hide"](!0)});i.legendItem&&f.legend.colorizeItem(i,n);!r.isDirty&&r.options.ignoreHiddenPoint&&(r.isDirty=!0,f.redraw())},slice:function(t,r,u){var f=this.series;vr(u,f.chart);n(r,!0);this.sliced=this.options.sliced=t=i(t)?t:!this.sliced;f.options.data[or(this,f.data)]=this.options;t=t?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(t);this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(n){var t=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+t.x,i.plotTop+t.y,t.r+n,t.r+n,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:hi,animate:function(n){var i=this,u=i.points,r=i.startAngleRad;n||(t(u,function(n){var t=n.graphic,n=n.shapeArgs;t&&(t.attr({r:i.center[3]/2,start:r,end:r}),t.animate({r:n.r,start:n.start,end:n.end},i.options.animation))}),i.animate=null)},setData:function(t,i,r,u){v.prototype.setData.call(this,t,!1,r,u);this.processData();this.generatePoints();n(i,!0)&&this.chart.redraw(r)},generatePoints:function(){var n,i=0,r,u,t,f=this.options.ignoreHiddenPoint;for(v.prototype.generatePoints.call(this),r=this.points,u=r.length,n=0;n<u;n++)t=r[n],i+=f&&!t.visible?0:t.y;for(this.total=i,n=0;n<u;n++)t=r[n],t.percentage=i>0?t.y/i*100:0,t.total=i},translate:function(t){this.generatePoints();var v=0,o=this.options,y=o.slicedOffset,h=y+o.borderWidth,u,f,i,c=o.startAngle||0,p=this.startAngleRad=fi/180*(c-90),c=(this.endAngleRad=fi/180*(n(o.endAngle,c+360)-90))-p,w=this.points,s=o.dataLabels.distance,o=o.ignoreHiddenPoint,a,b=w.length,r;for(t||(this.center=t=this.getCenter()),this.getX=function(n,r){return i=et.asin(l((n-t[1])/(t[2]/2+s),1)),t[0]+(r?-1:1)*lt(i)*(t[2]/2+s)},a=0;a<b;a++)r=w[a],u=p+v*c,(!o||r.visible)&&(v+=r.percentage/100),f=p+v*c,r.shapeType="arc",r.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:e(u*1e3)/1e3,end:e(f*1e3)/1e3},i=(f+u)/2,i>1.5*fi?i-=2*fi:i<-fi/2&&(i+=2*fi),r.slicedTranslation={translateX:e(lt(i)*y),translateY:e(wt(i)*y)},u=lt(i)*t[2]/2,f=wt(i)*t[2]/2,r.tooltipPos=[t[0]+u*.7,t[1]+f*.7],r.half=i<-fi/2||i>fi/2?1:0,r.angle=i,h=l(h,s/2),r.labelPos=[t[0]+u+lt(i)*s,t[1]+f+wt(i)*s,t[0]+u+lt(i)*h,t[1]+f+wt(i)*h,t[0]+u,t[1]+f,s<0?"center":r.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var n=this,e=n.chart.renderer,r,u,o=n.options.shadow,i,s;o&&!n.shadowGroup&&(n.shadowGroup=e.g("shadow").add(n.group));t(n.points,function(t){u=t.graphic;s=t.shapeArgs;i=t.shadowGroup;o&&!i&&(i=t.shadowGroup=e.g("shadow").add(n.shadowGroup));r=t.sliced?t.slicedTranslation:{translateX:0,translateY:0};i&&i.attr(r);u?u.animate(f(s,r)):t.graphic=u=e[t.shapeType](s).setRadialReference(n.center).attr(t.pointAttr[t.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(r).add(n.group).shadow(o,i);t.visible!==void 0&&t.setVisible(t.visible)})},sortByAngle:function(n,t){n.sort(function(n,i){return n.angle!==void 0&&(i.angle-n.angle)*t})},drawLegendSymbol:d.drawRectangle,getCenter:ht.getCenter,getSymbol:hi};rt=ri(v,rt);w.pie=rt;v.prototype.drawDataLabels=function(){var e=this,l=e.options,v=l.cursor,r=l.dataLabels,p=e.points,c,a,y=e.hasRendered||0,s,h;(r.enabled||e._hasPointLabels)&&(e.dlProcessOptions&&e.dlProcessOptions(r),h=e.plotGroup("dataLabelsGroup","data-labels",r.defer?"hidden":"visible",r.zIndex||6),n(r.defer,!0)&&(h.attr({opacity:+y}),y||b(e,"afterAnimate",function(){e.visible&&h.show();h[l.animation?"animate":"attr"]({opacity:1},{duration:200})})),a=r,t(p,function(t){var y,l=t.dataLabel,p,w,b=t.connector,k=!0;if(c=t.options&&t.options.dataLabels,y=n(c&&c.enabled,a.enabled),l&&!y)t.dataLabel=l.destroy();else if(y){if(r=o(a,c),y=r.rotation,p=t.getLabelConfig(),s=r.format?ur(r.format,p):r.formatter.call(p,r),r.style.color=n(r.color,r.style.color,e.color,"black"),l)i(s)?(l.attr({text:s}),k=!1):(t.dataLabel=l=l.destroy(),b)&&(t.connector=b.destroy());else if(i(s)){l={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:y,padding:r.padding,zIndex:1};for(w in l)l[w]===u&&delete l[w];l=t.dataLabel=e.chart.renderer[y?"text":"label"](s,0,-999,null,null,null,r.useHTML).attr(l).css(f(r.style,v&&{cursor:v})).add(h).shadow(r.shadow)}l&&e.alignDataLabel(t,l,r,null,k)}}))};v.prototype.alignDataLabel=function(t,i,r,u,o){var h=this.chart,s=h.inverted,l=n(t.plotX,-999),a=n(t.plotY,-999),c=i.getBBox();(t=this.visible&&(t.series.forceDL||h.isInsidePlot(l,e(a),s)||u&&h.isInsidePlot(l,s?u.x+1:u.y+u.height-1,s)))&&(u=f({x:s?h.plotWidth-a:l,y:e(s?h.plotHeight-l:a),width:0,height:0},u),f(r,{width:c.width,height:c.height}),r.rotation?i[o?"attr":"animate"]({x:u.x+r.x+u.width/2,y:u.y+r.y+u.height/2}).attr({align:r.align}):(i.align(r,null,u),s=i.alignAttr,n(r.overflow,"justify")==="justify"?this.justifyDataLabel(i,r,s,c,u,o):n(r.crop,!0)&&(t=h.isInsidePlot(s.x,s.y)&&h.isInsidePlot(s.x+c.width,s.y+c.height))));t||(i.attr({y:-999}),i.placed=!1)};v.prototype.justifyDataLabel=function(n,t,i,r,u,f){var s=this.chart,h=t.align,c=t.verticalAlign,e,o;e=i.x;e<0&&(h==="right"?t.align="left":t.x=-e,o=!0);e=i.x+r.width;e>s.plotWidth&&(h==="left"?t.align="right":t.x=s.plotWidth-e,o=!0);e=i.y;e<0&&(c==="bottom"?t.verticalAlign="top":t.y=-e,o=!0);e=i.y+r.height;e>s.plotHeight&&(c==="top"?t.verticalAlign="bottom":t.y=s.plotHeight-e,o=!0);o&&(n.placed=!f,n.align(t,null,u))};w.pie&&(w.pie.prototype.drawDataLabels=function(){var a=this,d=a.data,f,st=a.chart,g=a.options.dataLabels,rt=n(g.connectorPadding,10),yt=n(g.connectorWidth,1),pt=st.plotWidth,wt=st.plotHeight,it,ct,dt=n(g.softConnector,!0),tt=g.distance,lt=a.center,ft=lt[2]/2,ht=lt[1],gt=tt>0,y,s,u,bt=[[],[]],w,o,et,ut,i,b=[0,0,0,0],kt=function(n,t){return t.y-n.y},vt,ot;if(a.visible&&(g.enabled||a._hasPointLabels)){for(v.prototype.drawDataLabels.apply(a),t(d,function(n){n.dataLabel&&n.visible&&bt[n.half].push(n)}),ut=2;ut--;){var k=[],at=[],c=bt[ut],nt=c.length,h;if(nt){for(a.sortByAngle(c,ut-.5),i=d=0;!d&&c[i];)d=c[i]&&c[i].dataLabel&&(c[i].dataLabel.getBBox().height||21),i++;if(tt>0){for(s=l(ht+ft+tt,st.plotHeight),i=r(0,ht-ft-tt);i<=s;i+=d)k.push(i);if(s=k.length,nt>s){for(f=[].concat(c),f.sort(kt),i=nt;i--;)f[i].rank=i;for(i=nt;i--;)c[i].rank>=s&&c.splice(i,1);nt=c.length}for(i=0;i<nt;i++){for(f=c[i],u=f.labelPos,f=9999,ot=0;ot<s;ot++)vt=p(k[ot]-u[1]),vt<f&&(f=vt,h=ot);if(h<i&&k[i]!==null)h=i;else for(s<nt-i+h&&k[i]!==null&&(h=s-nt+i);k[h]===null;)h++;at.push({i:h,y:k[h]});k[h]=null}at.sort(kt)}for(i=0;i<nt;i++)f=c[i],u=f.labelPos,y=f.dataLabel,et=f.visible===!1?"hidden":"visible",f=u[1],tt>0?(s=at.pop(),h=s.i,o=s.y,f>o&&k[h+1]!==null||f<o&&k[h-1]!==null)&&(o=l(r(0,f),st.plotHeight)):o=f,w=g.justify?lt[0]+(ut?-1:1)*(ft+tt):a.getX(o===ht-ft-tt||o===ht+ft+tt?f:o,ut),y._attr={visibility:et,align:u[6]},y._pos={x:w+g.x+({left:rt,right:-rt}[u[6]]||0),y:o+g.y-10},y.connX=w,y.connY=o,this.options.size===null&&(s=y.width,w-s<rt?b[3]=r(e(s-w+rt),b[3]):w+s>pt-rt&&(b[1]=r(e(w+s-pt+rt),b[1])),o-d/2<0?b[0]=r(e(-o+d/2),b[0]):o+d/2>wt&&(b[2]=r(e(o+d/2-wt),b[2])))}}(ki(b)===0||this.verifyDataLabelOverflow(b))&&(this.placeDataLabels(),gt&&yt&&t(this.points,function(n){it=n.connector;u=n.labelPos;(y=n.dataLabel)&&y._pos?(et=y._attr.visibility,w=y.connX,o=y.connY,ct=dt?["M",w+(u[6]==="left"?5:-5),o,"C",w,o,2*u[2]-u[4],2*u[3]-u[5],u[2],u[3],"L",u[4],u[5]]:["M",w+(u[6]==="left"?5:-5),o,"L",u[2],u[3],"L",u[4],u[5]],it?(it.animate({d:ct}),it.attr("visibility",et)):n.connector=it=a.chart.renderer.path(ct).attr({"stroke-width":yt,stroke:g.connectorColor||n.color||"#606060",visibility:et}).add(a.dataLabelsGroup)):it&&(n.connector=it.destroy())}))}},w.pie.prototype.placeDataLabels=function(){t(this.points,function(n){var n=n.dataLabel,t;n&&((t=n._pos)?(n.attr(n._attr),n[n.moved?"animate":"attr"](t),n.moved=!0):n&&n.attr({y:-999}))})},w.pie.prototype.alignDataLabel=hi,w.pie.prototype.verifyDataLabelOverflow=function(n){var i=this.center,f=this.options,e=f.center,u=f=f.minSize||80,o;return e[0]!==null?u=r(i[2]-r(n[1],n[3]),f):(u=r(i[2]-n[1]-n[3],f),i[0]+=(n[3]-n[1])/2),e[1]!==null?u=r(l(u,i[2]-r(n[0],n[2])),f):(u=r(l(u,i[2]-n[0]-n[2]),f),i[1]+=(n[0]-n[2])/2),u<i[2]?(i[2]=u,this.translate(i),t(this.points,function(n){n.dataLabel&&(n.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):o=!0,o});w.column&&(w.column.prototype.alignDataLabel=function(t,i,r,u,f){var e=this.chart,s=e.inverted,l=t.dlBox||t.shapeArgs,h=t.below||t.plotY>n(this.translatedThreshold,e.plotSizeY),c=n(r.inside,!!this.options.stacking);l&&(u=o(l),s&&(u={x:e.plotWidth-u.y-u.height,y:e.plotHeight-u.x-u.width,width:u.height,height:u.width}),!c)&&(s?(u.x+=h?0:u.width,u.width=0):(u.y+=h?u.height:0,u.height=0));r.align=n(r.align,!s||c?"center":h?"right":"left");r.verticalAlign=n(r.verticalAlign,s||c?"middle":h?"top":"bottom");v.prototype.alignDataLabel.call(this,t,i,r,u,f)});rt=tt.TrackerMixin={drawTrackerPoint:function(){var n=this,i=n.chart,e=i.pointer,r=n.options.cursor,o=r&&{cursor:r},f=function(t){var f=t.target,r;for(i.hoverSeries!==n&&n.onMouseOver();f&&!r;)r=f.point,f=f.parentNode;if(r!==u&&r!==i.hoverPoint)r.onMouseOver(t)};t(n.points,function(n){n.graphic&&(n.graphic.element.point=n);n.dataLabel&&(n.dataLabel.element.point=n)});n._hasTracking||(t(n.trackerGroups,function(t){if(n[t]&&(n[t].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(n){e.onTrackerMouseOut(n)}).css(o),gr))n[t].on("touchstart",f)}),n._hasTracking=!0)},drawTrackerGraph:function(){var i=this,h=i.options,e=h.trackByArea,r=[].concat(e?i.areaPath:i.graphPath),u=r.length,o=i.chart,v=o.pointer,y=o.renderer,f=o.options.tooltip.snap,c=i.tracker,s=h.cursor,p=s&&{cursor:s},s=i.singlePoints,n,l=function(){o.hoverSeries!==i&&i.onMouseOver()},a="rgba(192,192,192,"+(vt?.0001:.002)+")";if(u&&!e)for(n=u+1;n--;)r[n]==="M"&&r.splice(n+1,0,r[n+1]-f,r[n+2],"L"),(n&&r[n]==="M"||n===u)&&r.splice(n,0,"L",r[n-2]+f,r[n-1]);for(n=0;n<s.length;n++)u=s[n],r.push("M",u.plotX-f,u.plotY,"L",u.plotX+f,u.plotY);c?c.attr({d:r}):(i.tracker=y.path(r).attr({"stroke-linejoin":"round",visibility:i.visible?"visible":"hidden",stroke:a,fill:e?a:ut,"stroke-width":h.lineWidth+(e?0:2*f),zIndex:2}).add(i.group),t([i.tracker,i.markerGroup],function(n){if(n.addClass("highcharts-tracker").on("mouseover",l).on("mouseout",function(n){v.onTrackerMouseOut(n)}).css(p),gr)n.on("touchstart",l)}))}};w.column&&(kt.prototype.drawTracker=rt.drawTrackerPoint);w.pie&&(w.pie.prototype.drawTracker=rt.drawTrackerPoint);w.scatter&&(gt.prototype.drawTracker=rt.drawTrackerPoint);f(ru.prototype,{setItemEvents:function(n,t,i,r,u){var f=this;(i?t:n.legendGroup).on("mouseover",function(){n.setState("hover");t.css(f.options.itemHoverStyle)}).on("mouseout",function(){t.css(n.visible?r:u);n.setState()}).on("click",function(t){var i=function(){n.setVisible()},t={browserEvent:t};n.firePointEvent?n.firePointEvent("legendItemClick",t,i):y(n,"legendItemClick",t,i)})},createCheckboxForItem:function(n){n.checkbox=ct("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},this.options.itemCheckboxStyle,this.chart.container);b(n.checkbox,"click",function(t){y(n,"checkboxClick",{checked:t.target.checked},function(){n.select()})})}});nt.legend.itemStyle.cursor="pointer";f(kr.prototype,{showResetZoom:function(){var t=this,i=nt.lang,n=t.options.chart.resetZoomButton,r=n.theme,u=r.states,f=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=t.renderer.button(i.resetZoom,null,null,function(){t.zoomOut()},r,u&&u.hover).attr({align:n.position.align,title:i.resetZoomTitle}).add().align(n.position,!1,f)},zoomOut:function(){var n=this;y(n,"selection",{resetSelection:!0},function(){n.zoom()})},zoom:function(i){var u,e=this.pointer,f=!1,r;!i||i.resetSelection?t(this.axes,function(n){u=n.zoom()}):t(i.xAxis.concat(i.yAxis),function(n){var t=n.axis,i=t.isXAxis;(e[i?"zoomX":"zoomY"]||e[i?"pinchX":"pinchY"])&&(u=t.zoom(n.min,n.max),t.displayBtn&&(f=!0))});r=this.resetZoomButton;f&&!r?this.showResetZoom():!f&&yt(r)&&(this.resetZoomButton=r.destroy());u&&this.redraw(n(this.options.chart.animation,i&&i.animation,this.pointCount<100))},pan:function(n,i){var u=this,f=u.hoverPoints,e;f&&t(f,function(n){n.setState()});t(i==="xy"?[1,0]:[1],function(t){var s=n[t?"chartX":"chartY"],i=u[t?"xAxis":"yAxis"][0],f=u[t?"mouseDownX":"mouseDownY"],h=(i.pointRange||0)/2,o=i.getExtremes(),c=i.toValue(f-s,!0)+h,f=i.toValue(f+u[t?"plotWidth":"plotHeight"]-s,!0)-h;i.series.length&&c>l(o.dataMin,o.min)&&f<r(o.dataMax,o.max)&&(i.setExtremes(c,f,!1,!1,{trigger:"pan"}),e=!0);u[t?"mouseDownX":"mouseDownY"]=s});e&&u.redraw(!1);a(u.container,{cursor:"move"})}});f(pi.prototype,{select:function(i,r){var u=this,f=u.series,e=f.chart,i=n(i,!u.selected);u.firePointEvent(i?"select":"unselect",{accumulate:r},function(){u.selected=u.options.selected=i;f.options.data[or(u,f.data)]=u.options;u.setState(i&&"select");r||t(e.getSelectedPoints(),function(n){n.selected&&n!==u&&(n.selected=n.options.selected=!1,f.options.data[or(n,f.data)]=n.options,n.setState(""),n.firePointEvent("unselect"))})})},onMouseOver:function(n){var u=this.series,t=u.chart,i=t.tooltip,r=t.hoverPoint;r&&r!==this&&r.onMouseOut();this.firePointEvent("mouseOver");i&&(!i.shared||u.noSharedTooltip)&&i.refresh(this,n);this.setState("hover");t.hoverPoint=this},onMouseOut:function(){var n=this.series.chart,t=n.hoverPoints;this.firePointEvent("mouseOut");t&&or(this,t)!==-1||(this.setState(),n.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var n=o(this.series.options.point,this.options).events,t;this.events=n;for(t in n)b(this,t,n[t]);this.hasImportedEvents=!0}},setState:function(n,t){var e=this.plotX,l=this.plotY,r=this.series,a=r.options.states,i=at[r.type].marker&&r.options.marker,p=i&&!i.enabled,h=i&&i.states[n],w=h&&h.enabled===!1,u=r.stateMarkerGraphic,s=this.marker||{},v=r.chart,c=r.halo,y,n=n||"";y=this.pointAttr[n]||r.pointAttr[n];n===this.state&&!t||this.selected&&n!=="select"||a[n]&&a[n].enabled===!1||n&&(w||p&&h.enabled===!1)||n&&s.states&&s.states[n]&&s.states[n].enabled===!1||(this.graphic?(i=i&&this.graphic.symbolName&&y.r,this.graphic.attr(o(y,i?{x:e-i,y:l-i,width:2*i,height:2*i}:{})),u&&u.hide()):(n&&h&&((i=h.radius,s=s.symbol||r.symbol,u&&u.currentSymbol!==s&&(u=u.destroy()),u)?u[t?"animate":"attr"]({x:e-i,y:l-i}):s&&(r.stateMarkerGraphic=u=v.renderer.symbol(s,e-i,l-i,2*i,2*i).attr(y).add(r.markerGroup),u.currentSymbol=s)),u&&u[n&&v.isInsidePlot(e,l,v.inverted)?"show":"hide"]()),(e=a[n]&&a[n].halo)&&e.size?(c||(r.halo=c=v.renderer.path().add(r.seriesGroup)),c.attr(f({fill:yi(this.color||r.color).setOpacity(e.opacity).get()},e.attributes))[t?"animate":"attr"]({d:this.haloPath(e.size)})):c&&c.attr({d:[]}),this.state=n)},haloPath:function(n){var t=this.series,i=t.chart,r=t.getPlotBox(),u=i.inverted;return i.renderer.symbols.circle(r.translateX+(u?t.yAxis.len-this.plotY:this.plotX)-n,r.translateY+(u?t.xAxis.len-this.plotX:this.plotY)-n,n*2,n*2)}});f(v.prototype,{onMouseOver:function(){var t=this.chart,n=t.hoverSeries;n&&n!==this&&n.onMouseOut();this.options.events.mouseOver&&y(this,"mouseOver");this.setState("hover");t.hoverSeries=this},onMouseOut:function(){var i=this.options,n=this.chart,t=n.tooltip,r=n.hoverPoint;r&&r.onMouseOut();this&&i.events.mouseOut&&y(this,"mouseOut");t&&!i.stickyTracking&&(!t.shared||this.noSharedTooltip)&&t.hide();this.setState();n.hoverSeries=null},setState:function(n){var t=this.options,r=this.graph,u=this.graphNeg,i=t.states,t=t.lineWidth,n=n||"";this.state!==n&&(this.state=n,i[n]&&i[n].enabled===!1||(n&&(t=i[n].lineWidth||t+(i[n].lineWidthPlus||0)),r&&!r.dashstyle&&(n={"stroke-width":t},r.attr(n),u&&u.attr(n))))},setVisible:function(n,i){var r=this,f=r.chart,o=r.legendItem,e,s=f.options.chart.ignoreHiddenSeries,h=r.visible;e=(r.visible=n=r.userOptions.visible=n===u?!h:n)?"show":"hide";t(["group","dataLabelsGroup","markerGroup","tracker"],function(n){r[n]&&r[n][e]()});f.hoverSeries===r&&r.onMouseOut();o&&f.legend.colorizeItem(r,n);r.isDirty=!0;r.options.stacking&&t(f.series,function(n){n.options.stacking&&n.visible&&(n.isDirty=!0)});t(r.linkedSeries,function(t){t.setVisible(n,!1)});s&&(f.isDirtyBox=!0);i!==!1&&f.redraw();y(r,e)},setTooltipPoints:function(n){var f=[],e,s,i=this.xAxis,a=i&&i.getExtremes(),c=i?i.tooltipLen||i.len:this.chart.plotSizeX,h,o,v=[];if(!(this.options.enableMouseTracking===!1||this.singularTooltips)){for(n&&(this.tooltipPoints=null),t(this.segments||this.points,function(n){f=f.concat(n)}),i&&i.reversed&&(f=f.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(f),n=f.length,o=0;o<n;o++)if(i=f[o],e=i.x,e>=a.min&&e<=a.max)for(h=f[o+1],e=s===u?0:s+1,s=f[o+1]?l(r(0,ft((i.clientX+(h?h.wrappedClientX||h.clientX:c))/2)),c):c;e>=0&&e<=s;)v[e++]=i;this.tooltipPoints=v}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=n===u?!this.selected:n;this.checkbox&&(this.checkbox.checked=n);y(this,n?"select":"unselect")},drawTracker:rt.drawTrackerGraph});f(tt,{Axis:ui,Chart:kr,Color:yi,Point:pi,Tick:yr,Renderer:dr,Series:v,SVGElement:it,SVGRenderer:ei,arrayMin:cr,arrayMax:ki,charts:ot,dateFormat:eu,format:ur,pathAnim:bu,getOptions:function(){return nt},hasBidiBug:wf,isTouchDevice:hf,numberFormat:bi,seriesTypes:w,setOptions:function(n){return nt=o(!0,nt,n),ef(),nt},addEvent:b,removeEvent:st,createElement:ct,discardElement:ar,css:a,each:t,extend:f,map:br,merge:o,pick:n,splat:si,extendClass:ri,pInt:h,wrap:hr,svg:vt,canvas:bt,vml:!vt&&!bt,product:"Highcharts",version:"4.0.4"})}(),function(n){var t=n.each,u=HighchartsAdapter.inArray,f=n.splat,i,r=function(n,t){this.init(n,t)};n.extend(r.prototype,{init:function(n,t){this.options=n;this.chartOptions=t;this.columns=n.columns||this.rowsToColumns(n.rows)||[];this.rawColumns=[];this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var u=this.chartOptions,r=this.options,o=[],s=function(t){return(n.seriesTypes[t||"line"].prototype.pointArrayMap||[0]).length},f=u&&u.chart&&u.chart.type,h=[],l=[],c,e;t(u&&u.series||[],function(n){h.push(s(n.type||f))});t(r&&r.seriesMapping||[],function(n){o.push(n.x||0)});o.length===0&&o.push(0);t(r&&r.seriesMapping||[],function(t){var r=new i,o,v=h[c]||s(f),a=n.seriesTypes[((u&&u.series||[])[c]||{}).type||f||"line"].prototype.pointArrayMap||["y"];r.addColumnReader(t.x,"x");for(o in t)t.hasOwnProperty(o)&&o!=="x"&&r.addColumnReader(t[o],o);for(e=0;e<v;e++)r.hasReader(a[e])||r.addColumnReader(void 0,a[e]);l.push(r);c++});r=n.seriesTypes[f||"line"].prototype.pointArrayMap;r===void 0&&(r=["y"]);this.valueCount={global:s(f),xColumns:o,individual:h,seriesBuilders:l,globalPointArrayMap:r}},dataFound:function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns));this.getColumnDistribution();this.parseTypes();this.findHeaderRow();this.parsed()!==!1&&this.complete()},parseCSV:function(){var s=this,n=this.options,r=n.csv,u=this.columns,h=n.startRow||0,c=n.endRow||Number.MAX_VALUE,i=n.startColumn||0,l=n.endColumn||Number.MAX_VALUE,f,e,o=0;r&&(e=r.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(n.lineDelimiter||"\n"),f=n.itemDelimiter||(r.indexOf("\t")!==-1?"\t":","),t(e,function(n,r){var e=s.trim(n),a=e.indexOf("#")===0;r>=h&&r<=c&&!a&&e!==""&&(e=n.split(f),t(e,function(n,t){t>=i&&t<=l&&(u[t-i]||(u[t-i]=[]),u[t-i][o]=n)}),o+=1)}),this.dataFound())},parseTable:function(){var n=this.options,i=n.table,u=this.columns,f=n.startRow||0,e=n.endRow||Number.MAX_VALUE,r=n.startColumn||0,o=n.endColumn||Number.MAX_VALUE;i&&(typeof i=="string"&&(i=document.getElementById(i)),t(i.getElementsByTagName("tr"),function(n,i){i>=f&&i<=e&&t(n.children,function(n,t){(n.tagName==="TD"||n.tagName==="TH")&&t>=r&&t<=o&&(u[t-r]||(u[t-r]=[]),u[t-r][i-f]=n.innerHTML)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var h=this,n=this.options,e=n.googleSpreadsheetKey,u=this.columns,f=n.startRow||0,o=n.endRow||Number.MAX_VALUE,t=n.startColumn||0,s=n.endColumn||Number.MAX_VALUE,i,r;e&&jQuery.ajax({dataType:"json",url:"https://spreadsheets.google.com/feeds/cells/"+e+"/"+(n.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",error:n.error,success:function(n){for(var n=n.feed.entry,c,v=n.length,l=0,a=0,e=0;e<v;e++)c=n[e],l=Math.max(l,c.gs$cell.col),a=Math.max(a,c.gs$cell.row);for(e=0;e<l;e++)e>=t&&e<=s&&(u[e-t]=[],u[e-t].length=Math.min(a,o-f));for(e=0;e<v;e++)(c=n[e],i=c.gs$cell.row-1,r=c.gs$cell.col-1,r>=t&&r<=s&&i>=f&&i<=o)&&(u[r-t][i-f]=c.content.$t);h.dataFound()}})},findHeaderRow:function(){var n=0;t(this.columns,function(t){t.isNumeric&&typeof t[0]!="string"&&(n=null)});this.headerRow=n},trim:function(n){return typeof n=="string"?n.replace(/^\s+|\s+$/g,""):n},parseTypes:function(){for(var t=this.columns,o=this.rawColumns,n=t.length,i,e,r,s,c,h,a=[],v,l=this.chartOptions;n--;){for(i=t[n].length,o[n]=[],v=(c=u(n,this.valueCount.xColumns)!==-1)&&l&&l.xAxis&&f(l.xAxis)[0].type==="category";i--;)(e=a[i]||t[n][i],r=parseFloat(e),s=o[n][i]=this.trim(e),v)?t[n][i]=s:s==r?(t[n][i]=r,r>31536e6?t[n].isDatetime=!0:t[n].isNumeric=!0):(r=this.parseDate(e),c&&typeof r=="number"&&!isNaN(r))?(a[i]=e,t[n][i]=r,t[n].isDatetime=!0,t[n][i+1]!==void 0)&&(e=r>t[n][i+1],e!==h&&h!==void 0&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,i=t[n].length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):t[n].unsorted=!0),h=e):(t[n][i]=s===""?null:s,i!==0&&(t[n].isDatetime||t[n].isNumeric))&&(t[n].mixed=!0);c&&t[n].mixed&&(t[n]=o[n])}if(t[0].isDatetime&&h)for(o=typeof t[0][0]!="number",n=0;n<t.length;n++)t[n].reverse(),o&&t[n].unshift(t[n].pop())},dateFormats:{"YYYY-mm-dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{2})[\-\/\.]([0-9]{2})$/,parser:function(n){return Date.UTC(+n[1],n[2]-1,+n[3])}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(n){return Date.UTC(+n[3],n[2]-1,+n[1])},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(n){return Date.UTC(+n[3],n[1]-1,+n[2])}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(n){return Date.UTC(+n[3]+2e3,n[2]-1,+n[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(n){return console.log(n),Date.UTC(+n[3]+2e3,n[1]-1,+n[2])}}},parseDate:function(n){var i=this.options.parseDate,r,u,f=this.options.dateFormat||this.dateFormat,t;if(i&&(r=i(n)),typeof n=="string"){if(f)i=this.dateFormats[f],(t=n.match(i.regex))&&(r=i.parser(t));else for(u in this.dateFormats)if(i=this.dateFormats[u],t=n.match(i.regex)){this.dateFormat=u;this.alternativeFormat=i.alternative;r=i.parser(t);break}t||(t=Date.parse(n),typeof t=="object"&&t!==null&&t.getTime?r=t.getTime()-t.getTimezoneOffset()*6e4:typeof t=="number"&&!isNaN(t)&&(r=t-new Date(t).getTimezoneOffset()*6e4))}return r},rowsToColumns:function(n){var i,u,t,f,r;if(n)for(r=[],u=n.length,i=0;i<u;i++)for(f=n[i].length,t=0;t<f;t++)r[t]||(r[t]=[]),r[t][i]=n[i][t];return r},parsed:function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},getFreeIndexes:function(n,t){for(var r,u=[],e=[],f,i=0;i<n;i+=1)u.push(!0);for(r=0;r<t.length;r+=1)for(f=t[r].getReferencedColumnIndexes(),i=0;i<f.length;i+=1)u[f[i]]=!1;for(i=0;i<u.length;i+=1)u[i]&&e.push(i);return e},complete:function(){var f=this.columns,h,o=this.options,c,r,n,s,e=[],t;if(o.complete||o.afterComplete){for(n=0;n<f.length;n++)this.headerRow===0&&(f[n].name=f[n].shift());for(c=[],r=this.getFreeIndexes(f.length,this.valueCount.seriesBuilders),n=0;n<this.valueCount.seriesBuilders.length;n++)t=this.valueCount.seriesBuilders[n],t.populateColumns(r)&&e.push(t);for(;r.length>0;){for(t=new i,t.addColumnReader(0,"x"),n=u(0,r),n!==-1&&r.splice(n,1),n=0;n<this.valueCount.global;n++)t.addColumnReader(void 0,this.valueCount.globalPointArrayMap[n]);t.populateColumns(r)&&e.push(t)}if(e.length>0&&e[0].readers.length>0&&(t=f[e[0].readers[0].columnIndex],t!==void 0&&(t.isDatetime?h="datetime":t.isNumeric||(h="category"))),h==="category")for(n=0;n<e.length;n++)for(t=e[n],r=0;r<t.readers.length;r++)t.readers[r].configName==="x"&&(t.readers[r].configName="name");for(n=0;n<e.length;n++){for(t=e[n],r=[],s=0;s<f[0].length;s++)r[s]=t.read(f,s);c[n]={data:r};t.name&&(c[n].name=t.name)}f={xAxis:{type:h},series:c};o.complete&&o.complete(f);o.afterComplete&&o.afterComplete(f)}}});n.Data=r;n.data=function(n,t){return new r(n,t)};n.wrap(n.Chart.prototype,"init",function(t,i,r){var u=this;i&&i.data?n.data(n.extend(i.data,{afterComplete:function(f){var e,o;if(i.hasOwnProperty("series"))if(typeof i.series=="object")for(e=Math.max(i.series.length,f.series.length);e--;)o=i.series[e]||{},i.series[e]=n.merge(o,f.series[e]);else delete i.series;i=n.merge(f,i);t.call(u,i,r)}}),i):t.call(u,i,r)});i=function(){this.readers=[];this.pointIsArray=!0};i.prototype.populateColumns=function(n){var i=!0;return t(this.readers,function(t){t.columnIndex===void 0&&(t.columnIndex=n.shift())}),t(this.readers,function(n){n.columnIndex===void 0&&(i=!1)}),i};i.prototype.read=function(n,i){var f=this.pointIsArray,u=f?[]:{},r;return t(this.readers,function(t){var r=n[t.columnIndex][i];f?u.push(r):u[t.configName]=r}),this.name===void 0&&this.readers.length>=2&&(r=this.getReferencedColumnIndexes(),r.length>=2)&&(r.shift(),r.sort(),this.name=n[r.shift()].name),u};i.prototype.addColumnReader=function(n,t){this.readers.push({columnIndex:n,configName:t});t==="x"||t==="y"||t===void 0||(this.pointIsArray=!1)};i.prototype.getReferencedColumnIndexes=function(){for(var i=[],t,n=0;n<this.readers.length;n+=1)t=this.readers[n],t.columnIndex!==void 0&&i.push(t.columnIndex);return i};i.prototype.hasReader=function(n){for(var i,t=0;t<this.readers.length;t+=1)if(i=this.readers[t],i.configName===n)return!0}}(Highcharts),function(n){var l=n.Chart,e=n.addEvent,a=n.removeEvent,i=n.createElement,s=n.discardElement,o=n.css,r=n.merge,u=n.each,t=n.extend,y=Math.max,f=document,v=window,p=n.isTouchDevice,w=n.Renderer.prototype.symbols,h=n.getOptions(),c;t(h.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});h.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:p?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}};h.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};n.post=function(n,t,u){var e,n=i("form",r({method:"post",action:n,enctype:"multipart/form-data"},u),{display:"none"},f.body);for(e in t)i("input",{type:"hidden",name:e,value:t[e]},null,n);n.submit();s(n)};t(l.prototype,{getSVG:function(e){var c=this,a,h,v,l,o=r(c.options,e);return f.createElementNS||(f.createElementNS=function(n,t){return f.createElement(t)}),e=i("div",null,{position:"absolute",top:"-9999em",width:c.chartWidth+"px",height:c.chartHeight+"px"},f.body),h=c.renderTo.style.width,l=c.renderTo.style.height,h=o.exporting.sourceWidth||o.chart.width||/px$/.test(h)&&parseInt(h,10)||600,l=o.exporting.sourceHeight||o.chart.height||/px$/.test(l)&&parseInt(l,10)||400,t(o.chart,{animation:!1,renderTo:e,forExport:!0,width:h,height:l}),o.exporting.enabled=!1,o.series=[],u(c.series,function(n){v=r(n.options,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:n.visible});v.isInternal||o.series.push(v)}),a=new n.Chart(o,c.callback),u(["xAxis","yAxis"],function(n){u(c[n],function(t,i){var u=a[n][i],r=t.getExtremes(),f=r.userMin,r=r.userMax;u&&(f!==void 0||r!==void 0)&&u.setExtremes(f,r,!0,!1)})}),h=a.container.innerHTML,o=null,a.destroy(),s(e),h=h.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"<\/svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(n){return n.toLowerCase()}),h.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(t,i){var t=t||{},u=this.options.exporting,u=this.getSVG(r({chart:{borderRadius:0}},u.chartOptions,i,{exporting:{sourceWidth:t.sourceWidth||u.sourceWidth,sourceHeight:t.sourceHeight||u.sourceHeight}})),t=r(this.options.exporting,t);n.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale||2,svg:u},t.formAttributes)},print:function(){var n=this,t=n.container,i=[],o=t.parentNode,r=f.body,e=r.childNodes;n.isPrinting||(n.isPrinting=!0,u(e,function(n,t){n.nodeType===1&&(i[t]=n.style.display,n.style.display="none")}),r.appendChild(t),v.focus(),v.print(),setTimeout(function(){o.appendChild(t);u(e,function(n,t){n.nodeType===1&&(n.style.display=i[t])});n.isPrinting=!1},1e3))},contextMenu:function(n,r,f,s,h,c,l){var v=this,d=v.options.navigation,g=d.menuItemStyle,nt=v.chartWidth,tt=v.chartHeight,it="cache-"+n,p=v[it],w=y(h,c),b,k,rt,ut=function(t){v.pointer.inClass(t.target,n)||k()};p||(v[it]=p=i("div",{className:n},{position:"absolute",zIndex:1e3,padding:w+"px"},v.container),b=i("div",null,t({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},d.menuStyle),p),k=function(){o(p,{display:"none"});l&&l.setState(0);v.openMenu=!1},e(p,"mouseleave",function(){rt=setTimeout(k,500)}),e(p,"mouseenter",function(){clearTimeout(rt)}),e(document,"mouseup",ut),e(v,"destroy",function(){a(document,"mouseup",ut)}),u(r,function(n){if(n){var r=n.separator?i("hr",null,null,b):i("div",{onmouseover:function(){o(this,d.menuItemHoverStyle)},onmouseout:function(){o(this,g)},onclick:function(){k();n.onclick.apply(v,arguments)},innerHTML:n.text||v.options.lang[n.textKey]},t({cursor:"pointer"},g),b);v.exportDivElements.push(r)}}),v.exportDivElements.push(b,p),v.exportMenuWidth=p.offsetWidth,v.exportMenuHeight=p.offsetHeight);r={display:"block"};f+v.exportMenuWidth>nt?r.right=nt-f-h-w+"px":r.left=f-w+"px";s+c+v.exportMenuHeight>tt&&l.alignOptions.verticalAlign!=="top"?r.bottom=tt-s-w+"px":r.top=s+c-w+"px";o(p,r);v.openMenu=!0},addButton:function(i){var e=this,a=e.renderer,u=r(e.options.navigation.buttonOptions,i),v=u.onclick,y=u.menuItems,p,f,w={stroke:u.symbolStroke,fill:u.symbolFill},h=u.symbolSize||12;if(e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),u.enabled!==!1){var o=u.theme,s=o.states,b=s&&s.hover,s=s&&s.select,l;delete o.states;v?l=function(){v.apply(e,arguments)}:y&&(l=function(){e.contextMenu(f.menuClassName,y,f.translateX,f.translateY,f.width,f.height,f);f.setState(2)});u.text&&u.symbol?o.paddingLeft=n.pick(o.paddingLeft,25):u.text||t(o,{width:u.width,height:u.height,padding:0});f=a.button(u.text,0,0,l,o,b,s).attr({title:e.options.lang[u._titleKey],"stroke-linecap":"round"});f.menuClassName=i.menuClassName||"highcharts-menu-"+e.btnCount++;u.symbol&&(p=a.symbol(u.symbol,u.symbolX-h/2,u.symbolY-h/2,h,h).attr(t(w,{"stroke-width":u.symbolStrokeWidth||1,zIndex:1})).add(f));f.add().align(t(u,{width:f.width,x:n.pick(u.x,c)}),!0,"spacingBox");c+=(f.width+u.buttonSpacing)*(u.align==="right"?-1:1);e.exportSVGElements.push(f,p)}},destroyExport:function(n){for(var n=n.target,t,i=0;i<n.exportSVGElements.length;i++)(t=n.exportSVGElements[i])&&(t.onclick=t.ontouchstart=null,n.exportSVGElements[i]=t.destroy());for(i=0;i<n.exportDivElements.length;i++)t=n.exportDivElements[i],a(t,"mouseleave"),n.exportDivElements[i]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,s(t)}});w.menu=function(n,t,i,r){return["M",n,t+2.5,"L",n+i,t+2.5,"M",n,t+r/2+.5,"L",n+i,t+r/2+.5,"M",n,t+r-1.5,"L",n+i,t+r-1.5]};l.prototype.callbacks.push(function(n){var t,i=n.options.exporting,r=i.buttons;if(c=0,i.enabled!==!1){for(t in r)n.addButton(r[t]);e(n,"destroy",n.destroyExport)}})}(Highcharts);Highcharts.createElement("link",{href:"http://fonts.googleapis.com/css?family=Signika:400,700",rel:"stylesheet",type:"text/css"},null,document.getElementsByTagName("head")[0]);Highcharts.wrap(Highcharts.Chart.prototype,"getContainer",function(n){n.call(this);this.container.style.background="url(http://www.highcharts.com/samples/graphics/sand.png)"});Highcharts.theme={colors:["#f45b5b","#8085e9","#8d4654","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:null,style:{fontFamily:"Signika, serif"}},title:{style:{color:"black",fontSize:"16px",fontWeight:"bold"}},subtitle:{style:{color:"black"}},tooltip:{borderWidth:0},legend:{itemStyle:{fontWeight:"bold",fontSize:"13px"}},xAxis:{labels:{style:{color:"#6e6e70"}}},yAxis:{labels:{style:{color:"#6e6e70"}}},plotOptions:{series:{shadow:!0},candlestick:{lineColor:"#404048"},map:{shadow:!1}},navigator:{xAxis:{gridLineColor:"#D0D0D8"}},rangeSelector:{buttonTheme:{fill:"white",stroke:"#C0C0C8","stroke-width":1,states:{select:{fill:"#D0D0D8"}}}},scrollbar:{trackBorderColor:"#C0C0C8"},background2:"#E0E0E8"};Highcharts.setOptions(Highcharts.theme);
//# sourceMappingURL=scripts.min.js.map
